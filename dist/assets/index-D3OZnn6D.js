(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function _j(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dh={exports:{}},jo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function SS(){if(Xv)return jo;Xv=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:e,type:i,key:d,ref:o!==void 0?o:null,props:c}}return jo.Fragment=r,jo.jsx=a,jo.jsxs=a,jo}var Zv;function kS(){return Zv||(Zv=1,dh.exports=SS()),dh.exports}var t=kS(),uh={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function _S(){if(Qv)return Ne;Qv=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),g=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function k(L,se,Q){this.props=L,this.context=se,this.refs=C,this.updater=Q||j}k.prototype.isReactComponent={},k.prototype.setState=function(L,se){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,se,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function S(){}S.prototype=k.prototype;function T(L,se,Q){this.props=L,this.context=se,this.refs=C,this.updater=Q||j}var R=T.prototype=new S;R.constructor=T,b(R,k.prototype),R.isPureReactComponent=!0;var E=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function V(L,se,Q,B,oe,fe){return Q=fe.ref,{$$typeof:e,type:L,key:se,ref:Q!==void 0?Q:null,props:fe}}function q(L,se){return V(L.type,se,void 0,void 0,void 0,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function A(L){var se={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Q){return se[Q]})}var M=/\/+/g;function X(L,se){return typeof L=="object"&&L!==null&&L.key!=null?A(""+L.key):se.toString(36)}function I(){}function ae(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(I,I):(L.status="pending",L.then(function(se){L.status==="pending"&&(L.status="fulfilled",L.value=se)},function(se){L.status==="pending"&&(L.status="rejected",L.reason=se)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ne(L,se,Q,B,oe){var fe=typeof L;(fe==="undefined"||fe==="boolean")&&(L=null);var pe=!1;if(L===null)pe=!0;else switch(fe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(L.$$typeof){case e:case r:pe=!0;break;case x:return pe=L._init,ne(pe(L._payload),se,Q,B,oe)}}if(pe)return oe=oe(L),pe=B===""?"."+X(L,0):B,E(oe)?(Q="",pe!=null&&(Q=pe.replace(M,"$&/")+"/"),ne(oe,se,Q,"",function(ks){return ks})):oe!=null&&(O(oe)&&(oe=q(oe,Q+(oe.key==null||L&&L.key===oe.key?"":(""+oe.key).replace(M,"$&/")+"/")+pe)),se.push(oe)),1;pe=0;var ft=B===""?".":B+":";if(E(L))for(var Ye=0;Ye<L.length;Ye++)B=L[Ye],fe=ft+X(B,Ye),pe+=ne(B,se,Q,fe,oe);else if(Ye=v(L),typeof Ye=="function")for(L=Ye.call(L),Ye=0;!(B=L.next()).done;)B=B.value,fe=ft+X(B,Ye++),pe+=ne(B,se,Q,fe,oe);else if(fe==="object"){if(typeof L.then=="function")return ne(ae(L),se,Q,B,oe);throw se=String(L),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return pe}function $(L,se,Q){if(L==null)return L;var B=[],oe=0;return ne(L,B,"","",function(fe){return se.call(Q,fe,oe++)}),B}function H(L){if(L._status===-1){var se=L._result;se=se(),se.then(function(Q){(L._status===0||L._status===-1)&&(L._status=1,L._result=Q)},function(Q){(L._status===0||L._status===-1)&&(L._status=2,L._result=Q)}),L._status===-1&&(L._status=0,L._result=se)}if(L._status===1)return L._result.default;throw L._result}var re=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ce(){}return Ne.Children={map:$,forEach:function(L,se,Q){$(L,function(){se.apply(this,arguments)},Q)},count:function(L){var se=0;return $(L,function(){se++}),se},toArray:function(L){return $(L,function(se){return se})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=k,Ne.Fragment=a,Ne.Profiler=o,Ne.PureComponent=T,Ne.StrictMode=i,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(L){return D.H.useMemoCache(L)}},Ne.cache=function(L){return function(){return L.apply(null,arguments)}},Ne.cloneElement=function(L,se,Q){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var B=b({},L.props),oe=L.key,fe=void 0;if(se!=null)for(pe in se.ref!==void 0&&(fe=void 0),se.key!==void 0&&(oe=""+se.key),se)!F.call(se,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&se.ref===void 0||(B[pe]=se[pe]);var pe=arguments.length-2;if(pe===1)B.children=Q;else if(1<pe){for(var ft=Array(pe),Ye=0;Ye<pe;Ye++)ft[Ye]=arguments[Ye+2];B.children=ft}return V(L.type,oe,void 0,void 0,fe,B)},Ne.createContext=function(L){return L={$$typeof:d,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Ne.createElement=function(L,se,Q){var B,oe={},fe=null;if(se!=null)for(B in se.key!==void 0&&(fe=""+se.key),se)F.call(se,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(oe[B]=se[B]);var pe=arguments.length-2;if(pe===1)oe.children=Q;else if(1<pe){for(var ft=Array(pe),Ye=0;Ye<pe;Ye++)ft[Ye]=arguments[Ye+2];oe.children=ft}if(L&&L.defaultProps)for(B in pe=L.defaultProps,pe)oe[B]===void 0&&(oe[B]=pe[B]);return V(L,fe,void 0,void 0,null,oe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:m,render:L}},Ne.isValidElement=O,Ne.lazy=function(L){return{$$typeof:x,_payload:{_status:-1,_result:L},_init:H}},Ne.memo=function(L,se){return{$$typeof:f,type:L,compare:se===void 0?null:se}},Ne.startTransition=function(L){var se=D.T,Q={};D.T=Q;try{var B=L(),oe=D.S;oe!==null&&oe(Q,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(ce,re)}catch(fe){re(fe)}finally{D.T=se}},Ne.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ne.use=function(L){return D.H.use(L)},Ne.useActionState=function(L,se,Q){return D.H.useActionState(L,se,Q)},Ne.useCallback=function(L,se){return D.H.useCallback(L,se)},Ne.useContext=function(L){return D.H.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L,se){return D.H.useDeferredValue(L,se)},Ne.useEffect=function(L,se,Q){var B=D.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(L,se)},Ne.useId=function(){return D.H.useId()},Ne.useImperativeHandle=function(L,se,Q){return D.H.useImperativeHandle(L,se,Q)},Ne.useInsertionEffect=function(L,se){return D.H.useInsertionEffect(L,se)},Ne.useLayoutEffect=function(L,se){return D.H.useLayoutEffect(L,se)},Ne.useMemo=function(L,se){return D.H.useMemo(L,se)},Ne.useOptimistic=function(L,se){return D.H.useOptimistic(L,se)},Ne.useReducer=function(L,se,Q){return D.H.useReducer(L,se,Q)},Ne.useRef=function(L){return D.H.useRef(L)},Ne.useState=function(L){return D.H.useState(L)},Ne.useSyncExternalStore=function(L,se,Q){return D.H.useSyncExternalStore(L,se,Q)},Ne.useTransition=function(){return D.H.useTransition()},Ne.version="19.1.0",Ne}var Jv;function Vf(){return Jv||(Jv=1,uh.exports=_S()),uh.exports}var w=Vf();const Oe=_j(w);var mh={exports:{}},wo={},hh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function AS(){return eb||(eb=1,function(e){function r($,H){var re=$.length;$.push(H);e:for(;0<re;){var ce=re-1>>>1,L=$[ce];if(0<o(L,H))$[ce]=H,$[re]=L,re=ce;else break e}}function a($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var H=$[0],re=$.pop();if(re!==H){$[0]=re;e:for(var ce=0,L=$.length,se=L>>>1;ce<se;){var Q=2*(ce+1)-1,B=$[Q],oe=Q+1,fe=$[oe];if(0>o(B,re))oe<L&&0>o(fe,B)?($[ce]=fe,$[oe]=re,ce=oe):($[ce]=B,$[Q]=re,ce=Q);else if(oe<L&&0>o(fe,re))$[ce]=fe,$[oe]=re,ce=oe;else break e}}return H}function o($,H){var re=$.sortIndex-H.sortIndex;return re!==0?re:$.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var h=[],f=[],x=1,g=null,v=3,j=!1,b=!1,C=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function E($){for(var H=a(f);H!==null;){if(H.callback===null)i(f);else if(H.startTime<=$)i(f),H.sortIndex=H.expirationTime,r(h,H);else break;H=a(f)}}function D($){if(C=!1,E($),!b)if(a(h)!==null)b=!0,F||(F=!0,X());else{var H=a(f);H!==null&&ne(D,H.startTime-$)}}var F=!1,V=-1,q=5,O=-1;function A(){return k?!0:!(e.unstable_now()-O<q)}function M(){if(k=!1,F){var $=e.unstable_now();O=$;var H=!0;try{e:{b=!1,C&&(C=!1,T(V),V=-1),j=!0;var re=v;try{t:{for(E($),g=a(h);g!==null&&!(g.expirationTime>$&&A());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,v=g.priorityLevel;var L=ce(g.expirationTime<=$);if($=e.unstable_now(),typeof L=="function"){g.callback=L,E($),H=!0;break t}g===a(h)&&i(h),E($)}else i(h);g=a(h)}if(g!==null)H=!0;else{var se=a(f);se!==null&&ne(D,se.startTime-$),H=!1}}break e}finally{g=null,v=re,j=!1}H=void 0}}finally{H?X():F=!1}}}var X;if(typeof R=="function")X=function(){R(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ae=I.port2;I.port1.onmessage=M,X=function(){ae.postMessage(null)}}else X=function(){S(M,0)};function ne($,H){V=S(function(){$(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function($){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var re=v;v=H;try{return $()}finally{v=re}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=v;v=$;try{return H()}finally{v=re}},e.unstable_scheduleCallback=function($,H,re){var ce=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ce+re:ce):re=ce,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=re+L,$={id:x++,callback:H,priorityLevel:$,startTime:re,expirationTime:L,sortIndex:-1},re>ce?($.sortIndex=re,r(f,$),a(h)===null&&$===a(f)&&(C?(T(V),V=-1):C=!0,ne(D,re-ce))):($.sortIndex=L,r(h,$),b||j||(b=!0,F||(F=!0,X()))),$},e.unstable_shouldYield=A,e.unstable_wrapCallback=function($){var H=v;return function(){var re=v;v=H;try{return $.apply(this,arguments)}finally{v=re}}}}(fh)),fh}var tb;function ES(){return tb||(tb=1,hh.exports=AS()),hh.exports}var ph={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function TS(){if(rb)return At;rb=1;var e=Vf();function r(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(h,f,x){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:h,containerInfo:f,implementation:x}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,At.createPortal=function(h,f){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(r(299));return c(h,f,null,x)},At.flushSync=function(h){var f=d.T,x=i.p;try{if(d.T=null,i.p=2,h)return h()}finally{d.T=f,i.p=x,i.d.f()}},At.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},At.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},At.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var x=f.as,g=m(x,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,j=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;x==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:j}):x==="script"&&i.d.X(h,{crossOrigin:g,integrity:v,fetchPriority:j,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},At.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var x=m(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},At.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var x=f.as,g=m(x,f.crossOrigin);i.d.L(h,x,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},At.preloadModule=function(h,f){if(typeof h=="string")if(f){var x=m(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},At.requestFormReset=function(h){i.d.r(h)},At.unstable_batchedUpdates=function(h,f){return h(f)},At.useFormState=function(h,f,x){return d.H.useFormState(h,f,x)},At.useFormStatus=function(){return d.H.useHostTransitionStatus()},At.version="19.1.0",At}var sb;function RS(){if(sb)return ph.exports;sb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),ph.exports=TS(),ph.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function DS(){if(ab)return wo;ab=1;var e=ES(),r=Vf(),a=RS();function i(s){var n="https://react.dev/errors/"+s;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var n=s,l=s;if(s.alternate)for(;n.return;)n=n.return;else{s=n;do n=s,(n.flags&4098)!==0&&(l=n.return),s=n.return;while(s)}return n.tag===3?l:null}function d(s){if(s.tag===13){var n=s.memoizedState;if(n===null&&(s=s.alternate,s!==null&&(n=s.memoizedState)),n!==null)return n.dehydrated}return null}function m(s){if(c(s)!==s)throw Error(i(188))}function h(s){var n=s.alternate;if(!n){if(n=c(s),n===null)throw Error(i(188));return n!==s?null:s}for(var l=s,u=n;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return m(p),s;if(y===u)return m(p),n;y=y.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=y;else{for(var N=!1,_=p.child;_;){if(_===l){N=!0,l=p,u=y;break}if(_===u){N=!0,u=p,l=y;break}_=_.sibling}if(!N){for(_=y.child;_;){if(_===l){N=!0,l=y,u=p;break}if(_===u){N=!0,u=y,l=p;break}_=_.sibling}if(!N)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:n}function f(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s;for(s=s.child;s!==null;){if(n=f(s),n!==null)return n;s=s.sibling}return null}var x=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var I=Symbol.for("react.client.reference");function ae(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===I?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case F:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case R:return(s.displayName||"Context")+".Provider";case T:return(s._context.displayName||"Context")+".Consumer";case E:var n=s.render;return s=s.displayName,s||(s=n.displayName||n.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return n=s.displayName||null,n!==null?n:ae(s.type)||"Memo";case q:n=s._payload,s=s._init;try{return ae(s(n))}catch{}}return null}var ne=Array.isArray,$=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ce=[],L=-1;function se(s){return{current:s}}function Q(s){0>L||(s.current=ce[L],ce[L]=null,L--)}function B(s,n){L++,ce[L]=s.current,s.current=n}var oe=se(null),fe=se(null),pe=se(null),ft=se(null);function Ye(s,n){switch(B(pe,n),B(fe,s),B(oe,null),n.nodeType){case 9:case 11:s=(s=n.documentElement)&&(s=s.namespaceURI)?Cv(s):0;break;default:if(s=n.tagName,n=n.namespaceURI)n=Cv(n),s=Sv(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Q(oe),B(oe,s)}function ks(){Q(oe),Q(fe),Q(pe)}function Kd(s){s.memoizedState!==null&&B(ft,s);var n=oe.current,l=Sv(n,s.type);n!==l&&(B(fe,s),B(oe,l))}function gl(s){fe.current===s&&(Q(oe),Q(fe)),ft.current===s&&(Q(ft),xo._currentValue=re)}var Xd=Object.prototype.hasOwnProperty,Zd=e.unstable_scheduleCallback,Qd=e.unstable_cancelCallback,sN=e.unstable_shouldYield,aN=e.unstable_requestPaint,Rr=e.unstable_now,nN=e.unstable_getCurrentPriorityLevel,ax=e.unstable_ImmediatePriority,nx=e.unstable_UserBlockingPriority,vl=e.unstable_NormalPriority,iN=e.unstable_LowPriority,ix=e.unstable_IdlePriority,oN=e.log,lN=e.unstable_setDisableYieldValue,Ni=null,Xt=null;function _s(s){if(typeof oN=="function"&&lN(s),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Ni,s)}catch{}}var Zt=Math.clz32?Math.clz32:uN,cN=Math.log,dN=Math.LN2;function uN(s){return s>>>=0,s===0?32:31-(cN(s)/dN|0)|0}var bl=256,jl=4194304;function va(s){var n=s&42;if(n!==0)return n;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function wl(s,n,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,N=s.pingedLanes;s=s.warmLanes;var _=u&134217727;return _!==0?(u=_&~y,u!==0?p=va(u):(N&=_,N!==0?p=va(N):l||(l=_&~s,l!==0&&(p=va(l))))):(_=u&~y,_!==0?p=va(_):N!==0?p=va(N):l||(l=u&~s,l!==0&&(p=va(l)))),p===0?0:n!==0&&n!==p&&(n&y)===0&&(y=p&-p,l=n&-n,y>=l||y===32&&(l&4194048)!==0)?n:p}function Ci(s,n){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&n)===0}function mN(s,n){switch(s){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ox(){var s=bl;return bl<<=1,(bl&4194048)===0&&(bl=256),s}function lx(){var s=jl;return jl<<=1,(jl&62914560)===0&&(jl=4194304),s}function Jd(s){for(var n=[],l=0;31>l;l++)n.push(s);return n}function Si(s,n){s.pendingLanes|=n,n!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function hN(s,n,l,u,p,y){var N=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var _=s.entanglements,P=s.expirationTimes,G=s.hiddenUpdates;for(l=N&~l;0<l;){var J=31-Zt(l),te=1<<J;_[J]=0,P[J]=-1;var W=G[J];if(W!==null)for(G[J]=null,J=0;J<W.length;J++){var K=W[J];K!==null&&(K.lane&=-536870913)}l&=~te}u!==0&&cx(s,u,0),y!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=y&~(N&~n))}function cx(s,n,l){s.pendingLanes|=n,s.suspendedLanes&=~n;var u=31-Zt(n);s.entangledLanes|=n,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function dx(s,n){var l=s.entangledLanes|=n;for(s=s.entanglements;l;){var u=31-Zt(l),p=1<<u;p&n|s[u]&n&&(s[u]|=n),l&=~p}}function eu(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function tu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ux(){var s=H.p;return s!==0?s:(s=window.event,s===void 0?32:qv(s.type))}function fN(s,n){var l=H.p;try{return H.p=s,n()}finally{H.p=l}}var As=Math.random().toString(36).slice(2),kt="__reactFiber$"+As,Ut="__reactProps$"+As,on="__reactContainer$"+As,ru="__reactEvents$"+As,pN="__reactListeners$"+As,xN="__reactHandles$"+As,mx="__reactResources$"+As,ki="__reactMarker$"+As;function su(s){delete s[kt],delete s[Ut],delete s[ru],delete s[pN],delete s[xN]}function ln(s){var n=s[kt];if(n)return n;for(var l=s.parentNode;l;){if(n=l[on]||l[kt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(s=Ev(s);s!==null;){if(l=s[kt])return l;s=Ev(s)}return n}s=l,l=s.parentNode}return null}function cn(s){if(s=s[kt]||s[on]){var n=s.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return s}return null}function _i(s){var n=s.tag;if(n===5||n===26||n===27||n===6)return s.stateNode;throw Error(i(33))}function dn(s){var n=s[mx];return n||(n=s[mx]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pt(s){s[ki]=!0}var hx=new Set,fx={};function ba(s,n){un(s,n),un(s+"Capture",n)}function un(s,n){for(fx[s]=n,s=0;s<n.length;s++)hx.add(n[s])}var yN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),px={},xx={};function gN(s){return Xd.call(xx,s)?!0:Xd.call(px,s)?!1:yN.test(s)?xx[s]=!0:(px[s]=!0,!1)}function Nl(s,n,l){if(gN(n))if(l===null)s.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(n);return}}s.setAttribute(n,""+l)}}function Cl(s,n,l){if(l===null)s.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(n);return}s.setAttribute(n,""+l)}}function Wr(s,n,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(n,l,""+u)}}var au,yx;function mn(s){if(au===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);au=n&&n[1]||"",yx=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+au+s+yx}var nu=!1;function iu(s,n){if(!s||nu)return"";nu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var W=K}Reflect.construct(s,[],te)}else{try{te.call()}catch(K){W=K}s.call(te.prototype)}}else{try{throw Error()}catch(K){W=K}(te=s())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&W&&typeof K.stack=="string")return[K.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),N=y[0],_=y[1];if(N&&_){var P=N.split(`
`),G=_.split(`
`);for(p=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;p<G.length&&!G[p].includes("DetermineComponentFrameRoot");)p++;if(u===P.length||p===G.length)for(u=P.length-1,p=G.length-1;1<=u&&0<=p&&P[u]!==G[p];)p--;for(;1<=u&&0<=p;u--,p--)if(P[u]!==G[p]){if(u!==1||p!==1)do if(u--,p--,0>p||P[u]!==G[p]){var J=`
`+P[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=p);break}}}finally{nu=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?mn(l):""}function vN(s){switch(s.tag){case 26:case 27:case 5:return mn(s.type);case 16:return mn("Lazy");case 13:return mn("Suspense");case 19:return mn("SuspenseList");case 0:case 15:return iu(s.type,!1);case 11:return iu(s.type.render,!1);case 1:return iu(s.type,!0);case 31:return mn("Activity");default:return""}}function gx(s){try{var n="";do n+=vN(s),s=s.return;while(s);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ir(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function vx(s){var n=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bN(s){var n=vx(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,n),u=""+s[n];if(!s.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,n,{configurable:!0,get:function(){return p.call(this)},set:function(N){u=""+N,y.call(this,N)}}),Object.defineProperty(s,n,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){s._valueTracker=null,delete s[n]}}}}function Sl(s){s._valueTracker||(s._valueTracker=bN(s))}function bx(s){if(!s)return!1;var n=s._valueTracker;if(!n)return!0;var l=n.getValue(),u="";return s&&(u=vx(s)?s.checked?"true":"false":s.value),s=u,s!==l?(n.setValue(s),!0):!1}function kl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var jN=/[\n"\\]/g;function or(s){return s.replace(jN,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ou(s,n,l,u,p,y,N,_){s.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.type=N:s.removeAttribute("type"),n!=null?N==="number"?(n===0&&s.value===""||s.value!=n)&&(s.value=""+ir(n)):s.value!==""+ir(n)&&(s.value=""+ir(n)):N!=="submit"&&N!=="reset"||s.removeAttribute("value"),n!=null?lu(s,N,ir(n)):l!=null?lu(s,N,ir(l)):u!=null&&s.removeAttribute("value"),p==null&&y!=null&&(s.defaultChecked=!!y),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.name=""+ir(_):s.removeAttribute("name")}function jx(s,n,l,u,p,y,N,_){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),n!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;l=l!=null?""+ir(l):"",n=n!=null?""+ir(n):l,_||n===s.value||(s.value=n),s.defaultValue=n}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=_?s.checked:!!u,s.defaultChecked=!!u,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(s.name=N)}function lu(s,n,l){n==="number"&&kl(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function hn(s,n,l,u){if(s=s.options,n){n={};for(var p=0;p<l.length;p++)n["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=n.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+ir(l),n=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}n!==null||s[p].disabled||(n=s[p])}n!==null&&(n.selected=!0)}}function wx(s,n,l){if(n!=null&&(n=""+ir(n),n!==s.value&&(s.value=n),l==null)){s.defaultValue!==n&&(s.defaultValue=n);return}s.defaultValue=l!=null?""+ir(l):""}function Nx(s,n,l,u){if(n==null){if(u!=null){if(l!=null)throw Error(i(92));if(ne(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),n=l}l=ir(n),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function fn(s,n){if(n){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=n;return}}s.textContent=n}var wN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cx(s,n,l){var u=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(n,""):n==="float"?s.cssFloat="":s[n]="":u?s.setProperty(n,l):typeof l!="number"||l===0||wN.has(n)?n==="float"?s.cssFloat=l:s[n]=(""+l).trim():s[n]=l+"px"}function Sx(s,n,l){if(n!=null&&typeof n!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in n)u=n[p],n.hasOwnProperty(p)&&l[p]!==u&&Cx(s,p,u)}else for(var y in n)n.hasOwnProperty(y)&&Cx(s,y,n[y])}function cu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(s){return CN.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var du=null;function uu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pn=null,xn=null;function kx(s){var n=cn(s);if(n&&(s=n.stateNode)){var l=s[Ut]||null;e:switch(s=n.stateNode,n.type){case"input":if(ou(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+or(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var u=l[n];if(u!==s&&u.form===s.form){var p=u[Ut]||null;if(!p)throw Error(i(90));ou(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(n=0;n<l.length;n++)u=l[n],u.form===s.form&&bx(u)}break e;case"textarea":wx(s,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&hn(s,!!l.multiple,n,!1)}}}var mu=!1;function _x(s,n,l){if(mu)return s(n,l);mu=!0;try{var u=s(n);return u}finally{if(mu=!1,(pn!==null||xn!==null)&&(mc(),pn&&(n=pn,s=xn,xn=pn=null,kx(n),s)))for(n=0;n<s.length;n++)kx(s[n])}}function Ai(s,n){var l=s.stateNode;if(l===null)return null;var u=l[Ut]||null;if(u===null)return null;l=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,n,typeof l));return l}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=!1;if(Kr)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){hu=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{hu=!1}var Es=null,fu=null,Al=null;function Ax(){if(Al)return Al;var s,n=fu,l=n.length,u,p="value"in Es?Es.value:Es.textContent,y=p.length;for(s=0;s<l&&n[s]===p[s];s++);var N=l-s;for(u=1;u<=N&&n[l-u]===p[y-u];u++);return Al=p.slice(s,1<u?1-u:void 0)}function El(s){var n=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&n===13&&(s=13)):s=n,s===10&&(s=13),32<=s||s===13?s:0}function Tl(){return!0}function Ex(){return!1}function Ft(s){function n(l,u,p,y,N){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var _ in s)s.hasOwnProperty(_)&&(l=s[_],this[_]=l?l(y):y[_]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Tl:Ex,this.isPropagationStopped=Ex,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),n}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=Ft(ja),Ti=x({},ja,{view:0,detail:0}),SN=Ft(Ti),pu,xu,Ri,Dl=x({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ri&&(Ri&&s.type==="mousemove"?(pu=s.screenX-Ri.screenX,xu=s.screenY-Ri.screenY):xu=pu=0,Ri=s),pu)},movementY:function(s){return"movementY"in s?s.movementY:xu}}),Tx=Ft(Dl),kN=x({},Dl,{dataTransfer:0}),_N=Ft(kN),AN=x({},Ti,{relatedTarget:0}),yu=Ft(AN),EN=x({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),TN=Ft(EN),RN=x({},ja,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),DN=Ft(RN),ON=x({},ja,{data:0}),Rx=Ft(ON),PN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zN(s){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(s):(s=MN[s])?!!n[s]:!1}function gu(){return zN}var IN=x({},Ti,{key:function(s){if(s.key){var n=PN[s.key]||s.key;if(n!=="Unidentified")return n}return s.type==="keypress"?(s=El(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?LN[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(s){return s.type==="keypress"?El(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?El(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),BN=Ft(IN),UN=x({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dx=Ft(UN),FN=x({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),VN=Ft(FN),HN=x({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),qN=Ft(HN),$N=x({},Dl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),YN=Ft($N),GN=x({},ja,{newState:0,oldState:0}),WN=Ft(GN),KN=[9,13,27,32],vu=Kr&&"CompositionEvent"in window,Di=null;Kr&&"documentMode"in document&&(Di=document.documentMode);var XN=Kr&&"TextEvent"in window&&!Di,Ox=Kr&&(!vu||Di&&8<Di&&11>=Di),Px=" ",Lx=!1;function Mx(s,n){switch(s){case"keyup":return KN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var yn=!1;function ZN(s,n){switch(s){case"compositionend":return zx(n);case"keypress":return n.which!==32?null:(Lx=!0,Px);case"textInput":return s=n.data,s===Px&&Lx?null:s;default:return null}}function QN(s,n){if(yn)return s==="compositionend"||!vu&&Mx(s,n)?(s=Ax(),Al=fu=Es=null,yn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ox&&n.locale!=="ko"?null:n.data;default:return null}}var JN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n==="input"?!!JN[s.type]:n==="textarea"}function Bx(s,n,l,u){pn?xn?xn.push(u):xn=[u]:pn=u,n=gc(n,"onChange"),0<n.length&&(l=new Rl("onChange","change",null,l,u),s.push({event:l,listeners:n}))}var Oi=null,Pi=null;function eC(s){vv(s,0)}function Ol(s){var n=_i(s);if(bx(n))return s}function Ux(s,n){if(s==="change")return n}var Fx=!1;if(Kr){var bu;if(Kr){var ju="oninput"in document;if(!ju){var Vx=document.createElement("div");Vx.setAttribute("oninput","return;"),ju=typeof Vx.oninput=="function"}bu=ju}else bu=!1;Fx=bu&&(!document.documentMode||9<document.documentMode)}function Hx(){Oi&&(Oi.detachEvent("onpropertychange",qx),Pi=Oi=null)}function qx(s){if(s.propertyName==="value"&&Ol(Pi)){var n=[];Bx(n,Pi,s,uu(s)),_x(eC,n)}}function tC(s,n,l){s==="focusin"?(Hx(),Oi=n,Pi=l,Oi.attachEvent("onpropertychange",qx)):s==="focusout"&&Hx()}function rC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ol(Pi)}function sC(s,n){if(s==="click")return Ol(n)}function aC(s,n){if(s==="input"||s==="change")return Ol(n)}function nC(s,n){return s===n&&(s!==0||1/s===1/n)||s!==s&&n!==n}var Qt=typeof Object.is=="function"?Object.is:nC;function Li(s,n){if(Qt(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null)return!1;var l=Object.keys(s),u=Object.keys(n);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!Xd.call(n,p)||!Qt(s[p],n[p]))return!1}return!0}function $x(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Yx(s,n){var l=$x(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=n&&u>=n)return{node:l,offset:n-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$x(l)}}function Gx(s,n){return s&&n?s===n?!0:s&&s.nodeType===3?!1:n&&n.nodeType===3?Gx(s,n.parentNode):"contains"in s?s.contains(n):s.compareDocumentPosition?!!(s.compareDocumentPosition(n)&16):!1:!1}function Wx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var n=kl(s.document);n instanceof s.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)s=n.contentWindow;else break;n=kl(s.document)}return n}function wu(s){var n=s&&s.nodeName&&s.nodeName.toLowerCase();return n&&(n==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||n==="textarea"||s.contentEditable==="true")}var iC=Kr&&"documentMode"in document&&11>=document.documentMode,gn=null,Nu=null,Mi=null,Cu=!1;function Kx(s,n,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Cu||gn==null||gn!==kl(u)||(u=gn,"selectionStart"in u&&wu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Mi&&Li(Mi,u)||(Mi=u,u=gc(Nu,"onSelect"),0<u.length&&(n=new Rl("onSelect","select",null,n,l),s.push({event:n,listeners:u}),n.target=gn)))}function wa(s,n){var l={};return l[s.toLowerCase()]=n.toLowerCase(),l["Webkit"+s]="webkit"+n,l["Moz"+s]="moz"+n,l}var vn={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},Su={},Xx={};Kr&&(Xx=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function Na(s){if(Su[s])return Su[s];if(!vn[s])return s;var n=vn[s],l;for(l in n)if(n.hasOwnProperty(l)&&l in Xx)return Su[s]=n[l];return s}var Zx=Na("animationend"),Qx=Na("animationiteration"),Jx=Na("animationstart"),oC=Na("transitionrun"),lC=Na("transitionstart"),cC=Na("transitioncancel"),ey=Na("transitionend"),ty=new Map,ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ku.push("scrollEnd");function wr(s,n){ty.set(s,n),ba(n,[s])}var ry=new WeakMap;function lr(s,n){if(typeof s=="object"&&s!==null){var l=ry.get(s);return l!==void 0?l:(n={value:s,source:n,stack:gx(n)},ry.set(s,n),n)}return{value:s,source:n,stack:gx(n)}}var cr=[],bn=0,_u=0;function Pl(){for(var s=bn,n=_u=bn=0;n<s;){var l=cr[n];cr[n++]=null;var u=cr[n];cr[n++]=null;var p=cr[n];cr[n++]=null;var y=cr[n];if(cr[n++]=null,u!==null&&p!==null){var N=u.pending;N===null?p.next=p:(p.next=N.next,N.next=p),u.pending=p}y!==0&&sy(l,p,y)}}function Ll(s,n,l,u){cr[bn++]=s,cr[bn++]=n,cr[bn++]=l,cr[bn++]=u,_u|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Au(s,n,l,u){return Ll(s,n,l,u),Ml(s)}function jn(s,n){return Ll(s,null,null,n),Ml(s)}function sy(s,n,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(p=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,p&&n!==null&&(p=31-Zt(l),s=y.hiddenUpdates,u=s[p],u===null?s[p]=[n]:u.push(n),n.lane=l|536870912),y):null}function Ml(s){if(50<oo)throw oo=0,Pm=null,Error(i(185));for(var n=s.return;n!==null;)s=n,n=s.return;return s.tag===3?s.stateNode:null}var wn={};function dC(s,n,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(s,n,l,u){return new dC(s,n,l,u)}function Eu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Xr(s,n){var l=s.alternate;return l===null?(l=Jt(s.tag,n,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=n,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,n=s.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function ay(s,n){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,n=l.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),s}function zl(s,n,l,u,p,y){var N=0;if(u=s,typeof s=="function")Eu(s)&&(N=1);else if(typeof s=="string")N=mS(s,l,oe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case O:return s=Jt(31,l,n,p),s.elementType=O,s.lanes=y,s;case b:return Ca(l.children,p,y,n);case C:N=8,p|=24;break;case k:return s=Jt(12,l,n,p|2),s.elementType=k,s.lanes=y,s;case D:return s=Jt(13,l,n,p),s.elementType=D,s.lanes=y,s;case F:return s=Jt(19,l,n,p),s.elementType=F,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case S:case R:N=10;break e;case T:N=9;break e;case E:N=11;break e;case V:N=14;break e;case q:N=16,u=null;break e}N=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return n=Jt(N,l,n,p),n.elementType=s,n.type=u,n.lanes=y,n}function Ca(s,n,l,u){return s=Jt(7,s,u,n),s.lanes=l,s}function Tu(s,n,l){return s=Jt(6,s,null,n),s.lanes=l,s}function Ru(s,n,l){return n=Jt(4,s.children!==null?s.children:[],s.key,n),n.lanes=l,n.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},n}var Nn=[],Cn=0,Il=null,Bl=0,dr=[],ur=0,Sa=null,Zr=1,Qr="";function ka(s,n){Nn[Cn++]=Bl,Nn[Cn++]=Il,Il=s,Bl=n}function ny(s,n,l){dr[ur++]=Zr,dr[ur++]=Qr,dr[ur++]=Sa,Sa=s;var u=Zr;s=Qr;var p=32-Zt(u)-1;u&=~(1<<p),l+=1;var y=32-Zt(n)+p;if(30<y){var N=p-p%5;y=(u&(1<<N)-1).toString(32),u>>=N,p-=N,Zr=1<<32-Zt(n)+p|l<<p|u,Qr=y+s}else Zr=1<<y|l<<p|u,Qr=s}function Du(s){s.return!==null&&(ka(s,1),ny(s,1,0))}function Ou(s){for(;s===Il;)Il=Nn[--Cn],Nn[Cn]=null,Bl=Nn[--Cn],Nn[Cn]=null;for(;s===Sa;)Sa=dr[--ur],dr[ur]=null,Qr=dr[--ur],dr[ur]=null,Zr=dr[--ur],dr[ur]=null}var Dt=null,tt=null,Pe=!1,_a=null,Dr=!1,Pu=Error(i(519));function Aa(s){var n=Error(i(418,""));throw Bi(lr(n,s)),Pu}function iy(s){var n=s.stateNode,l=s.type,u=s.memoizedProps;switch(n[kt]=s,n[Ut]=u,l){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(l=0;l<co.length;l++)Ee(co[l],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Ee("invalid",n),jx(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Sl(n);break;case"select":Ee("invalid",n);break;case"textarea":Ee("invalid",n),Nx(n,u.value,u.defaultValue,u.children),Sl(n)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||u.suppressHydrationWarning===!0||Nv(n.textContent,l)?(u.popover!=null&&(Ee("beforetoggle",n),Ee("toggle",n)),u.onScroll!=null&&Ee("scroll",n),u.onScrollEnd!=null&&Ee("scrollend",n),u.onClick!=null&&(n.onclick=vc),n=!0):n=!1,n||Aa(s)}function oy(s){for(Dt=s.return;Dt;)switch(Dt.tag){case 5:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:Dt=Dt.return}}function zi(s){if(s!==Dt)return!1;if(!Pe)return oy(s),Pe=!0,!1;var n=s.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Xm(s.type,s.memoizedProps)),l=!l),l&&tt&&Aa(s),oy(s),n===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,n=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(n===0){tt=Cr(s.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;s=s.nextSibling}tt=null}}else n===27?(n=tt,$s(s.type)?(s=eh,eh=null,tt=s):tt=n):tt=Dt?Cr(s.stateNode.nextSibling):null;return!0}function Ii(){tt=Dt=null,Pe=!1}function ly(){var s=_a;return s!==null&&(qt===null?qt=s:qt.push.apply(qt,s),_a=null),s}function Bi(s){_a===null?_a=[s]:_a.push(s)}var Lu=se(null),Ea=null,Jr=null;function Ts(s,n,l){B(Lu,n._currentValue),n._currentValue=l}function es(s){s._currentValue=Lu.current,Q(Lu)}function Mu(s,n,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&n)!==n?(s.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),s===l)break;s=s.return}}function zu(s,n,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var y=p.dependencies;if(y!==null){var N=p.child;y=y.firstContext;e:for(;y!==null;){var _=y;y=p;for(var P=0;P<n.length;P++)if(_.context===n[P]){y.lanes|=l,_=y.alternate,_!==null&&(_.lanes|=l),Mu(y.return,l,s),u||(N=null);break e}y=_.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(i(341));N.lanes|=l,y=N.alternate,y!==null&&(y.lanes|=l),Mu(N,l,s),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===s){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function Ui(s,n,l,u){s=null;for(var p=n,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(i(387));if(N=N.memoizedProps,N!==null){var _=p.type;Qt(p.pendingProps.value,N.value)||(s!==null?s.push(_):s=[_])}}else if(p===ft.current){if(N=p.alternate,N===null)throw Error(i(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(xo):s=[xo])}p=p.return}s!==null&&zu(n,s,l,u),n.flags|=262144}function Ul(s){for(s=s.firstContext;s!==null;){if(!Qt(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ta(s){Ea=s,Jr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function _t(s){return cy(Ea,s)}function Fl(s,n){return Ea===null&&Ta(s),cy(s,n)}function cy(s,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Jr===null){if(s===null)throw Error(i(308));Jr=n,s.dependencies={lanes:0,firstContext:n},s.flags|=524288}else Jr=Jr.next=n;return l}var uC=typeof AbortController<"u"?AbortController:function(){var s=[],n=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){n.aborted=!0,s.forEach(function(l){return l()})}},mC=e.unstable_scheduleCallback,hC=e.unstable_NormalPriority,ut={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Iu(){return{controller:new uC,data:new Map,refCount:0}}function Fi(s){s.refCount--,s.refCount===0&&mC(hC,function(){s.controller.abort()})}var Vi=null,Bu=0,Sn=0,kn=null;function fC(s,n){if(Vi===null){var l=Vi=[];Bu=0,Sn=Fm(),kn={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Bu++,n.then(dy,dy),n}function dy(){if(--Bu===0&&Vi!==null){kn!==null&&(kn.status="fulfilled");var s=Vi;Vi=null,Sn=0,kn=null;for(var n=0;n<s.length;n++)(0,s[n])()}}function pC(s,n){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=n;for(var p=0;p<l.length;p++)(0,l[p])(n)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var uy=$.S;$.S=function(s,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&fC(s,n),uy!==null&&uy(s,n)};var Ra=se(null);function Uu(){var s=Ra.current;return s!==null?s:Ge.pooledCache}function Vl(s,n){n===null?B(Ra,Ra.current):B(Ra,n.pool)}function my(){var s=Uu();return s===null?null:{parent:ut._currentValue,pool:s}}var Hi=Error(i(460)),hy=Error(i(474)),Hl=Error(i(542)),Fu={then:function(){}};function fy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ql(){}function py(s,n,l){switch(l=s[l],l===void 0?s.push(n):l!==n&&(n.then(ql,ql),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,yy(s),s;default:if(typeof n.status=="string")n.then(ql,ql);else{if(s=Ge,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=n,s.status="pending",s.then(function(u){if(n.status==="pending"){var p=n;p.status="fulfilled",p.value=u}},function(u){if(n.status==="pending"){var p=n;p.status="rejected",p.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw s=n.reason,yy(s),s}throw qi=n,Hi}}var qi=null;function xy(){if(qi===null)throw Error(i(459));var s=qi;return qi=null,s}function yy(s){if(s===Hi||s===Hl)throw Error(i(483))}var Rs=!1;function Vu(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hu(s,n){s=s.updateQueue,n.updateQueue===s&&(n.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ds(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Os(s,n,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(ze&2)!==0){var p=u.pending;return p===null?n.next=n:(n.next=p.next,p.next=n),u.pending=n,n=Ml(s),sy(s,null,l),n}return Ll(s,u,n,l),Ml(s)}function $i(s,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var u=n.lanes;u&=s.pendingLanes,l|=u,n.lanes=l,dx(s,l)}}function qu(s,n){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=N:y=y.next=N,l=l.next}while(l!==null);y===null?p=y=n:y=y.next=n}else p=y=n;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=n:s.next=n,l.lastBaseUpdate=n}var $u=!1;function Yi(){if($u){var s=kn;if(s!==null)throw s}}function Gi(s,n,l,u){$u=!1;var p=s.updateQueue;Rs=!1;var y=p.firstBaseUpdate,N=p.lastBaseUpdate,_=p.shared.pending;if(_!==null){p.shared.pending=null;var P=_,G=P.next;P.next=null,N===null?y=G:N.next=G,N=P;var J=s.alternate;J!==null&&(J=J.updateQueue,_=J.lastBaseUpdate,_!==N&&(_===null?J.firstBaseUpdate=G:_.next=G,J.lastBaseUpdate=P))}if(y!==null){var te=p.baseState;N=0,J=G=P=null,_=y;do{var W=_.lane&-536870913,K=W!==_.lane;if(K?(Re&W)===W:(u&W)===W){W!==0&&W===Sn&&($u=!0),J!==null&&(J=J.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ve=s,xe=_;W=n;var He=l;switch(xe.tag){case 1:if(ve=xe.payload,typeof ve=="function"){te=ve.call(He,te,W);break e}te=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=xe.payload,W=typeof ve=="function"?ve.call(He,te,W):ve,W==null)break e;te=x({},te,W);break e;case 2:Rs=!0}}W=_.callback,W!==null&&(s.flags|=64,K&&(s.flags|=8192),K=p.callbacks,K===null?p.callbacks=[W]:K.push(W))}else K={lane:W,tag:_.tag,payload:_.payload,callback:_.callback,next:null},J===null?(G=J=K,P=te):J=J.next=K,N|=W;if(_=_.next,_===null){if(_=p.shared.pending,_===null)break;K=_,_=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);J===null&&(P=te),p.baseState=P,p.firstBaseUpdate=G,p.lastBaseUpdate=J,y===null&&(p.shared.lanes=0),Fs|=N,s.lanes=N,s.memoizedState=te}}function gy(s,n){if(typeof s!="function")throw Error(i(191,s));s.call(n)}function vy(s,n){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)gy(l[s],n)}var _n=se(null),$l=se(0);function by(s,n){s=os,B($l,s),B(_n,n),os=s|n.baseLanes}function Yu(){B($l,os),B(_n,_n.current)}function Gu(){os=$l.current,Q(_n),Q($l)}var Ps=0,Ce=null,Fe=null,ct=null,Yl=!1,An=!1,Da=!1,Gl=0,Wi=0,En=null,xC=0;function at(){throw Error(i(321))}function Wu(s,n){if(n===null)return!1;for(var l=0;l<n.length&&l<s.length;l++)if(!Qt(s[l],n[l]))return!1;return!0}function Ku(s,n,l,u,p,y){return Ps=y,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=s===null||s.memoizedState===null?sg:ag,Da=!1,y=l(u,p),Da=!1,An&&(y=wy(n,l,u,p)),jy(s),y}function jy(s){$.H=Jl;var n=Fe!==null&&Fe.next!==null;if(Ps=0,ct=Fe=Ce=null,Yl=!1,Wi=0,En=null,n)throw Error(i(300));s===null||xt||(s=s.dependencies,s!==null&&Ul(s)&&(xt=!0))}function wy(s,n,l,u){Ce=s;var p=0;do{if(An&&(En=null),Wi=0,An=!1,25<=p)throw Error(i(301));if(p+=1,ct=Fe=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=NC,y=n(l,u)}while(An);return y}function yC(){var s=$.H,n=s.useState()[0];return n=typeof n.then=="function"?Ki(n):n,s=s.useState()[0],(Fe!==null?Fe.memoizedState:null)!==s&&(Ce.flags|=1024),n}function Xu(){var s=Gl!==0;return Gl=0,s}function Zu(s,n,l){n.updateQueue=s.updateQueue,n.flags&=-2053,s.lanes&=~l}function Qu(s){if(Yl){for(s=s.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}Yl=!1}Ps=0,ct=Fe=Ce=null,An=!1,Wi=Gl=0,En=null}function Vt(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ce.memoizedState=ct=s:ct=ct.next=s,ct}function dt(){if(Fe===null){var s=Ce.alternate;s=s!==null?s.memoizedState:null}else s=Fe.next;var n=ct===null?Ce.memoizedState:ct.next;if(n!==null)ct=n,Fe=s;else{if(s===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));Fe=s,s={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ct===null?Ce.memoizedState=ct=s:ct=ct.next=s}return ct}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ki(s){var n=Wi;return Wi+=1,En===null&&(En=[]),s=py(En,s,n),n=Ce,(ct===null?n.memoizedState:ct.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?sg:ag),s}function Wl(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ki(s);if(s.$$typeof===R)return _t(s)}throw Error(i(438,String(s)))}function em(s){var n=null,l=Ce.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(p){return p.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Ju(),Ce.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(s),u=0;u<s;u++)l[u]=A;return n.index++,l}function ts(s,n){return typeof n=="function"?n(s):n}function Kl(s){var n=dt();return tm(n,Fe,s)}function tm(s,n,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=s.baseQueue,y=u.pending;if(y!==null){if(p!==null){var N=p.next;p.next=y.next,y.next=N}n.baseQueue=p=y,u.pending=null}if(y=s.baseState,p===null)s.memoizedState=y;else{n=p.next;var _=N=null,P=null,G=n,J=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Re&te)===te:(Ps&te)===te){var W=G.revertLane;if(W===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Sn&&(J=!0);else if((Ps&W)===W){G=G.next,W===Sn&&(J=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(_=P=te,N=y):P=P.next=te,Ce.lanes|=W,Fs|=W;te=G.action,Da&&l(y,te),y=G.hasEagerState?G.eagerState:l(y,te)}else W={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},P===null?(_=P=W,N=y):P=P.next=W,Ce.lanes|=te,Fs|=te;G=G.next}while(G!==null&&G!==n);if(P===null?N=y:P.next=_,!Qt(y,s.memoizedState)&&(xt=!0,J&&(l=kn,l!==null)))throw l;s.memoizedState=y,s.baseState=N,s.baseQueue=P,u.lastRenderedState=y}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function rm(s){var n=dt(),l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,y=n.memoizedState;if(p!==null){l.pending=null;var N=p=p.next;do y=s(y,N.action),N=N.next;while(N!==p);Qt(y,n.memoizedState)||(xt=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),l.lastRenderedState=y}return[y,u]}function Ny(s,n,l){var u=Ce,p=dt(),y=Pe;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=n();var N=!Qt((Fe||p).memoizedState,l);N&&(p.memoizedState=l,xt=!0),p=p.queue;var _=ky.bind(null,u,p,s);if(Xi(2048,8,_,[s]),p.getSnapshot!==n||N||ct!==null&&ct.memoizedState.tag&1){if(u.flags|=2048,Tn(9,Xl(),Sy.bind(null,u,p,l,n),null),Ge===null)throw Error(i(349));y||(Ps&124)!==0||Cy(u,n,l)}return l}function Cy(s,n,l){s.flags|=16384,s={getSnapshot:n,value:l},n=Ce.updateQueue,n===null?(n=Ju(),Ce.updateQueue=n,n.stores=[s]):(l=n.stores,l===null?n.stores=[s]:l.push(s))}function Sy(s,n,l,u){n.value=l,n.getSnapshot=u,_y(n)&&Ay(s)}function ky(s,n,l){return l(function(){_y(n)&&Ay(s)})}function _y(s){var n=s.getSnapshot;s=s.value;try{var l=n();return!Qt(s,l)}catch{return!0}}function Ay(s){var n=jn(s,2);n!==null&&ar(n,s,2)}function sm(s){var n=Vt();if(typeof s=="function"){var l=s;if(s=l(),Da){_s(!0);try{l()}finally{_s(!1)}}}return n.memoizedState=n.baseState=s,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:s},n}function Ey(s,n,l,u){return s.baseState=l,tm(s,Fe,typeof u=="function"?u:ts)}function gC(s,n,l,u,p){if(Ql(s))throw Error(i(485));if(s=n.action,s!==null){var y={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};$.T!==null?l(!0):y.isTransition=!1,u(y),l=n.pending,l===null?(y.next=n.pending=y,Ty(n,y)):(y.next=l.next,n.pending=l.next=y)}}function Ty(s,n){var l=n.action,u=n.payload,p=s.state;if(n.isTransition){var y=$.T,N={};$.T=N;try{var _=l(p,u),P=$.S;P!==null&&P(N,_),Ry(s,n,_)}catch(G){am(s,n,G)}finally{$.T=y}}else try{y=l(p,u),Ry(s,n,y)}catch(G){am(s,n,G)}}function Ry(s,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Dy(s,n,u)},function(u){return am(s,n,u)}):Dy(s,n,l)}function Dy(s,n,l){n.status="fulfilled",n.value=l,Oy(n),s.state=l,n=s.pending,n!==null&&(l=n.next,l===n?s.pending=null:(l=l.next,n.next=l,Ty(s,l)))}function am(s,n,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=l,Oy(n),n=n.next;while(n!==u)}s.action=null}function Oy(s){s=s.listeners;for(var n=0;n<s.length;n++)(0,s[n])()}function Py(s,n){return n}function Ly(s,n){if(Pe){var l=Ge.formState;if(l!==null){e:{var u=Ce;if(Pe){if(tt){t:{for(var p=tt,y=Dr;p.nodeType!==8;){if(!y){p=null;break t}if(p=Cr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){tt=Cr(p.nextSibling),u=p.data==="F!";break e}}Aa(u)}u=!1}u&&(n=l[0])}}return l=Vt(),l.memoizedState=l.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Py,lastRenderedState:n},l.queue=u,l=eg.bind(null,Ce,u),u.dispatch=l,u=sm(!1),y=cm.bind(null,Ce,!1,u.queue),u=Vt(),p={state:n,dispatch:null,action:s,pending:null},u.queue=p,l=gC.bind(null,Ce,p,y,l),p.dispatch=l,u.memoizedState=s,[n,l,!1]}function My(s){var n=dt();return zy(n,Fe,s)}function zy(s,n,l){if(n=tm(s,n,Py)[0],s=Kl(ts)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Ki(n)}catch(N){throw N===Hi?Hl:N}else u=n;n=dt();var p=n.queue,y=p.dispatch;return l!==n.memoizedState&&(Ce.flags|=2048,Tn(9,Xl(),vC.bind(null,p,l),null)),[u,y,s]}function vC(s,n){s.action=n}function Iy(s){var n=dt(),l=Fe;if(l!==null)return zy(n,l,s);dt(),n=n.memoizedState,l=dt();var u=l.queue.dispatch;return l.memoizedState=s,[n,u,!1]}function Tn(s,n,l,u){return s={tag:s,create:l,deps:u,inst:n,next:null},n=Ce.updateQueue,n===null&&(n=Ju(),Ce.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,n.lastEffect=s),s}function Xl(){return{destroy:void 0,resource:void 0}}function By(){return dt().memoizedState}function Zl(s,n,l,u){var p=Vt();u=u===void 0?null:u,Ce.flags|=s,p.memoizedState=Tn(1|n,Xl(),l,u)}function Xi(s,n,l,u){var p=dt();u=u===void 0?null:u;var y=p.memoizedState.inst;Fe!==null&&u!==null&&Wu(u,Fe.memoizedState.deps)?p.memoizedState=Tn(n,y,l,u):(Ce.flags|=s,p.memoizedState=Tn(1|n,y,l,u))}function Uy(s,n){Zl(8390656,8,s,n)}function Fy(s,n){Xi(2048,8,s,n)}function Vy(s,n){return Xi(4,2,s,n)}function Hy(s,n){return Xi(4,4,s,n)}function qy(s,n){if(typeof n=="function"){s=s();var l=n(s);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return s=s(),n.current=s,function(){n.current=null}}function $y(s,n,l){l=l!=null?l.concat([s]):null,Xi(4,4,qy.bind(null,n,s),l)}function nm(){}function Yy(s,n){var l=dt();n=n===void 0?null:n;var u=l.memoizedState;return n!==null&&Wu(n,u[1])?u[0]:(l.memoizedState=[s,n],s)}function Gy(s,n){var l=dt();n=n===void 0?null:n;var u=l.memoizedState;if(n!==null&&Wu(n,u[1]))return u[0];if(u=s(),Da){_s(!0);try{s()}finally{_s(!1)}}return l.memoizedState=[u,n],u}function im(s,n,l){return l===void 0||(Ps&1073741824)!==0?s.memoizedState=n:(s.memoizedState=l,s=Xg(),Ce.lanes|=s,Fs|=s,l)}function Wy(s,n,l,u){return Qt(l,n)?l:_n.current!==null?(s=im(s,l,u),Qt(s,n)||(xt=!0),s):(Ps&42)===0?(xt=!0,s.memoizedState=l):(s=Xg(),Ce.lanes|=s,Fs|=s,n)}function Ky(s,n,l,u,p){var y=H.p;H.p=y!==0&&8>y?y:8;var N=$.T,_={};$.T=_,cm(s,!1,n,l);try{var P=p(),G=$.S;if(G!==null&&G(_,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var J=pC(P,u);Zi(s,n,J,sr(s))}else Zi(s,n,u,sr(s))}catch(te){Zi(s,n,{then:function(){},status:"rejected",reason:te},sr())}finally{H.p=y,$.T=N}}function bC(){}function om(s,n,l,u){if(s.tag!==5)throw Error(i(476));var p=Xy(s).queue;Ky(s,p,n,re,l===null?bC:function(){return Zy(s),l(u)})}function Xy(s){var n=s.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:re},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:l},next:null},s.memoizedState=n,s=s.alternate,s!==null&&(s.memoizedState=n),n}function Zy(s){var n=Xy(s).next.queue;Zi(s,n,{},sr())}function lm(){return _t(xo)}function Qy(){return dt().memoizedState}function Jy(){return dt().memoizedState}function jC(s){for(var n=s.return;n!==null;){switch(n.tag){case 24:case 3:var l=sr();s=Ds(l);var u=Os(n,s,l);u!==null&&(ar(u,n,l),$i(u,n,l)),n={cache:Iu()},s.payload=n;return}n=n.return}}function wC(s,n,l){var u=sr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ql(s)?tg(n,l):(l=Au(s,n,l,u),l!==null&&(ar(l,s,u),rg(l,n,u)))}function eg(s,n,l){var u=sr();Zi(s,n,l,u)}function Zi(s,n,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ql(s))tg(n,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var N=n.lastRenderedState,_=y(N,l);if(p.hasEagerState=!0,p.eagerState=_,Qt(_,N))return Ll(s,n,p,0),Ge===null&&Pl(),!1}catch{}finally{}if(l=Au(s,n,p,u),l!==null)return ar(l,s,u),rg(l,n,u),!0}return!1}function cm(s,n,l,u){if(u={lane:2,revertLane:Fm(),action:u,hasEagerState:!1,eagerState:null,next:null},Ql(s)){if(n)throw Error(i(479))}else n=Au(s,l,u,2),n!==null&&ar(n,s,2)}function Ql(s){var n=s.alternate;return s===Ce||n!==null&&n===Ce}function tg(s,n){An=Yl=!0;var l=s.pending;l===null?n.next=n:(n.next=l.next,l.next=n),s.pending=n}function rg(s,n,l){if((l&4194048)!==0){var u=n.lanes;u&=s.pendingLanes,l|=u,n.lanes=l,dx(s,l)}}var Jl={readContext:_t,use:Wl,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at},sg={readContext:_t,use:Wl,useCallback:function(s,n){return Vt().memoizedState=[s,n===void 0?null:n],s},useContext:_t,useEffect:Uy,useImperativeHandle:function(s,n,l){l=l!=null?l.concat([s]):null,Zl(4194308,4,qy.bind(null,n,s),l)},useLayoutEffect:function(s,n){return Zl(4194308,4,s,n)},useInsertionEffect:function(s,n){Zl(4,2,s,n)},useMemo:function(s,n){var l=Vt();n=n===void 0?null:n;var u=s();if(Da){_s(!0);try{s()}finally{_s(!1)}}return l.memoizedState=[u,n],u},useReducer:function(s,n,l){var u=Vt();if(l!==void 0){var p=l(n);if(Da){_s(!0);try{l(n)}finally{_s(!1)}}}else p=n;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=wC.bind(null,Ce,s),[u.memoizedState,s]},useRef:function(s){var n=Vt();return s={current:s},n.memoizedState=s},useState:function(s){s=sm(s);var n=s.queue,l=eg.bind(null,Ce,n);return n.dispatch=l,[s.memoizedState,l]},useDebugValue:nm,useDeferredValue:function(s,n){var l=Vt();return im(l,s,n)},useTransition:function(){var s=sm(!1);return s=Ky.bind(null,Ce,s.queue,!0,!1),Vt().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,n,l){var u=Ce,p=Vt();if(Pe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=n(),Ge===null)throw Error(i(349));(Re&124)!==0||Cy(u,n,l)}p.memoizedState=l;var y={value:l,getSnapshot:n};return p.queue=y,Uy(ky.bind(null,u,y,s),[s]),u.flags|=2048,Tn(9,Xl(),Sy.bind(null,u,y,l,n),null),l},useId:function(){var s=Vt(),n=Ge.identifierPrefix;if(Pe){var l=Qr,u=Zr;l=(u&~(1<<32-Zt(u)-1)).toString(32)+l,n="«"+n+"R"+l,l=Gl++,0<l&&(n+="H"+l.toString(32)),n+="»"}else l=xC++,n="«"+n+"r"+l.toString(32)+"»";return s.memoizedState=n},useHostTransitionStatus:lm,useFormState:Ly,useActionState:Ly,useOptimistic:function(s){var n=Vt();n.memoizedState=n.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=cm.bind(null,Ce,!0,l),l.dispatch=n,[s,n]},useMemoCache:em,useCacheRefresh:function(){return Vt().memoizedState=jC.bind(null,Ce)}},ag={readContext:_t,use:Wl,useCallback:Yy,useContext:_t,useEffect:Fy,useImperativeHandle:$y,useInsertionEffect:Vy,useLayoutEffect:Hy,useMemo:Gy,useReducer:Kl,useRef:By,useState:function(){return Kl(ts)},useDebugValue:nm,useDeferredValue:function(s,n){var l=dt();return Wy(l,Fe.memoizedState,s,n)},useTransition:function(){var s=Kl(ts)[0],n=dt().memoizedState;return[typeof s=="boolean"?s:Ki(s),n]},useSyncExternalStore:Ny,useId:Qy,useHostTransitionStatus:lm,useFormState:My,useActionState:My,useOptimistic:function(s,n){var l=dt();return Ey(l,Fe,s,n)},useMemoCache:em,useCacheRefresh:Jy},NC={readContext:_t,use:Wl,useCallback:Yy,useContext:_t,useEffect:Fy,useImperativeHandle:$y,useInsertionEffect:Vy,useLayoutEffect:Hy,useMemo:Gy,useReducer:rm,useRef:By,useState:function(){return rm(ts)},useDebugValue:nm,useDeferredValue:function(s,n){var l=dt();return Fe===null?im(l,s,n):Wy(l,Fe.memoizedState,s,n)},useTransition:function(){var s=rm(ts)[0],n=dt().memoizedState;return[typeof s=="boolean"?s:Ki(s),n]},useSyncExternalStore:Ny,useId:Qy,useHostTransitionStatus:lm,useFormState:Iy,useActionState:Iy,useOptimistic:function(s,n){var l=dt();return Fe!==null?Ey(l,Fe,s,n):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:em,useCacheRefresh:Jy},Rn=null,Qi=0;function ec(s){var n=Qi;return Qi+=1,Rn===null&&(Rn=[]),py(Rn,s,n)}function Ji(s,n){n=n.props.ref,s.ref=n!==void 0?n:null}function tc(s,n){throw n.$$typeof===g?Error(i(525)):(s=Object.prototype.toString.call(n),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":s)))}function ng(s){var n=s._init;return n(s._payload)}function ig(s){function n(U,z){if(s){var Y=U.deletions;Y===null?(U.deletions=[z],U.flags|=16):Y.push(z)}}function l(U,z){if(!s)return null;for(;z!==null;)n(U,z),z=z.sibling;return null}function u(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function p(U,z){return U=Xr(U,z),U.index=0,U.sibling=null,U}function y(U,z,Y){return U.index=Y,s?(Y=U.alternate,Y!==null?(Y=Y.index,Y<z?(U.flags|=67108866,z):Y):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function N(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function _(U,z,Y,ee){return z===null||z.tag!==6?(z=Tu(Y,U.mode,ee),z.return=U,z):(z=p(z,Y),z.return=U,z)}function P(U,z,Y,ee){var le=Y.type;return le===b?J(U,z,Y.props.children,ee,Y.key):z!==null&&(z.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===q&&ng(le)===z.type)?(z=p(z,Y.props),Ji(z,Y),z.return=U,z):(z=zl(Y.type,Y.key,Y.props,null,U.mode,ee),Ji(z,Y),z.return=U,z)}function G(U,z,Y,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=Ru(Y,U.mode,ee),z.return=U,z):(z=p(z,Y.children||[]),z.return=U,z)}function J(U,z,Y,ee,le){return z===null||z.tag!==7?(z=Ca(Y,U.mode,ee,le),z.return=U,z):(z=p(z,Y),z.return=U,z)}function te(U,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Tu(""+z,U.mode,Y),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return Y=zl(z.type,z.key,z.props,null,U.mode,Y),Ji(Y,z),Y.return=U,Y;case j:return z=Ru(z,U.mode,Y),z.return=U,z;case q:var ee=z._init;return z=ee(z._payload),te(U,z,Y)}if(ne(z)||X(z))return z=Ca(z,U.mode,Y,null),z.return=U,z;if(typeof z.then=="function")return te(U,ec(z),Y);if(z.$$typeof===R)return te(U,Fl(U,z),Y);tc(U,z)}return null}function W(U,z,Y,ee){var le=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return le!==null?null:_(U,z,""+Y,ee);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===le?P(U,z,Y,ee):null;case j:return Y.key===le?G(U,z,Y,ee):null;case q:return le=Y._init,Y=le(Y._payload),W(U,z,Y,ee)}if(ne(Y)||X(Y))return le!==null?null:J(U,z,Y,ee,null);if(typeof Y.then=="function")return W(U,z,ec(Y),ee);if(Y.$$typeof===R)return W(U,z,Fl(U,Y),ee);tc(U,Y)}return null}function K(U,z,Y,ee,le){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(Y)||null,_(z,U,""+ee,le);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return U=U.get(ee.key===null?Y:ee.key)||null,P(z,U,ee,le);case j:return U=U.get(ee.key===null?Y:ee.key)||null,G(z,U,ee,le);case q:var ke=ee._init;return ee=ke(ee._payload),K(U,z,Y,ee,le)}if(ne(ee)||X(ee))return U=U.get(Y)||null,J(z,U,ee,le,null);if(typeof ee.then=="function")return K(U,z,Y,ec(ee),le);if(ee.$$typeof===R)return K(U,z,Y,Fl(z,ee),le);tc(z,ee)}return null}function ve(U,z,Y,ee){for(var le=null,ke=null,me=z,ye=z=0,gt=null;me!==null&&ye<Y.length;ye++){me.index>ye?(gt=me,me=null):gt=me.sibling;var De=W(U,me,Y[ye],ee);if(De===null){me===null&&(me=gt);break}s&&me&&De.alternate===null&&n(U,me),z=y(De,z,ye),ke===null?le=De:ke.sibling=De,ke=De,me=gt}if(ye===Y.length)return l(U,me),Pe&&ka(U,ye),le;if(me===null){for(;ye<Y.length;ye++)me=te(U,Y[ye],ee),me!==null&&(z=y(me,z,ye),ke===null?le=me:ke.sibling=me,ke=me);return Pe&&ka(U,ye),le}for(me=u(me);ye<Y.length;ye++)gt=K(me,U,ye,Y[ye],ee),gt!==null&&(s&&gt.alternate!==null&&me.delete(gt.key===null?ye:gt.key),z=y(gt,z,ye),ke===null?le=gt:ke.sibling=gt,ke=gt);return s&&me.forEach(function(Xs){return n(U,Xs)}),Pe&&ka(U,ye),le}function xe(U,z,Y,ee){if(Y==null)throw Error(i(151));for(var le=null,ke=null,me=z,ye=z=0,gt=null,De=Y.next();me!==null&&!De.done;ye++,De=Y.next()){me.index>ye?(gt=me,me=null):gt=me.sibling;var Xs=W(U,me,De.value,ee);if(Xs===null){me===null&&(me=gt);break}s&&me&&Xs.alternate===null&&n(U,me),z=y(Xs,z,ye),ke===null?le=Xs:ke.sibling=Xs,ke=Xs,me=gt}if(De.done)return l(U,me),Pe&&ka(U,ye),le;if(me===null){for(;!De.done;ye++,De=Y.next())De=te(U,De.value,ee),De!==null&&(z=y(De,z,ye),ke===null?le=De:ke.sibling=De,ke=De);return Pe&&ka(U,ye),le}for(me=u(me);!De.done;ye++,De=Y.next())De=K(me,U,ye,De.value,ee),De!==null&&(s&&De.alternate!==null&&me.delete(De.key===null?ye:De.key),z=y(De,z,ye),ke===null?le=De:ke.sibling=De,ke=De);return s&&me.forEach(function(CS){return n(U,CS)}),Pe&&ka(U,ye),le}function He(U,z,Y,ee){if(typeof Y=="object"&&Y!==null&&Y.type===b&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:e:{for(var le=Y.key;z!==null;){if(z.key===le){if(le=Y.type,le===b){if(z.tag===7){l(U,z.sibling),ee=p(z,Y.props.children),ee.return=U,U=ee;break e}}else if(z.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===q&&ng(le)===z.type){l(U,z.sibling),ee=p(z,Y.props),Ji(ee,Y),ee.return=U,U=ee;break e}l(U,z);break}else n(U,z);z=z.sibling}Y.type===b?(ee=Ca(Y.props.children,U.mode,ee,Y.key),ee.return=U,U=ee):(ee=zl(Y.type,Y.key,Y.props,null,U.mode,ee),Ji(ee,Y),ee.return=U,U=ee)}return N(U);case j:e:{for(le=Y.key;z!==null;){if(z.key===le)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){l(U,z.sibling),ee=p(z,Y.children||[]),ee.return=U,U=ee;break e}else{l(U,z);break}else n(U,z);z=z.sibling}ee=Ru(Y,U.mode,ee),ee.return=U,U=ee}return N(U);case q:return le=Y._init,Y=le(Y._payload),He(U,z,Y,ee)}if(ne(Y))return ve(U,z,Y,ee);if(X(Y)){if(le=X(Y),typeof le!="function")throw Error(i(150));return Y=le.call(Y),xe(U,z,Y,ee)}if(typeof Y.then=="function")return He(U,z,ec(Y),ee);if(Y.$$typeof===R)return He(U,z,Fl(U,Y),ee);tc(U,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(l(U,z.sibling),ee=p(z,Y),ee.return=U,U=ee):(l(U,z),ee=Tu(Y,U.mode,ee),ee.return=U,U=ee),N(U)):l(U,z)}return function(U,z,Y,ee){try{Qi=0;var le=He(U,z,Y,ee);return Rn=null,le}catch(me){if(me===Hi||me===Hl)throw me;var ke=Jt(29,me,null,U.mode);return ke.lanes=ee,ke.return=U,ke}finally{}}}var Dn=ig(!0),og=ig(!1),mr=se(null),Or=null;function Ls(s){var n=s.alternate;B(mt,mt.current&1),B(mr,s),Or===null&&(n===null||_n.current!==null||n.memoizedState!==null)&&(Or=s)}function lg(s){if(s.tag===22){if(B(mt,mt.current),B(mr,s),Or===null){var n=s.alternate;n!==null&&n.memoizedState!==null&&(Or=s)}}else Ms()}function Ms(){B(mt,mt.current),B(mr,mr.current)}function rs(s){Q(mr),Or===s&&(Or=null),Q(mt)}var mt=se(0);function rc(s){for(var n=s;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Jm(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function dm(s,n,l,u){n=s.memoizedState,l=l(u,n),l=l==null?n:x({},n,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var um={enqueueSetState:function(s,n,l){s=s._reactInternals;var u=sr(),p=Ds(u);p.payload=n,l!=null&&(p.callback=l),n=Os(s,p,u),n!==null&&(ar(n,s,u),$i(n,s,u))},enqueueReplaceState:function(s,n,l){s=s._reactInternals;var u=sr(),p=Ds(u);p.tag=1,p.payload=n,l!=null&&(p.callback=l),n=Os(s,p,u),n!==null&&(ar(n,s,u),$i(n,s,u))},enqueueForceUpdate:function(s,n){s=s._reactInternals;var l=sr(),u=Ds(l);u.tag=2,n!=null&&(u.callback=n),n=Os(s,u,l),n!==null&&(ar(n,s,l),$i(n,s,l))}};function cg(s,n,l,u,p,y,N){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,N):n.prototype&&n.prototype.isPureReactComponent?!Li(l,u)||!Li(p,y):!0}function dg(s,n,l,u){s=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,u),n.state!==s&&um.enqueueReplaceState(n,n.state,null)}function Oa(s,n){var l=n;if("ref"in n){l={};for(var u in n)u!=="ref"&&(l[u]=n[u])}if(s=s.defaultProps){l===n&&(l=x({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var sc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function ug(s){sc(s)}function mg(s){console.error(s)}function hg(s){sc(s)}function ac(s,n){try{var l=s.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function fg(s,n,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function mm(s,n,l){return l=Ds(l),l.tag=3,l.payload={element:null},l.callback=function(){ac(s,n)},l}function pg(s){return s=Ds(s),s.tag=3,s}function xg(s,n,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;s.payload=function(){return p(y)},s.callback=function(){fg(n,l,u)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(s.callback=function(){fg(n,l,u),typeof p!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function CC(s,n,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=l.alternate,n!==null&&Ui(n,l,p,!0),l=mr.current,l!==null){switch(l.tag){case 13:return Or===null?Mm():l.alternate===null&&rt===0&&(rt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===Fu?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([u]):n.add(u),Im(s,u,p)),!1;case 22:return l.flags|=65536,u===Fu?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([u]):l.add(u)),Im(s,u,p)),!1}throw Error(i(435,l.tag))}return Im(s,u,p),Mm(),!1}if(Pe)return n=mr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=p,u!==Pu&&(s=Error(i(422),{cause:u}),Bi(lr(s,l)))):(u!==Pu&&(n=Error(i(423),{cause:u}),Bi(lr(n,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=lr(u,l),p=mm(s.stateNode,u,p),qu(s,p),rt!==4&&(rt=2)),!1;var y=Error(i(520),{cause:u});if(y=lr(y,l),io===null?io=[y]:io.push(y),rt!==4&&(rt=2),n===null)return!0;u=lr(u,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=mm(l.stateNode,u,s),qu(l,s),!1;case 1:if(n=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Vs===null||!Vs.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=pg(p),xg(p,s,l,u),qu(l,p),!1}l=l.return}while(l!==null);return!1}var yg=Error(i(461)),xt=!1;function jt(s,n,l,u){n.child=s===null?og(n,null,l,u):Dn(n,s.child,l,u)}function gg(s,n,l,u,p){l=l.render;var y=n.ref;if("ref"in u){var N={};for(var _ in u)_!=="ref"&&(N[_]=u[_])}else N=u;return Ta(n),u=Ku(s,n,l,N,y,p),_=Xu(),s!==null&&!xt?(Zu(s,n,p),ss(s,n,p)):(Pe&&_&&Du(n),n.flags|=1,jt(s,n,u,p),n.child)}function vg(s,n,l,u,p){if(s===null){var y=l.type;return typeof y=="function"&&!Eu(y)&&y.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=y,bg(s,n,y,u,p)):(s=zl(l.type,null,u,n,n.mode,p),s.ref=n.ref,s.return=n,n.child=s)}if(y=s.child,!bm(s,p)){var N=y.memoizedProps;if(l=l.compare,l=l!==null?l:Li,l(N,u)&&s.ref===n.ref)return ss(s,n,p)}return n.flags|=1,s=Xr(y,u),s.ref=n.ref,s.return=n,n.child=s}function bg(s,n,l,u,p){if(s!==null){var y=s.memoizedProps;if(Li(y,u)&&s.ref===n.ref)if(xt=!1,n.pendingProps=u=y,bm(s,p))(s.flags&131072)!==0&&(xt=!0);else return n.lanes=s.lanes,ss(s,n,p)}return hm(s,n,l,u,p)}function jg(s,n,l){var u=n.pendingProps,p=u.children,y=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=y!==null?y.baseLanes|l:l,s!==null){for(p=n.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;n.childLanes=y&~u}else n.childLanes=0,n.child=null;return wg(s,n,u,l)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},s!==null&&Vl(n,y!==null?y.cachePool:null),y!==null?by(n,y):Yu(),lg(n);else return n.lanes=n.childLanes=536870912,wg(s,n,y!==null?y.baseLanes|l:l,l)}else y!==null?(Vl(n,y.cachePool),by(n,y),Ms(),n.memoizedState=null):(s!==null&&Vl(n,null),Yu(),Ms());return jt(s,n,p,l),n.child}function wg(s,n,l,u){var p=Uu();return p=p===null?null:{parent:ut._currentValue,pool:p},n.memoizedState={baseLanes:l,cachePool:p},s!==null&&Vl(n,null),Yu(),lg(n),s!==null&&Ui(s,n,u,!0),null}function nc(s,n){var l=n.ref;if(l===null)s!==null&&s.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(n.flags|=4194816)}}function hm(s,n,l,u,p){return Ta(n),l=Ku(s,n,l,u,void 0,p),u=Xu(),s!==null&&!xt?(Zu(s,n,p),ss(s,n,p)):(Pe&&u&&Du(n),n.flags|=1,jt(s,n,l,p),n.child)}function Ng(s,n,l,u,p,y){return Ta(n),n.updateQueue=null,l=wy(n,u,l,p),jy(s),u=Xu(),s!==null&&!xt?(Zu(s,n,y),ss(s,n,y)):(Pe&&u&&Du(n),n.flags|=1,jt(s,n,l,y),n.child)}function Cg(s,n,l,u,p){if(Ta(n),n.stateNode===null){var y=wn,N=l.contextType;typeof N=="object"&&N!==null&&(y=_t(N)),y=new l(u,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=um,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=u,y.state=n.memoizedState,y.refs={},Vu(n),N=l.contextType,y.context=typeof N=="object"&&N!==null?_t(N):wn,y.state=n.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(dm(n,l,N,u),y.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&um.enqueueReplaceState(y,y.state,null),Gi(n,u,y,p),Yi(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(s===null){y=n.stateNode;var _=n.memoizedProps,P=Oa(l,_);y.props=P;var G=y.context,J=l.contextType;N=wn,typeof J=="object"&&J!==null&&(N=_t(J));var te=l.getDerivedStateFromProps;J=typeof te=="function"||typeof y.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,J||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_||G!==N)&&dg(n,y,u,N),Rs=!1;var W=n.memoizedState;y.state=W,Gi(n,u,y,p),Yi(),G=n.memoizedState,_||W!==G||Rs?(typeof te=="function"&&(dm(n,l,te,u),G=n.memoizedState),(P=Rs||cg(n,l,P,u,W,G,N))?(J||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=G),y.props=u,y.state=G,y.context=N,u=P):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,Hu(s,n),N=n.memoizedProps,J=Oa(l,N),y.props=J,te=n.pendingProps,W=y.context,G=l.contextType,P=wn,typeof G=="object"&&G!==null&&(P=_t(G)),_=l.getDerivedStateFromProps,(G=typeof _=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==te||W!==P)&&dg(n,y,u,P),Rs=!1,W=n.memoizedState,y.state=W,Gi(n,u,y,p),Yi();var K=n.memoizedState;N!==te||W!==K||Rs||s!==null&&s.dependencies!==null&&Ul(s.dependencies)?(typeof _=="function"&&(dm(n,l,_,u),K=n.memoizedState),(J=Rs||cg(n,l,J,u,W,K,P)||s!==null&&s.dependencies!==null&&Ul(s.dependencies))?(G||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,K,P),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,K,P)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===s.memoizedProps&&W===s.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&W===s.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=K),y.props=u,y.state=K,y.context=P,u=J):(typeof y.componentDidUpdate!="function"||N===s.memoizedProps&&W===s.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&W===s.memoizedState||(n.flags|=1024),u=!1)}return y=u,nc(s,n),u=(n.flags&128)!==0,y||u?(y=n.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,s!==null&&u?(n.child=Dn(n,s.child,null,p),n.child=Dn(n,null,l,p)):jt(s,n,l,p),n.memoizedState=y.state,s=n.child):s=ss(s,n,p),s}function Sg(s,n,l,u){return Ii(),n.flags|=256,jt(s,n,l,u),n.child}var fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pm(s){return{baseLanes:s,cachePool:my()}}function xm(s,n,l){return s=s!==null?s.childLanes&~l:0,n&&(s|=hr),s}function kg(s,n,l){var u=n.pendingProps,p=!1,y=(n.flags&128)!==0,N;if((N=y)||(N=s!==null&&s.memoizedState===null?!1:(mt.current&2)!==0),N&&(p=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,s===null){if(Pe){if(p?Ls(n):Ms(),Pe){var _=tt,P;if(P=_){e:{for(P=_,_=Dr;P.nodeType!==8;){if(!_){_=null;break e}if(P=Cr(P.nextSibling),P===null){_=null;break e}}_=P}_!==null?(n.memoizedState={dehydrated:_,treeContext:Sa!==null?{id:Zr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},P=Jt(18,null,null,0),P.stateNode=_,P.return=n,n.child=P,Dt=n,tt=null,P=!0):P=!1}P||Aa(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Jm(_)?n.lanes=32:n.lanes=536870912,null;rs(n)}return _=u.children,u=u.fallback,p?(Ms(),p=n.mode,_=ic({mode:"hidden",children:_},p),u=Ca(u,p,l,null),_.return=n,u.return=n,_.sibling=u,n.child=_,p=n.child,p.memoizedState=pm(l),p.childLanes=xm(s,N,l),n.memoizedState=fm,u):(Ls(n),ym(n,_))}if(P=s.memoizedState,P!==null&&(_=P.dehydrated,_!==null)){if(y)n.flags&256?(Ls(n),n.flags&=-257,n=gm(s,n,l)):n.memoizedState!==null?(Ms(),n.child=s.child,n.flags|=128,n=null):(Ms(),p=u.fallback,_=n.mode,u=ic({mode:"visible",children:u.children},_),p=Ca(p,_,l,null),p.flags|=2,u.return=n,p.return=n,u.sibling=p,n.child=u,Dn(n,s.child,null,l),u=n.child,u.memoizedState=pm(l),u.childLanes=xm(s,N,l),n.memoizedState=fm,n=p);else if(Ls(n),Jm(_)){if(N=_.nextSibling&&_.nextSibling.dataset,N)var G=N.dgst;N=G,u=Error(i(419)),u.stack="",u.digest=N,Bi({value:u,source:null,stack:null}),n=gm(s,n,l)}else if(xt||Ui(s,n,l,!1),N=(l&s.childLanes)!==0,xt||N){if(N=Ge,N!==null&&(u=l&-l,u=(u&42)!==0?1:eu(u),u=(u&(N.suspendedLanes|l))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,jn(s,u),ar(N,s,u),yg;_.data==="$?"||Mm(),n=gm(s,n,l)}else _.data==="$?"?(n.flags|=192,n.child=s.child,n=null):(s=P.treeContext,tt=Cr(_.nextSibling),Dt=n,Pe=!0,_a=null,Dr=!1,s!==null&&(dr[ur++]=Zr,dr[ur++]=Qr,dr[ur++]=Sa,Zr=s.id,Qr=s.overflow,Sa=n),n=ym(n,u.children),n.flags|=4096);return n}return p?(Ms(),p=u.fallback,_=n.mode,P=s.child,G=P.sibling,u=Xr(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,G!==null?p=Xr(G,p):(p=Ca(p,_,l,null),p.flags|=2),p.return=n,u.return=n,u.sibling=p,n.child=u,u=p,p=n.child,_=s.child.memoizedState,_===null?_=pm(l):(P=_.cachePool,P!==null?(G=ut._currentValue,P=P.parent!==G?{parent:G,pool:G}:P):P=my(),_={baseLanes:_.baseLanes|l,cachePool:P}),p.memoizedState=_,p.childLanes=xm(s,N,l),n.memoizedState=fm,u):(Ls(n),l=s.child,s=l.sibling,l=Xr(l,{mode:"visible",children:u.children}),l.return=n,l.sibling=null,s!==null&&(N=n.deletions,N===null?(n.deletions=[s],n.flags|=16):N.push(s)),n.child=l,n.memoizedState=null,l)}function ym(s,n){return n=ic({mode:"visible",children:n},s.mode),n.return=s,s.child=n}function ic(s,n){return s=Jt(22,s,null,n),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function gm(s,n,l){return Dn(n,s.child,null,l),s=ym(n,n.pendingProps.children),s.flags|=2,n.memoizedState=null,s}function _g(s,n,l){s.lanes|=n;var u=s.alternate;u!==null&&(u.lanes|=n),Mu(s.return,n,l)}function vm(s,n,l,u,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=l,y.tailMode=p)}function Ag(s,n,l){var u=n.pendingProps,p=u.revealOrder,y=u.tail;if(jt(s,n,u.children,l),u=mt.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=n.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_g(s,l,n);else if(s.tag===19)_g(s,l,n);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(B(mt,u),p){case"forwards":for(l=n.child,p=null;l!==null;)s=l.alternate,s!==null&&rc(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=n.child,n.child=null):(p=l.sibling,l.sibling=null),vm(n,!1,p,l,y);break;case"backwards":for(l=null,p=n.child,n.child=null;p!==null;){if(s=p.alternate,s!==null&&rc(s)===null){n.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}vm(n,!0,l,null,y);break;case"together":vm(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ss(s,n,l){if(s!==null&&(n.dependencies=s.dependencies),Fs|=n.lanes,(l&n.childLanes)===0)if(s!==null){if(Ui(s,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(s!==null&&n.child!==s.child)throw Error(i(153));if(n.child!==null){for(s=n.child,l=Xr(s,s.pendingProps),n.child=l,l.return=n;s.sibling!==null;)s=s.sibling,l=l.sibling=Xr(s,s.pendingProps),l.return=n;l.sibling=null}return n.child}function bm(s,n){return(s.lanes&n)!==0?!0:(s=s.dependencies,!!(s!==null&&Ul(s)))}function SC(s,n,l){switch(n.tag){case 3:Ye(n,n.stateNode.containerInfo),Ts(n,ut,s.memoizedState.cache),Ii();break;case 27:case 5:Kd(n);break;case 4:Ye(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Ls(n),n.flags|=128,null):(l&n.child.childLanes)!==0?kg(s,n,l):(Ls(n),s=ss(s,n,l),s!==null?s.sibling:null);Ls(n);break;case 19:var p=(s.flags&128)!==0;if(u=(l&n.childLanes)!==0,u||(Ui(s,n,l,!1),u=(l&n.childLanes)!==0),p){if(u)return Ag(s,n,l);n.flags|=128}if(p=n.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),B(mt,mt.current),u)break;return null;case 22:case 23:return n.lanes=0,jg(s,n,l);case 24:Ts(n,ut,s.memoizedState.cache)}return ss(s,n,l)}function Eg(s,n,l){if(s!==null)if(s.memoizedProps!==n.pendingProps)xt=!0;else{if(!bm(s,l)&&(n.flags&128)===0)return xt=!1,SC(s,n,l);xt=(s.flags&131072)!==0}else xt=!1,Pe&&(n.flags&1048576)!==0&&ny(n,Bl,n.index);switch(n.lanes=0,n.tag){case 16:e:{s=n.pendingProps;var u=n.elementType,p=u._init;if(u=p(u._payload),n.type=u,typeof u=="function")Eu(u)?(s=Oa(u,s),n.tag=1,n=Cg(null,n,u,s,l)):(n.tag=0,n=hm(null,n,u,s,l));else{if(u!=null){if(p=u.$$typeof,p===E){n.tag=11,n=gg(null,n,u,s,l);break e}else if(p===V){n.tag=14,n=vg(null,n,u,s,l);break e}}throw n=ae(u)||u,Error(i(306,n,""))}}return n;case 0:return hm(s,n,n.type,n.pendingProps,l);case 1:return u=n.type,p=Oa(u,n.pendingProps),Cg(s,n,u,p,l);case 3:e:{if(Ye(n,n.stateNode.containerInfo),s===null)throw Error(i(387));u=n.pendingProps;var y=n.memoizedState;p=y.element,Hu(s,n),Gi(n,u,null,l);var N=n.memoizedState;if(u=N.cache,Ts(n,ut,u),u!==y.cache&&zu(n,[ut],l,!0),Yi(),u=N.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Sg(s,n,u,l);break e}else if(u!==p){p=lr(Error(i(424)),n),Bi(p),n=Sg(s,n,u,l);break e}else{switch(s=n.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(tt=Cr(s.firstChild),Dt=n,Pe=!0,_a=null,Dr=!0,l=og(n,null,u,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ii(),u===p){n=ss(s,n,l);break e}jt(s,n,u,l)}n=n.child}return n;case 26:return nc(s,n),s===null?(l=Ov(n.type,null,n.pendingProps,null))?n.memoizedState=l:Pe||(l=n.type,s=n.pendingProps,u=bc(pe.current).createElement(l),u[kt]=n,u[Ut]=s,Nt(u,l,s),pt(u),n.stateNode=u):n.memoizedState=Ov(n.type,s.memoizedProps,n.pendingProps,s.memoizedState),null;case 27:return Kd(n),s===null&&Pe&&(u=n.stateNode=Tv(n.type,n.pendingProps,pe.current),Dt=n,Dr=!0,p=tt,$s(n.type)?(eh=p,tt=Cr(u.firstChild)):tt=p),jt(s,n,n.pendingProps.children,l),nc(s,n),s===null&&(n.flags|=4194304),n.child;case 5:return s===null&&Pe&&((p=u=tt)&&(u=JC(u,n.type,n.pendingProps,Dr),u!==null?(n.stateNode=u,Dt=n,tt=Cr(u.firstChild),Dr=!1,p=!0):p=!1),p||Aa(n)),Kd(n),p=n.type,y=n.pendingProps,N=s!==null?s.memoizedProps:null,u=y.children,Xm(p,y)?u=null:N!==null&&Xm(p,N)&&(n.flags|=32),n.memoizedState!==null&&(p=Ku(s,n,yC,null,null,l),xo._currentValue=p),nc(s,n),jt(s,n,u,l),n.child;case 6:return s===null&&Pe&&((s=l=tt)&&(l=eS(l,n.pendingProps,Dr),l!==null?(n.stateNode=l,Dt=n,tt=null,s=!0):s=!1),s||Aa(n)),null;case 13:return kg(s,n,l);case 4:return Ye(n,n.stateNode.containerInfo),u=n.pendingProps,s===null?n.child=Dn(n,null,u,l):jt(s,n,u,l),n.child;case 11:return gg(s,n,n.type,n.pendingProps,l);case 7:return jt(s,n,n.pendingProps,l),n.child;case 8:return jt(s,n,n.pendingProps.children,l),n.child;case 12:return jt(s,n,n.pendingProps.children,l),n.child;case 10:return u=n.pendingProps,Ts(n,n.type,u.value),jt(s,n,u.children,l),n.child;case 9:return p=n.type._context,u=n.pendingProps.children,Ta(n),p=_t(p),u=u(p),n.flags|=1,jt(s,n,u,l),n.child;case 14:return vg(s,n,n.type,n.pendingProps,l);case 15:return bg(s,n,n.type,n.pendingProps,l);case 19:return Ag(s,n,l);case 31:return u=n.pendingProps,l=n.mode,u={mode:u.mode,children:u.children},s===null?(l=ic(u,l),l.ref=n.ref,n.child=l,l.return=n,n=l):(l=Xr(s.child,u),l.ref=n.ref,n.child=l,l.return=n,n=l),n;case 22:return jg(s,n,l);case 24:return Ta(n),u=_t(ut),s===null?(p=Uu(),p===null&&(p=Ge,y=Iu(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),n.memoizedState={parent:u,cache:p},Vu(n),Ts(n,ut,p)):((s.lanes&l)!==0&&(Hu(s,n),Gi(n,null,null,l),Yi()),p=s.memoizedState,y=n.memoizedState,p.parent!==u?(p={parent:u,cache:u},n.memoizedState=p,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=p),Ts(n,ut,u)):(u=y.cache,Ts(n,ut,u),u!==p.cache&&zu(n,[ut],l,!0))),jt(s,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function as(s){s.flags|=4}function Tg(s,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Iv(n)){if(n=mr.current,n!==null&&((Re&4194048)===Re?Or!==null:(Re&62914560)!==Re&&(Re&536870912)===0||n!==Or))throw qi=Fu,hy;s.flags|=8192}}function oc(s,n){n!==null&&(s.flags|=4),s.flags&16384&&(n=s.tag!==22?lx():536870912,s.lanes|=n,Mn|=n)}function eo(s,n){if(!Pe)switch(s.tailMode){case"hidden":n=s.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?n||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Xe(s){var n=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(n)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,n}function kC(s,n,l){var u=n.pendingProps;switch(Ou(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(n),null;case 1:return Xe(n),null;case 3:return l=n.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),es(ut),ks(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(zi(n)?as(n):s===null||s.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ly())),Xe(n),null;case 26:return l=n.memoizedState,s===null?(as(n),l!==null?(Xe(n),Tg(n,l)):(Xe(n),n.flags&=-16777217)):l?l!==s.memoizedState?(as(n),Xe(n),Tg(n,l)):(Xe(n),n.flags&=-16777217):(s.memoizedProps!==u&&as(n),Xe(n),n.flags&=-16777217),null;case 27:gl(n),l=pe.current;var p=n.type;if(s!==null&&n.stateNode!=null)s.memoizedProps!==u&&as(n);else{if(!u){if(n.stateNode===null)throw Error(i(166));return Xe(n),null}s=oe.current,zi(n)?iy(n):(s=Tv(p,u,l),n.stateNode=s,as(n))}return Xe(n),null;case 5:if(gl(n),l=n.type,s!==null&&n.stateNode!=null)s.memoizedProps!==u&&as(n);else{if(!u){if(n.stateNode===null)throw Error(i(166));return Xe(n),null}if(s=oe.current,zi(n))iy(n);else{switch(p=bc(pe.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}s[kt]=n,s[Ut]=u;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=s;e:switch(Nt(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&as(n)}}return Xe(n),n.flags&=-16777217,null;case 6:if(s&&n.stateNode!=null)s.memoizedProps!==u&&as(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(i(166));if(s=pe.current,zi(n)){if(s=n.stateNode,l=n.memoizedProps,u=null,p=Dt,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[kt]=n,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Nv(s.nodeValue,l)),s||Aa(n)}else s=bc(s).createTextNode(u),s[kt]=n,n.stateNode=s}return Xe(n),null;case 13:if(u=n.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=zi(n),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[kt]=n}else Ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xe(n),p=!1}else p=ly(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return n.flags&256?(rs(n),n):(rs(n),null)}if(rs(n),(n.flags&128)!==0)return n.lanes=l,n;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=n.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return l!==s&&l&&(n.child.flags|=8192),oc(n,n.updateQueue),Xe(n),null;case 4:return ks(),s===null&&$m(n.stateNode.containerInfo),Xe(n),null;case 10:return es(n.type),Xe(n),null;case 19:if(Q(mt),p=n.memoizedState,p===null)return Xe(n),null;if(u=(n.flags&128)!==0,y=p.rendering,y===null)if(u)eo(p,!1);else{if(rt!==0||s!==null&&(s.flags&128)!==0)for(s=n.child;s!==null;){if(y=rc(s),y!==null){for(n.flags|=128,eo(p,!1),s=y.updateQueue,n.updateQueue=s,oc(n,s),n.subtreeFlags=0,s=l,l=n.child;l!==null;)ay(l,s),l=l.sibling;return B(mt,mt.current&1|2),n.child}s=s.sibling}p.tail!==null&&Rr()>dc&&(n.flags|=128,u=!0,eo(p,!1),n.lanes=4194304)}else{if(!u)if(s=rc(y),s!==null){if(n.flags|=128,u=!0,s=s.updateQueue,n.updateQueue=s,oc(n,s),eo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Pe)return Xe(n),null}else 2*Rr()-p.renderingStartTime>dc&&l!==536870912&&(n.flags|=128,u=!0,eo(p,!1),n.lanes=4194304);p.isBackwards?(y.sibling=n.child,n.child=y):(s=p.last,s!==null?s.sibling=y:n.child=y,p.last=y)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=Rr(),n.sibling=null,s=mt.current,B(mt,u?s&1|2:s&1),n):(Xe(n),null);case 22:case 23:return rs(n),Gu(),u=n.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(l&536870912)!==0&&(n.flags&128)===0&&(Xe(n),n.subtreeFlags&6&&(n.flags|=8192)):Xe(n),l=n.updateQueue,l!==null&&oc(n,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==l&&(n.flags|=2048),s!==null&&Q(Ra),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),es(ut),Xe(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function _C(s,n){switch(Ou(n),n.tag){case 1:return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 3:return es(ut),ks(),s=n.flags,(s&65536)!==0&&(s&128)===0?(n.flags=s&-65537|128,n):null;case 26:case 27:case 5:return gl(n),null;case 13:if(rs(n),s=n.memoizedState,s!==null&&s.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ii()}return s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 19:return Q(mt),null;case 4:return ks(),null;case 10:return es(n.type),null;case 22:case 23:return rs(n),Gu(),s!==null&&Q(Ra),s=n.flags,s&65536?(n.flags=s&-65537|128,n):null;case 24:return es(ut),null;case 25:return null;default:return null}}function Rg(s,n){switch(Ou(n),n.tag){case 3:es(ut),ks();break;case 26:case 27:case 5:gl(n);break;case 4:ks();break;case 13:rs(n);break;case 19:Q(mt);break;case 10:es(n.type);break;case 22:case 23:rs(n),Gu(),s!==null&&Q(Ra);break;case 24:es(ut)}}function to(s,n){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var y=l.create,N=l.inst;u=y(),N.destroy=u}l=l.next}while(l!==p)}}catch(_){qe(n,n.return,_)}}function zs(s,n,l){try{var u=n.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){var N=u.inst,_=N.destroy;if(_!==void 0){N.destroy=void 0,p=n;var P=l,G=_;try{G()}catch(J){qe(p,P,J)}}}u=u.next}while(u!==y)}}catch(J){qe(n,n.return,J)}}function Dg(s){var n=s.updateQueue;if(n!==null){var l=s.stateNode;try{vy(n,l)}catch(u){qe(s,s.return,u)}}}function Og(s,n,l){l.props=Oa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){qe(s,n,u)}}function ro(s,n){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){qe(s,n,p)}}function Pr(s,n){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){qe(s,n,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){qe(s,n,p)}else l.current=null}function Pg(s){var n=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){qe(s,s.return,p)}}function jm(s,n,l){try{var u=s.stateNode;WC(u,s.type,l,n),u[Ut]=n}catch(p){qe(s,s.return,p)}}function Lg(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&$s(s.type)||s.tag===4}function wm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Lg(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&$s(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Nm(s,n,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(s),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=vc));else if(u!==4&&(u===27&&$s(s.type)&&(l=s.stateNode,n=null),s=s.child,s!==null))for(Nm(s,n,l),s=s.sibling;s!==null;)Nm(s,n,l),s=s.sibling}function lc(s,n,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,n?l.insertBefore(s,n):l.appendChild(s);else if(u!==4&&(u===27&&$s(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(lc(s,n,l),s=s.sibling;s!==null;)lc(s,n,l),s=s.sibling}function Mg(s){var n=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);Nt(n,u,l),n[kt]=s,n[Ut]=l}catch(y){qe(s,s.return,y)}}var ns=!1,nt=!1,Cm=!1,zg=typeof WeakSet=="function"?WeakSet:Set,yt=null;function AC(s,n){if(s=s.containerInfo,Wm=kc,s=Wx(s),wu(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var N=0,_=-1,P=-1,G=0,J=0,te=s,W=null;t:for(;;){for(var K;te!==l||p!==0&&te.nodeType!==3||(_=N+p),te!==y||u!==0&&te.nodeType!==3||(P=N+u),te.nodeType===3&&(N+=te.nodeValue.length),(K=te.firstChild)!==null;)W=te,te=K;for(;;){if(te===s)break t;if(W===l&&++G===p&&(_=N),W===y&&++J===u&&(P=N),(K=te.nextSibling)!==null)break;te=W,W=te.parentNode}te=K}l=_===-1||P===-1?null:{start:_,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(Km={focusedElem:s,selectionRange:l},kc=!1,yt=n;yt!==null;)if(n=yt,s=n.child,(n.subtreeFlags&1024)!==0&&s!==null)s.return=n,yt=s;else for(;yt!==null;){switch(n=yt,y=n.alternate,s=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=n,p=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var ve=Oa(l.type,p,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(ve,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(xe){qe(l,l.return,xe)}}break;case 3:if((s&1024)!==0){if(s=n.stateNode.containerInfo,l=s.nodeType,l===9)Qm(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Qm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=n.sibling,s!==null){s.return=n.return,yt=s;break}yt=n.return}}function Ig(s,n,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Is(s,l),u&4&&to(5,l);break;case 1:if(Is(s,l),u&4)if(s=l.stateNode,n===null)try{s.componentDidMount()}catch(N){qe(l,l.return,N)}else{var p=Oa(l.type,n.memoizedProps);n=n.memoizedState;try{s.componentDidUpdate(p,n,s.__reactInternalSnapshotBeforeUpdate)}catch(N){qe(l,l.return,N)}}u&64&&Dg(l),u&512&&ro(l,l.return);break;case 3:if(Is(s,l),u&64&&(s=l.updateQueue,s!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{vy(s,n)}catch(N){qe(l,l.return,N)}}break;case 27:n===null&&u&4&&Mg(l);case 26:case 5:Is(s,l),n===null&&u&4&&Pg(l),u&512&&ro(l,l.return);break;case 12:Is(s,l);break;case 13:Is(s,l),u&4&&Fg(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=zC.bind(null,l),tS(s,l))));break;case 22:if(u=l.memoizedState!==null||ns,!u){n=n!==null&&n.memoizedState!==null||nt,p=ns;var y=nt;ns=u,(nt=n)&&!y?Bs(s,l,(l.subtreeFlags&8772)!==0):Is(s,l),ns=p,nt=y}break;case 30:break;default:Is(s,l)}}function Bg(s){var n=s.alternate;n!==null&&(s.alternate=null,Bg(n)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(n=s.stateNode,n!==null&&su(n)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var We=null,Ht=!1;function is(s,n,l){for(l=l.child;l!==null;)Ug(s,n,l),l=l.sibling}function Ug(s,n,l){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ni,l)}catch{}switch(l.tag){case 26:nt||Pr(l,n),is(s,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nt||Pr(l,n);var u=We,p=Ht;$s(l.type)&&(We=l.stateNode,Ht=!1),is(s,n,l),mo(l.stateNode),We=u,Ht=p;break;case 5:nt||Pr(l,n);case 6:if(u=We,p=Ht,We=null,is(s,n,l),We=u,Ht=p,We!==null)if(Ht)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(l.stateNode)}catch(y){qe(l,n,y)}else try{We.removeChild(l.stateNode)}catch(y){qe(l,n,y)}break;case 18:We!==null&&(Ht?(s=We,Av(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),bo(s)):Av(We,l.stateNode));break;case 4:u=We,p=Ht,We=l.stateNode.containerInfo,Ht=!0,is(s,n,l),We=u,Ht=p;break;case 0:case 11:case 14:case 15:nt||zs(2,l,n),nt||zs(4,l,n),is(s,n,l);break;case 1:nt||(Pr(l,n),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Og(l,n,u)),is(s,n,l);break;case 21:is(s,n,l);break;case 22:nt=(u=nt)||l.memoizedState!==null,is(s,n,l),nt=u;break;default:is(s,n,l)}}function Fg(s,n){if(n.memoizedState===null&&(s=n.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{bo(s)}catch(l){qe(n,n.return,l)}}function EC(s){switch(s.tag){case 13:case 19:var n=s.stateNode;return n===null&&(n=s.stateNode=new zg),n;case 22:return s=s.stateNode,n=s._retryCache,n===null&&(n=s._retryCache=new zg),n;default:throw Error(i(435,s.tag))}}function Sm(s,n){var l=EC(s);n.forEach(function(u){var p=IC.bind(null,s,u);l.has(u)||(l.add(u),u.then(p,p))})}function er(s,n){var l=n.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],y=s,N=n,_=N;e:for(;_!==null;){switch(_.tag){case 27:if($s(_.type)){We=_.stateNode,Ht=!1;break e}break;case 5:We=_.stateNode,Ht=!1;break e;case 3:case 4:We=_.stateNode.containerInfo,Ht=!0;break e}_=_.return}if(We===null)throw Error(i(160));Ug(y,N,p),We=null,Ht=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Vg(n,s),n=n.sibling}var Nr=null;function Vg(s,n){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:er(n,s),tr(s),u&4&&(zs(3,s,s.return),to(3,s),zs(5,s,s.return));break;case 1:er(n,s),tr(s),u&512&&(nt||l===null||Pr(l,l.return)),u&64&&ns&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=Nr;if(er(n,s),tr(s),u&512&&(nt||l===null||Pr(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ki]||y[kt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),Nt(y,u,l),y[kt]=s,pt(y),u=y;break e;case"link":var N=Mv("link","href",p).get(u+(l.href||""));if(N){for(var _=0;_<N.length;_++)if(y=N[_],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(_,1);break t}}y=p.createElement(u),Nt(y,u,l),p.head.appendChild(y);break;case"meta":if(N=Mv("meta","content",p).get(u+(l.content||""))){for(_=0;_<N.length;_++)if(y=N[_],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(_,1);break t}}y=p.createElement(u),Nt(y,u,l),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[kt]=s,pt(y),u=y}s.stateNode=u}else zv(p,s.type,s.stateNode);else s.stateNode=Lv(p,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?zv(p,s.type,s.stateNode):Lv(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&jm(s,s.memoizedProps,l.memoizedProps)}break;case 27:er(n,s),tr(s),u&512&&(nt||l===null||Pr(l,l.return)),l!==null&&u&4&&jm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(er(n,s),tr(s),u&512&&(nt||l===null||Pr(l,l.return)),s.flags&32){p=s.stateNode;try{fn(p,"")}catch(K){qe(s,s.return,K)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,jm(s,p,l!==null?l.memoizedProps:p)),u&1024&&(Cm=!0);break;case 6:if(er(n,s),tr(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(K){qe(s,s.return,K)}}break;case 3:if(Nc=null,p=Nr,Nr=jc(n.containerInfo),er(n,s),Nr=p,tr(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{bo(n.containerInfo)}catch(K){qe(s,s.return,K)}Cm&&(Cm=!1,Hg(s));break;case 4:u=Nr,Nr=jc(s.stateNode.containerInfo),er(n,s),tr(s),Nr=u;break;case 12:er(n,s),tr(s);break;case 13:er(n,s),tr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Rm=Rr()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sm(s,u)));break;case 22:p=s.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,G=ns,J=nt;if(ns=G||p,nt=J||P,er(n,s),nt=J,ns=G,tr(s),u&8192)e:for(n=s.stateNode,n._visibility=p?n._visibility&-2:n._visibility|1,p&&(l===null||P||ns||nt||Pa(s)),l=null,n=s;;){if(n.tag===5||n.tag===26){if(l===null){P=l=n;try{if(y=P.stateNode,p)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{_=P.stateNode;var te=P.memoizedProps.style,W=te!=null&&te.hasOwnProperty("display")?te.display:null;_.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(K){qe(P,P.return,K)}}}else if(n.tag===6){if(l===null){P=n;try{P.stateNode.nodeValue=p?"":P.memoizedProps}catch(K){qe(P,P.return,K)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===s)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Sm(s,l))));break;case 19:er(n,s),tr(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sm(s,u)));break;case 30:break;case 21:break;default:er(n,s),tr(s)}}function tr(s){var n=s.flags;if(n&2){try{for(var l,u=s.return;u!==null;){if(Lg(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=wm(s);lc(s,y,p);break;case 5:var N=l.stateNode;l.flags&32&&(fn(N,""),l.flags&=-33);var _=wm(s);lc(s,_,N);break;case 3:case 4:var P=l.stateNode.containerInfo,G=wm(s);Nm(s,G,P);break;default:throw Error(i(161))}}catch(J){qe(s,s.return,J)}s.flags&=-3}n&4096&&(s.flags&=-4097)}function Hg(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var n=s;Hg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),s=s.sibling}}function Is(s,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ig(s,n.alternate,n),n=n.sibling}function Pa(s){for(s=s.child;s!==null;){var n=s;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),Pa(n);break;case 1:Pr(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Og(n,n.return,l),Pa(n);break;case 27:mo(n.stateNode);case 26:case 5:Pr(n,n.return),Pa(n);break;case 22:n.memoizedState===null&&Pa(n);break;case 30:Pa(n);break;default:Pa(n)}s=s.sibling}}function Bs(s,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,p=s,y=n,N=y.flags;switch(y.tag){case 0:case 11:case 15:Bs(p,y,l),to(4,y);break;case 1:if(Bs(p,y,l),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(G){qe(u,u.return,G)}if(u=y,p=u.updateQueue,p!==null){var _=u.stateNode;try{var P=p.shared.hiddenCallbacks;if(P!==null)for(p.shared.hiddenCallbacks=null,p=0;p<P.length;p++)gy(P[p],_)}catch(G){qe(u,u.return,G)}}l&&N&64&&Dg(y),ro(y,y.return);break;case 27:Mg(y);case 26:case 5:Bs(p,y,l),l&&u===null&&N&4&&Pg(y),ro(y,y.return);break;case 12:Bs(p,y,l);break;case 13:Bs(p,y,l),l&&N&4&&Fg(p,y);break;case 22:y.memoizedState===null&&Bs(p,y,l),ro(y,y.return);break;case 30:break;default:Bs(p,y,l)}n=n.sibling}}function km(s,n){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Fi(l))}function _m(s,n){s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&Fi(s))}function Lr(s,n,l,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qg(s,n,l,u),n=n.sibling}function qg(s,n,l,u){var p=n.flags;switch(n.tag){case 0:case 11:case 15:Lr(s,n,l,u),p&2048&&to(9,n);break;case 1:Lr(s,n,l,u);break;case 3:Lr(s,n,l,u),p&2048&&(s=null,n.alternate!==null&&(s=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==s&&(n.refCount++,s!=null&&Fi(s)));break;case 12:if(p&2048){Lr(s,n,l,u),s=n.stateNode;try{var y=n.memoizedProps,N=y.id,_=y.onPostCommit;typeof _=="function"&&_(N,n.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(P){qe(n,n.return,P)}}else Lr(s,n,l,u);break;case 13:Lr(s,n,l,u);break;case 23:break;case 22:y=n.stateNode,N=n.alternate,n.memoizedState!==null?y._visibility&2?Lr(s,n,l,u):so(s,n):y._visibility&2?Lr(s,n,l,u):(y._visibility|=2,On(s,n,l,u,(n.subtreeFlags&10256)!==0)),p&2048&&km(N,n);break;case 24:Lr(s,n,l,u),p&2048&&_m(n.alternate,n);break;default:Lr(s,n,l,u)}}function On(s,n,l,u,p){for(p=p&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=s,N=n,_=l,P=u,G=N.flags;switch(N.tag){case 0:case 11:case 15:On(y,N,_,P,p),to(8,N);break;case 23:break;case 22:var J=N.stateNode;N.memoizedState!==null?J._visibility&2?On(y,N,_,P,p):so(y,N):(J._visibility|=2,On(y,N,_,P,p)),p&&G&2048&&km(N.alternate,N);break;case 24:On(y,N,_,P,p),p&&G&2048&&_m(N.alternate,N);break;default:On(y,N,_,P,p)}n=n.sibling}}function so(s,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=s,u=n,p=u.flags;switch(u.tag){case 22:so(l,u),p&2048&&km(u.alternate,u);break;case 24:so(l,u),p&2048&&_m(u.alternate,u);break;default:so(l,u)}n=n.sibling}}var ao=8192;function Pn(s){if(s.subtreeFlags&ao)for(s=s.child;s!==null;)$g(s),s=s.sibling}function $g(s){switch(s.tag){case 26:Pn(s),s.flags&ao&&s.memoizedState!==null&&fS(Nr,s.memoizedState,s.memoizedProps);break;case 5:Pn(s);break;case 3:case 4:var n=Nr;Nr=jc(s.stateNode.containerInfo),Pn(s),Nr=n;break;case 22:s.memoizedState===null&&(n=s.alternate,n!==null&&n.memoizedState!==null?(n=ao,ao=16777216,Pn(s),ao=n):Pn(s));break;default:Pn(s)}}function Yg(s){var n=s.alternate;if(n!==null&&(s=n.child,s!==null)){n.child=null;do n=s.sibling,s.sibling=null,s=n;while(s!==null)}}function no(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var u=n[l];yt=u,Wg(u,s)}Yg(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gg(s),s=s.sibling}function Gg(s){switch(s.tag){case 0:case 11:case 15:no(s),s.flags&2048&&zs(9,s,s.return);break;case 3:no(s);break;case 12:no(s);break;case 22:var n=s.stateNode;s.memoizedState!==null&&n._visibility&2&&(s.return===null||s.return.tag!==13)?(n._visibility&=-3,cc(s)):no(s);break;default:no(s)}}function cc(s){var n=s.deletions;if((s.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var u=n[l];yt=u,Wg(u,s)}Yg(s)}for(s=s.child;s!==null;){switch(n=s,n.tag){case 0:case 11:case 15:zs(8,n,n.return),cc(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,cc(n));break;default:cc(n)}s=s.sibling}}function Wg(s,n){for(;yt!==null;){var l=yt;switch(l.tag){case 0:case 11:case 15:zs(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fi(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,yt=u;else e:for(l=s;yt!==null;){u=yt;var p=u.sibling,y=u.return;if(Bg(u),u===l){yt=null;break e}if(p!==null){p.return=y,yt=p;break e}yt=y}}}var TC={getCacheForType:function(s){var n=_t(ut),l=n.data.get(s);return l===void 0&&(l=s(),n.data.set(s,l)),l}},RC=typeof WeakMap=="function"?WeakMap:Map,ze=0,Ge=null,Ae=null,Re=0,Ie=0,rr=null,Us=!1,Ln=!1,Am=!1,os=0,rt=0,Fs=0,La=0,Em=0,hr=0,Mn=0,io=null,qt=null,Tm=!1,Rm=0,dc=1/0,uc=null,Vs=null,wt=0,Hs=null,zn=null,In=0,Dm=0,Om=null,Kg=null,oo=0,Pm=null;function sr(){if((ze&2)!==0&&Re!==0)return Re&-Re;if($.T!==null){var s=Sn;return s!==0?s:Fm()}return ux()}function Xg(){hr===0&&(hr=(Re&536870912)===0||Pe?ox():536870912);var s=mr.current;return s!==null&&(s.flags|=32),hr}function ar(s,n,l){(s===Ge&&(Ie===2||Ie===9)||s.cancelPendingCommit!==null)&&(Bn(s,0),qs(s,Re,hr,!1)),Si(s,l),((ze&2)===0||s!==Ge)&&(s===Ge&&((ze&2)===0&&(La|=l),rt===4&&qs(s,Re,hr,!1)),Mr(s))}function Zg(s,n,l){if((ze&6)!==0)throw Error(i(327));var u=!l&&(n&124)===0&&(n&s.expiredLanes)===0||Ci(s,n),p=u?PC(s,n):zm(s,n,!0),y=u;do{if(p===0){Ln&&!u&&qs(s,n,0,!1);break}else{if(l=s.current.alternate,y&&!DC(l)){p=zm(s,n,!1),y=!1;continue}if(p===2){if(y=n,s.errorRecoveryDisabledLanes&y)var N=0;else N=s.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var _=s;p=io;var P=_.current.memoizedState.isDehydrated;if(P&&(Bn(_,N).flags|=256),N=zm(_,N,!1),N!==2){if(Am&&!P){_.errorRecoveryDisabledLanes|=y,La|=y,p=4;break e}y=qt,qt=p,y!==null&&(qt===null?qt=y:qt.push.apply(qt,y))}p=N}if(y=!1,p!==2)continue}}if(p===1){Bn(s,0),qs(s,n,0,!0);break}e:{switch(u=s,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:qs(u,n,hr,!Us);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(p=Rm+300-Rr(),10<p)){if(qs(u,n,hr,!Us),wl(u,0,!0)!==0)break e;u.timeoutHandle=kv(Qg.bind(null,u,l,qt,uc,Tm,n,hr,La,Mn,Us,y,2,-0,0),p);break e}Qg(u,l,qt,uc,Tm,n,hr,La,Mn,Us,y,0,-0,0)}}break}while(!0);Mr(s)}function Qg(s,n,l,u,p,y,N,_,P,G,J,te,W,K){if(s.timeoutHandle=-1,te=n.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(po={stylesheets:null,count:0,unsuspend:hS},$g(n),te=pS(),te!==null)){s.cancelPendingCommit=te(nv.bind(null,s,n,y,l,u,p,N,_,P,J,1,W,K)),qs(s,y,N,!G);return}nv(s,n,y,l,u,p,N,_,P)}function DC(s){for(var n=s;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],y=p.getSnapshot;p=p.value;try{if(!Qt(y(),p))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(s,n,l,u){n&=~Em,n&=~La,s.suspendedLanes|=n,s.pingedLanes&=~n,u&&(s.warmLanes|=n),u=s.expirationTimes;for(var p=n;0<p;){var y=31-Zt(p),N=1<<y;u[y]=-1,p&=~N}l!==0&&cx(s,l,n)}function mc(){return(ze&6)===0?(lo(0),!1):!0}function Lm(){if(Ae!==null){if(Ie===0)var s=Ae.return;else s=Ae,Jr=Ea=null,Qu(s),Rn=null,Qi=0,s=Ae;for(;s!==null;)Rg(s.alternate,s),s=s.return;Ae=null}}function Bn(s,n){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,XC(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Lm(),Ge=s,Ae=l=Xr(s.current,null),Re=n,Ie=0,rr=null,Us=!1,Ln=Ci(s,n),Am=!1,Mn=hr=Em=La=Fs=rt=0,qt=io=null,Tm=!1,(n&8)!==0&&(n|=n&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=n;0<u;){var p=31-Zt(u),y=1<<p;n|=s[p],u&=~y}return os=n,Pl(),l}function Jg(s,n){Ce=null,$.H=Jl,n===Hi||n===Hl?(n=xy(),Ie=3):n===hy?(n=xy(),Ie=4):Ie=n===yg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,rr=n,Ae===null&&(rt=1,ac(s,lr(n,s.current)))}function ev(){var s=$.H;return $.H=Jl,s===null?Jl:s}function tv(){var s=$.A;return $.A=TC,s}function Mm(){rt=4,Us||(Re&4194048)!==Re&&mr.current!==null||(Ln=!0),(Fs&134217727)===0&&(La&134217727)===0||Ge===null||qs(Ge,Re,hr,!1)}function zm(s,n,l){var u=ze;ze|=2;var p=ev(),y=tv();(Ge!==s||Re!==n)&&(uc=null,Bn(s,n)),n=!1;var N=rt;e:do try{if(Ie!==0&&Ae!==null){var _=Ae,P=rr;switch(Ie){case 8:Lm(),N=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(n=!0);var G=Ie;if(Ie=0,rr=null,Un(s,_,P,G),l&&Ln){N=0;break e}break;default:G=Ie,Ie=0,rr=null,Un(s,_,P,G)}}OC(),N=rt;break}catch(J){Jg(s,J)}while(!0);return n&&s.shellSuspendCounter++,Jr=Ea=null,ze=u,$.H=p,$.A=y,Ae===null&&(Ge=null,Re=0,Pl()),N}function OC(){for(;Ae!==null;)rv(Ae)}function PC(s,n){var l=ze;ze|=2;var u=ev(),p=tv();Ge!==s||Re!==n?(uc=null,dc=Rr()+500,Bn(s,n)):Ln=Ci(s,n);e:do try{if(Ie!==0&&Ae!==null){n=Ae;var y=rr;t:switch(Ie){case 1:Ie=0,rr=null,Un(s,n,y,1);break;case 2:case 9:if(fy(y)){Ie=0,rr=null,sv(n);break}n=function(){Ie!==2&&Ie!==9||Ge!==s||(Ie=7),Mr(s)},y.then(n,n);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:fy(y)?(Ie=0,rr=null,sv(n)):(Ie=0,rr=null,Un(s,n,y,7));break;case 5:var N=null;switch(Ae.tag){case 26:N=Ae.memoizedState;case 5:case 27:var _=Ae;if(!N||Iv(N)){Ie=0,rr=null;var P=_.sibling;if(P!==null)Ae=P;else{var G=_.return;G!==null?(Ae=G,hc(G)):Ae=null}break t}}Ie=0,rr=null,Un(s,n,y,5);break;case 6:Ie=0,rr=null,Un(s,n,y,6);break;case 8:Lm(),rt=6;break e;default:throw Error(i(462))}}LC();break}catch(J){Jg(s,J)}while(!0);return Jr=Ea=null,$.H=u,$.A=p,ze=l,Ae!==null?0:(Ge=null,Re=0,Pl(),rt)}function LC(){for(;Ae!==null&&!sN();)rv(Ae)}function rv(s){var n=Eg(s.alternate,s,os);s.memoizedProps=s.pendingProps,n===null?hc(s):Ae=n}function sv(s){var n=s,l=n.alternate;switch(n.tag){case 15:case 0:n=Ng(l,n,n.pendingProps,n.type,void 0,Re);break;case 11:n=Ng(l,n,n.pendingProps,n.type.render,n.ref,Re);break;case 5:Qu(n);default:Rg(l,n),n=Ae=ay(n,os),n=Eg(l,n,os)}s.memoizedProps=s.pendingProps,n===null?hc(s):Ae=n}function Un(s,n,l,u){Jr=Ea=null,Qu(n),Rn=null,Qi=0;var p=n.return;try{if(CC(s,p,n,l,Re)){rt=1,ac(s,lr(l,s.current)),Ae=null;return}}catch(y){if(p!==null)throw Ae=p,y;rt=1,ac(s,lr(l,s.current)),Ae=null;return}n.flags&32768?(Pe||u===1?s=!0:Ln||(Re&536870912)!==0?s=!1:(Us=s=!0,(u===2||u===9||u===3||u===6)&&(u=mr.current,u!==null&&u.tag===13&&(u.flags|=16384))),av(n,s)):hc(n)}function hc(s){var n=s;do{if((n.flags&32768)!==0){av(n,Us);return}s=n.return;var l=kC(n.alternate,n,os);if(l!==null){Ae=l;return}if(n=n.sibling,n!==null){Ae=n;return}Ae=n=s}while(n!==null);rt===0&&(rt=5)}function av(s,n){do{var l=_C(s.alternate,s);if(l!==null){l.flags&=32767,Ae=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(s=s.sibling,s!==null)){Ae=s;return}Ae=s=l}while(s!==null);rt=6,Ae=null}function nv(s,n,l,u,p,y,N,_,P){s.cancelPendingCommit=null;do fc();while(wt!==0);if((ze&6)!==0)throw Error(i(327));if(n!==null){if(n===s.current)throw Error(i(177));if(y=n.lanes|n.childLanes,y|=_u,hN(s,l,y,N,_,P),s===Ge&&(Ae=Ge=null,Re=0),zn=n,Hs=s,In=l,Dm=y,Om=p,Kg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,BC(vl,function(){return dv(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,p=H.p,H.p=2,N=ze,ze|=4;try{AC(s,n,l)}finally{ze=N,H.p=p,$.T=u}}wt=1,iv(),ov(),lv()}}function iv(){if(wt===1){wt=0;var s=Hs,n=zn,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=H.p;H.p=2;var p=ze;ze|=4;try{Vg(n,s);var y=Km,N=Wx(s.containerInfo),_=y.focusedElem,P=y.selectionRange;if(N!==_&&_&&_.ownerDocument&&Gx(_.ownerDocument.documentElement,_)){if(P!==null&&wu(_)){var G=P.start,J=P.end;if(J===void 0&&(J=G),"selectionStart"in _)_.selectionStart=G,_.selectionEnd=Math.min(J,_.value.length);else{var te=_.ownerDocument||document,W=te&&te.defaultView||window;if(W.getSelection){var K=W.getSelection(),ve=_.textContent.length,xe=Math.min(P.start,ve),He=P.end===void 0?xe:Math.min(P.end,ve);!K.extend&&xe>He&&(N=He,He=xe,xe=N);var U=Yx(_,xe),z=Yx(_,He);if(U&&z&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==z.node||K.focusOffset!==z.offset)){var Y=te.createRange();Y.setStart(U.node,U.offset),K.removeAllRanges(),xe>He?(K.addRange(Y),K.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),K.addRange(Y))}}}}for(te=[],K=_;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<te.length;_++){var ee=te[_];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}kc=!!Wm,Km=Wm=null}finally{ze=p,H.p=u,$.T=l}}s.current=n,wt=2}}function ov(){if(wt===2){wt=0;var s=Hs,n=zn,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=H.p;H.p=2;var p=ze;ze|=4;try{Ig(s,n.alternate,n)}finally{ze=p,H.p=u,$.T=l}}wt=3}}function lv(){if(wt===4||wt===3){wt=0,aN();var s=Hs,n=zn,l=In,u=Kg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?wt=5:(wt=0,zn=Hs=null,cv(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Vs=null),tu(l),n=n.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ni,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=$.T,p=H.p,H.p=2,$.T=null;try{for(var y=s.onRecoverableError,N=0;N<u.length;N++){var _=u[N];y(_.value,{componentStack:_.stack})}}finally{$.T=n,H.p=p}}(In&3)!==0&&fc(),Mr(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===Pm?oo++:(oo=0,Pm=s):oo=0,lo(0)}}function cv(s,n){(s.pooledCacheLanes&=n)===0&&(n=s.pooledCache,n!=null&&(s.pooledCache=null,Fi(n)))}function fc(s){return iv(),ov(),lv(),dv()}function dv(){if(wt!==5)return!1;var s=Hs,n=Dm;Dm=0;var l=tu(In),u=$.T,p=H.p;try{H.p=32>l?32:l,$.T=null,l=Om,Om=null;var y=Hs,N=In;if(wt=0,zn=Hs=null,In=0,(ze&6)!==0)throw Error(i(331));var _=ze;if(ze|=4,Gg(y.current),qg(y,y.current,N,l),ze=_,lo(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ni,y)}catch{}return!0}finally{H.p=p,$.T=u,cv(s,n)}}function uv(s,n,l){n=lr(l,n),n=mm(s.stateNode,n,2),s=Os(s,n,2),s!==null&&(Si(s,2),Mr(s))}function qe(s,n,l){if(s.tag===3)uv(s,s,l);else for(;n!==null;){if(n.tag===3){uv(n,s,l);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Vs===null||!Vs.has(u))){s=lr(l,s),l=pg(2),u=Os(n,l,2),u!==null&&(xg(l,u,n,s),Si(u,2),Mr(u));break}}n=n.return}}function Im(s,n,l){var u=s.pingCache;if(u===null){u=s.pingCache=new RC;var p=new Set;u.set(n,p)}else p=u.get(n),p===void 0&&(p=new Set,u.set(n,p));p.has(l)||(Am=!0,p.add(l),s=MC.bind(null,s,n,l),n.then(s,s))}function MC(s,n,l){var u=s.pingCache;u!==null&&u.delete(n),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Ge===s&&(Re&l)===l&&(rt===4||rt===3&&(Re&62914560)===Re&&300>Rr()-Rm?(ze&2)===0&&Bn(s,0):Em|=l,Mn===Re&&(Mn=0)),Mr(s)}function mv(s,n){n===0&&(n=lx()),s=jn(s,n),s!==null&&(Si(s,n),Mr(s))}function zC(s){var n=s.memoizedState,l=0;n!==null&&(l=n.retryLane),mv(s,l)}function IC(s,n){var l=0;switch(s.tag){case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(n),mv(s,l)}function BC(s,n){return Zd(s,n)}var pc=null,Fn=null,Bm=!1,xc=!1,Um=!1,Ma=0;function Mr(s){s!==Fn&&s.next===null&&(Fn===null?pc=Fn=s:Fn=Fn.next=s),xc=!0,Bm||(Bm=!0,FC())}function lo(s,n){if(!Um&&xc){Um=!0;do for(var l=!1,u=pc;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var N=u.suspendedLanes,_=u.pingedLanes;y=(1<<31-Zt(42|s)+1)-1,y&=p&~(N&~_),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,xv(u,y))}else y=Re,y=wl(u,u===Ge?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Ci(u,y)||(l=!0,xv(u,y));u=u.next}while(l);Um=!1}}function UC(){hv()}function hv(){xc=Bm=!1;var s=0;Ma!==0&&(KC()&&(s=Ma),Ma=0);for(var n=Rr(),l=null,u=pc;u!==null;){var p=u.next,y=fv(u,n);y===0?(u.next=null,l===null?pc=p:l.next=p,p===null&&(Fn=l)):(l=u,(s!==0||(y&3)!==0)&&(xc=!0)),u=p}lo(s)}function fv(s,n){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var N=31-Zt(y),_=1<<N,P=p[N];P===-1?((_&l)===0||(_&u)!==0)&&(p[N]=mN(_,n)):P<=n&&(s.expiredLanes|=_),y&=~_}if(n=Ge,l=Re,l=wl(s,s===n?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===n&&(Ie===2||Ie===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Qd(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Ci(s,l)){if(n=l&-l,n===s.callbackPriority)return n;switch(u!==null&&Qd(u),tu(l)){case 2:case 8:l=nx;break;case 32:l=vl;break;case 268435456:l=ix;break;default:l=vl}return u=pv.bind(null,s),l=Zd(l,u),s.callbackPriority=n,s.callbackNode=l,n}return u!==null&&u!==null&&Qd(u),s.callbackPriority=2,s.callbackNode=null,2}function pv(s,n){if(wt!==0&&wt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(fc()&&s.callbackNode!==l)return null;var u=Re;return u=wl(s,s===Ge?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Zg(s,u,n),fv(s,Rr()),s.callbackNode!=null&&s.callbackNode===l?pv.bind(null,s):null)}function xv(s,n){if(fc())return null;Zg(s,n,!0)}function FC(){ZC(function(){(ze&6)!==0?Zd(ax,UC):hv()})}function Fm(){return Ma===0&&(Ma=ox()),Ma}function yv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:_l(""+s)}function gv(s,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,s.id&&l.setAttribute("form",s.id),n.parentNode.insertBefore(l,n),s=new FormData(s),l.parentNode.removeChild(l),s}function VC(s,n,l,u,p){if(n==="submit"&&l&&l.stateNode===p){var y=yv((p[Ut]||null).action),N=u.submitter;N&&(n=(n=N[Ut]||null)?yv(n.formAction):N.getAttribute("formAction"),n!==null&&(y=n,N=null));var _=new Rl("action","action",null,u,p);s.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ma!==0){var P=N?gv(p,N):new FormData(p);om(l,{pending:!0,data:P,method:p.method,action:y},null,P)}}else typeof y=="function"&&(_.preventDefault(),P=N?gv(p,N):new FormData(p),om(l,{pending:!0,data:P,method:p.method,action:y},y,P))},currentTarget:p}]})}}for(var Vm=0;Vm<ku.length;Vm++){var Hm=ku[Vm],HC=Hm.toLowerCase(),qC=Hm[0].toUpperCase()+Hm.slice(1);wr(HC,"on"+qC)}wr(Zx,"onAnimationEnd"),wr(Qx,"onAnimationIteration"),wr(Jx,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(oC,"onTransitionRun"),wr(lC,"onTransitionStart"),wr(cC,"onTransitionCancel"),wr(ey,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$C=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function vv(s,n){n=(n&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;e:{var y=void 0;if(n)for(var N=u.length-1;0<=N;N--){var _=u[N],P=_.instance,G=_.currentTarget;if(_=_.listener,P!==y&&p.isPropagationStopped())break e;y=_,p.currentTarget=G;try{y(p)}catch(J){sc(J)}p.currentTarget=null,y=P}else for(N=0;N<u.length;N++){if(_=u[N],P=_.instance,G=_.currentTarget,_=_.listener,P!==y&&p.isPropagationStopped())break e;y=_,p.currentTarget=G;try{y(p)}catch(J){sc(J)}p.currentTarget=null,y=P}}}}function Ee(s,n){var l=n[ru];l===void 0&&(l=n[ru]=new Set);var u=s+"__bubble";l.has(u)||(bv(n,s,2,!1),l.add(u))}function qm(s,n,l){var u=0;n&&(u|=4),bv(l,s,u,n)}var yc="_reactListening"+Math.random().toString(36).slice(2);function $m(s){if(!s[yc]){s[yc]=!0,hx.forEach(function(l){l!=="selectionchange"&&($C.has(l)||qm(l,!1,s),qm(l,!0,s))});var n=s.nodeType===9?s:s.ownerDocument;n===null||n[yc]||(n[yc]=!0,qm("selectionchange",!1,n))}}function bv(s,n,l,u){switch(qv(n)){case 2:var p=gS;break;case 8:p=vS;break;default:p=nh}l=p.bind(null,n,l,s),p=void 0,!hu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(n,l,{capture:!0,passive:p}):s.addEventListener(n,l,!0):p!==void 0?s.addEventListener(n,l,{passive:p}):s.addEventListener(n,l,!1)}function Ym(s,n,l,u,p){var y=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var _=u.stateNode.containerInfo;if(_===p)break;if(N===4)for(N=u.return;N!==null;){var P=N.tag;if((P===3||P===4)&&N.stateNode.containerInfo===p)return;N=N.return}for(;_!==null;){if(N=ln(_),N===null)return;if(P=N.tag,P===5||P===6||P===26||P===27){u=y=N;continue e}_=_.parentNode}}u=u.return}_x(function(){var G=y,J=uu(l),te=[];e:{var W=ty.get(s);if(W!==void 0){var K=Rl,ve=s;switch(s){case"keypress":if(El(l)===0)break e;case"keydown":case"keyup":K=BN;break;case"focusin":ve="focus",K=yu;break;case"focusout":ve="blur",K=yu;break;case"beforeblur":case"afterblur":K=yu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=_N;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=VN;break;case Zx:case Qx:case Jx:K=TN;break;case ey:K=qN;break;case"scroll":case"scrollend":K=SN;break;case"wheel":K=YN;break;case"copy":case"cut":case"paste":K=DN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Dx;break;case"toggle":case"beforetoggle":K=WN}var xe=(n&4)!==0,He=!xe&&(s==="scroll"||s==="scrollend"),U=xe?W!==null?W+"Capture":null:W;xe=[];for(var z=G,Y;z!==null;){var ee=z;if(Y=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||Y===null||U===null||(ee=Ai(z,U),ee!=null&&xe.push(uo(z,ee,Y))),He)break;z=z.return}0<xe.length&&(W=new K(W,ve,null,l,J),te.push({event:W,listeners:xe}))}}if((n&7)===0){e:{if(W=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",W&&l!==du&&(ve=l.relatedTarget||l.fromElement)&&(ln(ve)||ve[on]))break e;if((K||W)&&(W=J.window===J?J:(W=J.ownerDocument)?W.defaultView||W.parentWindow:window,K?(ve=l.relatedTarget||l.toElement,K=G,ve=ve?ln(ve):null,ve!==null&&(He=c(ve),xe=ve.tag,ve!==He||xe!==5&&xe!==27&&xe!==6)&&(ve=null)):(K=null,ve=G),K!==ve)){if(xe=Tx,ee="onMouseLeave",U="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(xe=Dx,ee="onPointerLeave",U="onPointerEnter",z="pointer"),He=K==null?W:_i(K),Y=ve==null?W:_i(ve),W=new xe(ee,z+"leave",K,l,J),W.target=He,W.relatedTarget=Y,ee=null,ln(J)===G&&(xe=new xe(U,z+"enter",ve,l,J),xe.target=Y,xe.relatedTarget=He,ee=xe),He=ee,K&&ve)t:{for(xe=K,U=ve,z=0,Y=xe;Y;Y=Vn(Y))z++;for(Y=0,ee=U;ee;ee=Vn(ee))Y++;for(;0<z-Y;)xe=Vn(xe),z--;for(;0<Y-z;)U=Vn(U),Y--;for(;z--;){if(xe===U||U!==null&&xe===U.alternate)break t;xe=Vn(xe),U=Vn(U)}xe=null}else xe=null;K!==null&&jv(te,W,K,xe,!1),ve!==null&&He!==null&&jv(te,He,ve,xe,!0)}}e:{if(W=G?_i(G):window,K=W.nodeName&&W.nodeName.toLowerCase(),K==="select"||K==="input"&&W.type==="file")var le=Ux;else if(Ix(W))if(Fx)le=aC;else{le=rC;var ke=tC}else K=W.nodeName,!K||K.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?G&&cu(G.elementType)&&(le=Ux):le=sC;if(le&&(le=le(s,G))){Bx(te,le,l,J);break e}ke&&ke(s,W,G),s==="focusout"&&G&&W.type==="number"&&G.memoizedProps.value!=null&&lu(W,"number",W.value)}switch(ke=G?_i(G):window,s){case"focusin":(Ix(ke)||ke.contentEditable==="true")&&(gn=ke,Nu=G,Mi=null);break;case"focusout":Mi=Nu=gn=null;break;case"mousedown":Cu=!0;break;case"contextmenu":case"mouseup":case"dragend":Cu=!1,Kx(te,l,J);break;case"selectionchange":if(iC)break;case"keydown":case"keyup":Kx(te,l,J)}var me;if(vu)e:{switch(s){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else yn?Mx(s,l)&&(ye="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ye="onCompositionStart");ye&&(Ox&&l.locale!=="ko"&&(yn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&yn&&(me=Ax()):(Es=J,fu="value"in Es?Es.value:Es.textContent,yn=!0)),ke=gc(G,ye),0<ke.length&&(ye=new Rx(ye,s,null,l,J),te.push({event:ye,listeners:ke}),me?ye.data=me:(me=zx(l),me!==null&&(ye.data=me)))),(me=XN?ZN(s,l):QN(s,l))&&(ye=gc(G,"onBeforeInput"),0<ye.length&&(ke=new Rx("onBeforeInput","beforeinput",null,l,J),te.push({event:ke,listeners:ye}),ke.data=me)),VC(te,s,G,l,J)}vv(te,n)})}function uo(s,n,l){return{instance:s,listener:n,currentTarget:l}}function gc(s,n){for(var l=n+"Capture",u=[];s!==null;){var p=s,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ai(s,l),p!=null&&u.unshift(uo(s,p,y)),p=Ai(s,n),p!=null&&u.push(uo(s,p,y))),s.tag===3)return u;s=s.return}return[]}function Vn(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function jv(s,n,l,u,p){for(var y=n._reactName,N=[];l!==null&&l!==u;){var _=l,P=_.alternate,G=_.stateNode;if(_=_.tag,P!==null&&P===u)break;_!==5&&_!==26&&_!==27||G===null||(P=G,p?(G=Ai(l,y),G!=null&&N.unshift(uo(l,G,P))):p||(G=Ai(l,y),G!=null&&N.push(uo(l,G,P)))),l=l.return}N.length!==0&&s.push({event:n,listeners:N})}var YC=/\r\n?/g,GC=/\u0000|\uFFFD/g;function wv(s){return(typeof s=="string"?s:""+s).replace(YC,`
`).replace(GC,"")}function Nv(s,n){return n=wv(n),wv(s)===n}function vc(){}function Ve(s,n,l,u,p,y){switch(l){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||fn(s,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&fn(s,""+u);break;case"className":Cl(s,"class",u);break;case"tabIndex":Cl(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Cl(s,l,u);break;case"style":Sx(s,u,y);break;case"data":if(n!=="object"){Cl(s,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=_l(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(n!=="input"&&Ve(s,n,"name",p.name,p,null),Ve(s,n,"formEncType",p.formEncType,p,null),Ve(s,n,"formMethod",p.formMethod,p,null),Ve(s,n,"formTarget",p.formTarget,p,null)):(Ve(s,n,"encType",p.encType,p,null),Ve(s,n,"method",p.method,p,null),Ve(s,n,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=_l(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=vc);break;case"onScroll":u!=null&&Ee("scroll",s);break;case"onScrollEnd":u!=null&&Ee("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=_l(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Ee("beforetoggle",s),Ee("toggle",s),Nl(s,"popover",u);break;case"xlinkActuate":Wr(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Wr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Wr(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Wr(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Wr(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Wr(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Wr(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Wr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Wr(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Nl(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=NN.get(l)||l,Nl(s,l,u))}}function Gm(s,n,l,u,p,y){switch(l){case"style":Sx(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?fn(s,u):(typeof u=="number"||typeof u=="bigint")&&fn(s,""+u);break;case"onScroll":u!=null&&Ee("scroll",s);break;case"onScrollEnd":u!=null&&Ee("scrollend",s);break;case"onClick":u!=null&&(s.onclick=vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fx.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),n=l.slice(2,p?l.length-7:void 0),y=s[Ut]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(n,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(n,u,p);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Nl(s,l,u)}}}function Nt(s,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",s),Ee("load",s);var u=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var N=l[y];if(N!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ve(s,n,y,N,l,null)}}p&&Ve(s,n,"srcSet",l.srcSet,l,null),u&&Ve(s,n,"src",l.src,l,null);return;case"input":Ee("invalid",s);var _=y=N=p=null,P=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":p=J;break;case"type":N=J;break;case"checked":P=J;break;case"defaultChecked":G=J;break;case"value":y=J;break;case"defaultValue":_=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,n));break;default:Ve(s,n,u,J,l,null)}}jx(s,y,_,P,G,N,p,!1),Sl(s);return;case"select":Ee("invalid",s),u=N=y=null;for(p in l)if(l.hasOwnProperty(p)&&(_=l[p],_!=null))switch(p){case"value":y=_;break;case"defaultValue":N=_;break;case"multiple":u=_;default:Ve(s,n,p,_,l,null)}n=y,l=N,s.multiple=!!u,n!=null?hn(s,!!u,n,!1):l!=null&&hn(s,!!u,l,!0);return;case"textarea":Ee("invalid",s),y=p=u=null;for(N in l)if(l.hasOwnProperty(N)&&(_=l[N],_!=null))switch(N){case"value":u=_;break;case"defaultValue":p=_;break;case"children":y=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:Ve(s,n,N,_,l,null)}Nx(s,u,p,y),Sl(s);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(u=l[P],u!=null))switch(P){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ve(s,n,P,u,l,null)}return;case"dialog":Ee("beforetoggle",s),Ee("toggle",s),Ee("cancel",s),Ee("close",s);break;case"iframe":case"object":Ee("load",s);break;case"video":case"audio":for(u=0;u<co.length;u++)Ee(co[u],s);break;case"image":Ee("error",s),Ee("load",s);break;case"details":Ee("toggle",s);break;case"embed":case"source":case"link":Ee("error",s),Ee("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ve(s,n,G,u,l,null)}return;default:if(cu(n)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&Gm(s,n,J,u,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(u=l[_],u!=null&&Ve(s,n,_,u,l,null))}function WC(s,n,l,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,N=null,_=null,P=null,G=null,J=null;for(K in l){var te=l[K];if(l.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":P=te;default:u.hasOwnProperty(K)||Ve(s,n,K,null,u,te)}}for(var W in u){var K=u[W];if(te=l[W],u.hasOwnProperty(W)&&(K!=null||te!=null))switch(W){case"type":y=K;break;case"name":p=K;break;case"checked":G=K;break;case"defaultChecked":J=K;break;case"value":N=K;break;case"defaultValue":_=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,n));break;default:K!==te&&Ve(s,n,W,K,u,te)}}ou(s,N,_,P,G,J,y,p);return;case"select":K=N=_=W=null;for(y in l)if(P=l[y],l.hasOwnProperty(y)&&P!=null)switch(y){case"value":break;case"multiple":K=P;default:u.hasOwnProperty(y)||Ve(s,n,y,null,u,P)}for(p in u)if(y=u[p],P=l[p],u.hasOwnProperty(p)&&(y!=null||P!=null))switch(p){case"value":W=y;break;case"defaultValue":_=y;break;case"multiple":N=y;default:y!==P&&Ve(s,n,p,y,u,P)}n=_,l=N,u=K,W!=null?hn(s,!!l,W,!1):!!u!=!!l&&(n!=null?hn(s,!!l,n,!0):hn(s,!!l,l?[]:"",!1));return;case"textarea":K=W=null;for(_ in l)if(p=l[_],l.hasOwnProperty(_)&&p!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ve(s,n,_,null,u,p)}for(N in u)if(p=u[N],y=l[N],u.hasOwnProperty(N)&&(p!=null||y!=null))switch(N){case"value":W=p;break;case"defaultValue":K=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Ve(s,n,N,p,u,y)}wx(s,W,K);return;case"option":for(var ve in l)if(W=l[ve],l.hasOwnProperty(ve)&&W!=null&&!u.hasOwnProperty(ve))switch(ve){case"selected":s.selected=!1;break;default:Ve(s,n,ve,null,u,W)}for(P in u)if(W=u[P],K=l[P],u.hasOwnProperty(P)&&W!==K&&(W!=null||K!=null))switch(P){case"selected":s.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Ve(s,n,P,W,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in l)W=l[xe],l.hasOwnProperty(xe)&&W!=null&&!u.hasOwnProperty(xe)&&Ve(s,n,xe,null,u,W);for(G in u)if(W=u[G],K=l[G],u.hasOwnProperty(G)&&W!==K&&(W!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,n));break;default:Ve(s,n,G,W,u,K)}return;default:if(cu(n)){for(var He in l)W=l[He],l.hasOwnProperty(He)&&W!==void 0&&!u.hasOwnProperty(He)&&Gm(s,n,He,void 0,u,W);for(J in u)W=u[J],K=l[J],!u.hasOwnProperty(J)||W===K||W===void 0&&K===void 0||Gm(s,n,J,W,u,K);return}}for(var U in l)W=l[U],l.hasOwnProperty(U)&&W!=null&&!u.hasOwnProperty(U)&&Ve(s,n,U,null,u,W);for(te in u)W=u[te],K=l[te],!u.hasOwnProperty(te)||W===K||W==null&&K==null||Ve(s,n,te,W,u,K)}var Wm=null,Km=null;function bc(s){return s.nodeType===9?s:s.ownerDocument}function Cv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sv(s,n){if(s===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&n==="foreignObject"?0:s}function Xm(s,n){return s==="textarea"||s==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zm=null;function KC(){var s=window.event;return s&&s.type==="popstate"?s===Zm?!1:(Zm=s,!0):(Zm=null,!1)}var kv=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,ZC=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(s){return _v.resolve(null).then(s).catch(QC)}:kv;function QC(s){setTimeout(function(){throw s})}function $s(s){return s==="head"}function Av(s,n){var l=n,u=0,p=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<u&&8>u){l=u;var N=s.ownerDocument;if(l&1&&mo(N.documentElement),l&2&&mo(N.body),l&4)for(l=N.head,mo(l),N=l.firstChild;N;){var _=N.nextSibling,P=N.nodeName;N[ki]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&N.rel.toLowerCase()==="stylesheet"||l.removeChild(N),N=_}}if(p===0){s.removeChild(y),bo(n);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:u=l.charCodeAt(0)-48;else u=0;l=y}while(l);bo(n)}function Qm(s){var n=s.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Qm(l),su(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function JC(s,n,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[ki])switch(n){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(n==="input"&&s.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Cr(s.nextSibling),s===null)break}return null}function eS(s,n,l){if(n==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Cr(s.nextSibling),s===null))return null;return s}function Jm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function tS(s,n){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")n();else{var u=function(){n(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Cr(s){for(;s!=null;s=s.nextSibling){var n=s.nodeType;if(n===1||n===3)break;if(n===8){if(n=s.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return s}var eh=null;function Ev(s){s=s.previousSibling;for(var n=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return s;n--}else l==="/$"&&n++}s=s.previousSibling}return null}function Tv(s,n,l){switch(n=bc(l),s){case"html":if(s=n.documentElement,!s)throw Error(i(452));return s;case"head":if(s=n.head,!s)throw Error(i(453));return s;case"body":if(s=n.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function mo(s){for(var n=s.attributes;n.length;)s.removeAttributeNode(n[0]);su(s)}var fr=new Map,Rv=new Set;function jc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ls=H.d;H.d={f:rS,r:sS,D:aS,C:nS,L:iS,m:oS,X:cS,S:lS,M:dS};function rS(){var s=ls.f(),n=mc();return s||n}function sS(s){var n=cn(s);n!==null&&n.tag===5&&n.type==="form"?Zy(n):ls.r(s)}var Hn=typeof document>"u"?null:document;function Dv(s,n,l){var u=Hn;if(u&&typeof n=="string"&&n){var p=or(n);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Rv.has(p)||(Rv.add(p),s={rel:s,crossOrigin:l,href:n},u.querySelector(p)===null&&(n=u.createElement("link"),Nt(n,"link",s),pt(n),u.head.appendChild(n)))}}function aS(s){ls.D(s),Dv("dns-prefetch",s,null)}function nS(s,n){ls.C(s,n),Dv("preconnect",s,n)}function iS(s,n,l){ls.L(s,n,l);var u=Hn;if(u&&s&&n){var p='link[rel="preload"][as="'+or(n)+'"]';n==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+or(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+or(l.imageSizes)+'"]')):p+='[href="'+or(s)+'"]';var y=p;switch(n){case"style":y=qn(s);break;case"script":y=$n(s)}fr.has(y)||(s=x({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:s,as:n},l),fr.set(y,s),u.querySelector(p)!==null||n==="style"&&u.querySelector(ho(y))||n==="script"&&u.querySelector(fo(y))||(n=u.createElement("link"),Nt(n,"link",s),pt(n),u.head.appendChild(n)))}}function oS(s,n){ls.m(s,n);var l=Hn;if(l&&s){var u=n&&typeof n.as=="string"?n.as:"script",p='link[rel="modulepreload"][as="'+or(u)+'"][href="'+or(s)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=$n(s)}if(!fr.has(y)&&(s=x({rel:"modulepreload",href:s},n),fr.set(y,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(fo(y)))return}u=l.createElement("link"),Nt(u,"link",s),pt(u),l.head.appendChild(u)}}}function lS(s,n,l){ls.S(s,n,l);var u=Hn;if(u&&s){var p=dn(u).hoistableStyles,y=qn(s);n=n||"default";var N=p.get(y);if(!N){var _={loading:0,preload:null};if(N=u.querySelector(ho(y)))_.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":n},l),(l=fr.get(y))&&th(s,l);var P=N=u.createElement("link");pt(P),Nt(P,"link",s),P._p=new Promise(function(G,J){P.onload=G,P.onerror=J}),P.addEventListener("load",function(){_.loading|=1}),P.addEventListener("error",function(){_.loading|=2}),_.loading|=4,wc(N,n,u)}N={type:"stylesheet",instance:N,count:1,state:_},p.set(y,N)}}}function cS(s,n){ls.X(s,n);var l=Hn;if(l&&s){var u=dn(l).hoistableScripts,p=$n(s),y=u.get(p);y||(y=l.querySelector(fo(p)),y||(s=x({src:s,async:!0},n),(n=fr.get(p))&&rh(s,n),y=l.createElement("script"),pt(y),Nt(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function dS(s,n){ls.M(s,n);var l=Hn;if(l&&s){var u=dn(l).hoistableScripts,p=$n(s),y=u.get(p);y||(y=l.querySelector(fo(p)),y||(s=x({src:s,async:!0,type:"module"},n),(n=fr.get(p))&&rh(s,n),y=l.createElement("script"),pt(y),Nt(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function Ov(s,n,l,u){var p=(p=pe.current)?jc(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=qn(l.href),l=dn(p).hoistableStyles,u=l.get(n),u||(u={type:"style",instance:null,count:0,state:null},l.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=qn(l.href);var y=dn(p).hoistableStyles,N=y.get(s);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,N),(y=p.querySelector(ho(s)))&&!y._p&&(N.instance=y,N.state.loading=5),fr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fr.set(s,l),y||uS(p,s,l,N.state))),n&&u===null)throw Error(i(528,""));return N}if(n&&u!==null)throw Error(i(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$n(l),l=dn(p).hoistableScripts,u=l.get(n),u||(u={type:"script",instance:null,count:0,state:null},l.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function qn(s){return'href="'+or(s)+'"'}function ho(s){return'link[rel="stylesheet"]['+s+"]"}function Pv(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function uS(s,n,l,u){s.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=s.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Nt(n,"link",l),pt(n),s.head.appendChild(n))}function $n(s){return'[src="'+or(s)+'"]'}function fo(s){return"script[async]"+s}function Lv(s,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var u=s.querySelector('style[data-href~="'+or(l.href)+'"]');if(u)return n.instance=u,pt(u),u;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),pt(u),Nt(u,"style",p),wc(u,l.precedence,s),n.instance=u;case"stylesheet":p=qn(l.href);var y=s.querySelector(ho(p));if(y)return n.state.loading|=4,n.instance=y,pt(y),y;u=Pv(l),(p=fr.get(p))&&th(u,p),y=(s.ownerDocument||s).createElement("link"),pt(y);var N=y;return N._p=new Promise(function(_,P){N.onload=_,N.onerror=P}),Nt(y,"link",u),n.state.loading|=4,wc(y,l.precedence,s),n.instance=y;case"script":return y=$n(l.src),(p=s.querySelector(fo(y)))?(n.instance=p,pt(p),p):(u=l,(p=fr.get(y))&&(u=x({},l),rh(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),pt(p),Nt(p,"link",u),s.head.appendChild(p),n.instance=p);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,wc(u,l.precedence,s));return n.instance}function wc(s,n,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,N=0;N<u.length;N++){var _=u[N];if(_.dataset.precedence===n)y=_;else if(y!==p)break}y?y.parentNode.insertBefore(s,y.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(s,n.firstChild))}function th(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.title==null&&(s.title=n.title)}function rh(s,n){s.crossOrigin==null&&(s.crossOrigin=n.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=n.referrerPolicy),s.integrity==null&&(s.integrity=n.integrity)}var Nc=null;function Mv(s,n,l){if(Nc===null){var u=new Map,p=Nc=new Map;p.set(l,u)}else p=Nc,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var y=l[p];if(!(y[ki]||y[kt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(n)||"";N=s+N;var _=u.get(N);_?_.push(y):u.set(N,[y])}}return u}function zv(s,n,l){s=s.ownerDocument||s,s.head.insertBefore(l,n==="title"?s.querySelector("head > title"):null)}function mS(s,n,l){if(l===1||n.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return s=n.disabled,typeof n.precedence=="string"&&s==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Iv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var po=null;function hS(){}function fS(s,n,l){if(po===null)throw Error(i(475));var u=po;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var p=qn(l.href),y=s.querySelector(ho(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Cc.bind(u),s.then(u,u)),n.state.loading|=4,n.instance=y,pt(y);return}y=s.ownerDocument||s,l=Pv(l),(p=fr.get(p))&&th(l,p),y=y.createElement("link"),pt(y);var N=y;N._p=new Promise(function(_,P){N.onload=_,N.onerror=P}),Nt(y,"link",l),n.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,s),(s=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Cc.bind(u),s.addEventListener("load",n),s.addEventListener("error",n))}}function pS(){if(po===null)throw Error(i(475));var s=po;return s.stylesheets&&s.count===0&&sh(s,s.stylesheets),0<s.count?function(n){var l=setTimeout(function(){if(s.stylesheets&&sh(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=n,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)sh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Sc=null;function sh(s,n){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Sc=new Map,n.forEach(xS,s),Sc=null,Cc.call(s))}function xS(s,n){if(!(n.state.loading&4)){var l=Sc.get(s);if(l)var u=l.get(null);else{l=new Map,Sc.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var N=p[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),u=N)}u&&l.set(null,u)}p=n.instance,N=p.getAttribute("data-precedence"),y=l.get(N)||u,y===u&&l.set(null,p),l.set(N,p),this.count++,u=Cc.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),n.state.loading|=4}}var xo={$$typeof:R,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function yS(s,n,l,u,p,y,N,_){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jd(0),this.hiddenUpdates=Jd(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Bv(s,n,l,u,p,y,N,_,P,G,J,te){return s=new yS(s,n,l,N,_,P,G,te),n=1,y===!0&&(n|=24),y=Jt(3,null,null,n),s.current=y,y.stateNode=s,n=Iu(),n.refCount++,s.pooledCache=n,n.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:n},Vu(y),s}function Uv(s){return s?(s=wn,s):wn}function Fv(s,n,l,u,p,y){p=Uv(p),u.context===null?u.context=p:u.pendingContext=p,u=Ds(n),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Os(s,u,n),l!==null&&(ar(l,s,n),$i(l,s,n))}function Vv(s,n){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<n?l:n}}function ah(s,n){Vv(s,n),(s=s.alternate)&&Vv(s,n)}function Hv(s){if(s.tag===13){var n=jn(s,67108864);n!==null&&ar(n,s,67108864),ah(s,67108864)}}var kc=!0;function gS(s,n,l,u){var p=$.T;$.T=null;var y=H.p;try{H.p=2,nh(s,n,l,u)}finally{H.p=y,$.T=p}}function vS(s,n,l,u){var p=$.T;$.T=null;var y=H.p;try{H.p=8,nh(s,n,l,u)}finally{H.p=y,$.T=p}}function nh(s,n,l,u){if(kc){var p=ih(u);if(p===null)Ym(s,n,u,_c,l),$v(s,u);else if(jS(p,s,n,l,u))u.stopPropagation();else if($v(s,u),n&4&&-1<bS.indexOf(s)){for(;p!==null;){var y=cn(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=va(y.pendingLanes);if(N!==0){var _=y;for(_.pendingLanes|=2,_.entangledLanes|=2;N;){var P=1<<31-Zt(N);_.entanglements[1]|=P,N&=~P}Mr(y),(ze&6)===0&&(dc=Rr()+500,lo(0))}}break;case 13:_=jn(y,2),_!==null&&ar(_,y,2),mc(),ah(y,2)}if(y=ih(u),y===null&&Ym(s,n,u,_c,l),y===p)break;p=y}p!==null&&u.stopPropagation()}else Ym(s,n,u,null,l)}}function ih(s){return s=uu(s),oh(s)}var _c=null;function oh(s){if(_c=null,s=ln(s),s!==null){var n=c(s);if(n===null)s=null;else{var l=n.tag;if(l===13){if(s=d(n),s!==null)return s;s=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;s=null}else n!==s&&(s=null)}}return _c=s,null}function qv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nN()){case ax:return 2;case nx:return 8;case vl:case iN:return 32;case ix:return 268435456;default:return 32}default:return 32}}var lh=!1,Ys=null,Gs=null,Ws=null,yo=new Map,go=new Map,Ks=[],bS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(s,n){switch(s){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":yo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(n.pointerId)}}function vo(s,n,l,u,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:n,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},n!==null&&(n=cn(n),n!==null&&Hv(n)),s):(s.eventSystemFlags|=u,n=s.targetContainers,p!==null&&n.indexOf(p)===-1&&n.push(p),s)}function jS(s,n,l,u,p){switch(n){case"focusin":return Ys=vo(Ys,s,n,l,u,p),!0;case"dragenter":return Gs=vo(Gs,s,n,l,u,p),!0;case"mouseover":return Ws=vo(Ws,s,n,l,u,p),!0;case"pointerover":var y=p.pointerId;return yo.set(y,vo(yo.get(y)||null,s,n,l,u,p)),!0;case"gotpointercapture":return y=p.pointerId,go.set(y,vo(go.get(y)||null,s,n,l,u,p)),!0}return!1}function Yv(s){var n=ln(s.target);if(n!==null){var l=c(n);if(l!==null){if(n=l.tag,n===13){if(n=d(l),n!==null){s.blockedOn=n,fN(s.priority,function(){if(l.tag===13){var u=sr();u=eu(u);var p=jn(l,u);p!==null&&ar(p,l,u),ah(l,u)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ac(s){if(s.blockedOn!==null)return!1;for(var n=s.targetContainers;0<n.length;){var l=ih(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);du=u,l.target.dispatchEvent(u),du=null}else return n=cn(l),n!==null&&Hv(n),s.blockedOn=l,!1;n.shift()}return!0}function Gv(s,n,l){Ac(s)&&l.delete(n)}function wS(){lh=!1,Ys!==null&&Ac(Ys)&&(Ys=null),Gs!==null&&Ac(Gs)&&(Gs=null),Ws!==null&&Ac(Ws)&&(Ws=null),yo.forEach(Gv),go.forEach(Gv)}function Ec(s,n){s.blockedOn===n&&(s.blockedOn=null,lh||(lh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wS)))}var Tc=null;function Wv(s){Tc!==s&&(Tc=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Tc===s&&(Tc=null);for(var n=0;n<s.length;n+=3){var l=s[n],u=s[n+1],p=s[n+2];if(typeof u!="function"){if(oh(u||l)===null)continue;break}var y=cn(l);y!==null&&(s.splice(n,3),n-=3,om(y,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function bo(s){function n(P){return Ec(P,s)}Ys!==null&&Ec(Ys,s),Gs!==null&&Ec(Gs,s),Ws!==null&&Ec(Ws,s),yo.forEach(n),go.forEach(n);for(var l=0;l<Ks.length;l++){var u=Ks[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Ks.length&&(l=Ks[0],l.blockedOn===null);)Yv(l),l.blockedOn===null&&Ks.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],y=l[u+1],N=p[Ut]||null;if(typeof y=="function")N||Wv(l);else if(N){var _=null;if(y&&y.hasAttribute("formAction")){if(p=y,N=y[Ut]||null)_=N.formAction;else if(oh(p)!==null)continue}else _=N.action;typeof _=="function"?l[u+1]=_:(l.splice(u,3),u-=3),Wv(l)}}}function ch(s){this._internalRoot=s}Rc.prototype.render=ch.prototype.render=function(s){var n=this._internalRoot;if(n===null)throw Error(i(409));var l=n.current,u=sr();Fv(l,u,s,n,null,null)},Rc.prototype.unmount=ch.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var n=s.containerInfo;Fv(s.current,2,null,s,null,null),mc(),n[on]=null}};function Rc(s){this._internalRoot=s}Rc.prototype.unstable_scheduleHydration=function(s){if(s){var n=ux();s={blockedOn:null,target:s,priority:n};for(var l=0;l<Ks.length&&n!==0&&n<Ks[l].priority;l++);Ks.splice(l,0,s),l===0&&Yv(s)}};var Kv=r.version;if(Kv!=="19.1.0")throw Error(i(527,Kv,"19.1.0"));H.findDOMNode=function(s){var n=s._reactInternals;if(n===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(n),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var NS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Ni=Dc.inject(NS),Xt=Dc}catch{}}return wo.createRoot=function(s,n){if(!o(s))throw Error(i(299));var l=!1,u="",p=ug,y=mg,N=hg,_=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(p=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=Bv(s,1,!1,null,null,l,u,p,y,N,_,null),s[on]=n.current,$m(s),new ch(n)},wo.hydrateRoot=function(s,n,l){if(!o(s))throw Error(i(299));var u=!1,p="",y=ug,N=mg,_=hg,P=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),n=Bv(s,1,!0,n,l??null,u,p,y,N,_,P,G),n.context=Uv(null),l=n.current,u=sr(),u=eu(u),p=Ds(u),p.callback=null,Os(l,p,u),l=u,n.current.lanes=l,Si(n,l),Mr(n),s[on]=n.current,$m(s),new Rc(n)},wo.version="19.1.0",wo}var nb;function OS(){if(nb)return mh.exports;nb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),mh.exports=DS(),mh.exports}var PS=OS();const LS=_j(PS),MS="modulepreload",zS=function(e){return"/"+e},ib={},IS=function(r,a,i){let o=Promise.resolve();if(a&&a.length>0){let d=function(f){return Promise.all(f.map(x=>Promise.resolve(x).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),h=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=d(a.map(f=>{if(f=zS(f),f in ib)return;ib[f]=!0;const x=f.endsWith(".css"),g=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":MS,x||(v.as="script"),v.crossOrigin="",v.href=f,h&&v.setAttribute("nonce",h),document.head.appendChild(v),x)return new Promise((j,b)=>{v.addEventListener("load",j),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function c(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&c(m.reason);return r().catch(c)})};var No={},ob;function BS(){if(ob)return No;ob=1,Object.defineProperty(No,"__esModule",{value:!0}),No.parse=d,No.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function d(v,j){const b=new c,C=v.length;if(C<2)return b;const k=(j==null?void 0:j.decode)||x;let S=0;do{const T=v.indexOf("=",S);if(T===-1)break;const R=v.indexOf(";",S),E=R===-1?C:R;if(T>E){S=v.lastIndexOf(";",T-1)+1;continue}const D=m(v,S,T),F=h(v,T,D),V=v.slice(D,F);if(b[V]===void 0){let q=m(v,T+1,E),O=h(v,E,q);const A=k(v.slice(q,O));b[V]=A}S=E+1}while(S<C);return b}function m(v,j,b){do{const C=v.charCodeAt(j);if(C!==32&&C!==9)return j}while(++j<b);return b}function h(v,j,b){for(;j>b;){const C=v.charCodeAt(--j);if(C!==32&&C!==9)return j+1}return b}function f(v,j,b){const C=(b==null?void 0:b.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const k=C(j);if(!r.test(k))throw new TypeError(`argument val is invalid: ${j}`);let S=v+"="+k;if(!b)return S;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);S+="; Max-Age="+b.maxAge}if(b.domain){if(!a.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);S+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);S+="; Path="+b.path}if(b.expires){if(!g(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);S+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(S+="; HttpOnly"),b.secure&&(S+="; Secure"),b.partitioned&&(S+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return S}function x(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return o.call(v)==="[object Date]"}return No}BS();var lb="popstate";function US(e={}){function r(i,o){let{pathname:c,search:d,hash:m}=i.location;return Wh("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(i,o){return typeof o=="string"?o:Uo(o)}return VS(r,a,null,e)}function Ke(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function vr(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function FS(){return Math.random().toString(36).substring(2,10)}function cb(e,r){return{usr:e.state,key:e.key,idx:r}}function Wh(e,r,a=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?li(r):r,state:a,key:r&&r.key||i||FS()}}function Uo({pathname:e="/",search:r="",hash:a=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function li(e){let r={};if(e){let a=e.indexOf("#");a>=0&&(r.hash=e.substring(a),e=e.substring(0,a));let i=e.indexOf("?");i>=0&&(r.search=e.substring(i),e=e.substring(0,i)),e&&(r.pathname=e)}return r}function VS(e,r,a,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,d=o.history,m="POP",h=null,f=x();f==null&&(f=0,d.replaceState({...d.state,idx:f},""));function x(){return(d.state||{idx:null}).idx}function g(){m="POP";let k=x(),S=k==null?null:k-f;f=k,h&&h({action:m,location:C.location,delta:S})}function v(k,S){m="PUSH";let T=Wh(C.location,k,S);f=x()+1;let R=cb(T,f),E=C.createHref(T);try{d.pushState(R,"",E)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(E)}c&&h&&h({action:m,location:C.location,delta:1})}function j(k,S){m="REPLACE";let T=Wh(C.location,k,S);f=x();let R=cb(T,f),E=C.createHref(T);d.replaceState(R,"",E),c&&h&&h({action:m,location:C.location,delta:0})}function b(k){return HS(k)}let C={get action(){return m},get location(){return e(o,d)},listen(k){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(lb,g),h=k,()=>{o.removeEventListener(lb,g),h=null}},createHref(k){return r(o,k)},createURL:b,encodeLocation(k){let S=b(k);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:j,go(k){return d.go(k)}};return C}function HS(e,r=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(a,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Uo(e);return i=i.replace(/ $/,"%20"),!r&&i.startsWith("//")&&(i=a+i),new URL(i,a)}function Aj(e,r,a="/"){return qS(e,r,a,!1)}function qS(e,r,a,i){let o=typeof r=="string"?li(r):r,c=xs(o.pathname||"/",a);if(c==null)return null;let d=Ej(e);$S(d);let m=null;for(let h=0;m==null&&h<d.length;++h){let f=rk(c);m=ek(d[h],f,i)}return m}function Ej(e,r=[],a=[],i=""){let o=(c,d,m)=>{let h={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};h.relativePath.startsWith("/")&&(Ke(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=fs([i,h.relativePath]),x=a.concat(h);c.children&&c.children.length>0&&(Ke(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Ej(c.children,r,x,f)),!(c.path==null&&!c.index)&&r.push({path:f,score:QS(f,c.index),routesMeta:x})};return e.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,d);else for(let h of Tj(c.path))o(c,d,h)}),r}function Tj(e){let r=e.split("/");if(r.length===0)return[];let[a,...i]=r,o=a.endsWith("?"),c=a.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let d=Tj(i.join("/")),m=[];return m.push(...d.map(h=>h===""?c:[c,h].join("/"))),o&&m.push(...d),m.map(h=>e.startsWith("/")&&h===""?"/":h)}function $S(e){e.sort((r,a)=>r.score!==a.score?a.score-r.score:JS(r.routesMeta.map(i=>i.childrenIndex),a.routesMeta.map(i=>i.childrenIndex)))}var YS=/^:[\w-]+$/,GS=3,WS=2,KS=1,XS=10,ZS=-2,db=e=>e==="*";function QS(e,r){let a=e.split("/"),i=a.length;return a.some(db)&&(i+=ZS),r&&(i+=WS),a.filter(o=>!db(o)).reduce((o,c)=>o+(YS.test(c)?GS:c===""?KS:XS),i)}function JS(e,r){return e.length===r.length&&e.slice(0,-1).every((i,o)=>i===r[o])?e[e.length-1]-r[r.length-1]:0}function ek(e,r,a=!1){let{routesMeta:i}=e,o={},c="/",d=[];for(let m=0;m<i.length;++m){let h=i[m],f=m===i.length-1,x=c==="/"?r:r.slice(c.length)||"/",g=ad({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},x),v=h.route;if(!g&&f&&a&&!i[i.length-1].route.index&&(g=ad({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},x)),!g)return null;Object.assign(o,g.params),d.push({params:o,pathname:fs([c,g.pathname]),pathnameBase:ik(fs([c,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(c=fs([c,g.pathnameBase]))}return d}function ad(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,i]=tk(e.path,e.caseSensitive,e.end),o=r.match(a);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((f,{paramName:x,isOptional:g},v)=>{if(x==="*"){let b=m[v]||"";d=c.slice(0,c.length-b.length).replace(/(.)\/+$/,"$1")}const j=m[v];return g&&!j?f[x]=void 0:f[x]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:c,pathnameBase:d,pattern:e}}function tk(e,r=!1,a=!0){vr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,h)=>(i.push({paramName:m,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),i]}function rk(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return vr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function xs(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,i=e.charAt(a);return i&&i!=="/"?null:e.slice(a)||"/"}function sk(e,r="/"){let{pathname:a,search:i="",hash:o=""}=typeof e=="string"?li(e):e;return{pathname:a?a.startsWith("/")?a:ak(a,r):r,search:ok(i),hash:lk(o)}}function ak(e,r){let a=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function xh(e,r,a,i){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nk(e){return e.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function Hf(e){let r=nk(e);return r.map((a,i)=>i===r.length-1?a.pathname:a.pathnameBase)}function qf(e,r,a,i=!1){let o;typeof e=="string"?o=li(e):(o={...e},Ke(!o.pathname||!o.pathname.includes("?"),xh("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),xh("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),xh("#","search","hash",o)));let c=e===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=a;else{let g=r.length-1;if(!i&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),g-=1;o.pathname=v.join("/")}m=g>=0?r[g]:"/"}let h=sk(o,m),f=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(f||x)&&(h.pathname+="/"),h}var fs=e=>e.join("/").replace(/\/\/+/g,"/"),ik=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ok=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ck(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Rj=["POST","PUT","PATCH","DELETE"];new Set(Rj);var dk=["GET",...Rj];new Set(dk);var ci=w.createContext(null);ci.displayName="DataRouter";var Nd=w.createContext(null);Nd.displayName="DataRouterState";var Dj=w.createContext({isTransitioning:!1});Dj.displayName="ViewTransition";var uk=w.createContext(new Map);uk.displayName="Fetchers";var mk=w.createContext(null);mk.displayName="Await";var Er=w.createContext(null);Er.displayName="Navigation";var Jo=w.createContext(null);Jo.displayName="Location";var jr=w.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var $f=w.createContext(null);$f.displayName="RouteError";function hk(e,{relative:r}={}){Ke(di(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:i}=w.useContext(Er),{hash:o,pathname:c,search:d}=tl(e,{relative:r}),m=c;return a!=="/"&&(m=c==="/"?a:fs([a,c])),i.createHref({pathname:m,search:d,hash:o})}function di(){return w.useContext(Jo)!=null}function Bt(){return Ke(di(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Jo).location}var Oj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pj(e){w.useContext(Er).static||w.useLayoutEffect(e)}function Wt(){let{isDataRoute:e}=w.useContext(jr);return e?Ak():fk()}function fk(){Ke(di(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(ci),{basename:r,navigator:a}=w.useContext(Er),{matches:i}=w.useContext(jr),{pathname:o}=Bt(),c=JSON.stringify(Hf(i)),d=w.useRef(!1);return Pj(()=>{d.current=!0}),w.useCallback((h,f={})=>{if(vr(d.current,Oj),!d.current)return;if(typeof h=="number"){a.go(h);return}let x=qf(h,JSON.parse(c),o,f.relative==="path");e==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:fs([r,x.pathname])),(f.replace?a.replace:a.push)(x,f.state,f)},[r,a,c,o,e])}var pk=w.createContext(null);function xk(e){let r=w.useContext(jr).outlet;return r&&w.createElement(pk.Provider,{value:e},r)}function el(){let{matches:e}=w.useContext(jr),r=e[e.length-1];return r?r.params:{}}function tl(e,{relative:r}={}){let{matches:a}=w.useContext(jr),{pathname:i}=Bt(),o=JSON.stringify(Hf(a));return w.useMemo(()=>qf(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function yk(e,r){return Lj(e,r)}function Lj(e,r,a,i){var T;Ke(di(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=w.useContext(Er),{matches:d}=w.useContext(jr),m=d[d.length-1],h=m?m.params:{},f=m?m.pathname:"/",x=m?m.pathnameBase:"/",g=m&&m.route;{let R=g&&g.path||"";Mj(f,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=Bt(),j;if(r){let R=typeof r=="string"?li(r):r;Ke(x==="/"||((T=R.pathname)==null?void 0:T.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${R.pathname}" was given in the \`location\` prop.`),j=R}else j=v;let b=j.pathname||"/",C=b;if(x!=="/"){let R=x.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(R.length).join("/")}let k=!c&&a&&a.matches&&a.matches.length>0?a.matches:Aj(e,{pathname:C});vr(g||k!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),vr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=wk(k&&k.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:fs([x,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?x:fs([x,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),d,a,i);return r&&S?w.createElement(Jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},S):S}function gk(){let e=_k(),r=ck(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:c},"ErrorBoundary")," or"," ",w.createElement("code",{style:c},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},r),a?w.createElement("pre",{style:o},a):null,d)}var vk=w.createElement(gk,null),bk=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(jr.Provider,{value:this.props.routeContext},w.createElement($f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jk({routeContext:e,match:r,children:a}){let i=w.useContext(ci);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(jr.Provider,{value:e},a)}function wk(e,r=[],a=null,i=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(r.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let o=e,c=a==null?void 0:a.errors;if(c!=null){let h=o.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);Ke(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,m=-1;if(a)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(m=h),f.route.id){let{loaderData:x,errors:g}=a,v=f.route.loader&&!x.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((h,f,x)=>{let g,v=!1,j=null,b=null;a&&(g=c&&f.route.id?c[f.route.id]:void 0,j=f.route.errorElement||vk,d&&(m<0&&x===0?(Mj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):m===x&&(v=!0,b=f.route.hydrateFallbackElement||null)));let C=r.concat(o.slice(0,x+1)),k=()=>{let S;return g?S=j:v?S=b:f.route.Component?S=w.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,w.createElement(jk,{match:f,routeContext:{outlet:h,matches:C,isDataRoute:a!=null},children:S})};return a&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?w.createElement(bk,{location:a.location,revalidation:a.revalidation,component:j,error:g,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):k()},null)}function Yf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nk(e){let r=w.useContext(ci);return Ke(r,Yf(e)),r}function Ck(e){let r=w.useContext(Nd);return Ke(r,Yf(e)),r}function Sk(e){let r=w.useContext(jr);return Ke(r,Yf(e)),r}function Gf(e){let r=Sk(e),a=r.matches[r.matches.length-1];return Ke(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function kk(){return Gf("useRouteId")}function _k(){var i;let e=w.useContext($f),r=Ck("useRouteError"),a=Gf("useRouteError");return e!==void 0?e:(i=r.errors)==null?void 0:i[a]}function Ak(){let{router:e}=Nk("useNavigate"),r=Gf("useNavigate"),a=w.useRef(!1);return Pj(()=>{a.current=!0}),w.useCallback(async(o,c={})=>{vr(a.current,Oj),a.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:r,...c}))},[e,r])}var ub={};function Mj(e,r,a){!r&&!ub[e]&&(ub[e]=!0,vr(!1,a))}w.memo(Ek);function Ek({routes:e,future:r,state:a}){return Lj(e,void 0,a,r)}function Ot({to:e,replace:r,state:a,relative:i}){Ke(di(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(Er);vr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=w.useContext(jr),{pathname:d}=Bt(),m=Wt(),h=qf(e,Hf(c),d,i==="path"),f=JSON.stringify(h);return w.useEffect(()=>{m(JSON.parse(f),{replace:r,state:a,relative:i})},[m,f,i,r,a]),null}function Wf(e){return xk(e.context)}function Se(e){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tk({basename:e="/",children:r=null,location:a,navigationType:i="POP",navigator:o,static:c=!1}){Ke(!di(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof a=="string"&&(a=li(a));let{pathname:h="/",search:f="",hash:x="",state:g=null,key:v="default"}=a,j=w.useMemo(()=>{let b=xs(h,d);return b==null?null:{location:{pathname:b,search:f,hash:x,state:g,key:v},navigationType:i}},[d,h,f,x,g,v,i]);return vr(j!=null,`<Router basename="${d}"> is not able to match the URL "${h}${f}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:w.createElement(Er.Provider,{value:m},w.createElement(Jo.Provider,{children:r,value:j}))}function Rk({children:e,location:r}){return yk(Kh(e),r)}function Kh(e,r=[]){let a=[];return w.Children.forEach(e,(i,o)=>{if(!w.isValidElement(i))return;let c=[...r,o];if(i.type===w.Fragment){a.push.apply(a,Kh(i.props.children,c));return}Ke(i.type===Se,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Kh(i.props.children,c)),a.push(d)}),a}var qc="get",$c="application/x-www-form-urlencoded";function Cd(e){return e!=null&&typeof e.tagName=="string"}function Dk(e){return Cd(e)&&e.tagName.toLowerCase()==="button"}function Ok(e){return Cd(e)&&e.tagName.toLowerCase()==="form"}function Pk(e){return Cd(e)&&e.tagName.toLowerCase()==="input"}function Lk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Mk(e,r){return e.button===0&&(!r||r==="_self")&&!Lk(e)}function Xh(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,a)=>{let i=e[a];return r.concat(Array.isArray(i)?i.map(o=>[a,o]):[[a,i]])},[]))}function zk(e,r){let a=Xh(e);return r&&r.forEach((i,o)=>{a.has(o)||r.getAll(o).forEach(c=>{a.append(o,c)})}),a}var Oc=null;function Ik(){if(Oc===null)try{new FormData(document.createElement("form"),0),Oc=!1}catch{Oc=!0}return Oc}var Bk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yh(e){return e!=null&&!Bk.has(e)?(vr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):e}function Uk(e,r){let a,i,o,c,d;if(Ok(e)){let m=e.getAttribute("action");i=m?xs(m,r):null,a=e.getAttribute("method")||qc,o=yh(e.getAttribute("enctype"))||$c,c=new FormData(e)}else if(Dk(e)||Pk(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||m.getAttribute("action");if(i=h?xs(h,r):null,a=e.getAttribute("formmethod")||m.getAttribute("method")||qc,o=yh(e.getAttribute("formenctype"))||yh(m.getAttribute("enctype"))||$c,c=new FormData(m,e),!Ik()){let{name:f,type:x,value:g}=e;if(x==="image"){let v=f?`${f}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else f&&c.append(f,g)}}else{if(Cd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=qc,i=null,o=$c,d=e}return c&&o==="text/plain"&&(d=c,c=void 0),{action:i,method:a.toLowerCase(),encType:o,formData:c,body:d}}function Kf(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}async function Fk(e,r){if(e.id in r)return r[e.id];try{let a=await import(e.module);return r[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vk(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Hk(e,r,a){let i=await Promise.all(e.map(async o=>{let c=r.routes[o.route.id];if(c){let d=await Fk(c,a);return d.links?d.links():[]}return[]}));return Gk(i.flat(1).filter(Vk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mb(e,r,a,i,o,c){let d=(h,f)=>a[f]?h.route.id!==a[f].route.id:!0,m=(h,f)=>{var x;return a[f].pathname!==h.pathname||((x=a[f].route.path)==null?void 0:x.endsWith("*"))&&a[f].params["*"]!==h.params["*"]};return c==="assets"?r.filter((h,f)=>d(h,f)||m(h,f)):c==="data"?r.filter((h,f)=>{var g;let x=i.routes[h.route.id];if(!x||!x.hasLoader)return!1;if(d(h,f)||m(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((g=a[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function qk(e,r,{includeHydrateFallback:a}={}){return $k(e.map(i=>{let o=r.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function $k(e){return[...new Set(e)]}function Yk(e){let r={},a=Object.keys(e).sort();for(let i of a)r[i]=e[i];return r}function Gk(e,r){let a=new Set;return new Set(r),e.reduce((i,o)=>{let c=JSON.stringify(Yk(o));return a.has(c)||(a.add(c),i.push({key:c,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Wk=new Set([100,101,204,205]);function Kk(e,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname="_root.data":r&&xs(a.pathname,r)==="/"?a.pathname=`${r.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function zj(){let e=w.useContext(ci);return Kf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xk(){let e=w.useContext(Nd);return Kf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Xf=w.createContext(void 0);Xf.displayName="FrameworkContext";function Ij(){let e=w.useContext(Xf);return Kf(e,"You must render this element inside a <HydratedRouter> element"),e}function Zk(e,r){let a=w.useContext(Xf),[i,o]=w.useState(!1),[c,d]=w.useState(!1),{onFocus:m,onBlur:h,onMouseEnter:f,onMouseLeave:x,onTouchStart:g}=r,v=w.useRef(null);w.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let C=S=>{S.forEach(T=>{d(T.isIntersecting)})},k=new IntersectionObserver(C,{threshold:.5});return v.current&&k.observe(v.current),()=>{k.disconnect()}}},[e]),w.useEffect(()=>{if(i){let C=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(C)}}},[i]);let j=()=>{o(!0)},b=()=>{o(!1),d(!1)};return a?e!=="intent"?[c,v,{}]:[c,v,{onFocus:Co(m,j),onBlur:Co(h,b),onMouseEnter:Co(f,j),onMouseLeave:Co(x,b),onTouchStart:Co(g,j)}]:[!1,v,{}]}function Co(e,r){return a=>{e&&e(a),a.defaultPrevented||r(a)}}function Qk({page:e,...r}){let{router:a}=zj(),i=w.useMemo(()=>Aj(a.routes,e,a.basename),[a.routes,e,a.basename]);return i?w.createElement(e4,{page:e,matches:i,...r}):null}function Jk(e){let{manifest:r,routeModules:a}=Ij(),[i,o]=w.useState([]);return w.useEffect(()=>{let c=!1;return Hk(e,r,a).then(d=>{c||o(d)}),()=>{c=!0}},[e,r,a]),i}function e4({page:e,matches:r,...a}){let i=Bt(),{manifest:o,routeModules:c}=Ij(),{basename:d}=zj(),{loaderData:m,matches:h}=Xk(),f=w.useMemo(()=>mb(e,r,h,o,i,"data"),[e,r,h,o,i]),x=w.useMemo(()=>mb(e,r,h,o,i,"assets"),[e,r,h,o,i]),g=w.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let b=new Set,C=!1;if(r.forEach(S=>{var R;let T=o.routes[S.route.id];!T||!T.hasLoader||(!f.some(E=>E.route.id===S.route.id)&&S.route.id in m&&((R=c[S.route.id])!=null&&R.shouldRevalidate)||T.hasClientLoader?C=!0:b.add(S.route.id))}),b.size===0)return[];let k=Kk(e,d);return C&&b.size>0&&k.searchParams.set("_routes",r.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[k.pathname+k.search]},[d,m,i,o,f,r,e,c]),v=w.useMemo(()=>qk(x,o),[x,o]),j=Jk(x);return w.createElement(w.Fragment,null,g.map(b=>w.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...a})),v.map(b=>w.createElement("link",{key:b,rel:"modulepreload",href:b,...a})),j.map(({key:b,link:C})=>w.createElement("link",{key:b,...C})))}function t4(...e){return r=>{e.forEach(a=>{typeof a=="function"?a(r):a!=null&&(a.current=r)})}}var Bj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bj&&(window.__reactRouterVersion="7.6.0")}catch{}function r4({basename:e,children:r,window:a}){let i=w.useRef();i.current==null&&(i.current=US({window:a,v5Compat:!0}));let o=i.current,[c,d]=w.useState({action:o.action,location:o.location}),m=w.useCallback(h=>{w.startTransition(()=>d(h))},[d]);return w.useLayoutEffect(()=>o.listen(m),[o,m]),w.createElement(Tk,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:o})}var Uj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=w.forwardRef(function({onClick:r,discover:a="render",prefetch:i="none",relative:o,reloadDocument:c,replace:d,state:m,target:h,to:f,preventScrollReset:x,viewTransition:g,...v},j){let{basename:b}=w.useContext(Er),C=typeof f=="string"&&Uj.test(f),k,S=!1;if(typeof f=="string"&&C&&(k=f,Bj))try{let O=new URL(window.location.href),A=f.startsWith("//")?new URL(O.protocol+f):new URL(f),M=xs(A.pathname,b);A.origin===O.origin&&M!=null?f=M+A.search+A.hash:S=!0}catch{vr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=hk(f,{relative:o}),[R,E,D]=Zk(i,v),F=i4(f,{replace:d,state:m,target:h,preventScrollReset:x,relative:o,viewTransition:g});function V(O){r&&r(O),O.defaultPrevented||F(O)}let q=w.createElement("a",{...v,...D,href:k||T,onClick:S||c?r:V,ref:t4(j,E),target:h,"data-discover":!C&&a==="render"?"true":void 0});return R&&!C?w.createElement(w.Fragment,null,q,w.createElement(Qk,{page:T})):q});he.displayName="Link";var s4=w.forwardRef(function({"aria-current":r="page",caseSensitive:a=!1,className:i="",end:o=!1,style:c,to:d,viewTransition:m,children:h,...f},x){let g=tl(d,{relative:f.relative}),v=Bt(),j=w.useContext(Nd),{navigator:b,basename:C}=w.useContext(Er),k=j!=null&&m4(g)&&m===!0,S=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,T=v.pathname,R=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;a||(T=T.toLowerCase(),R=R?R.toLowerCase():null,S=S.toLowerCase()),R&&C&&(R=xs(R,C)||R);const E=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let D=T===S||!o&&T.startsWith(S)&&T.charAt(E)==="/",F=R!=null&&(R===S||!o&&R.startsWith(S)&&R.charAt(S.length)==="/"),V={isActive:D,isPending:F,isTransitioning:k},q=D?r:void 0,O;typeof i=="function"?O=i(V):O=[i,D?"active":null,F?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let A=typeof c=="function"?c(V):c;return w.createElement(he,{...f,"aria-current":q,className:O,ref:x,style:A,to:d,viewTransition:m},typeof h=="function"?h(V):h)});s4.displayName="NavLink";var a4=w.forwardRef(({discover:e="render",fetcherKey:r,navigate:a,reloadDocument:i,replace:o,state:c,method:d=qc,action:m,onSubmit:h,relative:f,preventScrollReset:x,viewTransition:g,...v},j)=>{let b=d4(),C=u4(m,{relative:f}),k=d.toLowerCase()==="get"?"get":"post",S=typeof m=="string"&&Uj.test(m),T=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let E=R.nativeEvent.submitter,D=(E==null?void 0:E.getAttribute("formmethod"))||d;b(E||R.currentTarget,{fetcherKey:r,method:D,navigate:a,replace:o,state:c,relative:f,preventScrollReset:x,viewTransition:g})};return w.createElement("form",{ref:j,method:k,action:C,onSubmit:i?h:T,...v,"data-discover":!S&&e==="render"?"true":void 0})});a4.displayName="Form";function n4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fj(e){let r=w.useContext(ci);return Ke(r,n4(e)),r}function i4(e,{target:r,replace:a,state:i,preventScrollReset:o,relative:c,viewTransition:d}={}){let m=Wt(),h=Bt(),f=tl(e,{relative:c});return w.useCallback(x=>{if(Mk(x,r)){x.preventDefault();let g=a!==void 0?a:Uo(h)===Uo(f);m(e,{replace:g,state:i,preventScrollReset:o,relative:c,viewTransition:d})}},[h,m,f,a,i,r,e,o,c,d])}function o4(e){vr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=w.useRef(Xh(e)),a=w.useRef(!1),i=Bt(),o=w.useMemo(()=>zk(i.search,a.current?null:r.current),[i.search]),c=Wt(),d=w.useCallback((m,h)=>{const f=Xh(typeof m=="function"?m(o):m);a.current=!0,c("?"+f,h)},[c,o]);return[o,d]}var l4=0,c4=()=>`__${String(++l4)}__`;function d4(){let{router:e}=Fj("useSubmit"),{basename:r}=w.useContext(Er),a=kk();return w.useCallback(async(i,o={})=>{let{action:c,method:d,encType:m,formData:h,body:f}=Uk(i,r);if(o.navigate===!1){let x=o.fetcherKey||c4();await e.fetch(x,a,o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await e.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,r,a])}function u4(e,{relative:r}={}){let{basename:a}=w.useContext(Er),i=w.useContext(jr);Ke(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...tl(e||".",{relative:r})},d=Bt();if(e==null){c.search=d.search;let m=new URLSearchParams(c.search),h=m.getAll("index");if(h.some(x=>x==="")){m.delete("index"),h.filter(g=>g).forEach(g=>m.append("index",g));let x=m.toString();c.search=x?`?${x}`:""}}return(!e||e===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:fs([a,c.pathname])),Uo(c)}function m4(e,r={}){let a=w.useContext(Dj);Ke(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Fj("useViewTransitionState"),o=tl(e,{relative:r.relative});if(!a.isTransitioning)return!1;let c=xs(a.currentLocation.pathname,i)||a.currentLocation.pathname,d=xs(a.nextLocation.pathname,i)||a.nextLocation.pathname;return ad(o.pathname,d)!=null||ad(o.pathname,c)!=null}[...Wk];let h4={data:""},f4=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||h4,p4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,x4=/\/\*[^]*?\*\/|  +/g,hb=/\n+/g,ra=(e,r)=>{let a="",i="",o="";for(let c in e){let d=e[c];c[0]=="@"?c[1]=="i"?a=c+" "+d+";":i+=c[1]=="f"?ra(d,c):c+"{"+ra(d,c[1]=="k"?"":r)+"}":typeof d=="object"?i+=ra(d,r?r.replace(/([^,])+/g,m=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,m):m?m+" "+h:h)):c):d!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ra.p?ra.p(c,d):c+":"+d+";")}return a+(r&&o?r+"{"+o+"}":o)+i},cs={},Vj=e=>{if(typeof e=="object"){let r="";for(let a in e)r+=a+Vj(e[a]);return r}return e},y4=(e,r,a,i,o)=>{let c=Vj(e),d=cs[c]||(cs[c]=(h=>{let f=0,x=11;for(;f<h.length;)x=101*x+h.charCodeAt(f++)>>>0;return"go"+x})(c));if(!cs[d]){let h=c!==e?e:(f=>{let x,g,v=[{}];for(;x=p4.exec(f.replace(x4,""));)x[4]?v.shift():x[3]?(g=x[3].replace(hb," ").trim(),v.unshift(v[0][g]=v[0][g]||{})):v[0][x[1]]=x[2].replace(hb," ").trim();return v[0]})(e);cs[d]=ra(o?{["@keyframes "+d]:h}:h,a?"":"."+d)}let m=a&&cs.g?cs.g:null;return a&&(cs.g=cs[d]),((h,f,x,g)=>{g?f.data=f.data.replace(g,h):f.data.indexOf(h)===-1&&(f.data=x?h+f.data:f.data+h)})(cs[d],r,i,m),d},g4=(e,r,a)=>e.reduce((i,o,c)=>{let d=r[c];if(d&&d.call){let m=d(a),h=m&&m.props&&m.props.className||/^go/.test(m)&&m;d=h?"."+h:m&&typeof m=="object"?m.props?"":ra(m,""):m===!1?"":m}return i+o+(d??"")},"");function Sd(e){let r=this||{},a=e.call?e(r.p):e;return y4(a.unshift?a.raw?g4(a,[].slice.call(arguments,1),r.p):a.reduce((i,o)=>Object.assign(i,o&&o.call?o(r.p):o),{}):a,f4(r.target),r.g,r.o,r.k)}let Hj,Zh,Qh;Sd.bind({g:1});let ys=Sd.bind({k:1});function v4(e,r,a,i){ra.p=r,Hj=e,Zh=a,Qh=i}function ma(e,r){let a=this||{};return function(){let i=arguments;function o(c,d){let m=Object.assign({},c),h=m.className||o.className;a.p=Object.assign({theme:Zh&&Zh()},m),a.o=/ *go\d+/.test(h),m.className=Sd.apply(a,i)+(h?" "+h:"");let f=e;return e[0]&&(f=m.as||e,delete m.as),Qh&&f[0]&&Qh(m),Hj(f,m)}return o}}var b4=e=>typeof e=="function",nd=(e,r)=>b4(e)?e(r):e,j4=(()=>{let e=0;return()=>(++e).toString()})(),qj=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");e=!r||r.matches}return e}})(),w4=20,$j=(e,r)=>{switch(r.type){case 0:return{...e,toasts:[r.toast,...e.toasts].slice(0,w4)};case 1:return{...e,toasts:e.toasts.map(c=>c.id===r.toast.id?{...c,...r.toast}:c)};case 2:let{toast:a}=r;return $j(e,{type:e.toasts.find(c=>c.id===a.id)?1:0,toast:a});case 3:let{toastId:i}=r;return{...e,toasts:e.toasts.map(c=>c.id===i||i===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(c=>c.id!==r.toastId)};case 5:return{...e,pausedAt:r.time};case 6:let o=r.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+o}))}}},Yc=[],Fa={toasts:[],pausedAt:void 0},sn=e=>{Fa=$j(Fa,e),Yc.forEach(r=>{r(Fa)})},N4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},C4=(e={})=>{let[r,a]=w.useState(Fa),i=w.useRef(Fa);w.useEffect(()=>(i.current!==Fa&&a(Fa),Yc.push(a),()=>{let c=Yc.indexOf(a);c>-1&&Yc.splice(c,1)}),[]);let o=r.toasts.map(c=>{var d,m,h;return{...e,...e[c.type],...c,removeDelay:c.removeDelay||((d=e[c.type])==null?void 0:d.removeDelay)||(e==null?void 0:e.removeDelay),duration:c.duration||((m=e[c.type])==null?void 0:m.duration)||(e==null?void 0:e.duration)||N4[c.type],style:{...e.style,...(h=e[c.type])==null?void 0:h.style,...c.style}}});return{...r,toasts:o}},S4=(e,r="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:(a==null?void 0:a.id)||j4()}),rl=e=>(r,a)=>{let i=S4(r,e,a);return sn({type:2,toast:i}),i.id},Ue=(e,r)=>rl("blank")(e,r);Ue.error=rl("error");Ue.success=rl("success");Ue.loading=rl("loading");Ue.custom=rl("custom");Ue.dismiss=e=>{sn({type:3,toastId:e})};Ue.remove=e=>sn({type:4,toastId:e});Ue.promise=(e,r,a)=>{let i=Ue.loading(r.loading,{...a,...a==null?void 0:a.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let c=r.success?nd(r.success,o):void 0;return c?Ue.success(c,{id:i,...a,...a==null?void 0:a.success}):Ue.dismiss(i),o}).catch(o=>{let c=r.error?nd(r.error,o):void 0;c?Ue.error(c,{id:i,...a,...a==null?void 0:a.error}):Ue.dismiss(i)}),e};var k4=(e,r)=>{sn({type:1,toast:{id:e,height:r}})},_4=()=>{sn({type:5,time:Date.now()})},To=new Map,A4=1e3,E4=(e,r=A4)=>{if(To.has(e))return;let a=setTimeout(()=>{To.delete(e),sn({type:4,toastId:e})},r);To.set(e,a)},T4=e=>{let{toasts:r,pausedAt:a}=C4(e);w.useEffect(()=>{if(a)return;let c=Date.now(),d=r.map(m=>{if(m.duration===1/0)return;let h=(m.duration||0)+m.pauseDuration-(c-m.createdAt);if(h<0){m.visible&&Ue.dismiss(m.id);return}return setTimeout(()=>Ue.dismiss(m.id),h)});return()=>{d.forEach(m=>m&&clearTimeout(m))}},[r,a]);let i=w.useCallback(()=>{a&&sn({type:6,time:Date.now()})},[a]),o=w.useCallback((c,d)=>{let{reverseOrder:m=!1,gutter:h=8,defaultPosition:f}=d||{},x=r.filter(j=>(j.position||f)===(c.position||f)&&j.height),g=x.findIndex(j=>j.id===c.id),v=x.filter((j,b)=>b<g&&j.visible).length;return x.filter(j=>j.visible).slice(...m?[v+1]:[0,v]).reduce((j,b)=>j+(b.height||0)+h,0)},[r]);return w.useEffect(()=>{r.forEach(c=>{if(c.dismissed)E4(c.id,c.removeDelay);else{let d=To.get(c.id);d&&(clearTimeout(d),To.delete(c.id))}})},[r]),{toasts:r,handlers:{updateHeight:k4,startPause:_4,endPause:i,calculateOffset:o}}},R4=ys`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,D4=ys`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,O4=ys`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,P4=ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${R4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${D4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${O4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,L4=ys`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,M4=ma("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${L4} 1s linear infinite;
`,z4=ys`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,I4=ys`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,B4=ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${I4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,U4=ma("div")`
  position: absolute;
`,F4=ma("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,V4=ys`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,H4=ma("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${V4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,q4=({toast:e})=>{let{icon:r,type:a,iconTheme:i}=e;return r!==void 0?typeof r=="string"?w.createElement(H4,null,r):r:a==="blank"?null:w.createElement(F4,null,w.createElement(M4,{...i}),a!=="loading"&&w.createElement(U4,null,a==="error"?w.createElement(P4,{...i}):w.createElement(B4,{...i})))},$4=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Y4=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,G4="0%{opacity:0;} 100%{opacity:1;}",W4="0%{opacity:1;} 100%{opacity:0;}",K4=ma("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,X4=ma("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Z4=(e,r)=>{let a=e.includes("top")?1:-1,[i,o]=qj()?[G4,W4]:[$4(a),Y4(a)];return{animation:r?`${ys(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ys(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Q4=w.memo(({toast:e,position:r,style:a,children:i})=>{let o=e.height?Z4(e.position||r||"top-center",e.visible):{opacity:0},c=w.createElement(q4,{toast:e}),d=w.createElement(X4,{...e.ariaProps},nd(e.message,e));return w.createElement(K4,{className:e.className,style:{...o,...a,...e.style}},typeof i=="function"?i({icon:c,message:d}):w.createElement(w.Fragment,null,c,d))});v4(w.createElement);var J4=({id:e,className:r,style:a,onHeightUpdate:i,children:o})=>{let c=w.useCallback(d=>{if(d){let m=()=>{let h=d.getBoundingClientRect().height;i(e,h)};m(),new MutationObserver(m).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return w.createElement("div",{ref:c,className:r,style:a},o)},e_=(e,r)=>{let a=e.includes("top"),i=a?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(a?1:-1)}px)`,...i,...o}},t_=Sd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Pc=16,r_=({reverseOrder:e,position:r="top-center",toastOptions:a,gutter:i,children:o,containerStyle:c,containerClassName:d})=>{let{toasts:m,handlers:h}=T4(a);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Pc,left:Pc,right:Pc,bottom:Pc,pointerEvents:"none",...c},className:d,onMouseEnter:h.startPause,onMouseLeave:h.endPause},m.map(f=>{let x=f.position||r,g=h.calculateOffset(f,{reverseOrder:e,gutter:i,defaultPosition:r}),v=e_(x,g);return w.createElement(J4,{id:f.id,key:f.id,onHeightUpdate:h.updateHeight,className:f.visible?t_:"",style:v},f.type==="custom"?nd(f.message,f):o?o(f):w.createElement(Q4,{toast:f,position:x}))}))},ge=Ue;const Jh=({size:e="medium",linkWrapper:r=!0,titleColor:a})=>{const i={small:"h-8 w-auto",medium:"h-12 w-auto",large:"h-16 w-auto"},o=a||"var(--brand-primary)",c=t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"relative",children:t.jsx("img",{src:"/logo.jpg",alt:"Anand Mobiles",className:`${i[e]} rounded-md transition-transform duration-300 hover:scale-105`,style:{borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"}})}),t.jsxs("span",{className:"ml-2.5 text-xl font-bold hidden sm:inline-block transition-colors duration-300",style:{color:o},children:[t.jsx("span",{children:"Anand"})," Mobiles"]})]});return r?t.jsx(he,{to:"/",className:"flex items-center hover:opacity-90 transition-opacity duration-300","aria-label":"Anand Mobiles Home",children:c}):t.jsx("div",{className:"flex items-center",children:c})},Br=({children:e,title:r,titleColor:a})=>t.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 rounded-full opacity-10 transform translate-x-1/3 -translate-y-1/3",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 rounded-full opacity-10 transform -translate-x-1/3 translate-y-1/3",style:{backgroundColor:"var(--brand-secondary)"}}),t.jsxs("div",{className:"max-w-md w-full space-y-7 p-8 rounded-xl animate-fadeIn relative z-10",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-large)",borderRadius:"var(--rounded-xl)",border:"1px solid var(--border-primary)"},children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Jh,{size:"large",titleColor:a}),t.jsx("h2",{className:"mt-6 text-center text-2xl font-bold",style:{color:"var(--text-primary)"},children:r}),t.jsx("div",{className:"h-1.5 w-20 mt-4 rounded-full",style:{background:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"}})]}),t.jsx("div",{className:"mt-8 relative",children:e})]})]});var Yj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fb=Oe.createContext&&Oe.createContext(Yj),s_=["attr","size","title"];function a_(e,r){if(e==null)return{};var a=n_(e,r),i,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)i=c[o],!(r.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}function n_(e,r){if(e==null)return{};var a={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(r.indexOf(i)>=0)continue;a[i]=e[i]}return a}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},id.apply(this,arguments)}function pb(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),a.push.apply(a,i)}return a}function od(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?pb(Object(a),!0).forEach(function(i){i_(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pb(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}function i_(e,r,a){return r=o_(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function o_(e){var r=l_(e,"string");return typeof r=="symbol"?r:r+""}function l_(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Gj(e){return e&&e.map((r,a)=>Oe.createElement(r.tag,od({key:a},r.attr),Gj(r.child)))}function ie(e){return r=>Oe.createElement(c_,id({attr:od({},e.attr)},r),Gj(e.child))}function c_(e){var r=a=>{var{attr:i,size:o,title:c}=e,d=a_(e,s_),m=o||a.size||"1em",h;return a.className&&(h=a.className),e.className&&(h=(h?h+" ":"")+e.className),Oe.createElement("svg",id({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,i,d,{className:h,style:od(od({color:e.color||a.color},a.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&Oe.createElement("title",null,c),e.children)};return fb!==void 0?Oe.createElement(fb.Consumer,null,a=>r(a)):r(Yj)}function d_(e){return ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(e)}function u_(e){return ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(e)}function m_(e){return ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(e)}function h_(e){return ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(e)}function f_(e){return ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2H0c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2h-4zM4 5h16v11H4V5zm8 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"},child:[]}]})(e)}function p_(e){return ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 1.99-.9 1.99-2L23 6c0-1.1-.9-2-2-2zm-2 14H5V6h14v12z"},child:[]}]})(e)}function x_(e){return ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(e)}const Be=({label:e,type:r="text",name:a,value:i,onChange:o,required:c=!1,error:d,placeholder:m,icon:h=null})=>{const f=j=>{const b={color:"var(--text-secondary)"};switch(j){case"email":return t.jsx(m_,{style:b,className:"h-5 w-5"});case"lock":return t.jsx(d_,{style:b,className:"h-5 w-5"});case"user":return t.jsx(x_,{style:b,className:"h-5 w-5"});case"phone":return t.jsx(h_,{style:b,className:"h-5 w-5"});default:return null}},x={borderRadius:"var(--rounded-md)",backgroundColor:"var(--bg-primary)",borderColor:d?"var(--error-color)":"var(--border-primary)",transition:"all 0.3s ease-in-out"},g={color:"var(--text-primary)"},v={color:"var(--error-color)"};return t.jsxs("div",{className:"mb-4 group",children:[t.jsxs("label",{htmlFor:a,className:"block text-sm font-medium mb-1.5 transition-colors duration-200",style:g,children:[e," ",c&&t.jsx("span",{style:v,children:"*"})]}),t.jsxs("div",{className:"relative rounded-md",children:[h&&t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none transition-all duration-200",children:typeof h=="string"?f(h):Oe.cloneElement(h,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:r,name:a,id:a,value:i,onChange:o,required:c,placeholder:m,className:`block w-full ${h?"pl-10":"px-4"} py-3 border shadow-sm focus:outline-none focus:ring-2 sm:text-sm transition-all duration-300 ${d?"focus:ring-red-500 border-red-300":"focus:ring-opacity-50 focus:border-transparent focus:ring-opacity-50 group-hover:border-opacity-70"}`,style:{...x,boxShadow:d?"0 0 0 1px var(--error-color)":"var(--shadow-small)",...d?{}:{focusBorderColor:"var(--brand-primary)",focusRing:"var(--brand-primary)"}}}),t.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 transform scale-x-0 transition-transform duration-300 ease-out ${d?"bg-red-500":""}`,style:{backgroundColor:d?"var(--error-color)":"var(--brand-primary)",transformOrigin:"left",width:"100%"}})]}),d&&t.jsxs("p",{className:"mt-2 text-sm flex items-center animate-fadeIn",style:v,children:[t.jsx(u_,{className:"h-4 w-4 mr-1.5"}),d]})]})},ue=({children:e,type:r="button",onClick:a,disabled:i=!1,className:o="",variant:c="primary",isLoading:d=!1,fullWidth:m=!0,size:h="md",icon:f=null})=>{const x="flex justify-center items-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-300 ",g={primary:"text-white bg-teal-600 hover:bg-teal-700 focus:ring-teal-500 border-transparent",secondary:"text-teal-700 bg-white hover:bg-gray-50 focus:ring-teal-500 border border-teal-600",outline:"text-gray-700 bg-white hover:bg-gray-50 border border-gray-300 focus:ring-teal-500",danger:"text-white bg-red-600 hover:bg-red-700 focus:ring-red-500 border-transparent"},v={primary:"text-white hover:shadow-lg focus:ring-offset-1",secondary:"hover:shadow-md focus:ring-offset-1 border",outline:"hover:shadow-md focus:ring-offset-1 border",danger:"text-white hover:shadow-md focus:ring-offset-1"},j={sm:"py-2 px-4 text-xs",md:"py-2.5 px-5 text-sm",lg:"py-3.5 px-7 text-base"},b=m?"w-full":"",C=()=>{switch(c){case"primary":return{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||d?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"secondary":return{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",borderColor:"var(--brand-primary)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||d?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"outline":return{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||d?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"danger":return{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:i||d?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};default:return{}}},k=()=>t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return t.jsxs("button",{type:r,onClick:a,disabled:i||d,className:`${x} ${g[c]} ${v[c]} ${j[h]} ${b} ${o} ${i||d?"opacity-60 cursor-not-allowed":""} transform hover:-translate-y-1 active:translate-y-0 relative overflow-hidden group`,style:C(),children:[t.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:t.jsx("span",{className:"absolute -inset-[100%] bg-white/20 transform rotate-45 transition-all origin-left scale-0 group-hover:scale-100 duration-500 group-active:duration-100"})}),t.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[d&&t.jsx(k,{}),f&&!d&&t.jsx("span",{className:"mr-2 flex items-center justify-center",children:f}),e]})]})},xb=e=>{let r;const a=new Set,i=(f,x)=>{const g=typeof f=="function"?f(r):f;if(!Object.is(g,r)){const v=r;r=x??(typeof g!="object"||g===null)?g:Object.assign({},r,g),a.forEach(j=>j(r,v))}},o=()=>r,m={setState:i,getState:o,getInitialState:()=>h,subscribe:f=>(a.add(f),()=>a.delete(f))},h=r=e(i,o,m);return m},y_=e=>e?xb(e):xb,g_=e=>e;function v_(e,r=g_){const a=Oe.useSyncExternalStore(e.subscribe,()=>r(e.getState()),()=>r(e.getInitialState()));return Oe.useDebugValue(a),a}const yb=e=>{const r=y_(e),a=i=>v_(r,i);return Object.assign(a,r),a},Kt=e=>e?yb(e):yb;function Wj(e,r){return function(){return e.apply(r,arguments)}}const{toString:b_}=Object.prototype,{getPrototypeOf:Zf}=Object,{iterator:kd,toStringTag:Kj}=Symbol,_d=(e=>r=>{const a=b_.call(r);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Tr=e=>(e=e.toLowerCase(),r=>_d(r)===e),Ad=e=>r=>typeof r===e,{isArray:ui}=Array,Fo=Ad("undefined");function j_(e){return e!==null&&!Fo(e)&&e.constructor!==null&&!Fo(e.constructor)&&Yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xj=Tr("ArrayBuffer");function w_(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&Xj(e.buffer),r}const N_=Ad("string"),Yt=Ad("function"),Zj=Ad("number"),Ed=e=>e!==null&&typeof e=="object",C_=e=>e===!0||e===!1,Gc=e=>{if(_d(e)!=="object")return!1;const r=Zf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Kj in e)&&!(kd in e)},S_=Tr("Date"),k_=Tr("File"),__=Tr("Blob"),A_=Tr("FileList"),E_=e=>Ed(e)&&Yt(e.pipe),T_=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Yt(e.append)&&((r=_d(e))==="formdata"||r==="object"&&Yt(e.toString)&&e.toString()==="[object FormData]"))},R_=Tr("URLSearchParams"),[D_,O_,P_,L_]=["ReadableStream","Request","Response","Headers"].map(Tr),M_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sl(e,r,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let i,o;if(typeof e!="object"&&(e=[e]),ui(e))for(i=0,o=e.length;i<o;i++)r.call(null,e[i],i,e);else{const c=a?Object.getOwnPropertyNames(e):Object.keys(e),d=c.length;let m;for(i=0;i<d;i++)m=c[i],r.call(null,e[m],m,e)}}function Qj(e,r){r=r.toLowerCase();const a=Object.keys(e);let i=a.length,o;for(;i-- >0;)if(o=a[i],r===o.toLowerCase())return o;return null}const Va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Jj=e=>!Fo(e)&&e!==Va;function ef(){const{caseless:e}=Jj(this)&&this||{},r={},a=(i,o)=>{const c=e&&Qj(r,o)||o;Gc(r[c])&&Gc(i)?r[c]=ef(r[c],i):Gc(i)?r[c]=ef({},i):ui(i)?r[c]=i.slice():r[c]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&sl(arguments[i],a);return r}const z_=(e,r,a,{allOwnKeys:i}={})=>(sl(r,(o,c)=>{a&&Yt(o)?e[c]=Wj(o,a):e[c]=o},{allOwnKeys:i}),e),I_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),B_=(e,r,a,i)=>{e.prototype=Object.create(r.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),a&&Object.assign(e.prototype,a)},U_=(e,r,a,i)=>{let o,c,d;const m={};if(r=r||{},e==null)return r;do{for(o=Object.getOwnPropertyNames(e),c=o.length;c-- >0;)d=o[c],(!i||i(d,e,r))&&!m[d]&&(r[d]=e[d],m[d]=!0);e=a!==!1&&Zf(e)}while(e&&(!a||a(e,r))&&e!==Object.prototype);return r},F_=(e,r,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=r.length;const i=e.indexOf(r,a);return i!==-1&&i===a},V_=e=>{if(!e)return null;if(ui(e))return e;let r=e.length;if(!Zj(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=e[r];return a},H_=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&Zf(Uint8Array)),q_=(e,r)=>{const i=(e&&e[kd]).call(e);let o;for(;(o=i.next())&&!o.done;){const c=o.value;r.call(e,c[0],c[1])}},$_=(e,r)=>{let a;const i=[];for(;(a=e.exec(r))!==null;)i.push(a);return i},Y_=Tr("HTMLFormElement"),G_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,i,o){return i.toUpperCase()+o}),gb=(({hasOwnProperty:e})=>(r,a)=>e.call(r,a))(Object.prototype),W_=Tr("RegExp"),e1=(e,r)=>{const a=Object.getOwnPropertyDescriptors(e),i={};sl(a,(o,c)=>{let d;(d=r(o,c,e))!==!1&&(i[c]=d||o)}),Object.defineProperties(e,i)},K_=e=>{e1(e,(r,a)=>{if(Yt(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const i=e[a];if(Yt(i)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},X_=(e,r)=>{const a={},i=o=>{o.forEach(c=>{a[c]=!0})};return ui(e)?i(e):i(String(e).split(r)),a},Z_=()=>{},Q_=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function J_(e){return!!(e&&Yt(e.append)&&e[Kj]==="FormData"&&e[kd])}const e3=e=>{const r=new Array(10),a=(i,o)=>{if(Ed(i)){if(r.indexOf(i)>=0)return;if(!("toJSON"in i)){r[o]=i;const c=ui(i)?[]:{};return sl(i,(d,m)=>{const h=a(d,o+1);!Fo(h)&&(c[m]=h)}),r[o]=void 0,c}}return i};return a(e,0)},t3=Tr("AsyncFunction"),r3=e=>e&&(Ed(e)||Yt(e))&&Yt(e.then)&&Yt(e.catch),t1=((e,r)=>e?setImmediate:r?((a,i)=>(Va.addEventListener("message",({source:o,data:c})=>{o===Va&&c===a&&i.length&&i.shift()()},!1),o=>{i.push(o),Va.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Yt(Va.postMessage)),s3=typeof queueMicrotask<"u"?queueMicrotask.bind(Va):typeof process<"u"&&process.nextTick||t1,a3=e=>e!=null&&Yt(e[kd]),Z={isArray:ui,isArrayBuffer:Xj,isBuffer:j_,isFormData:T_,isArrayBufferView:w_,isString:N_,isNumber:Zj,isBoolean:C_,isObject:Ed,isPlainObject:Gc,isReadableStream:D_,isRequest:O_,isResponse:P_,isHeaders:L_,isUndefined:Fo,isDate:S_,isFile:k_,isBlob:__,isRegExp:W_,isFunction:Yt,isStream:E_,isURLSearchParams:R_,isTypedArray:H_,isFileList:A_,forEach:sl,merge:ef,extend:z_,trim:M_,stripBOM:I_,inherits:B_,toFlatObject:U_,kindOf:_d,kindOfTest:Tr,endsWith:F_,toArray:V_,forEachEntry:q_,matchAll:$_,isHTMLForm:Y_,hasOwnProperty:gb,hasOwnProp:gb,reduceDescriptors:e1,freezeMethods:K_,toObjectSet:X_,toCamelCase:G_,noop:Z_,toFiniteNumber:Q_,findKey:Qj,global:Va,isContextDefined:Jj,isSpecCompliantForm:J_,toJSONObject:e3,isAsyncFn:t3,isThenable:r3,setImmediate:t1,asap:s3,isIterable:a3};function we(e,r,a,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}Z.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const r1=we.prototype,s1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{s1[e]={value:e}});Object.defineProperties(we,s1);Object.defineProperty(r1,"isAxiosError",{value:!0});we.from=(e,r,a,i,o,c)=>{const d=Object.create(r1);return Z.toFlatObject(e,d,function(h){return h!==Error.prototype},m=>m!=="isAxiosError"),we.call(d,e.message,r,a,i,o),d.cause=e,d.name=e.name,c&&Object.assign(d,c),d};const n3=null;function tf(e){return Z.isPlainObject(e)||Z.isArray(e)}function a1(e){return Z.endsWith(e,"[]")?e.slice(0,-2):e}function vb(e,r,a){return e?e.concat(r).map(function(o,c){return o=a1(o),!a&&c?"["+o+"]":o}).join(a?".":""):r}function i3(e){return Z.isArray(e)&&!e.some(tf)}const o3=Z.toFlatObject(Z,{},null,function(r){return/^is[A-Z]/.test(r)});function Td(e,r,a){if(!Z.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,a=Z.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,k){return!Z.isUndefined(k[C])});const i=a.metaTokens,o=a.visitor||x,c=a.dots,d=a.indexes,h=(a.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(r);if(!Z.isFunction(o))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(Z.isDate(b))return b.toISOString();if(!h&&Z.isBlob(b))throw new we("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(b)||Z.isTypedArray(b)?h&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function x(b,C,k){let S=b;if(b&&!k&&typeof b=="object"){if(Z.endsWith(C,"{}"))C=i?C:C.slice(0,-2),b=JSON.stringify(b);else if(Z.isArray(b)&&i3(b)||(Z.isFileList(b)||Z.endsWith(C,"[]"))&&(S=Z.toArray(b)))return C=a1(C),S.forEach(function(R,E){!(Z.isUndefined(R)||R===null)&&r.append(d===!0?vb([C],E,c):d===null?C:C+"[]",f(R))}),!1}return tf(b)?!0:(r.append(vb(k,C,c),f(b)),!1)}const g=[],v=Object.assign(o3,{defaultVisitor:x,convertValue:f,isVisitable:tf});function j(b,C){if(!Z.isUndefined(b)){if(g.indexOf(b)!==-1)throw Error("Circular reference detected in "+C.join("."));g.push(b),Z.forEach(b,function(S,T){(!(Z.isUndefined(S)||S===null)&&o.call(r,S,Z.isString(T)?T.trim():T,C,v))===!0&&j(S,C?C.concat(T):[T])}),g.pop()}}if(!Z.isObject(e))throw new TypeError("data must be an object");return j(e),r}function bb(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return r[i]})}function Qf(e,r){this._pairs=[],e&&Td(e,this,r)}const n1=Qf.prototype;n1.append=function(r,a){this._pairs.push([r,a])};n1.toString=function(r){const a=r?function(i){return r.call(this,i,bb)}:bb;return this._pairs.map(function(o){return a(o[0])+"="+a(o[1])},"").join("&")};function l3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function i1(e,r,a){if(!r)return e;const i=a&&a.encode||l3;Z.isFunction(a)&&(a={serialize:a});const o=a&&a.serialize;let c;if(o?c=o(r,a):c=Z.isURLSearchParams(r)?r.toString():new Qf(r,a).toString(i),c){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class jb{constructor(){this.handlers=[]}use(r,a,i){return this.handlers.push({fulfilled:r,rejected:a,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Z.forEach(this.handlers,function(i){i!==null&&r(i)})}}const o1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c3=typeof URLSearchParams<"u"?URLSearchParams:Qf,d3=typeof FormData<"u"?FormData:null,u3=typeof Blob<"u"?Blob:null,m3={isBrowser:!0,classes:{URLSearchParams:c3,FormData:d3,Blob:u3},protocols:["http","https","file","blob","url","data"]},Jf=typeof window<"u"&&typeof document<"u",rf=typeof navigator=="object"&&navigator||void 0,h3=Jf&&(!rf||["ReactNative","NativeScript","NS"].indexOf(rf.product)<0),f3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p3=Jf&&window.location.href||"http://localhost",x3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jf,hasStandardBrowserEnv:h3,hasStandardBrowserWebWorkerEnv:f3,navigator:rf,origin:p3},Symbol.toStringTag,{value:"Module"})),Tt={...x3,...m3};function y3(e,r){return Td(e,new Tt.classes.URLSearchParams,Object.assign({visitor:function(a,i,o,c){return Tt.isNode&&Z.isBuffer(a)?(this.append(i,a.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},r))}function g3(e){return Z.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function v3(e){const r={},a=Object.keys(e);let i;const o=a.length;let c;for(i=0;i<o;i++)c=a[i],r[c]=e[c];return r}function l1(e){function r(a,i,o,c){let d=a[c++];if(d==="__proto__")return!0;const m=Number.isFinite(+d),h=c>=a.length;return d=!d&&Z.isArray(o)?o.length:d,h?(Z.hasOwnProp(o,d)?o[d]=[o[d],i]:o[d]=i,!m):((!o[d]||!Z.isObject(o[d]))&&(o[d]=[]),r(a,i,o[d],c)&&Z.isArray(o[d])&&(o[d]=v3(o[d])),!m)}if(Z.isFormData(e)&&Z.isFunction(e.entries)){const a={};return Z.forEachEntry(e,(i,o)=>{r(g3(i),o,a,0)}),a}return null}function b3(e,r,a){if(Z.isString(e))try{return(r||JSON.parse)(e),Z.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(a||JSON.stringify)(e)}const al={transitional:o1,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const i=a.getContentType()||"",o=i.indexOf("application/json")>-1,c=Z.isObject(r);if(c&&Z.isHTMLForm(r)&&(r=new FormData(r)),Z.isFormData(r))return o?JSON.stringify(l1(r)):r;if(Z.isArrayBuffer(r)||Z.isBuffer(r)||Z.isStream(r)||Z.isFile(r)||Z.isBlob(r)||Z.isReadableStream(r))return r;if(Z.isArrayBufferView(r))return r.buffer;if(Z.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let m;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return y3(r,this.formSerializer).toString();if((m=Z.isFileList(r))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Td(m?{"files[]":r}:r,h&&new h,this.formSerializer)}}return c||o?(a.setContentType("application/json",!1),b3(r)):r}],transformResponse:[function(r){const a=this.transitional||al.transitional,i=a&&a.forcedJSONParsing,o=this.responseType==="json";if(Z.isResponse(r)||Z.isReadableStream(r))return r;if(r&&Z.isString(r)&&(i&&!this.responseType||o)){const d=!(a&&a.silentJSONParsing)&&o;try{return JSON.parse(r)}catch(m){if(d)throw m.name==="SyntaxError"?we.from(m,we.ERR_BAD_RESPONSE,this,null,this.response):m}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tt.classes.FormData,Blob:Tt.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],e=>{al.headers[e]={}});const j3=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w3=e=>{const r={};let a,i,o;return e&&e.split(`
`).forEach(function(d){o=d.indexOf(":"),a=d.substring(0,o).trim().toLowerCase(),i=d.substring(o+1).trim(),!(!a||r[a]&&j3[a])&&(a==="set-cookie"?r[a]?r[a].push(i):r[a]=[i]:r[a]=r[a]?r[a]+", "+i:i)}),r},wb=Symbol("internals");function So(e){return e&&String(e).trim().toLowerCase()}function Wc(e){return e===!1||e==null?e:Z.isArray(e)?e.map(Wc):String(e)}function N3(e){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=a.exec(e);)r[i[1]]=i[2];return r}const C3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gh(e,r,a,i,o){if(Z.isFunction(i))return i.call(this,r,a);if(o&&(r=a),!!Z.isString(r)){if(Z.isString(i))return r.indexOf(i)!==-1;if(Z.isRegExp(i))return i.test(r)}}function S3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,i)=>a.toUpperCase()+i)}function k3(e,r){const a=Z.toCamelCase(" "+r);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+a,{value:function(o,c,d){return this[i].call(this,r,o,c,d)},configurable:!0})})}let Gt=class{constructor(r){r&&this.set(r)}set(r,a,i){const o=this;function c(m,h,f){const x=So(h);if(!x)throw new Error("header name must be a non-empty string");const g=Z.findKey(o,x);(!g||o[g]===void 0||f===!0||f===void 0&&o[g]!==!1)&&(o[g||h]=Wc(m))}const d=(m,h)=>Z.forEach(m,(f,x)=>c(f,x,h));if(Z.isPlainObject(r)||r instanceof this.constructor)d(r,a);else if(Z.isString(r)&&(r=r.trim())&&!C3(r))d(w3(r),a);else if(Z.isObject(r)&&Z.isIterable(r)){let m={},h,f;for(const x of r){if(!Z.isArray(x))throw TypeError("Object iterator must return a key-value pair");m[f=x[0]]=(h=m[f])?Z.isArray(h)?[...h,x[1]]:[h,x[1]]:x[1]}d(m,a)}else r!=null&&c(a,r,i);return this}get(r,a){if(r=So(r),r){const i=Z.findKey(this,r);if(i){const o=this[i];if(!a)return o;if(a===!0)return N3(o);if(Z.isFunction(a))return a.call(this,o,i);if(Z.isRegExp(a))return a.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=So(r),r){const i=Z.findKey(this,r);return!!(i&&this[i]!==void 0&&(!a||gh(this,this[i],i,a)))}return!1}delete(r,a){const i=this;let o=!1;function c(d){if(d=So(d),d){const m=Z.findKey(i,d);m&&(!a||gh(i,i[m],m,a))&&(delete i[m],o=!0)}}return Z.isArray(r)?r.forEach(c):c(r),o}clear(r){const a=Object.keys(this);let i=a.length,o=!1;for(;i--;){const c=a[i];(!r||gh(this,this[c],c,r,!0))&&(delete this[c],o=!0)}return o}normalize(r){const a=this,i={};return Z.forEach(this,(o,c)=>{const d=Z.findKey(i,c);if(d){a[d]=Wc(o),delete a[c];return}const m=r?S3(c):String(c).trim();m!==c&&delete a[c],a[m]=Wc(o),i[m]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return Z.forEach(this,(i,o)=>{i!=null&&i!==!1&&(a[o]=r&&Z.isArray(i)?i.join(", "):i)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const i=new this(r);return a.forEach(o=>i.set(o)),i}static accessor(r){const i=(this[wb]=this[wb]={accessors:{}}).accessors,o=this.prototype;function c(d){const m=So(d);i[m]||(k3(o,d),i[m]=!0)}return Z.isArray(r)?r.forEach(c):c(r),this}};Gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(Gt.prototype,({value:e},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(i){this[a]=i}}});Z.freezeMethods(Gt);function vh(e,r){const a=this||al,i=r||a,o=Gt.from(i.headers);let c=i.data;return Z.forEach(e,function(m){c=m.call(a,c,o.normalize(),r?r.status:void 0)}),o.normalize(),c}function c1(e){return!!(e&&e.__CANCEL__)}function mi(e,r,a){we.call(this,e??"canceled",we.ERR_CANCELED,r,a),this.name="CanceledError"}Z.inherits(mi,we,{__CANCEL__:!0});function d1(e,r,a){const i=a.config.validateStatus;!a.status||!i||i(a.status)?e(a):r(new we("Request failed with status code "+a.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function _3(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function A3(e,r){e=e||10;const a=new Array(e),i=new Array(e);let o=0,c=0,d;return r=r!==void 0?r:1e3,function(h){const f=Date.now(),x=i[c];d||(d=f),a[o]=h,i[o]=f;let g=c,v=0;for(;g!==o;)v+=a[g++],g=g%e;if(o=(o+1)%e,o===c&&(c=(c+1)%e),f-d<r)return;const j=x&&f-x;return j?Math.round(v*1e3/j):void 0}}function E3(e,r){let a=0,i=1e3/r,o,c;const d=(f,x=Date.now())=>{a=x,o=null,c&&(clearTimeout(c),c=null),e.apply(null,f)};return[(...f)=>{const x=Date.now(),g=x-a;g>=i?d(f,x):(o=f,c||(c=setTimeout(()=>{c=null,d(o)},i-g)))},()=>o&&d(o)]}const ld=(e,r,a=3)=>{let i=0;const o=A3(50,250);return E3(c=>{const d=c.loaded,m=c.lengthComputable?c.total:void 0,h=d-i,f=o(h),x=d<=m;i=d;const g={loaded:d,total:m,progress:m?d/m:void 0,bytes:h,rate:f||void 0,estimated:f&&m&&x?(m-d)/f:void 0,event:c,lengthComputable:m!=null,[r?"download":"upload"]:!0};e(g)},a)},Nb=(e,r)=>{const a=e!=null;return[i=>r[0]({lengthComputable:a,total:e,loaded:i}),r[1]]},Cb=e=>(...r)=>Z.asap(()=>e(...r)),T3=Tt.hasStandardBrowserEnv?((e,r)=>a=>(a=new URL(a,Tt.origin),e.protocol===a.protocol&&e.host===a.host&&(r||e.port===a.port)))(new URL(Tt.origin),Tt.navigator&&/(msie|trident)/i.test(Tt.navigator.userAgent)):()=>!0,R3=Tt.hasStandardBrowserEnv?{write(e,r,a,i,o,c){const d=[e+"="+encodeURIComponent(r)];Z.isNumber(a)&&d.push("expires="+new Date(a).toGMTString()),Z.isString(i)&&d.push("path="+i),Z.isString(o)&&d.push("domain="+o),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function D3(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function O3(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function u1(e,r,a){let i=!D3(r);return e&&(i||a==!1)?O3(e,r):r}const Sb=e=>e instanceof Gt?{...e}:e;function Ja(e,r){r=r||{};const a={};function i(f,x,g,v){return Z.isPlainObject(f)&&Z.isPlainObject(x)?Z.merge.call({caseless:v},f,x):Z.isPlainObject(x)?Z.merge({},x):Z.isArray(x)?x.slice():x}function o(f,x,g,v){if(Z.isUndefined(x)){if(!Z.isUndefined(f))return i(void 0,f,g,v)}else return i(f,x,g,v)}function c(f,x){if(!Z.isUndefined(x))return i(void 0,x)}function d(f,x){if(Z.isUndefined(x)){if(!Z.isUndefined(f))return i(void 0,f)}else return i(void 0,x)}function m(f,x,g){if(g in r)return i(f,x);if(g in e)return i(void 0,f)}const h={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:m,headers:(f,x,g)=>o(Sb(f),Sb(x),g,!0)};return Z.forEach(Object.keys(Object.assign({},e,r)),function(x){const g=h[x]||o,v=g(e[x],r[x],x);Z.isUndefined(v)&&g!==m||(a[x]=v)}),a}const m1=e=>{const r=Ja({},e);let{data:a,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:c,headers:d,auth:m}=r;r.headers=d=Gt.from(d),r.url=i1(u1(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),m&&d.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let h;if(Z.isFormData(a)){if(Tt.hasStandardBrowserEnv||Tt.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((h=d.getContentType())!==!1){const[f,...x]=h?h.split(";").map(g=>g.trim()).filter(Boolean):[];d.setContentType([f||"multipart/form-data",...x].join("; "))}}if(Tt.hasStandardBrowserEnv&&(i&&Z.isFunction(i)&&(i=i(r)),i||i!==!1&&T3(r.url))){const f=o&&c&&R3.read(c);f&&d.set(o,f)}return r},P3=typeof XMLHttpRequest<"u",L3=P3&&function(e){return new Promise(function(a,i){const o=m1(e);let c=o.data;const d=Gt.from(o.headers).normalize();let{responseType:m,onUploadProgress:h,onDownloadProgress:f}=o,x,g,v,j,b;function C(){j&&j(),b&&b(),o.cancelToken&&o.cancelToken.unsubscribe(x),o.signal&&o.signal.removeEventListener("abort",x)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function S(){if(!k)return;const R=Gt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),D={data:!m||m==="text"||m==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:R,config:e,request:k};d1(function(V){a(V),C()},function(V){i(V),C()},D),k=null}"onloadend"in k?k.onloadend=S:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(S)},k.onabort=function(){k&&(i(new we("Request aborted",we.ECONNABORTED,e,k)),k=null)},k.onerror=function(){i(new we("Network Error",we.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let E=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const D=o.transitional||o1;o.timeoutErrorMessage&&(E=o.timeoutErrorMessage),i(new we(E,D.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,e,k)),k=null},c===void 0&&d.setContentType(null),"setRequestHeader"in k&&Z.forEach(d.toJSON(),function(E,D){k.setRequestHeader(D,E)}),Z.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),m&&m!=="json"&&(k.responseType=o.responseType),f&&([v,b]=ld(f,!0),k.addEventListener("progress",v)),h&&k.upload&&([g,j]=ld(h),k.upload.addEventListener("progress",g),k.upload.addEventListener("loadend",j)),(o.cancelToken||o.signal)&&(x=R=>{k&&(i(!R||R.type?new mi(null,e,k):R),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(x),o.signal&&(o.signal.aborted?x():o.signal.addEventListener("abort",x)));const T=_3(o.url);if(T&&Tt.protocols.indexOf(T)===-1){i(new we("Unsupported protocol "+T+":",we.ERR_BAD_REQUEST,e));return}k.send(c||null)})},M3=(e,r)=>{const{length:a}=e=e?e.filter(Boolean):[];if(r||a){let i=new AbortController,o;const c=function(f){if(!o){o=!0,m();const x=f instanceof Error?f:this.reason;i.abort(x instanceof we?x:new mi(x instanceof Error?x.message:x))}};let d=r&&setTimeout(()=>{d=null,c(new we(`timeout ${r} of ms exceeded`,we.ETIMEDOUT))},r);const m=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(c):f.removeEventListener("abort",c)}),e=null)};e.forEach(f=>f.addEventListener("abort",c));const{signal:h}=i;return h.unsubscribe=()=>Z.asap(m),h}},z3=function*(e,r){let a=e.byteLength;if(a<r){yield e;return}let i=0,o;for(;i<a;)o=i+r,yield e.slice(i,o),i=o},I3=async function*(e,r){for await(const a of B3(e))yield*z3(a,r)},B3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:a,value:i}=await r.read();if(a)break;yield i}}finally{await r.cancel()}},kb=(e,r,a,i)=>{const o=I3(e,r);let c=0,d,m=h=>{d||(d=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:f,value:x}=await o.next();if(f){m(),h.close();return}let g=x.byteLength;if(a){let v=c+=g;a(v)}h.enqueue(new Uint8Array(x))}catch(f){throw m(f),f}},cancel(h){return m(h),o.return()}},{highWaterMark:2})},Rd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",h1=Rd&&typeof ReadableStream=="function",U3=Rd&&(typeof TextEncoder=="function"?(e=>r=>e.encode(r))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),f1=(e,...r)=>{try{return!!e(...r)}catch{return!1}},F3=h1&&f1(()=>{let e=!1;const r=new Request(Tt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!r}),_b=64*1024,sf=h1&&f1(()=>Z.isReadableStream(new Response("").body)),cd={stream:sf&&(e=>e.body)};Rd&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!cd[r]&&(cd[r]=Z.isFunction(e[r])?a=>a[r]():(a,i)=>{throw new we(`Response type '${r}' is not supported`,we.ERR_NOT_SUPPORT,i)})})})(new Response);const V3=async e=>{if(e==null)return 0;if(Z.isBlob(e))return e.size;if(Z.isSpecCompliantForm(e))return(await new Request(Tt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(e)||Z.isArrayBuffer(e))return e.byteLength;if(Z.isURLSearchParams(e)&&(e=e+""),Z.isString(e))return(await U3(e)).byteLength},H3=async(e,r)=>{const a=Z.toFiniteNumber(e.getContentLength());return a??V3(r)},q3=Rd&&(async e=>{let{url:r,method:a,data:i,signal:o,cancelToken:c,timeout:d,onDownloadProgress:m,onUploadProgress:h,responseType:f,headers:x,withCredentials:g="same-origin",fetchOptions:v}=m1(e);f=f?(f+"").toLowerCase():"text";let j=M3([o,c&&c.toAbortSignal()],d),b;const C=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let k;try{if(h&&F3&&a!=="get"&&a!=="head"&&(k=await H3(x,i))!==0){let D=new Request(r,{method:"POST",body:i,duplex:"half"}),F;if(Z.isFormData(i)&&(F=D.headers.get("content-type"))&&x.setContentType(F),D.body){const[V,q]=Nb(k,ld(Cb(h)));i=kb(D.body,_b,V,q)}}Z.isString(g)||(g=g?"include":"omit");const S="credentials"in Request.prototype;b=new Request(r,{...v,signal:j,method:a.toUpperCase(),headers:x.normalize().toJSON(),body:i,duplex:"half",credentials:S?g:void 0});let T=await fetch(b);const R=sf&&(f==="stream"||f==="response");if(sf&&(m||R&&C)){const D={};["status","statusText","headers"].forEach(O=>{D[O]=T[O]});const F=Z.toFiniteNumber(T.headers.get("content-length")),[V,q]=m&&Nb(F,ld(Cb(m),!0))||[];T=new Response(kb(T.body,_b,V,()=>{q&&q(),C&&C()}),D)}f=f||"text";let E=await cd[Z.findKey(cd,f)||"text"](T,e);return!R&&C&&C(),await new Promise((D,F)=>{d1(D,F,{data:E,headers:Gt.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:b})})}catch(S){throw C&&C(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,e,b),{cause:S.cause||S}):we.from(S,S&&S.code,e,b)}}),af={http:n3,xhr:L3,fetch:q3};Z.forEach(af,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const Ab=e=>`- ${e}`,$3=e=>Z.isFunction(e)||e===null||e===!1,p1={getAdapter:e=>{e=Z.isArray(e)?e:[e];const{length:r}=e;let a,i;const o={};for(let c=0;c<r;c++){a=e[c];let d;if(i=a,!$3(a)&&(i=af[(d=String(a)).toLowerCase()],i===void 0))throw new we(`Unknown adapter '${d}'`);if(i)break;o[d||"#"+c]=i}if(!i){const c=Object.entries(o).map(([m,h])=>`adapter ${m} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=r?c.length>1?`since :
`+c.map(Ab).join(`
`):" "+Ab(c[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i},adapters:af};function bh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mi(null,e)}function Eb(e){return bh(e),e.headers=Gt.from(e.headers),e.data=vh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),p1.getAdapter(e.adapter||al.adapter)(e).then(function(i){return bh(e),i.data=vh.call(e,e.transformResponse,i),i.headers=Gt.from(i.headers),i},function(i){return c1(i)||(bh(e),i&&i.response&&(i.response.data=vh.call(e,e.transformResponse,i.response),i.response.headers=Gt.from(i.response.headers))),Promise.reject(i)})}const x1="1.9.0",Dd={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Dd[e]=function(i){return typeof i===e||"a"+(r<1?"n ":" ")+e}});const Tb={};Dd.transitional=function(r,a,i){function o(c,d){return"[Axios v"+x1+"] Transitional option '"+c+"'"+d+(i?". "+i:"")}return(c,d,m)=>{if(r===!1)throw new we(o(d," has been removed"+(a?" in "+a:"")),we.ERR_DEPRECATED);return a&&!Tb[d]&&(Tb[d]=!0,console.warn(o(d," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(c,d,m):!0}};Dd.spelling=function(r){return(a,i)=>(console.warn(`${i} is likely a misspelling of ${r}`),!0)};function Y3(e,r,a){if(typeof e!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;for(;o-- >0;){const c=i[o],d=r[c];if(d){const m=e[c],h=m===void 0||d(m,c,e);if(h!==!0)throw new we("option "+c+" must be "+h,we.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new we("Unknown option "+c,we.ERR_BAD_OPTION)}}const Kc={assertOptions:Y3,validators:Dd},zr=Kc.validators;let Wa=class{constructor(r){this.defaults=r||{},this.interceptors={request:new jb,response:new jb}}async request(r,a){try{return await this._request(r,a)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=Ja(this.defaults,a);const{transitional:i,paramsSerializer:o,headers:c}=a;i!==void 0&&Kc.assertOptions(i,{silentJSONParsing:zr.transitional(zr.boolean),forcedJSONParsing:zr.transitional(zr.boolean),clarifyTimeoutError:zr.transitional(zr.boolean)},!1),o!=null&&(Z.isFunction(o)?a.paramsSerializer={serialize:o}:Kc.assertOptions(o,{encode:zr.function,serialize:zr.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Kc.assertOptions(a,{baseUrl:zr.spelling("baseURL"),withXsrfToken:zr.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let d=c&&Z.merge(c.common,c[a.method]);c&&Z.forEach(["delete","get","head","post","put","patch","common"],b=>{delete c[b]}),a.headers=Gt.concat(d,c);const m=[];let h=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(a)===!1||(h=h&&C.synchronous,m.unshift(C.fulfilled,C.rejected))});const f=[];this.interceptors.response.forEach(function(C){f.push(C.fulfilled,C.rejected)});let x,g=0,v;if(!h){const b=[Eb.bind(this),void 0];for(b.unshift.apply(b,m),b.push.apply(b,f),v=b.length,x=Promise.resolve(a);g<v;)x=x.then(b[g++],b[g++]);return x}v=m.length;let j=a;for(g=0;g<v;){const b=m[g++],C=m[g++];try{j=b(j)}catch(k){C.call(this,k);break}}try{x=Eb.call(this,j)}catch(b){return Promise.reject(b)}for(g=0,v=f.length;g<v;)x=x.then(f[g++],f[g++]);return x}getUri(r){r=Ja(this.defaults,r);const a=u1(r.baseURL,r.url,r.allowAbsoluteUrls);return i1(a,r.params,r.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(r){Wa.prototype[r]=function(a,i){return this.request(Ja(i||{},{method:r,url:a,data:(i||{}).data}))}});Z.forEach(["post","put","patch"],function(r){function a(i){return function(c,d,m){return this.request(Ja(m||{},{method:r,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}Wa.prototype[r]=a(),Wa.prototype[r+"Form"]=a(!0)});let G3=class y1{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(c){a=c});const i=this;this.promise.then(o=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](o);i._listeners=null}),this.promise.then=o=>{let c;const d=new Promise(m=>{i.subscribe(m),c=m}).then(o);return d.cancel=function(){i.unsubscribe(c)},d},r(function(c,d,m){i.reason||(i.reason=new mi(c,d,m),a(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=i=>{r.abort(i)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new y1(function(o){r=o}),cancel:r}}};function W3(e){return function(a){return e.apply(null,a)}}function K3(e){return Z.isObject(e)&&e.isAxiosError===!0}const nf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nf).forEach(([e,r])=>{nf[r]=e});function g1(e){const r=new Wa(e),a=Wj(Wa.prototype.request,r);return Z.extend(a,Wa.prototype,r,{allOwnKeys:!0}),Z.extend(a,r,null,{allOwnKeys:!0}),a.create=function(o){return g1(Ja(e,o))},a}const et=g1(al);et.Axios=Wa;et.CanceledError=mi;et.CancelToken=G3;et.isCancel=c1;et.VERSION=x1;et.toFormData=Td;et.AxiosError=we;et.Cancel=et.CanceledError;et.all=function(r){return Promise.all(r)};et.spread=W3;et.isAxiosError=K3;et.mergeConfig=Ja;et.AxiosHeaders=Gt;et.formToJSON=e=>l1(Z.isHTMLForm(e)?new FormData(e):e);et.getAdapter=p1.getAdapter;et.HttpStatusCode=nf;et.default=et;const{Axios:a8,AxiosError:n8,CanceledError:i8,isCancel:o8,CancelToken:l8,VERSION:c8,all:d8,Cancel:u8,isAxiosError:m8,spread:h8,toFormData:f8,AxiosHeaders:p8,HttpStatusCode:x8,formToJSON:y8,getAdapter:g8,mergeConfig:v8}=et,Ha="http://127.0.0.1:8000/api",en="anand_mobiles_token",ds="anand_mobiles_user",Ro="delivery_partner_token",ot={HOME:"/",LOGIN:"/login",PROFILE:"/profile",PRODUCTS:"/products",CART:"/cart",ORDERS:"/orders",WISHLIST:"/wishlist"},Te=et.create({baseURL:Ha,headers:{"Content-Type":"application/json"}});Te.interceptors.request.use(e=>{const r=localStorage.getItem(en);return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));Te.interceptors.response.use(e=>e,e=>{var r;return((r=e.response)==null?void 0:r.status)===401&&(localStorage.removeItem(en),localStorage.removeItem(ds)),Promise.reject(e)});const _e=et.create({baseURL:Ha,headers:{"Content-Type":"application/json"}});_e.interceptors.request.use(e=>{const r=localStorage.getItem("admin_token");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));_e.interceptors.response.use(e=>e,e=>{var r;return((r=e.response)==null?void 0:r.status)===401&&localStorage.removeItem("admin_token"),Promise.reject(e)});const Ua=et.create({baseURL:Ha,headers:{"Content-Type":"application/json"}});Ua.interceptors.request.use(e=>{const r=localStorage.getItem(Ro);return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));Ua.interceptors.response.use(e=>e,e=>{var r;return((r=e.response)==null?void 0:r.status)===401&&localStorage.removeItem(Ro),Promise.reject(e)});const X3=()=>{};var Rb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=function(e){const r=[];let a=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);o<128?r[a++]=o:o<2048?(r[a++]=o>>6|192,r[a++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),r[a++]=o>>18|240,r[a++]=o>>12&63|128,r[a++]=o>>6&63|128,r[a++]=o&63|128):(r[a++]=o>>12|224,r[a++]=o>>6&63|128,r[a++]=o&63|128)}return r},Z3=function(e){const r=[];let a=0,i=0;for(;a<e.length;){const o=e[a++];if(o<128)r[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=e[a++];r[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=e[a++],d=e[a++],m=e[a++],h=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;r[i++]=String.fromCharCode(55296+(h>>10)),r[i++]=String.fromCharCode(56320+(h&1023))}else{const c=e[a++],d=e[a++];r[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return r.join("")},b1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,r){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<e.length;o+=3){const c=e[o],d=o+1<e.length,m=d?e[o+1]:0,h=o+2<e.length,f=h?e[o+2]:0,x=c>>2,g=(c&3)<<4|m>>4;let v=(m&15)<<2|f>>6,j=f&63;h||(j=64,d||(v=64)),i.push(a[x],a[g],a[v],a[j])}return i.join("")},encodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(e):this.encodeByteArray(v1(e),r)},decodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(e):Z3(this.decodeStringToByteArray(e,r))},decodeStringToByteArray(e,r){this.init_();const a=r?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<e.length;){const c=a[e.charAt(o++)],m=o<e.length?a[e.charAt(o)]:0;++o;const f=o<e.length?a[e.charAt(o)]:64;++o;const g=o<e.length?a[e.charAt(o)]:64;if(++o,c==null||m==null||f==null||g==null)throw new Q3;const v=c<<2|m>>4;if(i.push(v),f!==64){const j=m<<4&240|f>>2;if(i.push(j),g!==64){const b=f<<6&192|g;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Q3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J3=function(e){const r=v1(e);return b1.encodeByteArray(r,!0)},j1=function(e){return J3(e).replace(/\./g,"")},w1=function(e){try{return b1.decodeString(e,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=()=>eA().__FIREBASE_DEFAULTS__,rA=()=>{if(typeof process>"u"||typeof Rb>"u")return;const e=Rb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},sA=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=e&&w1(e[1]);return r&&JSON.parse(r)},ep=()=>{try{return X3()||tA()||rA()||sA()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},aA=e=>{var r,a;return(a=(r=ep())===null||r===void 0?void 0:r.emulatorHosts)===null||a===void 0?void 0:a[e]},N1=()=>{var e;return(e=ep())===null||e===void 0?void 0:e.config},C1=e=>{var r;return(r=ep())===null||r===void 0?void 0:r[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}wrapCallback(r){return(a,i)=>{a?this.reject(a):this.resolve(i),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(a):r(a,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(e){return e.endsWith(".cloudworkstations.dev")}async function iA(e){return(await fetch(e,{credentials:"include"})).ok}const Do={};function oA(){const e={prod:[],emulator:[]};for(const r of Object.keys(Do))Do[r]?e.emulator.push(r):e.prod.push(r);return e}function lA(e){let r=document.getElementById(e),a=!1;return r||(r=document.createElement("div"),r.setAttribute("id",e),a=!0),{created:a,element:r}}let Db=!1;function S1(e,r){if(typeof window>"u"||typeof document>"u"||!tp(window.location.host)||Do[e]===r||Do[e]||Db)return;Do[e]=r;function a(v){return`__firebase__banner__${v}`}const i="__firebase__banner",c=oA().prod.length>0;function d(){const v=document.getElementById(i);v&&v.remove()}function m(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,j){v.setAttribute("width","24"),v.setAttribute("id",j),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Db=!0,d()},v}function x(v,j){v.setAttribute("id",j),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=lA(i),j=a("text"),b=document.getElementById(j)||document.createElement("span"),C=a("learnmore"),k=document.getElementById(C)||document.createElement("a"),S=a("preprendIcon"),T=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const R=v.element;m(R),x(k,C);const E=f();h(T,S),R.append(T,b,k,E),document.body.appendChild(R)}c?(b.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function dA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uA(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function mA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hA(){const e=It();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function fA(){try{return typeof indexedDB=="object"}catch{return!1}}function pA(){return new Promise((e,r)=>{try{let a=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(i),e(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var c;r(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(a){r(a)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="FirebaseError";class ha extends Error{constructor(r,a,i){super(a),this.code=r,this.customData=i,this.name=xA,Object.setPrototypeOf(this,ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(r,a,i){this.service=r,this.serviceName=a,this.errors=i}create(r,...a){const i=a[0]||{},o=`${this.service}/${r}`,c=this.errors[r],d=c?yA(c,i):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new ha(o,m,i)}}function yA(e,r){return e.replace(gA,(a,i)=>{const o=r[i];return o!=null?String(o):`<${i}?>`})}const gA=/\{\$([^}]+)}/g;function vA(e){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r))return!1;return!0}function ri(e,r){if(e===r)return!0;const a=Object.keys(e),i=Object.keys(r);for(const o of a){if(!i.includes(o))return!1;const c=e[o],d=r[o];if(Ob(c)&&Ob(d)){if(!ri(c,d))return!1}else if(c!==d)return!1}for(const o of i)if(!a.includes(o))return!1;return!0}function Ob(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(e){const r=[];for(const[a,i]of Object.entries(e))Array.isArray(i)?i.forEach(o=>{r.push(encodeURIComponent(a)+"="+encodeURIComponent(o))}):r.push(encodeURIComponent(a)+"="+encodeURIComponent(i));return r.length?"&"+r.join("&"):""}function bA(e,r){const a=new jA(e,r);return a.subscribe.bind(a)}class jA{constructor(r,a){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=a,this.task.then(()=>{r(this)}).catch(i=>{this.error(i)})}next(r){this.forEachObserver(a=>{a.next(r)})}error(r){this.forEachObserver(a=>{a.error(r)}),this.close(r)}complete(){this.forEachObserver(r=>{r.complete()}),this.close()}subscribe(r,a,i){let o;if(r===void 0&&a===void 0&&i===void 0)throw new Error("Missing Observer.");wA(r,["next","error","complete"])?o=r:o={next:r,error:a,complete:i},o.next===void 0&&(o.next=jh),o.error===void 0&&(o.error=jh),o.complete===void 0&&(o.complete=jh);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(r){this.observers===void 0||this.observers[r]===void 0||(delete this.observers[r],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(r){if(!this.finalized)for(let a=0;a<this.observers.length;a++)this.sendOne(a,r)}sendOne(r,a){this.task.then(()=>{if(this.observers!==void 0&&this.observers[r]!==void 0)try{a(this.observers[r])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(r){this.finalized||(this.finalized=!0,r!==void 0&&(this.finalError=r),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wA(e,r){if(typeof e!="object"||e===null)return!1;for(const a of r)if(a in e&&typeof e[a]=="function")return!0;return!1}function jh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(e){return e&&e._delegate?e._delegate:e}class si{constructor(r,a,i){this.name=r,this.instanceFactory=a,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(r,a){this.name=r,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const a=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(a)){const i=new nA;if(this.instancesDeferred.set(a,i),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(r){var a;const i=this.normalizeInstanceIdentifier(r==null?void 0:r.identifier),o=(a=r==null?void 0:r.optional)!==null&&a!==void 0?a:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(SA(r))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[a,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(r=Ia){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...r.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=Ia){return this.instances.has(r)}getOptions(r=Ia){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:a={}}=r,i=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:a});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&d.resolve(o)}return o}onInit(r,a){var i;const o=this.normalizeInstanceIdentifier(a),c=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;c.add(r),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&r(d,o),()=>{c.delete(r)}}invokeOnInitCallbacks(r,a){const i=this.onInitCallbacks.get(a);if(i)for(const o of i)try{o(r,a)}catch{}}getOrInitializeService({instanceIdentifier:r,options:a={}}){let i=this.instances.get(r);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:CA(r),options:a}),this.instances.set(r,i),this.instancesOptions.set(r,a),this.invokeOnInitCallbacks(i,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,i)}catch{}return i||null}normalizeInstanceIdentifier(r=Ia){return this.component?this.component.multipleInstances?r:Ia:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(e){return e===Ia?void 0:e}function SA(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const a=this.getProvider(r.name);if(a.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);a.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const a=new NA(r,this);return this.providers.set(r,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})($e||($e={}));const _A={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},AA=$e.INFO,EA={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},TA=(e,r,...a)=>{if(r<e.logLevel)return;const i=new Date().toISOString(),o=EA[r];if(o)console[o](`[${i}]  ${e.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class k1{constructor(r){this.name=r,this._logLevel=AA,this._logHandler=TA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in $e))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?_A[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...r),this._logHandler(this,$e.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...r),this._logHandler(this,$e.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...r),this._logHandler(this,$e.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...r),this._logHandler(this,$e.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...r),this._logHandler(this,$e.ERROR,...r)}}const RA=(e,r)=>r.some(a=>e instanceof a);let Pb,Lb;function DA(){return Pb||(Pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OA(){return Lb||(Lb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _1=new WeakMap,of=new WeakMap,A1=new WeakMap,wh=new WeakMap,rp=new WeakMap;function PA(e){const r=new Promise((a,i)=>{const o=()=>{e.removeEventListener("success",c),e.removeEventListener("error",d)},c=()=>{a(ia(e.result)),o()},d=()=>{i(e.error),o()};e.addEventListener("success",c),e.addEventListener("error",d)});return r.then(a=>{a instanceof IDBCursor&&_1.set(a,e)}).catch(()=>{}),rp.set(r,e),r}function LA(e){if(of.has(e))return;const r=new Promise((a,i)=>{const o=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",d),e.removeEventListener("abort",d)},c=()=>{a(),o()},d=()=>{i(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",c),e.addEventListener("error",d),e.addEventListener("abort",d)});of.set(e,r)}let lf={get(e,r,a){if(e instanceof IDBTransaction){if(r==="done")return of.get(e);if(r==="objectStoreNames")return e.objectStoreNames||A1.get(e);if(r==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ia(e[r])},set(e,r,a){return e[r]=a,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function MA(e){lf=e(lf)}function zA(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...a){const i=e.call(Nh(this),r,...a);return A1.set(i,r.sort?r.sort():[r]),ia(i)}:OA().includes(e)?function(...r){return e.apply(Nh(this),r),ia(_1.get(this))}:function(...r){return ia(e.apply(Nh(this),r))}}function IA(e){return typeof e=="function"?zA(e):(e instanceof IDBTransaction&&LA(e),RA(e,DA())?new Proxy(e,lf):e)}function ia(e){if(e instanceof IDBRequest)return PA(e);if(wh.has(e))return wh.get(e);const r=IA(e);return r!==e&&(wh.set(e,r),rp.set(r,e)),r}const Nh=e=>rp.get(e);function BA(e,r,{blocked:a,upgrade:i,blocking:o,terminated:c}={}){const d=indexedDB.open(e,r),m=ia(d);return i&&d.addEventListener("upgradeneeded",h=>{i(ia(d.result),h.oldVersion,h.newVersion,ia(d.transaction),h)}),a&&d.addEventListener("blocked",h=>a(h.oldVersion,h.newVersion,h)),m.then(h=>{c&&h.addEventListener("close",()=>c()),o&&h.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),m}const UA=["get","getKey","getAll","getAllKeys","count"],FA=["put","add","delete","clear"],Ch=new Map;function Mb(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(Ch.get(r))return Ch.get(r);const a=r.replace(/FromIndex$/,""),i=r!==a,o=FA.includes(a);if(!(a in(i?IDBIndex:IDBObjectStore).prototype)||!(o||UA.includes(a)))return;const c=async function(d,...m){const h=this.transaction(d,o?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(m.shift())),(await Promise.all([f[a](...m),o&&h.done]))[0]};return Ch.set(r,c),c}MA(e=>({...e,get:(r,a,i)=>Mb(r,a)||e.get(r,a,i),has:(r,a)=>!!Mb(r,a)||e.has(r,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(HA(a)){const i=a.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(a=>a).join(" ")}}function HA(e){const r=e.getComponent();return(r==null?void 0:r.type)==="VERSION"}const cf="@firebase/app",zb="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new k1("@firebase/app"),qA="@firebase/app-compat",$A="@firebase/analytics-compat",YA="@firebase/analytics",GA="@firebase/app-check-compat",WA="@firebase/app-check",KA="@firebase/auth",XA="@firebase/auth-compat",ZA="@firebase/database",QA="@firebase/data-connect",JA="@firebase/database-compat",eE="@firebase/functions",tE="@firebase/functions-compat",rE="@firebase/installations",sE="@firebase/installations-compat",aE="@firebase/messaging",nE="@firebase/messaging-compat",iE="@firebase/performance",oE="@firebase/performance-compat",lE="@firebase/remote-config",cE="@firebase/remote-config-compat",dE="@firebase/storage",uE="@firebase/storage-compat",mE="@firebase/firestore",hE="@firebase/ai",fE="@firebase/firestore-compat",pE="firebase",xE="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="[DEFAULT]",yE={[cf]:"fire-core",[qA]:"fire-core-compat",[YA]:"fire-analytics",[$A]:"fire-analytics-compat",[WA]:"fire-app-check",[GA]:"fire-app-check-compat",[KA]:"fire-auth",[XA]:"fire-auth-compat",[ZA]:"fire-rtdb",[QA]:"fire-data-connect",[JA]:"fire-rtdb-compat",[eE]:"fire-fn",[tE]:"fire-fn-compat",[rE]:"fire-iid",[sE]:"fire-iid-compat",[aE]:"fire-fcm",[nE]:"fire-fcm-compat",[iE]:"fire-perf",[oE]:"fire-perf-compat",[lE]:"fire-rc",[cE]:"fire-rc-compat",[dE]:"fire-gcs",[uE]:"fire-gcs-compat",[mE]:"fire-fst",[fE]:"fire-fst-compat",[hE]:"fire-vertex","fire-js":"fire-js",[pE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Map,gE=new Map,uf=new Map;function Ib(e,r){try{e.container.addComponent(r)}catch(a){gs.debug(`Component ${r.name} failed to register with FirebaseApp ${e.name}`,a)}}function Vo(e){const r=e.name;if(uf.has(r))return gs.debug(`There were multiple attempts to register component ${r}.`),!1;uf.set(r,e);for(const a of dd.values())Ib(a,e);for(const a of gE.values())Ib(a,e);return!0}function E1(e,r){const a=e.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),e.container.getProvider(r)}function Ir(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new nl("app","Firebase",vE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(r,a,i){this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},a),this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=xE;function T1(e,r={}){let a=e;typeof r!="object"&&(r={name:r});const i=Object.assign({name:df,automaticDataCollectionEnabled:!0},r),o=i.name;if(typeof o!="string"||!o)throw oa.create("bad-app-name",{appName:String(o)});if(a||(a=N1()),!a)throw oa.create("no-options");const c=dd.get(o);if(c){if(ri(a,c.options)&&ri(i,c.config))return c;throw oa.create("duplicate-app",{appName:o})}const d=new kA(o);for(const h of uf.values())d.addComponent(h);const m=new bE(a,i,d);return dd.set(o,m),m}function jE(e=df){const r=dd.get(e);if(!r&&e===df&&N1())return T1();if(!r)throw oa.create("no-app",{appName:e});return r}function Qn(e,r,a){var i;let o=(i=yE[e])!==null&&i!==void 0?i:e;a&&(o+=`-${a}`);const c=o.match(/\s|\//),d=r.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${r}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${r}" contains illegal characters (whitespace or "/")`),gs.warn(m.join(" "));return}Vo(new si(`${o}-version`,()=>({library:o,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="firebase-heartbeat-database",NE=1,Ho="firebase-heartbeat-store";let Sh=null;function R1(){return Sh||(Sh=BA(wE,NE,{upgrade:(e,r)=>{switch(r){case 0:try{e.createObjectStore(Ho)}catch(a){console.warn(a)}}}}).catch(e=>{throw oa.create("idb-open",{originalErrorMessage:e.message})})),Sh}async function CE(e){try{const a=(await R1()).transaction(Ho),i=await a.objectStore(Ho).get(D1(e));return await a.done,i}catch(r){if(r instanceof ha)gs.warn(r.message);else{const a=oa.create("idb-get",{originalErrorMessage:r==null?void 0:r.message});gs.warn(a.message)}}}async function Bb(e,r){try{const i=(await R1()).transaction(Ho,"readwrite");await i.objectStore(Ho).put(r,D1(e)),await i.done}catch(a){if(a instanceof ha)gs.warn(a.message);else{const i=oa.create("idb-set",{originalErrorMessage:a==null?void 0:a.message});gs.warn(i.message)}}}function D1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=1024,kE=30;class _E{constructor(r){this.container=r,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new EE(a),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var r,a;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Ub();if(((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>kE){const d=TE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){gs.warn(i)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const a=Ub(),{heartbeatsToSend:i,unsentEntries:o}=AE(this._heartbeatsCache.heartbeats),c=j1(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=a,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(a){return gs.warn(a),""}}}function Ub(){return new Date().toISOString().substring(0,10)}function AE(e,r=SE){const a=[];let i=e.slice();for(const o of e){const c=a.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Fb(a)>r){c.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),Fb(a)>r){a.pop();break}i=i.slice(1)}return{heartbeatsToSend:a,unsentEntries:i}}class EE{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fA()?pA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await CE(this.app);return a!=null&&a.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return Bb(this.app,{lastSentHeartbeatDate:(a=r.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){var a;if(await this._canUseIndexedDBPromise){const o=await this.read();return Bb(this.app,{lastSentHeartbeatDate:(a=r.lastSentHeartbeatDate)!==null&&a!==void 0?a:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...r.heartbeats]})}else return}}function Fb(e){return j1(JSON.stringify({version:2,heartbeats:e})).length}function TE(e){if(e.length===0)return-1;let r=0,a=e[0].date;for(let i=1;i<e.length;i++)e[i].date<a&&(a=e[i].date,r=i);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(e){Vo(new si("platform-logger",r=>new VA(r),"PRIVATE")),Vo(new si("heartbeat",r=>new _E(r),"PRIVATE")),Qn(cf,zb,e),Qn(cf,zb,"esm2017"),Qn("fire-js","")}RE("");var DE="firebase",OE="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(DE,OE,"app");function sp(e,r){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)r.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(a[i[o]]=e[i[o]]);return a}function O1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PE=O1,P1=new nl("auth","Firebase",O1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new k1("@firebase/auth");function LE(e,...r){ud.logLevel<=$e.WARN&&ud.warn(`Auth (${ol}): ${e}`,...r)}function Xc(e,...r){ud.logLevel<=$e.ERROR&&ud.error(`Auth (${ol}): ${e}`,...r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(e,...r){throw np(e,...r)}function _r(e,...r){return np(e,...r)}function ap(e,r,a){const i=Object.assign(Object.assign({},PE()),{[r]:a});return new nl("auth","Firebase",i).create(r,{appName:e.name})}function Ka(e){return ap(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ME(e,r,a){const i=a;if(!(r instanceof i))throw i.name!==r.constructor.name&&qr(e,"argument-error"),ap(e,"argument-error",`Type of ${r.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function np(e,...r){if(typeof e!="string"){const a=r[0],i=[...r.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(a,...i)}return P1.create(e,...r)}function je(e,r,...a){if(!e)throw np(r,...a)}function ms(e){const r="INTERNAL ASSERTION FAILED: "+e;throw Xc(r),new Error(r)}function vs(e,r){e||ms(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function zE(){return Vb()==="http:"||Vb()==="https:"}function Vb(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zE()||uA()||"connection"in navigator)?navigator.onLine:!0}function BE(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(r,a){this.shortDelay=r,this.longDelay=a,vs(a>r,"Short delay should be less than long delay!"),this.isMobile=cA()||mA()}get(){return IE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(e,r){vs(e.emulator,"Emulator should always be set here");const{url:a}=e.emulator;return r?`${a}${r.startsWith("/")?r.slice(1):r}`:a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{static initialize(r,a,i){this.fetchImpl=r,a&&(this.headersImpl=a),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VE=new ll(3e4,6e4);function op(e,r){return e.tenantId&&!r.tenantId?Object.assign(Object.assign({},r),{tenantId:e.tenantId}):r}async function fi(e,r,a,i,o={}){return M1(e,o,async()=>{let c={},d={};i&&(r==="GET"?d=i:c={body:JSON.stringify(i)});const m=il(Object.assign({key:e.config.apiKey},d)).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const f=Object.assign({method:r,headers:h},c);return dA()||(f.referrerPolicy="no-referrer"),e.emulatorConfig&&tp(e.emulatorConfig.host)&&(f.credentials="include"),L1.fetch()(await z1(e,e.config.apiHost,a,m),f)})}async function M1(e,r,a){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},UE),r);try{const o=new qE(e),c=await Promise.race([a(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(e,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[h,f]=m.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(e,"credential-already-in-use",d);if(h==="EMAIL_EXISTS")throw Lc(e,"email-already-in-use",d);if(h==="USER_DISABLED")throw Lc(e,"user-disabled",d);const x=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw ap(e,x,f);qr(e,x)}}catch(o){if(o instanceof ha)throw o;qr(e,"network-request-failed",{message:String(o)})}}async function HE(e,r,a,i,o={}){const c=await fi(e,r,a,i,o);return"mfaPendingCredential"in c&&qr(e,"multi-factor-auth-required",{_serverResponse:c}),c}async function z1(e,r,a,i){const o=`${r}${a}?${i}`,c=e,d=c.config.emulator?ip(e.config,o):`${e.config.apiScheme}://${o}`;return FE.includes(a)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class qE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(r){this.auth=r,this.timer=null,this.promise=new Promise((a,i)=>{this.timer=setTimeout(()=>i(_r(this.auth,"network-request-failed")),VE.get())})}}function Lc(e,r,a){const i={appName:e.name};a.email&&(i.email=a.email),a.phoneNumber&&(i.phoneNumber=a.phoneNumber);const o=_r(e,r,i);return o.customData._tokenResponse=a,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(e,r){return fi(e,"POST","/v1/accounts:delete",r)}async function md(e,r){return fi(e,"POST","/v1/accounts:lookup",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(e){if(e)try{const r=new Date(Number(e));if(!isNaN(r.getTime()))return r.toUTCString()}catch{}}async function YE(e,r=!1){const a=hi(e),i=await a.getIdToken(r),o=lp(i);je(o&&o.exp&&o.auth_time&&o.iat,a.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:Oo(kh(o.auth_time)),issuedAtTime:Oo(kh(o.iat)),expirationTime:Oo(kh(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function kh(e){return Number(e)*1e3}function lp(e){const[r,a,i]=e.split(".");if(r===void 0||a===void 0||i===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=w1(a);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Hb(e){const r=lp(e);return je(r,"internal-error"),je(typeof r.exp<"u","internal-error"),je(typeof r.iat<"u","internal-error"),Number(r.exp)-Number(r.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(e,r,a=!1){if(a)return r;try{return await r}catch(i){throw i instanceof ha&&GE(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function GE({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(r){this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(r){var a;if(r){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((a=this.user.stsTokenManager.expirationTime)!==null&&a!==void 0?a:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(r=!1){if(!this.isRunning)return;const a=this.getInterval(r);this.timerId=setTimeout(async()=>{await this.iteration()},a)}async iteration(){try{await this.user.getIdToken(!0)}catch(r){(r==null?void 0:r.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(r,a){this.createdAt=r,this.lastLoginAt=a,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oo(this.lastLoginAt),this.creationTime=Oo(this.createdAt)}_copy(r){this.createdAt=r.createdAt,this.lastLoginAt=r.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(e){var r;const a=e.auth,i=await e.getIdToken(),o=await qo(e,md(a,{idToken:i}));je(o==null?void 0:o.users.length,a,"internal-error");const c=o.users[0];e._notifyReloadListener(c);const d=!((r=c.providerUserInfo)===null||r===void 0)&&r.length?I1(c.providerUserInfo):[],m=XE(e.providerData,d),h=e.isAnonymous,f=!(e.email&&c.passwordHash)&&!(m!=null&&m.length),x=h?f:!1,g={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new hf(c.createdAt,c.lastLoginAt),isAnonymous:x};Object.assign(e,g)}async function KE(e){const r=hi(e);await hd(r),await r.auth._persistUserIfCurrent(r),r.auth._notifyListenersIfCurrent(r)}function XE(e,r){return[...e.filter(i=>!r.some(o=>o.providerId===i.providerId)),...r]}function I1(e){return e.map(r=>{var{providerId:a}=r,i=sp(r,["providerId"]);return{providerId:a,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(e,r){const a=await M1(e,{},async()=>{const i=il({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:o,apiKey:c}=e.config,d=await z1(e,o,"/v1/token",`key=${c}`),m=await e._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",L1.fetch()(d,{method:"POST",headers:m,body:i})});return{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token}}async function QE(e,r){return fi(e,"POST","/v2/accounts:revokeToken",op(e,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(r){je(r.idToken,"internal-error"),je(typeof r.idToken<"u","internal-error"),je(typeof r.refreshToken<"u","internal-error");const a="expiresIn"in r&&typeof r.expiresIn<"u"?Number(r.expiresIn):Hb(r.idToken);this.updateTokensAndExpiration(r.idToken,r.refreshToken,a)}updateFromIdToken(r){je(r.length!==0,"internal-error");const a=Hb(r);this.updateTokensAndExpiration(r,null,a)}async getToken(r,a=!1){return!a&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,r,"user-token-expired"),this.refreshToken?(await this.refresh(r,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(r,a){const{accessToken:i,refreshToken:o,expiresIn:c}=await ZE(r,a);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(r,a,i){this.refreshToken=a||null,this.accessToken=r||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(r,a){const{refreshToken:i,accessToken:o,expirationTime:c}=a,d=new Jn;return i&&(je(typeof i=="string","internal-error",{appName:r}),d.refreshToken=i),o&&(je(typeof o=="string","internal-error",{appName:r}),d.accessToken=o),c&&(je(typeof c=="number","internal-error",{appName:r}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(r){this.accessToken=r.accessToken,this.refreshToken=r.refreshToken,this.expirationTime=r.expirationTime}_clone(){return Object.assign(new Jn,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(e,r){je(typeof e=="string"||typeof e>"u","internal-error",{appName:r})}class kr{constructor(r){var{uid:a,auth:i,stsTokenManager:o}=r,c=sp(r,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=a,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new hf(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(r){const a=await qo(this,this.stsTokenManager.getToken(this.auth,r));return je(a,this.auth,"internal-error"),this.accessToken!==a&&(this.accessToken=a,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),a}getIdTokenResult(r){return YE(this,r)}reload(){return KE(this)}_assign(r){this!==r&&(je(this.uid===r.uid,this.auth,"internal-error"),this.displayName=r.displayName,this.photoURL=r.photoURL,this.email=r.email,this.emailVerified=r.emailVerified,this.phoneNumber=r.phoneNumber,this.isAnonymous=r.isAnonymous,this.tenantId=r.tenantId,this.providerData=r.providerData.map(a=>Object.assign({},a)),this.metadata._copy(r.metadata),this.stsTokenManager._assign(r.stsTokenManager))}_clone(r){const a=new kr(Object.assign(Object.assign({},this),{auth:r,stsTokenManager:this.stsTokenManager._clone()}));return a.metadata._copy(this.metadata),a}_onReload(r){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=r,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(r){this.reloadListener?this.reloadListener(r):this.reloadUserInfo=r}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(r,a=!1){let i=!1;r.idToken&&r.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(r),i=!0),a&&await hd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(Ka(this.auth));const r=await this.getIdToken();return await qo(this,$E(this.auth,{idToken:r})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(r=>Object.assign({},r)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(r,a){var i,o,c,d,m,h,f,x;const g=(i=a.displayName)!==null&&i!==void 0?i:void 0,v=(o=a.email)!==null&&o!==void 0?o:void 0,j=(c=a.phoneNumber)!==null&&c!==void 0?c:void 0,b=(d=a.photoURL)!==null&&d!==void 0?d:void 0,C=(m=a.tenantId)!==null&&m!==void 0?m:void 0,k=(h=a._redirectEventId)!==null&&h!==void 0?h:void 0,S=(f=a.createdAt)!==null&&f!==void 0?f:void 0,T=(x=a.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:R,emailVerified:E,isAnonymous:D,providerData:F,stsTokenManager:V}=a;je(R&&V,r,"internal-error");const q=Jn.fromJSON(this.name,V);je(typeof R=="string",r,"internal-error"),Zs(g,r.name),Zs(v,r.name),je(typeof E=="boolean",r,"internal-error"),je(typeof D=="boolean",r,"internal-error"),Zs(j,r.name),Zs(b,r.name),Zs(C,r.name),Zs(k,r.name),Zs(S,r.name),Zs(T,r.name);const O=new kr({uid:R,auth:r,email:v,emailVerified:E,displayName:g,isAnonymous:D,photoURL:b,phoneNumber:j,tenantId:C,stsTokenManager:q,createdAt:S,lastLoginAt:T});return F&&Array.isArray(F)&&(O.providerData=F.map(A=>Object.assign({},A))),k&&(O._redirectEventId=k),O}static async _fromIdTokenResponse(r,a,i=!1){const o=new Jn;o.updateFromServerResponse(a);const c=new kr({uid:a.localId,auth:r,stsTokenManager:o,isAnonymous:i});return await hd(c),c}static async _fromGetAccountInfoResponse(r,a,i){const o=a.users[0];je(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?I1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new Jn;m.updateFromIdToken(i);const h=new kr({uid:o.localId,auth:r,stsTokenManager:m,isAnonymous:d}),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new hf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new Map;function hs(e){vs(e instanceof Function,"Expected a class definition");let r=qb.get(e);return r?(vs(r instanceof e,"Instance stored in cache mismatched with class"),r):(r=new e,qb.set(e,r),r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(r,a){this.storage[r]=a}async _get(r){const a=this.storage[r];return a===void 0?null:a}async _remove(r){delete this.storage[r]}_addListener(r,a){}_removeListener(r,a){}}B1.type="NONE";const $b=B1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(e,r,a){return`firebase:${e}:${r}:${a}`}class ei{constructor(r,a,i){this.persistence=r,this.auth=a,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Zc("persistence",o.apiKey,c),this.boundEventHandler=a._onStorageEvent.bind(a),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(r){return this.persistence._set(this.fullUserKey,r.toJSON())}async getCurrentUser(){const r=await this.persistence._get(this.fullUserKey);if(!r)return null;if(typeof r=="string"){const a=await md(this.auth,{idToken:r}).catch(()=>{});return a?kr._fromGetAccountInfoResponse(this.auth,a,r):null}return kr._fromJSON(this.auth,r)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(r){if(this.persistence===r)return;const a=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=r,a)return this.setCurrentUser(a)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(r,a,i="authUser"){if(!a.length)return new ei(hs($b),r,i);const o=(await Promise.all(a.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let c=o[0]||hs($b);const d=Zc(i,r.config.apiKey,r.name);let m=null;for(const f of a)try{const x=await f._get(d);if(x){let g;if(typeof x=="string"){const v=await md(r,{idToken:x}).catch(()=>{});if(!v)break;g=await kr._fromGetAccountInfoResponse(r,v,x)}else g=kr._fromJSON(r,x);f!==c&&(m=g),c=f;break}}catch{}const h=o.filter(f=>f._shouldAllowMigration);return!c._shouldAllowMigration||!h.length?new ei(c,r,i):(c=h[0],m&&await c._set(d,m.toJSON()),await Promise.all(a.map(async f=>{if(f!==c)try{await f._remove(d)}catch{}})),new ei(c,r,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(e){const r=e.toLowerCase();if(r.includes("opera/")||r.includes("opr/")||r.includes("opios/"))return"Opera";if(H1(r))return"IEMobile";if(r.includes("msie")||r.includes("trident/"))return"IE";if(r.includes("edge/"))return"Edge";if(U1(r))return"Firefox";if(r.includes("silk/"))return"Silk";if($1(r))return"Blackberry";if(Y1(r))return"Webos";if(F1(r))return"Safari";if((r.includes("chrome/")||V1(r))&&!r.includes("edge/"))return"Chrome";if(q1(r))return"Android";{const a=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(a);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function U1(e=It()){return/firefox\//i.test(e)}function F1(e=It()){const r=e.toLowerCase();return r.includes("safari/")&&!r.includes("chrome/")&&!r.includes("crios/")&&!r.includes("android")}function V1(e=It()){return/crios\//i.test(e)}function H1(e=It()){return/iemobile/i.test(e)}function q1(e=It()){return/android/i.test(e)}function $1(e=It()){return/blackberry/i.test(e)}function Y1(e=It()){return/webos/i.test(e)}function cp(e=It()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function JE(e=It()){var r;return cp(e)&&!!(!((r=window.navigator)===null||r===void 0)&&r.standalone)}function eT(){return hA()&&document.documentMode===10}function G1(e=It()){return cp(e)||q1(e)||Y1(e)||$1(e)||/windows phone/i.test(e)||H1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(e,r=[]){let a;switch(e){case"Browser":a=Yb(It());break;case"Worker":a=`${Yb(It())}-${e}`;break;default:a=e}const i=r.length?r.join(","):"FirebaseCore-web";return`${a}/JsCore/${ol}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(r){this.auth=r,this.queue=[]}pushCallback(r,a){const i=c=>new Promise((d,m)=>{try{const h=r(c);d(h)}catch(h){m(h)}});i.onAbort=a,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(r){if(this.auth.currentUser===r)return;const a=[];try{for(const i of this.queue)await i(r),i.onAbort&&a.push(i.onAbort)}catch(i){a.reverse();for(const o of a)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(e,r={}){return fi(e,"GET","/v2/passwordPolicy",op(e,r))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=6;class aT{constructor(r){var a,i,o,c;const d=r.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(a=d.minPasswordLength)!==null&&a!==void 0?a:sT,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=r.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=r.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=r.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=r.schemaVersion}validatePassword(r){var a,i,o,c,d,m;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(r,h),this.validatePasswordCharacterOptions(r,h),h.isValid&&(h.isValid=(a=h.meetsMinPasswordLength)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsUppercaseLetter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(d=h.containsNumericCharacter)!==null&&d!==void 0?d:!0),h.isValid&&(h.isValid=(m=h.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),h}validatePasswordLengthOptions(r,a){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(a.meetsMinPasswordLength=r.length>=i),o&&(a.meetsMaxPasswordLength=r.length<=o)}validatePasswordCharacterOptions(r,a){this.updatePasswordCharacterOptionsStatuses(a,!1,!1,!1,!1);let i;for(let o=0;o<r.length;o++)i=r.charAt(o),this.updatePasswordCharacterOptionsStatuses(a,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(r,a,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(r.containsLowercaseLetter||(r.containsLowercaseLetter=a)),this.customStrengthOptions.containsUppercaseLetter&&(r.containsUppercaseLetter||(r.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(r.containsNumericCharacter||(r.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(r.containsNonAlphanumericCharacter||(r.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(r,a,i,o){this.app=r,this.heartbeatServiceProvider=a,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gb(this),this.idTokenSubscription=new Gb(this),this.beforeStateQueue=new tT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(r,a){return a&&(this._popupRedirectResolver=hs(a)),this._initializationPromise=this.queue(async()=>{var i,o,c;if(!this._deleted&&(this.persistenceManager=await ei.create(this,r),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(a),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const r=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!r)){if(this.currentUser&&r&&this.currentUser.uid===r.uid){this._currentUser._assign(r),await this.currentUser.getIdToken();return}await this._updateCurrentUser(r,!0)}}async initializeCurrentUserFromIdToken(r){try{const a=await md(this,{idToken:r}),i=await kr._fromGetAccountInfoResponse(this,a,r);await this.directlySetCurrentUser(i)}catch(a){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",a),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(r){var a;if(Ir(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(r&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId,m=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(r);(!d||d===m)&&(h!=null&&h.user)&&(o=h.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(r){let a=null;try{a=await this._popupRedirectResolver._completeRedirectFn(this,r,!0)}catch{await this._setRedirectUser(null)}return a}async reloadAndSetCurrentUserOrClear(r){try{await hd(r)}catch(a){if((a==null?void 0:a.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(r)}useDeviceLanguage(){this.languageCode=BE()}async _delete(){this._deleted=!0}async updateCurrentUser(r){if(Ir(this.app))return Promise.reject(Ka(this));const a=r?hi(r):null;return a&&je(a.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(a&&a._clone(this))}async _updateCurrentUser(r,a=!1){if(!this._deleted)return r&&je(this.tenantId===r.tenantId,this,"tenant-id-mismatch"),a||await this.beforeStateQueue.runMiddleware(r),this.queue(async()=>{await this.directlySetCurrentUser(r),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(Ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(r){return Ir(this.app)?Promise.reject(Ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(r))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(r){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const a=this._getPasswordPolicyInternal();return a.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):a.validatePassword(r)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const r=await rT(this),a=new aT(r);this.tenantId===null?this._projectPasswordPolicy=a:this._tenantPasswordPolicies[this.tenantId]=a}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(r){this._errorFactory=new nl("auth","Firebase",r())}onAuthStateChanged(r,a,i){return this.registerStateListener(this.authStateSubscription,r,a,i)}beforeAuthStateChanged(r,a){return this.beforeStateQueue.pushCallback(r,a)}onIdTokenChanged(r,a,i){return this.registerStateListener(this.idTokenSubscription,r,a,i)}authStateReady(){return new Promise((r,a)=>{if(this.currentUser)r();else{const i=this.onAuthStateChanged(()=>{i(),r()},a)}})}async revokeAccessToken(r){if(this.currentUser){const a=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:r,idToken:a};this.tenantId!=null&&(i.tenantId=this.tenantId),await QE(this,i)}}toJSON(){var r;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(r=this._currentUser)===null||r===void 0?void 0:r.toJSON()}}async _setRedirectUser(r,a){const i=await this.getOrInitRedirectPersistenceManager(a);return r===null?i.removeCurrentUser():i.setCurrentUser(r)}async getOrInitRedirectPersistenceManager(r){if(!this.redirectPersistenceManager){const a=r&&hs(r)||this._popupRedirectResolver;je(a,this,"argument-error"),this.redirectPersistenceManager=await ei.create(this,[hs(a._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(r){var a,i;return this._isInitialized&&await this.queue(async()=>{}),((a=this._currentUser)===null||a===void 0?void 0:a._redirectEventId)===r?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===r?this.redirectUser:null}async _persistUserIfCurrent(r){if(r===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(r))}_notifyListenersIfCurrent(r){r===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r,a;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(a=(r=this.currentUser)===null||r===void 0?void 0:r.uid)!==null&&a!==void 0?a:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(r,a,i,o){if(this._deleted)return()=>{};const c=typeof a=="function"?a:a.next.bind(a);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof a=="function"){const h=r.addObserver(a,i,o);return()=>{d=!0,h()}}else{const h=r.addObserver(a);return()=>{d=!0,h()}}}async directlySetCurrentUser(r){this.currentUser&&this.currentUser!==r&&this._currentUser._stopProactiveRefresh(),r&&this.isProactiveRefreshEnabled&&r._startProactiveRefresh(),this.currentUser=r,r?await this.assertedPersistence.setCurrentUser(r):await this.assertedPersistence.removeCurrentUser()}queue(r){return this.operations=this.operations.then(r,r),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(r){!r||this.frameworks.includes(r)||(this.frameworks.push(r),this.frameworks.sort(),this.clientVersion=W1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const a={"X-Client-Version":this.clientVersion};this.app.options.appId&&(a["X-Firebase-gmpid"]=this.app.options.appId);const i=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||r===void 0?void 0:r.getHeartbeatsHeader());i&&(a["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(a["X-Firebase-AppCheck"]=o),a}async _getAppCheckToken(){var r;if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const a=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||r===void 0?void 0:r.getToken());return a!=null&&a.error&&LE(`Error while retrieving App Check token: ${a.error}`),a==null?void 0:a.token}}function Od(e){return hi(e)}class Gb{constructor(r){this.auth=r,this.observer=null,this.addObserver=bA(a=>this.observer=a)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iT(e){dp=e}function oT(e){return dp.loadJS(e)}function lT(){return dp.gapiScript}function cT(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(e,r){const a=E1(e,"auth");if(a.isInitialized()){const o=a.getImmediate(),c=a.getOptions();if(ri(c,r??{}))return o;qr(o,"already-initialized")}return a.initialize({options:r})}function uT(e,r){const a=(r==null?void 0:r.persistence)||[],i=(Array.isArray(a)?a:[a]).map(hs);r!=null&&r.errorMap&&e._updateErrorMap(r.errorMap),e._initializeWithPersistence(i,r==null?void 0:r.popupRedirectResolver)}function mT(e,r,a){const i=Od(e);je(/^https?:\/\//.test(r),i,"invalid-emulator-scheme");const o=!1,c=K1(r),{host:d,port:m}=hT(r),h=m===null?"":`:${m}`,f={url:`${c}//${d}${h}/`},x=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(ri(f,i.config.emulator)&&ri(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,tp(d)?(S1("Auth",!0),iA(`${c}//${d}${h}`)):fT()}function K1(e){const r=e.indexOf(":");return r<0?"":e.substr(0,r+1)}function hT(e){const r=K1(e),a=/(\/\/)?([^?#/]+)/.exec(e.substr(r.length));if(!a)return{host:"",port:null};const i=a[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:Wb(i.substr(c.length+1))}}else{const[c,d]=i.split(":");return{host:c,port:Wb(d)}}}function Wb(e){if(!e)return null;const r=Number(e);return isNaN(r)?null:r}function fT(){function e(){const r=document.createElement("p"),a=r.style;r.innerText="Running in emulator mode. Do not use with production credentials.",a.position="fixed",a.width="100%",a.backgroundColor="#ffffff",a.border=".1em solid #000000",a.color="#b50000",a.bottom="0px",a.left="0px",a.margin="0px",a.zIndex="10000",a.textAlign="center",r.classList.add("firebase-emulator-warning"),document.body.appendChild(r)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(r,a){this.providerId=r,this.signInMethod=a}toJSON(){return ms("not implemented")}_getIdTokenResponse(r){return ms("not implemented")}_linkToIdToken(r,a){return ms("not implemented")}_getReauthenticationResolver(r){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ti(e,r){return HE(e,"POST","/v1/accounts:signInWithIdp",op(e,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="http://localhost";class tn extends X1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(r){const a=new tn(r.providerId,r.signInMethod);return r.idToken||r.accessToken?(r.idToken&&(a.idToken=r.idToken),r.accessToken&&(a.accessToken=r.accessToken),r.nonce&&!r.pendingToken&&(a.nonce=r.nonce),r.pendingToken&&(a.pendingToken=r.pendingToken)):r.oauthToken&&r.oauthTokenSecret?(a.accessToken=r.oauthToken,a.secret=r.oauthTokenSecret):qr("argument-error"),a}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(r){const a=typeof r=="string"?JSON.parse(r):r,{providerId:i,signInMethod:o}=a,c=sp(a,["providerId","signInMethod"]);if(!i||!o)return null;const d=new tn(i,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(r){const a=this.buildRequest();return ti(r,a)}_linkToIdToken(r,a){const i=this.buildRequest();return i.idToken=a,ti(r,i)}_getReauthenticationResolver(r){const a=this.buildRequest();return a.autoCreate=!1,ti(r,a)}buildRequest(){const r={requestUri:pT,returnSecureToken:!0};if(this.pendingToken)r.pendingToken=this.pendingToken;else{const a={};this.idToken&&(a.id_token=this.idToken),this.accessToken&&(a.access_token=this.accessToken),this.secret&&(a.oauth_token_secret=this.secret),a.providerId=this.providerId,this.nonce&&!this.pendingToken&&(a.nonce=this.nonce),r.postBody=il(a)}return r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(r){this.providerId=r,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(r){this.defaultLanguageCode=r}setCustomParameters(r){return this.customParameters=r,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends up{constructor(){super(...arguments),this.scopes=[]}addScope(r){return this.scopes.includes(r)||this.scopes.push(r),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends cl{constructor(){super("facebook.com")}static credential(r){return tn._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return sa.credentialFromTaggedObject(r)}static credentialFromError(r){return sa.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return sa.credential(r.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends cl{constructor(){super("google.com"),this.addScope("profile")}static credential(r,a){return tn._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:r,accessToken:a})}static credentialFromResult(r){return us.credentialFromTaggedObject(r)}static credentialFromError(r){return us.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthIdToken:a,oauthAccessToken:i}=r;if(!a&&!i)return null;try{return us.credential(a,i)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends cl{constructor(){super("github.com")}static credential(r){return tn._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return aa.credentialFromTaggedObject(r)}static credentialFromError(r){return aa.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return aa.credential(r.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends cl{constructor(){super("twitter.com")}static credential(r,a){return tn._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:r,oauthTokenSecret:a})}static credentialFromResult(r){return na.credentialFromTaggedObject(r)}static credentialFromError(r){return na.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthAccessToken:a,oauthTokenSecret:i}=r;if(!a||!i)return null;try{return na.credential(a,i)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(r){this.user=r.user,this.providerId=r.providerId,this._tokenResponse=r._tokenResponse,this.operationType=r.operationType}static async _fromIdTokenResponse(r,a,i,o=!1){const c=await kr._fromIdTokenResponse(r,i,o),d=Kb(i);return new ai({user:c,providerId:d,_tokenResponse:i,operationType:a})}static async _forOperation(r,a,i){await r._updateTokensIfNecessary(i,!0);const o=Kb(i);return new ai({user:r,providerId:o,_tokenResponse:i,operationType:a})}}function Kb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends ha{constructor(r,a,i,o){var c;super(a.code,a.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:r.name,tenantId:(c=r.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:a.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(r,a,i,o){return new fd(r,a,i,o)}}function Z1(e,r,a,i){return(r==="reauthenticate"?a._getReauthenticationResolver(e):a._getIdTokenResponse(e)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(e,c,r,i):c})}async function xT(e,r,a=!1){const i=await qo(e,r._linkToIdToken(e.auth,await e.getIdToken()),a);return ai._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(e,r,a=!1){const{auth:i}=e;if(Ir(i.app))return Promise.reject(Ka(i));const o="reauthenticate";try{const c=await qo(e,Z1(i,o,r,e),a);je(c.idToken,i,"internal-error");const d=lp(c.idToken);je(d,i,"internal-error");const{sub:m}=d;return je(e.uid===m,i,"user-mismatch"),ai._forOperation(e,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&qr(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(e,r,a=!1){if(Ir(e.app))return Promise.reject(Ka(e));const i="signIn",o=await Z1(e,i,r),c=await ai._fromIdTokenResponse(e,i,o);return a||await e._updateCurrentUser(c.user),c}function vT(e,r,a,i){return hi(e).onIdTokenChanged(r,a,i)}function bT(e,r,a){return hi(e).beforeAuthStateChanged(r,a)}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(r,a){this.storageRetriever=r,this.type=a}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(r,a){return this.storage.setItem(r,JSON.stringify(a)),Promise.resolve()}_get(r){const a=this.storage.getItem(r);return Promise.resolve(a?JSON.parse(a):null)}_remove(r){return this.storage.removeItem(r),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=1e3,wT=10;class J1 extends Q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(r,a)=>this.onStorageEvent(r,a),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G1(),this._shouldAllowMigration=!0}forAllChangedKeys(r){for(const a of Object.keys(this.listeners)){const i=this.storage.getItem(a),o=this.localCache[a];i!==o&&r(a,o,i)}}onStorageEvent(r,a=!1){if(!r.key){this.forAllChangedKeys((d,m,h)=>{this.notifyListeners(d,h)});return}const i=r.key;a?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!a&&this.localCache[i]===d||this.notifyListeners(i,d)},c=this.storage.getItem(i);eT()&&c!==r.newValue&&r.newValue!==r.oldValue?setTimeout(o,wT):o()}notifyListeners(r,a){this.localCache[r]=a;const i=this.listeners[r];if(i)for(const o of Array.from(i))o(a&&JSON.parse(a))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((r,a,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:a,newValue:i}),!0)})},jT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(r,a){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[r]||(this.listeners[r]=new Set,this.localCache[r]=this.storage.getItem(r)),this.listeners[r].add(a)}_removeListener(r,a){this.listeners[r]&&(this.listeners[r].delete(a),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(r,a){await super._set(r,a),this.localCache[r]=JSON.stringify(a)}async _get(r){const a=await super._get(r);return this.localCache[r]=JSON.stringify(a),a}async _remove(r){await super._remove(r),delete this.localCache[r]}}J1.type="LOCAL";const NT=J1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2 extends Q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(r,a){}_removeListener(r,a){}}e2.type="SESSION";const t2=e2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(e){return Promise.all(e.map(async r=>{try{return{fulfilled:!0,value:await r}}catch(a){return{fulfilled:!1,reason:a}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(r){this.eventTarget=r,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(r){const a=this.receivers.find(o=>o.isListeningto(r));if(a)return a;const i=new Pd(r);return this.receivers.push(i),i}isListeningto(r){return this.eventTarget===r}async handleEvent(r){const a=r,{eventId:i,eventType:o,data:c}=a.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;a.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const m=Array.from(d).map(async f=>f(a.origin,c)),h=await CT(m);a.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(r,a){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[r]||(this.handlersMap[r]=new Set),this.handlersMap[r].add(a)}_unsubscribe(r,a){this.handlersMap[r]&&a&&this.handlersMap[r].delete(a),(!a||this.handlersMap[r].size===0)&&delete this.handlersMap[r],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(e="",r=10){let a="";for(let i=0;i<r;i++)a+=Math.floor(Math.random()*10);return e+a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(r){this.target=r,this.handlers=new Set}removeMessageHandler(r){r.messageChannel&&(r.messageChannel.port1.removeEventListener("message",r.onMessage),r.messageChannel.port1.close()),this.handlers.delete(r)}async _send(r,a,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,h)=>{const f=mp("",20);o.port1.start();const x=setTimeout(()=>{h(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(v.data.response);break;default:clearTimeout(x),clearTimeout(c),h(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:r,eventId:f,data:a},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return window}function kT(e){Ur().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function _T(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AT(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function ET(){return r2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="firebaseLocalStorageDb",TT=1,xd="firebaseLocalStorage",a2="fbase_key";class dl{constructor(r){this.request=r}toPromise(){return new Promise((r,a)=>{this.request.addEventListener("success",()=>{r(this.request.result)}),this.request.addEventListener("error",()=>{a(this.request.error)})})}}function Ld(e,r){return e.transaction([xd],r?"readwrite":"readonly").objectStore(xd)}function RT(){const e=indexedDB.deleteDatabase(s2);return new dl(e).toPromise()}function ff(){const e=indexedDB.open(s2,TT);return new Promise((r,a)=>{e.addEventListener("error",()=>{a(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(xd,{keyPath:a2})}catch(o){a(o)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(xd)?r(i):(i.close(),await RT(),r(await ff()))})})}async function Xb(e,r,a){const i=Ld(e,!0).put({[a2]:r,value:a});return new dl(i).toPromise()}async function DT(e,r){const a=Ld(e,!1).get(r),i=await new dl(a).toPromise();return i===void 0?null:i.value}function Zb(e,r){const a=Ld(e,!0).delete(r);return new dl(a).toPromise()}const OT=800,PT=3;class n2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ff(),this.db)}async _withRetries(r){let a=0;for(;;)try{const i=await this._openDb();return await r(i)}catch(i){if(a++>PT)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(ET()),this.receiver._subscribe("keyChanged",async(r,a)=>({keyProcessed:(await this._poll()).includes(a.key)})),this.receiver._subscribe("ping",async(r,a)=>["keyChanged"])}async initializeSender(){var r,a;if(this.activeServiceWorker=await _T(),!this.activeServiceWorker)return;this.sender=new ST(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((r=i[0])===null||r===void 0)&&r.fulfilled&&!((a=i[0])===null||a===void 0)&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(r){if(!(!this.sender||!this.activeServiceWorker||AT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:r},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const r=await ff();return await Xb(r,pd,"1"),await Zb(r,pd),!0}catch{}return!1}async _withPendingWrite(r){this.pendingWrites++;try{await r()}finally{this.pendingWrites--}}async _set(r,a){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xb(i,r,a)),this.localCache[r]=a,this.notifyServiceWorker(r)))}async _get(r){const a=await this._withRetries(i=>DT(i,r));return this.localCache[r]=a,a}async _remove(r){return this._withPendingWrite(async()=>(await this._withRetries(a=>Zb(a,r)),delete this.localCache[r],this.notifyServiceWorker(r)))}async _poll(){const r=await this._withRetries(o=>{const c=Ld(o,!1).getAll();return new dl(c).toPromise()});if(!r)return[];if(this.pendingWrites!==0)return[];const a=[],i=new Set;if(r.length!==0)for(const{fbase_key:o,value:c}of r)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),a.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),a.push(o));return a}notifyListeners(r,a){this.localCache[r]=a;const i=this.listeners[r];if(i)for(const o of Array.from(i))o(a)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(r,a){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[r]||(this.listeners[r]=new Set,this._get(r)),this.listeners[r].add(a)}_removeListener(r,a){this.listeners[r]&&(this.listeners[r].delete(a),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n2.type="LOCAL";const LT=n2;new ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(e,r){return r?hs(r):(je(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends X1{constructor(r){super("custom","custom"),this.params=r}_getIdTokenResponse(r){return ti(r,this._buildIdpRequest())}_linkToIdToken(r,a){return ti(r,this._buildIdpRequest(a))}_getReauthenticationResolver(r){return ti(r,this._buildIdpRequest())}_buildIdpRequest(r){const a={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return r&&(a.idToken=r),a}}function MT(e){return gT(e.auth,new hp(e),e.bypassAuthState)}function zT(e){const{auth:r,user:a}=e;return je(a,r,"internal-error"),yT(a,new hp(e),e.bypassAuthState)}async function IT(e){const{auth:r,user:a}=e;return je(a,r,"internal-error"),xT(a,new hp(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(r,a,i,o,c=!1){this.auth=r,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(a)?a:[a]}execute(){return new Promise(async(r,a)=>{this.pendingPromise={resolve:r,reject:a};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(r){const{urlResponse:a,sessionId:i,postBody:o,tenantId:c,error:d,type:m}=r;if(d){this.reject(d);return}const h={auth:this.auth,requestUri:a,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(h))}catch(f){this.reject(f)}}onError(r){this.reject(r)}getIdpTask(r){switch(r){case"signInViaPopup":case"signInViaRedirect":return MT;case"linkViaPopup":case"linkViaRedirect":return IT;case"reauthViaPopup":case"reauthViaRedirect":return zT;default:qr(this.auth,"internal-error")}}resolve(r){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(r),this.unregisterAndCleanUp()}reject(r){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(r),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new ll(2e3,1e4);async function UT(e,r,a){if(Ir(e.app))return Promise.reject(_r(e,"operation-not-supported-in-this-environment"));const i=Od(e);ME(e,r,up);const o=i2(i,a);return new qa(i,"signInViaPopup",r,o).executeNotNull()}class qa extends o2{constructor(r,a,i,o,c){super(r,a,o,c),this.provider=i,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const r=await this.execute();return je(r,this.auth,"internal-error"),r}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const r=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],r),this.authWindow.associatedEvent=r,this.resolver._originValidation(this.auth).catch(a=>{this.reject(a)}),this.resolver._isIframeWebStorageSupported(this.auth,a=>{a||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var r;return((r=this.authWindow)===null||r===void 0?void 0:r.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const r=()=>{var a,i;if(!((i=(a=this.authWindow)===null||a===void 0?void 0:a.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(r,BT.get())};r()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="pendingRedirect",Qc=new Map;class VT extends o2{constructor(r,a,i=!1){super(r,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],a,void 0,i),this.eventId=null}async execute(){let r=Qc.get(this.auth._key());if(!r){try{const i=await HT(this.resolver,this.auth)?await super.execute():null;r=()=>Promise.resolve(i)}catch(a){r=()=>Promise.reject(a)}Qc.set(this.auth._key(),r)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),r()}async onAuthEvent(r){if(r.type==="signInViaRedirect")return super.onAuthEvent(r);if(r.type==="unknown"){this.resolve(null);return}if(r.eventId){const a=await this.auth._redirectUserForId(r.eventId);if(a)return this.user=a,super.onAuthEvent(r);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HT(e,r){const a=YT(r),i=$T(e);if(!await i._isAvailable())return!1;const o=await i._get(a)==="true";return await i._remove(a),o}function qT(e,r){Qc.set(e._key(),r)}function $T(e){return hs(e._redirectPersistence)}function YT(e){return Zc(FT,e.config.apiKey,e.name)}async function GT(e,r,a=!1){if(Ir(e.app))return Promise.reject(Ka(e));const i=Od(e),o=i2(i,r),d=await new VT(i,o,a).execute();return d&&!a&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,r)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=10*60*1e3;class KT{constructor(r){this.auth=r,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(r){this.consumers.add(r),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,r)&&(this.sendToConsumer(this.queuedRedirectEvent,r),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(r){this.consumers.delete(r)}onEvent(r){if(this.hasEventBeenHandled(r))return!1;let a=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(r,i)&&(a=!0,this.sendToConsumer(r,i),this.saveEventToCache(r))}),this.hasHandledPotentialRedirect||!XT(r)||(this.hasHandledPotentialRedirect=!0,a||(this.queuedRedirectEvent=r,a=!0)),a}sendToConsumer(r,a){var i;if(r.error&&!l2(r)){const o=((i=r.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";a.onError(_r(this.auth,o))}else a.onAuthEvent(r)}isEventForConsumer(r,a){const i=a.eventId===null||!!r.eventId&&r.eventId===a.eventId;return a.filter.includes(r.type)&&i}hasEventBeenHandled(r){return Date.now()-this.lastProcessedEventTime>=WT&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qb(r))}saveEventToCache(r){this.cachedEventUids.add(Qb(r)),this.lastProcessedEventTime=Date.now()}}function Qb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(r=>r).join("-")}function l2({type:e,error:r}){return e==="unknown"&&(r==null?void 0:r.code)==="auth/no-auth-event"}function XT(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l2(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(e,r={}){return fi(e,"GET","/v1/projects",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JT=/^https?/;async function e5(e){if(e.config.emulator)return;const{authorizedDomains:r}=await ZT(e);for(const a of r)try{if(t5(a))return}catch{}qr(e,"unauthorized-domain")}function t5(e){const r=mf(),{protocol:a,hostname:i}=new URL(r);if(e.startsWith("chrome-extension://")){const d=new URL(e);return d.hostname===""&&i===""?a==="chrome-extension:"&&e.replace("chrome-extension://","")===r.replace("chrome-extension://",""):a==="chrome-extension:"&&d.hostname===i}if(!JT.test(a))return!1;if(QT.test(e))return i===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=new ll(3e4,6e4);function Jb(){const e=Ur().___jsl;if(e!=null&&e.H){for(const r of Object.keys(e.H))if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=[...e.H[r].L],e.CP)for(let a=0;a<e.CP.length;a++)e.CP[a]=null}}function s5(e){return new Promise((r,a)=>{var i,o,c;function d(){Jb(),gapi.load("gapi.iframes",{callback:()=>{r(gapi.iframes.getContext())},ontimeout:()=>{Jb(),a(_r(e,"network-request-failed"))},timeout:r5.get()})}if(!((o=(i=Ur().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)r(gapi.iframes.getContext());else if(!((c=Ur().gapi)===null||c===void 0)&&c.load)d();else{const m=cT("iframefcb");return Ur()[m]=()=>{gapi.load?d():a(_r(e,"network-request-failed"))},oT(`${lT()}?onload=${m}`).catch(h=>a(h))}}).catch(r=>{throw Jc=null,r})}let Jc=null;function a5(e){return Jc=Jc||s5(e),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new ll(5e3,15e3),i5="__/auth/iframe",o5="emulator/auth/iframe",l5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d5(e){const r=e.config;je(r.authDomain,e,"auth-domain-config-required");const a=r.emulator?ip(r,o5):`https://${e.config.authDomain}/${i5}`,i={apiKey:r.apiKey,appName:e.name,v:ol},o=c5.get(e.config.apiHost);o&&(i.eid=o);const c=e._getFrameworks();return c.length&&(i.fw=c.join(",")),`${a}?${il(i).slice(1)}`}async function u5(e){const r=await a5(e),a=Ur().gapi;return je(a,e,"internal-error"),r.open({where:document.body,url:d5(e),messageHandlersFilter:a.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l5,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const d=_r(e,"network-request-failed"),m=Ur().setTimeout(()=>{c(d)},n5.get());function h(){Ur().clearTimeout(m),o(i)}i.ping(h).then(h,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h5=500,f5=600,p5="_blank",x5="http://localhost";class e0{constructor(r){this.window=r,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y5(e,r,a,i=h5,o=f5){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const h=Object.assign(Object.assign({},m5),{width:i.toString(),height:o.toString(),top:c,left:d}),f=It().toLowerCase();a&&(m=V1(f)?p5:a),U1(f)&&(r=r||x5,h.scrollbars="yes");const x=Object.entries(h).reduce((v,[j,b])=>`${v}${j}=${b},`,"");if(JE(f)&&m!=="_self")return g5(r||"",m),new e0(null);const g=window.open(r||"",m,x);je(g,e,"popup-blocked");try{g.focus()}catch{}return new e0(g)}function g5(e,r){const a=document.createElement("a");a.href=e,a.target=r;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),a.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="__/auth/handler",b5="emulator/auth/handler",j5=encodeURIComponent("fac");async function t0(e,r,a,i,o,c){je(e.config.authDomain,e,"auth-domain-config-required"),je(e.config.apiKey,e,"invalid-api-key");const d={apiKey:e.config.apiKey,appName:e.name,authType:a,redirectUrl:i,v:ol,eventId:o};if(r instanceof up){r.setDefaultLanguage(e.languageCode),d.providerId=r.providerId||"",vA(r.getCustomParameters())||(d.customParameters=JSON.stringify(r.getCustomParameters()));for(const[x,g]of Object.entries({}))d[x]=g}if(r instanceof cl){const x=r.getScopes().filter(g=>g!=="");x.length>0&&(d.scopes=x.join(","))}e.tenantId&&(d.tid=e.tenantId);const m=d;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const h=await e._getAppCheckToken(),f=h?`#${j5}=${encodeURIComponent(h)}`:"";return`${w5(e)}?${il(m).slice(1)}${f}`}function w5({config:e}){return e.emulator?ip(e,b5):`https://${e.authDomain}/${v5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="webStorageSupport";class N5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t2,this._completeRedirectFn=GT,this._overrideRedirectResult=qT}async _openPopup(r,a,i,o){var c;vs((c=this.eventManagers[r._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await t0(r,a,i,mf(),o);return y5(r,d,mp())}async _openRedirect(r,a,i,o){await this._originValidation(r);const c=await t0(r,a,i,mf(),o);return kT(c),new Promise(()=>{})}_initialize(r){const a=r._key();if(this.eventManagers[a]){const{manager:o,promise:c}=this.eventManagers[a];return o?Promise.resolve(o):(vs(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(r);return this.eventManagers[a]={promise:i},i.catch(()=>{delete this.eventManagers[a]}),i}async initAndGetManager(r){const a=await u5(r),i=new KT(r);return a.register("authEvent",o=>(je(o==null?void 0:o.authEvent,r,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[r._key()]={manager:i},this.iframes[r._key()]=a,i}_isIframeWebStorageSupported(r,a){this.iframes[r._key()].send(_h,{type:_h},o=>{var c;const d=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[_h];d!==void 0&&a(!!d),qr(r,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(r){const a=r._key();return this.originValidationPromises[a]||(this.originValidationPromises[a]=e5(r)),this.originValidationPromises[a]}get _shouldInitProactively(){return G1()||F1()||cp()}}const C5=N5;var r0="@firebase/auth",s0="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(r){this.auth=r,this.internalListeners=new Map}getUid(){var r;return this.assertAuthConfigured(),((r=this.auth.currentUser)===null||r===void 0?void 0:r.uid)||null}async getToken(r){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(r)}:null}addAuthTokenListener(r){if(this.assertAuthConfigured(),this.internalListeners.has(r))return;const a=this.auth.onIdTokenChanged(i=>{r((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(r,a),this.updateProactiveRefresh()}removeAuthTokenListener(r){this.assertAuthConfigured();const a=this.internalListeners.get(r);a&&(this.internalListeners.delete(r),a(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _5(e){Vo(new si("auth",(r,{options:a})=>{const i=r.getProvider("app").getImmediate(),o=r.getProvider("heartbeat"),c=r.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=i.options;je(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:d,authDomain:m,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W1(e)},f=new nT(i,o,c,h);return uT(f,a),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,a,i)=>{r.getProvider("auth-internal").initialize()})),Vo(new si("auth-internal",r=>{const a=Od(r.getProvider("auth").getImmediate());return(i=>new S5(i))(a)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(r0,s0,k5(e)),Qn(r0,s0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=5*60,E5=C1("authIdTokenMaxAge")||A5;let a0=null;const T5=e=>async r=>{const a=r&&await r.getIdTokenResult(),i=a&&(new Date().getTime()-Date.parse(a.issuedAtTime))/1e3;if(i&&i>E5)return;const o=a==null?void 0:a.token;a0!==o&&(a0=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function R5(e=jE()){const r=E1(e,"auth");if(r.isInitialized())return r.getImmediate();const a=dT(e,{popupRedirectResolver:C5,persistence:[LT,NT,t2]}),i=C1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const d=T5(c.toString());bT(a,d,()=>d(a.currentUser)),vT(a,m=>d(m))}}const o=aA("auth");return o?mT(a,`http://${o}`):S1("Auth",!1),a}function D5(){var e,r;return(r=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&r!==void 0?r:document}iT({loadJS(e){return new Promise((r,a)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=r,i.onerror=o=>{const c=_r("internal-error");c.customData=o,a(c)},i.type="text/javascript",i.charset="UTF-8",D5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_5("Browser");const O5={apiKey:"AIzaSyDsPZsRwk4uFh7r-IN8NCzAca_mxPe67OE",authDomain:"anandmobiles-daa8b.firebaseapp.com",projectId:"anandmobiles-daa8b",storageBucket:"anandmobiles-daa8b.firebasestorage.app",messagingSenderId:"403268549781",appId:"1:403268549781:web:4aa820dddb7db1fa076f9c",measurementId:"G-PQSMJKJFFS"},P5=T1(O5),L5=R5(P5),M5=new us,c2=e=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):null}catch(r){return console.error(`Error parsing stored data for key ${e}:`,r),null}},Ao=(e,r)=>{try{return localStorage.setItem(e,JSON.stringify(r)),!0}catch(a){return console.error(`Error storing data for key ${e}:`,a),!1}},Ah=(e,r)=>{try{return e&&localStorage.setItem(en,e),r&&Ao(ds,r),!0}catch(a){return console.error("Error persisting auth data:",a),!1}},Eh=()=>{try{localStorage.removeItem(en),localStorage.removeItem(ds)}catch(e){console.error("Error clearing auth data:",e)}},z5=()=>{const e=localStorage.getItem(en),r=c2(ds);return{user:r,isAuthenticated:!!(e&&r),isLoading:!1,error:null}},Le=Kt(e=>({...z5(),login:async r=>{var a,i,o,c;try{e({isLoading:!0,error:null});const m=(await Te.post("/users/login",{email:r.email,password:r.password})).data,h={uid:m.user_id,email:m.email,first_name:m.first_name,last_name:m.last_name,phone:m.phone_number||m.phone||""};return Ah(m.token,h),e({user:h,isAuthenticated:!0,isLoading:!1}),m}catch(d){throw e({error:((i=(a=d.response)==null?void 0:a.data)==null?void 0:i.detail)||((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Login failed. Please check your credentials.",isLoading:!1}),d}},signup:async r=>{var a,i,o,c;try{if(e({isLoading:!0,error:null}),r.idToken){const g=(await Te.post("/users/signup",{idToken:r.idToken})).data,v={uid:g.user_id,email:g.email,first_name:g.first_name,last_name:g.last_name,phone:g.phone_number||""};return Ah(g.token,v),e({user:v,isAuthenticated:!0,isLoading:!1}),g}const d={email:r.email,password:r.password,first_name:r.firstName||r.first_name||"",last_name:r.lastName||r.last_name||"",phone_number:r.phone||r.phone_number||""};r.metadata&&(d.metadata=r.metadata);const h=(await Te.post("/users/signup",d)).data,f={uid:h.user_id,email:h.email,first_name:h.first_name,last_name:h.last_name,phone:h.phone_number||d.phone_number||""};return Ah(h.token,f),e({user:f,isAuthenticated:!0,isLoading:!1}),h}catch(d){throw e({error:((i=(a=d.response)==null?void 0:a.data)==null?void 0:i.detail)||((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Signup failed. Please try again.",isLoading:!1}),d}},googleSignup:async()=>{var r,a,i,o;try{e({isLoading:!0,error:null});const m=await(await UT(L5,M5)).user.getIdToken();return await Le.getState().signup({idToken:m})}catch(c){throw e({error:((a=(r=c.response)==null?void 0:r.data)==null?void 0:a.detail)||((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Google signup failed. Please try again.",isLoading:!1}),c}},logout:()=>{Eh(),e({user:null,isAuthenticated:!1,error:null,isLoading:!1})},checkAuthStatus:async()=>{try{if(e({isLoading:!0}),localStorage.getItem(en))try{let a=c2(ds);if(!a){const i=await Te.get("/users/profile");a={uid:i.data.user_id||i.data.uid,email:i.data.email,first_name:i.data.first_name,last_name:i.data.last_name,phone:i.data.phone_number||i.data.phone||""},Ao(ds,a)}return e({user:a,isAuthenticated:!0,isLoading:!1}),a}catch(a){return Eh(),e({user:null,isAuthenticated:!1,isLoading:!1,error:a.message||"Session expired"}),null}else return e({user:null,isAuthenticated:!1,isLoading:!1}),null}catch(r){return Eh(),e({user:null,isAuthenticated:!1,isLoading:!1,error:r.message||"Session expired"}),null}},updateUserProfile:r=>{const a=Le.getState().user;if(!a)return;const i={...a,...r};Ao(ds,i),e({user:i})},fetchUserProfile:async()=>{var r,a;try{e({isLoading:!0,error:null});const o=(await Te.get("/users/profile/")).data,c={uid:o.user_id||o.uid,email:o.email,first_name:o.first_name,last_name:o.last_name,phone:o.phone_number||o.phone||"",auth_provider:o.auth_provider};return Ao(ds,c),e({user:c,isLoading:!1}),c}catch(i){throw e({error:((a=(r=i.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to fetch profile",isLoading:!1}),i}},updateUserProfileAPI:async r=>{var a,i,o,c;try{e({isLoading:!0,error:null});const d=await Te.post("/users/profile/update/",r),m=d.data.user,h={uid:m.user_id||((a=Le.getState().user)==null?void 0:a.uid),email:m.email,first_name:m.first_name,last_name:m.last_name,phone:m.phone_number||m.phone||"",auth_provider:(i=Le.getState().user)==null?void 0:i.auth_provider};return Ao(ds,h),e({user:h,isLoading:!1}),{success:!0,message:d.data.message,user:h}}catch(d){throw e({error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to update profile",isLoading:!1}),d}},getToken:()=>{try{return localStorage.getItem(en)}catch(r){return console.error("Error getting token:",r),null}},clearError:()=>e({error:null})}));function I5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function $r(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function ni(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function fp(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(e)}function ca(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function B5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function d2(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(e)}function U5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function pf(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function F5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function rn(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function fa(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function pp(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function Mt(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function zt(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function u2(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Md(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function St(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function Ar(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function Cs(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function V5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function bs(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function ul(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function m2(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function H5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function pi(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function q5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"},child:[]}]})(e)}function $5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function pa(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function xp(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(e)}function h2(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function Y5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function ml(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(e)}function yp(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function G5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function zd(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function W5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"},child:[]},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"},child:[]},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"},child:[]}]})(e)}function K5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(e)}function X5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function la(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function ps(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function f2(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function xi(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function ht(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function Z5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function Q5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function p2(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function J5(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(e)}function Me(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function yi(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function vt(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function an(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function Po(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function br(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function eR(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function tR(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}function yd(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function js(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function hl(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function rR(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"21",x2:"4",y2:"14"},child:[]},{tag:"line",attr:{x1:"4",y1:"10",x2:"4",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"21",x2:"20",y2:"16"},child:[]},{tag:"line",attr:{x1:"20",y1:"12",x2:"20",y2:"3"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"7",y2:"14"},child:[]},{tag:"line",attr:{x1:"9",y1:"8",x2:"15",y2:"8"},child:[]},{tag:"line",attr:{x1:"17",y1:"16",x2:"23",y2:"16"},child:[]}]})(e)}function Yr(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function sR(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function aR(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(e)}function Qs(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"},child:[]}]})(e)}function Js(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"},child:[]}]})(e)}function bt(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function lt(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}function nR(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(e)}function $o(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function Id(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(e)}function nr(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function gp(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function Bd(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function Qe(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function iR(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"},child:[]},{tag:"polygon",attr:{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"},child:[]}]})(e)}function oR(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}function lR(e){return ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"11",y1:"8",x2:"11",y2:"14"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(e)}function x2(e){return ie({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}const cR=()=>{const e=Wt(),{signup:r,googleSignup:a,error:i,clearError:o,isLoading:c}=Le(),[d,m]=w.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:""}),[h,f]=w.useState({}),[x,g]=w.useState({}),v=T=>{const{name:R,value:E}=T.target;m(D=>({...D,[R]:E})),h[R]&&f(D=>({...D,[R]:""})),i&&o()},j=()=>{const T={};return d.firstName.trim()||(T.firstName="First name is required"),d.lastName.trim()||(T.lastName="Last name is required"),d.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(d.email)||(T.email="Invalid email address"):T.email="Email is required",d.password?d.password.length<6&&(T.password="Password must be at least 6 characters long"):T.password="Password is required",d.password!==d.confirmPassword&&(T.confirmPassword="Passwords do not match"),d.phone.trim()?/^\d{10}$/.test(d.phone)||(T.phone="Invalid phone number"):T.phone="Phone number is required",f(T),Object.keys(T).length===0},b=w.useCallback(()=>{const T={};x.firstName&&!d.firstName.trim()&&(T.firstName="First name is required"),x.lastName&&!d.lastName.trim()&&(T.lastName="Last name is required"),x.email&&(d.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(d.email)||(T.email="Invalid email address"):T.email="Email is required"),x.password&&(d.password?d.password.length<6&&(T.password="Password must be at least 6 characters long"):T.password="Password is required"),x.confirmPassword&&d.password!==d.confirmPassword&&(T.confirmPassword="Passwords do not match"),x.phone&&(d.phone.trim()?/^\d{10}$/.test(d.phone)||(T.phone="Invalid phone number"):T.phone="Phone number is required"),f(T)},[d,x]);w.useEffect(()=>{b()},[d,x,b]);const C=T=>{const{name:R}=T.target;g(E=>({...E,[R]:!0}))},k=async T=>{if(T.preventDefault(),!!j())try{const R={email:d.email,password:d.password,firstName:d.firstName,lastName:d.lastName,phone:d.phone},E=await r(R);console.log("Signup successful:",E),e("/")}catch(R){console.error("Signup error:",R)}},S=async()=>{try{const T=await a();console.log("Google signup successful:",T),e("/")}catch(T){console.error("Google signup error:",T)}};return t.jsxs(Br,{title:"Join Anand Mobiles",titleColor:"var(--brand-primary)",children:[t.jsx("div",{className:"mt-3 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Create an account to enjoy a personalized shopping experience"}),t.jsxs("form",{className:"mt-7 space-y-5",onSubmit:k,children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 -mr-12 -mt-12 rounded-full opacity-10",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 -ml-12 -mb-12 rounded-full opacity-10",style:{backgroundColor:"var(--brand-secondary)"}}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Be,{label:"First Name",name:"firstName",value:d.firstName,onChange:v,onBlur:C,required:!0,error:h.firstName,placeholder:"John",icon:t.jsx(nr,{})}),t.jsx(Be,{label:"Last Name",name:"lastName",value:d.lastName,onChange:v,onBlur:C,required:!0,error:h.lastName,placeholder:"Doe",icon:t.jsx(nr,{})})]}),t.jsx(Be,{label:"Email Address",type:"email",name:"email",value:d.email,onChange:v,onBlur:C,required:!0,error:h.email,placeholder:"you@example.com",icon:t.jsx(xi,{})}),t.jsx(Be,{label:"Phone Number",type:"tel",name:"phone",value:d.phone,onChange:v,onBlur:C,required:!0,error:h.phone,placeholder:"1234567890",icon:t.jsx(yi,{})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Be,{label:"Password",type:"password",name:"password",value:d.password,onChange:v,onBlur:C,required:!0,error:h.password,placeholder:"••••••••",icon:t.jsx(ps,{})}),t.jsx(Be,{label:"Confirm Password",type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:v,onBlur:C,required:!0,error:h.confirmPassword,placeholder:"••••••••",icon:t.jsx(ps,{})})]})]}),i&&t.jsxs("div",{className:"text-sm text-center p-3 rounded-md animate-fadeIn flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)",borderRadius:"var(--rounded-md)"},children:[t.jsx($r,{className:"h-5 w-5 mr-2"}),i]}),t.jsx("div",{className:"pt-2 mt-2",children:t.jsx(ue,{type:"submit",isLoading:c,variant:"primary",size:"lg",fullWidth:!0,children:c?"Creating account...":"Create account"})}),t.jsxs("div",{className:"relative my-5",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t",style:{borderColor:"var(--border-primary)"}})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)"},children:"or continue with"})})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("button",{type:"button",onClick:S,className:"flex items-center justify-center py-3 px-6 border rounded-md hover:shadow-md transition-all duration-300",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsx(x2,{className:"w-5 h-5 mr-2"}),"Sign up with Google"]})}),t.jsxs("div",{className:"text-sm text-center mt-6",style:{color:"var(--text-secondary)"},children:["Already have an account?"," ",t.jsx(he,{to:"/login",className:"font-medium hover:underline transition-colors duration-200",style:{color:"var(--brand-primary)"},children:"Sign in"})]}),t.jsxs("div",{className:"text-xs text-center mt-4",style:{color:"var(--text-secondary)"},children:["By creating an account, you agree to our",t.jsx("br",{}),t.jsx(he,{to:"/terms",className:"hover:underline",style:{color:"var(--brand-primary)"},children:"Terms of Service"})," ","&"," ",t.jsx(he,{to:"/privacy",className:"hover:underline",style:{color:"var(--brand-primary)"},children:"Privacy Policy"})]})]})]})},dR=()=>{const e=Wt(),{login:r,googleSignup:a,error:i,clearError:o,isLoading:c}=Le(),[d,m]=w.useState({email:"",password:""}),[h,f]=w.useState({}),[x,g]=w.useState({email:!1,password:!1}),v=w.useCallback(()=>{const T={};x.email&&(d.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(d.email)||(T.email="Invalid email address"):T.email="Email is required"),x.password&&!d.password&&(T.password="Password is required"),f(T)},[d.email,d.password,x]);w.useEffect(()=>{v()},[d,x,v]);const j=T=>{const{name:R,value:E}=T.target;m(D=>({...D,[R]:E})),h[R]&&f(D=>({...D,[R]:""})),i&&o()},b=T=>{const{name:R}=T.target;g(E=>({...E,[R]:!0}))},C=()=>{const T={};return d.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(d.email)||(T.email="Invalid email address"):T.email="Email is required",d.password||(T.password="Password is required"),f(T),Object.keys(T).length===0},k=async T=>{if(T.preventDefault(),!!C())try{const R=await r({email:d.email,password:d.password});console.log("Login successful:",R),e("/")}catch(R){console.error("Login error:",R)}},S=async()=>{try{const T=await a();console.log("Google login successful:",T),e("/")}catch(T){console.error("Google login error:",T)}};return t.jsxs(Br,{title:"Welcome back",titleColor:"var(--brand-primary)",children:[t.jsx("div",{className:"mt-4 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Sign in to access your account, track orders, and explore our latest products"}),t.jsxs("div",{className:"mt-8",children:[t.jsx("div",{className:"bg-white rounded-lg p-6",style:{boxShadow:"var(--shadow-small)",borderRadius:"var(--rounded-lg)"},children:t.jsxs("form",{className:"space-y-6",onSubmit:k,children:[t.jsxs("div",{className:"space-y-5",children:[t.jsx(Be,{label:"Email Address",type:"email",name:"email",value:d.email,onChange:j,onBlur:b,required:!0,error:h.email,placeholder:"you@example.com",icon:t.jsx(xi,{})}),t.jsx(Be,{label:"Password",type:"password",name:"password",value:d.password,onChange:j,onBlur:b,required:!0,error:h.password,placeholder:"••••••••",icon:t.jsx(ps,{})})]}),i&&t.jsxs("div",{className:"text-sm text-center p-3 rounded-md animate-fadeIn flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},children:[t.jsx($r,{className:"h-5 w-5 mr-2"}),i]}),t.jsx("div",{className:"pt-2",children:t.jsx(ue,{type:"submit",isLoading:c,variant:"primary",size:"lg",fullWidth:!0,children:c?"Signing in...":"Sign in"})})]})}),t.jsxs("div",{className:"relative my-8",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t",style:{borderColor:"var(--border-primary)"}})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-4 bg-white rounded",style:{color:"var(--text-secondary)"},children:"or continue with"})})]})," ",t.jsx("div",{className:"flex justify-center mb-6",children:t.jsxs("button",{type:"button",onClick:S,className:"flex justify-center items-center py-3 px-6 border rounded-md shadow-sm text-sm font-medium transition-colors duration-200",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx(x2,{className:"h-5 w-5 mr-2"}),"Google"]})}),t.jsxs("div",{className:"text-sm text-center mt-8 pb-4",children:["Don't have an account ? ",t.jsx("br",{}),t.jsx(he,{to:"/signup",className:"font-medium hover:underline transition-colors duration-200",style:{color:"var(--brand-primary)"},children:"Create an account"})]})]})]})},vp=w.createContext({});function bp(e){const r=w.useRef(null);return r.current===null&&(r.current=e()),r.current}const jp=typeof window<"u",y2=jp?w.useLayoutEffect:w.useEffect,Ud=w.createContext(null),wp=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class uR extends w.Component{getSnapshotBeforeUpdate(r){const a=this.props.childRef.current;if(a&&r.isPresent&&!this.props.isPresent){const i=a.offsetParent,o=i instanceof HTMLElement&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=a.offsetHeight||0,c.width=a.offsetWidth||0,c.top=a.offsetTop,c.left=a.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mR({children:e,isPresent:r,anchorX:a}){const i=w.useId(),o=w.useRef(null),c=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=w.useContext(wp);return w.useInsertionEffect(()=>{const{width:m,height:h,top:f,left:x,right:g}=c.current;if(r||!o.current||!m||!h)return;const v=a==="left"?`left: ${x}`:`right: ${g}`;o.current.dataset.motionPopId=i;const j=document.createElement("style");return d&&(j.nonce=d),document.head.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${h}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(j)&&document.head.removeChild(j)}},[r]),t.jsx(uR,{isPresent:r,childRef:o,sizeRef:c,children:w.cloneElement(e,{ref:o})})}const hR=({children:e,initial:r,isPresent:a,onExitComplete:i,custom:o,presenceAffectsLayout:c,mode:d,anchorX:m})=>{const h=bp(fR),f=w.useId();let x=!0,g=w.useMemo(()=>(x=!1,{id:f,initial:r,isPresent:a,custom:o,onExitComplete:v=>{h.set(v,!0);for(const j of h.values())if(!j)return;i&&i()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[a,h,i]);return c&&x&&(g={...g}),w.useMemo(()=>{h.forEach((v,j)=>h.set(j,!1))},[a]),w.useEffect(()=>{!a&&!h.size&&i&&i()},[a]),d==="popLayout"&&(e=t.jsx(mR,{isPresent:a,anchorX:m,children:e})),t.jsx(Ud.Provider,{value:g,children:e})};function fR(){return new Map}function g2(e=!0){const r=w.useContext(Ud);if(r===null)return[!0,null];const{isPresent:a,onExitComplete:i,register:o}=r,c=w.useId();w.useEffect(()=>{if(e)return o(c)},[e]);const d=w.useCallback(()=>e&&i&&i(c),[c,i,e]);return!a&&i?[!1,d]:[!0]}const Mc=e=>e.key||"";function n0(e){const r=[];return w.Children.forEach(e,a=>{w.isValidElement(a)&&r.push(a)}),r}const v2=({children:e,custom:r,initial:a=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:c="sync",propagate:d=!1,anchorX:m="left"})=>{const[h,f]=g2(d),x=w.useMemo(()=>n0(e),[e]),g=d&&!h?[]:x.map(Mc),v=w.useRef(!0),j=w.useRef(x),b=bp(()=>new Map),[C,k]=w.useState(x),[S,T]=w.useState(x);y2(()=>{v.current=!1,j.current=x;for(let D=0;D<S.length;D++){const F=Mc(S[D]);g.includes(F)?b.delete(F):b.get(F)!==!0&&b.set(F,!1)}},[S,g.length,g.join("-")]);const R=[];if(x!==C){let D=[...x];for(let F=0;F<S.length;F++){const V=S[F],q=Mc(V);g.includes(q)||(D.splice(F,0,V),R.push(V))}return c==="wait"&&R.length&&(D=R),T(n0(D)),k(x),null}const{forceRender:E}=w.useContext(vp);return t.jsx(t.Fragment,{children:S.map(D=>{const F=Mc(D),V=d&&!h?!1:x===S||g.includes(F),q=()=>{if(b.has(F))b.set(F,!0);else return;let O=!0;b.forEach(A=>{A||(O=!1)}),O&&(E==null||E(),T(j.current),d&&(f==null||f()),i&&i())};return t.jsx(hR,{isPresent:V,initial:!v.current||a?void 0:!1,custom:r,presenceAffectsLayout:o,mode:c,onExitComplete:V?void 0:q,anchorX:m,children:D},F)})})};function Np(e,r){e.indexOf(r)===-1&&e.push(r)}function Cp(e,r){const a=e.indexOf(r);a>-1&&e.splice(a,1)}const ws=(e,r,a)=>a>r?r:a<e?e:a;let Sp=()=>{};const Ns={},b2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),j2=e=>/^0[^.\s]+$/u.test(e);function kp(e){let r;return()=>(r===void 0&&(r=e()),r)}const gr=e=>e,pR=(e,r)=>a=>r(e(a)),fl=(...e)=>e.reduce(pR),Yo=(e,r,a)=>{const i=r-e;return i===0?1:(a-e)/i};class _p{constructor(){this.subscriptions=[]}add(r){return Np(this.subscriptions,r),()=>Cp(this.subscriptions,r)}notify(r,a,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](r,a,i);else for(let c=0;c<o;c++){const d=this.subscriptions[c];d&&d(r,a,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fr=e=>e*1e3,Vr=e=>e/1e3;function w2(e,r){return r?e*(1e3/r):0}const N2=(e,r,a)=>(((1-3*a+3*r)*e+(3*a-6*r))*e+3*r)*e,xR=1e-7,yR=12;function gR(e,r,a,i,o){let c,d,m=0;do d=r+(a-r)/2,c=N2(d,i,o)-e,c>0?a=d:r=d;while(Math.abs(c)>xR&&++m<yR);return d}function pl(e,r,a,i){if(e===r&&a===i)return gr;const o=c=>gR(c,0,1,e,a);return c=>c===0||c===1?c:N2(o(c),r,i)}const C2=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,S2=e=>r=>1-e(1-r),k2=pl(.33,1.53,.69,.99),Ap=S2(k2),_2=C2(Ap),A2=e=>(e*=2)<1?.5*Ap(e):.5*(2-Math.pow(2,-10*(e-1))),Ep=e=>1-Math.sin(Math.acos(e)),E2=S2(Ep),T2=C2(Ep),vR=pl(.42,0,1,1),bR=pl(0,0,.58,1),R2=pl(.42,0,.58,1),jR=e=>Array.isArray(e)&&typeof e[0]!="number",D2=e=>Array.isArray(e)&&typeof e[0]=="number",wR={linear:gr,easeIn:vR,easeInOut:R2,easeOut:bR,circIn:Ep,circInOut:T2,circOut:E2,backIn:Ap,backInOut:_2,backOut:k2,anticipate:A2},NR=e=>typeof e=="string",i0=e=>{if(D2(e)){Sp(e.length===4);const[r,a,i,o]=e;return pl(r,a,i,o)}else if(NR(e))return wR[e];return e},zc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],o0={value:null};function CR(e,r){let a=new Set,i=new Set,o=!1,c=!1;const d=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1},h=0;function f(g){d.has(g)&&(x.schedule(g),e()),h++,g(m)}const x={schedule:(g,v=!1,j=!1)=>{const C=j&&o?a:i;return v&&d.add(g),C.has(g)||C.add(g),g},cancel:g=>{i.delete(g),d.delete(g)},process:g=>{if(m=g,o){c=!0;return}o=!0,[a,i]=[i,a],a.forEach(f),r&&o0.value&&o0.value.frameloop[r].push(h),h=0,a.clear(),o=!1,c&&(c=!1,x.process(g))}};return x}const SR=40;function O2(e,r){let a=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>a=!0,d=zc.reduce((R,E)=>(R[E]=CR(c,r?E:void 0),R),{}),{setup:m,read:h,resolveKeyframes:f,preUpdate:x,update:g,preRender:v,render:j,postRender:b}=d,C=()=>{const R=Ns.useManualTiming?o.timestamp:performance.now();a=!1,Ns.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(R-o.timestamp,SR),1)),o.timestamp=R,o.isProcessing=!0,m.process(o),h.process(o),f.process(o),x.process(o),g.process(o),v.process(o),j.process(o),b.process(o),o.isProcessing=!1,a&&r&&(i=!1,e(C))},k=()=>{a=!0,i=!0,o.isProcessing||e(C)};return{schedule:zc.reduce((R,E)=>{const D=d[E];return R[E]=(F,V=!1,q=!1)=>(a||k(),D.schedule(F,V,q)),R},{}),cancel:R=>{for(let E=0;E<zc.length;E++)d[zc[E]].cancel(R)},state:o,steps:d}}const{schedule:Je,cancel:da,state:Ct,steps:Th}=O2(typeof requestAnimationFrame<"u"?requestAnimationFrame:gr,!0);let ed;function kR(){ed=void 0}const $t={now:()=>(ed===void 0&&$t.set(Ct.isProcessing||Ns.useManualTiming?Ct.timestamp:performance.now()),ed),set:e=>{ed=e,queueMicrotask(kR)}},P2=e=>r=>typeof r=="string"&&r.startsWith(e),Tp=P2("--"),_R=P2("var(--"),Rp=e=>_R(e)?AR.test(e.split("/*")[0].trim()):!1,AR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Go={...gi,transform:e=>ws(0,1,e)},Ic={...gi,default:1},Lo=e=>Math.round(e*1e5)/1e5,Dp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ER(e){return e==null}const TR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Op=(e,r)=>a=>!!(typeof a=="string"&&TR.test(a)&&a.startsWith(e)||r&&!ER(a)&&Object.prototype.hasOwnProperty.call(a,r)),L2=(e,r,a)=>i=>{if(typeof i!="string")return i;const[o,c,d,m]=i.match(Dp);return{[e]:parseFloat(o),[r]:parseFloat(c),[a]:parseFloat(d),alpha:m!==void 0?parseFloat(m):1}},RR=e=>ws(0,255,e),Rh={...gi,transform:e=>Math.round(RR(e))},$a={test:Op("rgb","red"),parse:L2("red","green","blue"),transform:({red:e,green:r,blue:a,alpha:i=1})=>"rgba("+Rh.transform(e)+", "+Rh.transform(r)+", "+Rh.transform(a)+", "+Lo(Go.transform(i))+")"};function DR(e){let r="",a="",i="",o="";return e.length>5?(r=e.substring(1,3),a=e.substring(3,5),i=e.substring(5,7),o=e.substring(7,9)):(r=e.substring(1,2),a=e.substring(2,3),i=e.substring(3,4),o=e.substring(4,5),r+=r,a+=a,i+=i,o+=o),{red:parseInt(r,16),green:parseInt(a,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const xf={test:Op("#"),parse:DR,transform:$a.transform},xl=e=>({test:r=>typeof r=="string"&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),ta=xl("deg"),Hr=xl("%"),be=xl("px"),OR=xl("vh"),PR=xl("vw"),l0={...Hr,parse:e=>Hr.parse(e)/100,transform:e=>Hr.transform(e*100)},Gn={test:Op("hsl","hue"),parse:L2("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:a,alpha:i=1})=>"hsla("+Math.round(e)+", "+Hr.transform(Lo(r))+", "+Hr.transform(Lo(a))+", "+Lo(Go.transform(i))+")"},Et={test:e=>$a.test(e)||xf.test(e)||Gn.test(e),parse:e=>$a.test(e)?$a.parse(e):Gn.test(e)?Gn.parse(e):xf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?$a.transform(e):Gn.transform(e)},LR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MR(e){var r,a;return isNaN(e)&&typeof e=="string"&&(((r=e.match(Dp))==null?void 0:r.length)||0)+(((a=e.match(LR))==null?void 0:a.length)||0)>0}const M2="number",z2="color",zR="var",IR="var(",c0="${}",BR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wo(e){const r=e.toString(),a=[],i={color:[],number:[],var:[]},o=[];let c=0;const m=r.replace(BR,h=>(Et.test(h)?(i.color.push(c),o.push(z2),a.push(Et.parse(h))):h.startsWith(IR)?(i.var.push(c),o.push(zR),a.push(h)):(i.number.push(c),o.push(M2),a.push(parseFloat(h))),++c,c0)).split(c0);return{values:a,split:m,indexes:i,types:o}}function I2(e){return Wo(e).values}function B2(e){const{split:r,types:a}=Wo(e),i=r.length;return o=>{let c="";for(let d=0;d<i;d++)if(c+=r[d],o[d]!==void 0){const m=a[d];m===M2?c+=Lo(o[d]):m===z2?c+=Et.transform(o[d]):c+=o[d]}return c}}const UR=e=>typeof e=="number"?0:e;function FR(e){const r=I2(e);return B2(e)(r.map(UR))}const ua={test:MR,parse:I2,createTransformer:B2,getAnimatableNone:FR};function Dh(e,r,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(r-e)*6*a:a<1/2?r:a<2/3?e+(r-e)*(2/3-a)*6:e}function VR({hue:e,saturation:r,lightness:a,alpha:i}){e/=360,r/=100,a/=100;let o=0,c=0,d=0;if(!r)o=c=d=a;else{const m=a<.5?a*(1+r):a+r-a*r,h=2*a-m;o=Dh(h,m,e+1/3),c=Dh(h,m,e),d=Dh(h,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:i}}function gd(e,r){return a=>a>0?r:e}const Ze=(e,r,a)=>e+(r-e)*a,Oh=(e,r,a)=>{const i=e*e,o=a*(r*r-i)+i;return o<0?0:Math.sqrt(o)},HR=[xf,$a,Gn],qR=e=>HR.find(r=>r.test(e));function d0(e){const r=qR(e);if(!r)return!1;let a=r.parse(e);return r===Gn&&(a=VR(a)),a}const u0=(e,r)=>{const a=d0(e),i=d0(r);if(!a||!i)return gd(e,r);const o={...a};return c=>(o.red=Oh(a.red,i.red,c),o.green=Oh(a.green,i.green,c),o.blue=Oh(a.blue,i.blue,c),o.alpha=Ze(a.alpha,i.alpha,c),$a.transform(o))},yf=new Set(["none","hidden"]);function $R(e,r){return yf.has(e)?a=>a<=0?e:r:a=>a>=1?r:e}function YR(e,r){return a=>Ze(e,r,a)}function Pp(e){return typeof e=="number"?YR:typeof e=="string"?Rp(e)?gd:Et.test(e)?u0:KR:Array.isArray(e)?U2:typeof e=="object"?Et.test(e)?u0:GR:gd}function U2(e,r){const a=[...e],i=a.length,o=e.map((c,d)=>Pp(c)(c,r[d]));return c=>{for(let d=0;d<i;d++)a[d]=o[d](c);return a}}function GR(e,r){const a={...e,...r},i={};for(const o in a)e[o]!==void 0&&r[o]!==void 0&&(i[o]=Pp(e[o])(e[o],r[o]));return o=>{for(const c in i)a[c]=i[c](o);return a}}function WR(e,r){const a=[],i={color:0,var:0,number:0};for(let o=0;o<r.values.length;o++){const c=r.types[o],d=e.indexes[c][i[c]],m=e.values[d]??0;a[o]=m,i[c]++}return a}const KR=(e,r)=>{const a=ua.createTransformer(r),i=Wo(e),o=Wo(r);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?yf.has(e)&&!o.values.length||yf.has(r)&&!i.values.length?$R(e,r):fl(U2(WR(i,o),o.values),a):gd(e,r)};function F2(e,r,a){return typeof e=="number"&&typeof r=="number"&&typeof a=="number"?Ze(e,r,a):Pp(e)(e,r)}const XR=e=>{const r=({timestamp:a})=>e(a);return{start:(a=!0)=>Je.update(r,a),stop:()=>da(r),now:()=>Ct.isProcessing?Ct.timestamp:$t.now()}},V2=(e,r,a=10)=>{let i="";const o=Math.max(Math.round(r/a),2);for(let c=0;c<o;c++)i+=e(c/(o-1))+", ";return`linear(${i.substring(0,i.length-2)})`},vd=2e4;function Lp(e){let r=0;const a=50;let i=e.next(r);for(;!i.done&&r<vd;)r+=a,i=e.next(r);return r>=vd?1/0:r}function ZR(e,r=100,a){const i=a({...e,keyframes:[0,r]}),o=Math.min(Lp(i),vd);return{type:"keyframes",ease:c=>i.next(o*c).value/r,duration:Vr(o)}}const QR=5;function H2(e,r,a){const i=Math.max(r-QR,0);return w2(a-e(i),r-i)}const st={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},m0=.001;function JR({duration:e=st.duration,bounce:r=st.bounce,velocity:a=st.velocity,mass:i=st.mass}){let o,c,d=1-r;d=ws(st.minDamping,st.maxDamping,d),e=ws(st.minDuration,st.maxDuration,Vr(e)),d<1?(o=f=>{const x=f*d,g=x*e,v=x-a,j=gf(f,d),b=Math.exp(-g);return m0-v/j*b},c=f=>{const g=f*d*e,v=g*a+a,j=Math.pow(d,2)*Math.pow(f,2)*e,b=Math.exp(-g),C=gf(Math.pow(f,2),d);return(-o(f)+m0>0?-1:1)*((v-j)*b)/C}):(o=f=>{const x=Math.exp(-f*e),g=(f-a)*e+1;return-.001+x*g},c=f=>{const x=Math.exp(-f*e),g=(a-f)*(e*e);return x*g});const m=5/e,h=t6(o,c,m);if(e=Fr(e),isNaN(h))return{stiffness:st.stiffness,damping:st.damping,duration:e};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:d*2*Math.sqrt(i*f),duration:e}}}const e6=12;function t6(e,r,a){let i=a;for(let o=1;o<e6;o++)i=i-e(i)/r(i);return i}function gf(e,r){return e*Math.sqrt(1-r*r)}const r6=["duration","bounce"],s6=["stiffness","damping","mass"];function h0(e,r){return r.some(a=>e[a]!==void 0)}function a6(e){let r={velocity:st.velocity,stiffness:st.stiffness,damping:st.damping,mass:st.mass,isResolvedFromDuration:!1,...e};if(!h0(e,s6)&&h0(e,r6))if(e.visualDuration){const a=e.visualDuration,i=2*Math.PI/(a*1.2),o=i*i,c=2*ws(.05,1,1-(e.bounce||0))*Math.sqrt(o);r={...r,mass:st.mass,stiffness:o,damping:c}}else{const a=JR(e);r={...r,...a,mass:st.mass},r.isResolvedFromDuration=!0}return r}function bd(e=st.visualDuration,r=st.bounce){const a=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:r}:e;let{restSpeed:i,restDelta:o}=a;const c=a.keyframes[0],d=a.keyframes[a.keyframes.length-1],m={done:!1,value:c},{stiffness:h,damping:f,mass:x,duration:g,velocity:v,isResolvedFromDuration:j}=a6({...a,velocity:-Vr(a.velocity||0)}),b=v||0,C=f/(2*Math.sqrt(h*x)),k=d-c,S=Vr(Math.sqrt(h/x)),T=Math.abs(k)<5;i||(i=T?st.restSpeed.granular:st.restSpeed.default),o||(o=T?st.restDelta.granular:st.restDelta.default);let R;if(C<1){const D=gf(S,C);R=F=>{const V=Math.exp(-C*S*F);return d-V*((b+C*S*k)/D*Math.sin(D*F)+k*Math.cos(D*F))}}else if(C===1)R=D=>d-Math.exp(-S*D)*(k+(b+S*k)*D);else{const D=S*Math.sqrt(C*C-1);R=F=>{const V=Math.exp(-C*S*F),q=Math.min(D*F,300);return d-V*((b+C*S*k)*Math.sinh(q)+D*k*Math.cosh(q))/D}}const E={calculatedDuration:j&&g||null,next:D=>{const F=R(D);if(j)m.done=D>=g;else{let V=D===0?b:0;C<1&&(V=D===0?Fr(b):H2(R,D,F));const q=Math.abs(V)<=i,O=Math.abs(d-F)<=o;m.done=q&&O}return m.value=m.done?d:F,m},toString:()=>{const D=Math.min(Lp(E),vd),F=V2(V=>E.next(D*V).value,D,30);return D+"ms "+F},toTransition:()=>{}};return E}bd.applyToOptions=e=>{const r=ZR(e,100,bd);return e.ease=r.ease,e.duration=Fr(r.duration),e.type="keyframes",e};function vf({keyframes:e,velocity:r=0,power:a=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:d,min:m,max:h,restDelta:f=.5,restSpeed:x}){const g=e[0],v={done:!1,value:g},j=q=>m!==void 0&&q<m||h!==void 0&&q>h,b=q=>m===void 0?h:h===void 0||Math.abs(m-q)<Math.abs(h-q)?m:h;let C=a*r;const k=g+C,S=d===void 0?k:d(k);S!==k&&(C=S-g);const T=q=>-C*Math.exp(-q/i),R=q=>S+T(q),E=q=>{const O=T(q),A=R(q);v.done=Math.abs(O)<=f,v.value=v.done?S:A};let D,F;const V=q=>{j(v.value)&&(D=q,F=bd({keyframes:[v.value,b(v.value)],velocity:H2(R,q,v.value),damping:o,stiffness:c,restDelta:f,restSpeed:x}))};return V(0),{calculatedDuration:null,next:q=>{let O=!1;return!F&&D===void 0&&(O=!0,E(q),V(q)),D!==void 0&&q>=D?F.next(q-D):(!O&&E(q),v)}}}function n6(e,r,a){const i=[],o=a||Ns.mix||F2,c=e.length-1;for(let d=0;d<c;d++){let m=o(e[d],e[d+1]);if(r){const h=Array.isArray(r)?r[d]||gr:r;m=fl(h,m)}i.push(m)}return i}function i6(e,r,{clamp:a=!0,ease:i,mixer:o}={}){const c=e.length;if(Sp(c===r.length),c===1)return()=>r[0];if(c===2&&r[0]===r[1])return()=>r[1];const d=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),r=[...r].reverse());const m=n6(r,i,o),h=m.length,f=x=>{if(d&&x<e[0])return r[0];let g=0;if(h>1)for(;g<e.length-2&&!(x<e[g+1]);g++);const v=Yo(e[g],e[g+1],x);return m[g](v)};return a?x=>f(ws(e[0],e[c-1],x)):f}function o6(e,r){const a=e[e.length-1];for(let i=1;i<=r;i++){const o=Yo(0,r,i);e.push(Ze(a,1,o))}}function l6(e){const r=[0];return o6(r,e.length-1),r}function c6(e,r){return e.map(a=>a*r)}function d6(e,r){return e.map(()=>r||R2).splice(0,e.length-1)}function Mo({duration:e=300,keyframes:r,times:a,ease:i="easeInOut"}){const o=jR(i)?i.map(i0):i0(i),c={done:!1,value:r[0]},d=c6(a&&a.length===r.length?a:l6(r),e),m=i6(d,r,{ease:Array.isArray(o)?o:d6(r,o)});return{calculatedDuration:e,next:h=>(c.value=m(h),c.done=h>=e,c)}}const u6=e=>e!==null;function Mp(e,{repeat:r,repeatType:a="loop"},i,o=1){const c=e.filter(u6),m=o<0||r&&a!=="loop"&&r%2===1?0:c.length-1;return!m||i===void 0?c[m]:i}const m6={decay:vf,inertia:vf,tween:Mo,keyframes:Mo,spring:bd};function q2(e){typeof e.type=="string"&&(e.type=m6[e.type])}class zp{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(r=>{this.resolve=r})}notifyFinished(){this.resolve()}then(r,a){return this.finished.then(r,a)}}const h6=e=>e/100;class Ip extends zp{constructor(r){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(a=!0)=>{if(a){const{motionValue:o}=this.options;o&&o.updatedAt!==$t.now()&&this.tick($t.now())}if(this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:i}=this.options;i&&i()},this.options=r,this.initAnimation(),this.play(),r.autoplay===!1&&this.pause()}initAnimation(){const{options:r}=this;q2(r);const{type:a=Mo,repeat:i=0,repeatDelay:o=0,repeatType:c,velocity:d=0}=r;let{keyframes:m}=r;const h=a||Mo;h!==Mo&&typeof m[0]!="number"&&(this.mixKeyframes=fl(h6,F2(m[0],m[1])),m=[0,100]);const f=h({...r,keyframes:m});c==="mirror"&&(this.mirroredGenerator=h({...r,keyframes:[...m].reverse(),velocity:-d})),f.calculatedDuration===null&&(f.calculatedDuration=Lp(f));const{calculatedDuration:x}=f;this.calculatedDuration=x,this.resolvedDuration=x+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=f}updateTime(r){const a=Math.round(r-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(r,a=!1){const{generator:i,totalDuration:o,mixKeyframes:c,mirroredGenerator:d,resolvedDuration:m,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:x,repeat:g,repeatType:v,repeatDelay:j,type:b,onUpdate:C,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-o/this.speed,this.startTime)),a?this.currentTime=r:this.updateTime(r);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?S<0:S>o;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let R=this.currentTime,E=i;if(g){const q=Math.min(this.currentTime,o)/m;let O=Math.floor(q),A=q%1;!A&&q>=1&&(A=1),A===1&&O--,O=Math.min(O,g+1),!!(O%2)&&(v==="reverse"?(A=1-A,j&&(A-=j/m)):v==="mirror"&&(E=d)),R=ws(0,1,A)*m}const D=T?{done:!1,value:x[0]}:E.next(R);c&&(D.value=c(D.value));let{done:F}=D;!T&&h!==null&&(F=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return V&&b!==vf&&(D.value=Mp(x,this.options,k,this.speed)),C&&C(D.value),V&&this.finish(),D}then(r,a){return this.finished.then(r,a)}get duration(){return Vr(this.calculatedDuration)}get time(){return Vr(this.currentTime)}set time(r){var a;r=Fr(r),this.currentTime=r,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.playbackSpeed),(a=this.driver)==null||a.start(!1)}get speed(){return this.playbackSpeed}set speed(r){this.updateTime($t.now());const a=this.playbackSpeed!==r;this.playbackSpeed=r,a&&(this.time=Vr(this.currentTime))}play(){if(this.isStopped)return;const{driver:r=XR,onPlay:a,startTime:i}=this.options;this.driver||(this.driver=r(c=>this.tick(c))),a&&a();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=i??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($t.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:r}=this.options;r&&r()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}attachTimeline(r){var a;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(a=this.driver)==null||a.stop(),r.observe(this)}}function f6(e){for(let r=1;r<e.length;r++)e[r]??(e[r]=e[r-1])}const Ya=e=>e*180/Math.PI,bf=e=>{const r=Ya(Math.atan2(e[1],e[0]));return jf(r)},p6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:bf,rotateZ:bf,skewX:e=>Ya(Math.atan(e[1])),skewY:e=>Ya(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},jf=e=>(e=e%360,e<0&&(e+=360),e),f0=bf,p0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),x0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),x6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:p0,scaleY:x0,scale:e=>(p0(e)+x0(e))/2,rotateX:e=>jf(Ya(Math.atan2(e[6],e[5]))),rotateY:e=>jf(Ya(Math.atan2(-e[2],e[0]))),rotateZ:f0,rotate:f0,skewX:e=>Ya(Math.atan(e[4])),skewY:e=>Ya(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function y0(e){return e.includes("scale")?1:0}function wf(e,r){if(!e||e==="none")return y0(r);const a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(a)i=x6,o=a;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=p6,o=m}if(!o)return y0(r);const c=i[r],d=o[1].split(",").map(g6);return typeof c=="function"?c(d):d[c]}const y6=(e,r)=>{const{transform:a="none"}=getComputedStyle(e);return wf(a,r)};function g6(e){return parseFloat(e.trim())}const vi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bi=new Set(vi),g0=e=>e===gi||e===be,v6=new Set(["x","y","z"]),b6=vi.filter(e=>!v6.has(e));function j6(e){const r=[];return b6.forEach(a=>{const i=e.getValue(a);i!==void 0&&(r.push([a,i.get()]),i.set(a.startsWith("scale")?1:0))}),r}const Xa={width:({x:e},{paddingLeft:r="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(r)-parseFloat(a),height:({y:e},{paddingTop:r="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(r)-parseFloat(a),top:(e,{top:r})=>parseFloat(r),left:(e,{left:r})=>parseFloat(r),bottom:({y:e},{top:r})=>parseFloat(r)+(e.max-e.min),right:({x:e},{left:r})=>parseFloat(r)+(e.max-e.min),x:(e,{transform:r})=>wf(r,"x"),y:(e,{transform:r})=>wf(r,"y")};Xa.translateX=Xa.x;Xa.translateY=Xa.y;const Za=new Set;let Nf=!1,Cf=!1,Sf=!1;function $2(){if(Cf){const e=Array.from(Za).filter(i=>i.needsMeasurement),r=new Set(e.map(i=>i.element)),a=new Map;r.forEach(i=>{const o=j6(i);o.length&&(a.set(i,o),i.render())}),e.forEach(i=>i.measureInitialState()),r.forEach(i=>{i.render();const o=a.get(i);o&&o.forEach(([c,d])=>{var m;(m=i.getValue(c))==null||m.set(d)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Cf=!1,Nf=!1,Za.forEach(e=>e.complete(Sf)),Za.clear()}function Y2(){Za.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Cf=!0)})}function w6(){Sf=!0,Y2(),$2(),Sf=!1}class Bp{constructor(r,a,i,o,c,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...r],this.onComplete=a,this.name=i,this.motionValue=o,this.element=c,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Za.add(this),Nf||(Nf=!0,Je.read(Y2),Je.resolveKeyframes($2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:a,element:i,motionValue:o}=this;if(r[0]===null){const c=o==null?void 0:o.get(),d=r[r.length-1];if(c!==void 0)r[0]=c;else if(i&&a){const m=i.readValue(a,d);m!=null&&(r[0]=m)}r[0]===void 0&&(r[0]=d),o&&c===void 0&&o.set(r[0])}f6(r)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(r=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,r),Za.delete(this)}cancel(){this.state==="scheduled"&&(Za.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const N6=e=>e.startsWith("--");function C6(e,r,a){N6(r)?e.style.setProperty(r,a):e.style[r]=a}const S6=kp(()=>window.ScrollTimeline!==void 0),k6={};function _6(e,r){const a=kp(e);return()=>k6[r]??a()}const G2=_6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Eo=([e,r,a,i])=>`cubic-bezier(${e}, ${r}, ${a}, ${i})`,v0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Eo([0,.65,.55,1]),circOut:Eo([.55,0,1,.45]),backIn:Eo([.31,.01,.66,-.59]),backOut:Eo([.33,1.53,.69,.99])};function W2(e,r){if(e)return typeof e=="function"?G2()?V2(e,r):"ease-out":D2(e)?Eo(e):Array.isArray(e)?e.map(a=>W2(a,r)||v0.easeOut):v0[e]}function A6(e,r,a,{delay:i=0,duration:o=300,repeat:c=0,repeatType:d="loop",ease:m="easeOut",times:h}={},f=void 0){const x={[r]:a};h&&(x.offset=h);const g=W2(m,o);Array.isArray(g)&&(x.easing=g);const v={delay:i,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),e.animate(x,v)}function K2(e){return typeof e=="function"&&"applyToOptions"in e}function E6({type:e,...r}){return K2(e)&&G2()?e.applyToOptions(r):(r.duration??(r.duration=300),r.ease??(r.ease="easeOut"),r)}class T6 extends zp{constructor(r){if(super(),this.finishedTime=null,this.isStopped=!1,!r)return;const{element:a,name:i,keyframes:o,pseudoElement:c,allowFlatten:d=!1,finalKeyframe:m,onComplete:h}=r;this.isPseudoElement=!!c,this.allowFlatten=d,this.options=r,Sp(typeof r.type!="string");const f=E6(r);this.animation=A6(a,i,o,f,c),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const x=Mp(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(x):C6(a,i,x),this.animation.cancel()}h==null||h(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var r,a;(a=(r=this.animation).finish)==null||a.call(r)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:r}=this;r==="idle"||r==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var r,a;this.isPseudoElement||(a=(r=this.animation).commitStyles)==null||a.call(r)}get duration(){var a,i;const r=((i=(a=this.animation.effect)==null?void 0:a.getComputedTiming)==null?void 0:i.call(a).duration)||0;return Vr(Number(r))}get time(){return Vr(Number(this.animation.currentTime)||0)}set time(r){this.finishedTime=null,this.animation.currentTime=Fr(r)}get speed(){return this.animation.playbackRate}set speed(r){r<0&&(this.finishedTime=null),this.animation.playbackRate=r}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(r){this.animation.startTime=r}attachTimeline({timeline:r,observe:a}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,r&&S6()?(this.animation.timeline=r,gr):a(this)}}const X2={anticipate:A2,backInOut:_2,circInOut:T2};function R6(e){return e in X2}function D6(e){typeof e.ease=="string"&&R6(e.ease)&&(e.ease=X2[e.ease])}const b0=10;class O6 extends T6{constructor(r){D6(r),q2(r),super(r),r.startTime&&(this.startTime=r.startTime),this.options=r}updateMotionValue(r){const{motionValue:a,onUpdate:i,onComplete:o,element:c,...d}=this.options;if(!a)return;if(r!==void 0){a.set(r);return}const m=new Ip({...d,autoplay:!1}),h=Fr(this.finishedTime??this.time);a.setWithVelocity(m.sample(h-b0).value,m.sample(h).value,b0),m.stop()}}const j0=(e,r)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ua.test(e)||e==="0")&&!e.startsWith("url("));function P6(e){const r=e[0];if(e.length===1)return!0;for(let a=0;a<e.length;a++)if(e[a]!==r)return!0}function L6(e,r,a,i){const o=e[0];if(o===null)return!1;if(r==="display"||r==="visibility")return!0;const c=e[e.length-1],d=j0(o,r),m=j0(c,r);return!d||!m?!1:P6(e)||(a==="spring"||K2(a))&&i}const M6=new Set(["opacity","clipPath","filter","transform"]),z6=kp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function I6(e){const{motionValue:r,name:a,repeatDelay:i,repeatType:o,damping:c,type:d}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:h}=r.owner.getProps();return z6()&&a&&M6.has(a)&&(a!=="transform"||!h)&&!m&&!i&&o!=="mirror"&&c!==0&&d!=="inertia"}const B6=40;class U6 extends zp{constructor({autoplay:r=!0,delay:a=0,type:i="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:d="loop",keyframes:m,name:h,motionValue:f,element:x,...g}){var b;super(),this.stop=()=>{var C,k;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=$t.now();const v={autoplay:r,delay:a,type:i,repeat:o,repeatDelay:c,repeatType:d,name:h,motionValue:f,element:x,...g},j=(x==null?void 0:x.KeyframeResolver)||Bp;this.keyframeResolver=new j(m,(C,k,S)=>this.onKeyframesResolved(C,k,v,!S),h,f,x),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(r,a,i,o){this.keyframeResolver=void 0;const{name:c,type:d,velocity:m,delay:h,isHandoff:f,onUpdate:x}=i;this.resolvedAt=$t.now(),L6(r,c,d,m)||((Ns.instantAnimations||!h)&&(x==null||x(Mp(r,i,a))),r[0]=r[r.length-1],i.duration=0,i.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>B6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...i,keyframes:r},j=!f&&I6(v)?new O6({...v,element:v.motionValue.owner.current}):new Ip(v);j.finished.then(()=>this.notifyFinished()).catch(gr),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(r,a){return this.finished.finally(r).then(()=>{})}get animation(){var r;return this._animation||((r=this.keyframeResolver)==null||r.resume(),w6()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(r){this.animation.time=r}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(r){this.animation.speed=r}get startTime(){return this.animation.startTime}attachTimeline(r){return this._animation?this.stopTimeline=this.animation.attachTimeline(r):this.pendingTimeline=r,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var r;this._animation&&this.animation.cancel(),(r=this.keyframeResolver)==null||r.cancel()}}const F6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V6(e){const r=F6.exec(e);if(!r)return[,];const[,a,i,o]=r;return[`--${a??i}`,o]}function Z2(e,r,a=1){const[i,o]=V6(e);if(!i)return;const c=window.getComputedStyle(r).getPropertyValue(i);if(c){const d=c.trim();return b2(d)?parseFloat(d):d}return Rp(o)?Z2(o,r,a+1):o}function Up(e,r){return(e==null?void 0:e[r])??(e==null?void 0:e.default)??e}const Q2=new Set(["width","height","top","left","right","bottom",...vi]),H6={test:e=>e==="auto",parse:e=>e},J2=e=>r=>r.test(e),ew=[gi,be,Hr,ta,PR,OR,H6],w0=e=>ew.find(J2(e));function q6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||j2(e):!0}const $6=new Set(["brightness","contrast","saturate","opacity"]);function Y6(e){const[r,a]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[i]=a.match(Dp)||[];if(!i)return e;const o=a.replace(i,"");let c=$6.has(r)?1:0;return i!==a&&(c*=100),r+"("+c+o+")"}const G6=/\b([a-z-]*)\(.*?\)/gu,kf={...ua,getAnimatableNone:e=>{const r=e.match(G6);return r?r.map(Y6).join(" "):e}},N0={...gi,transform:Math.round},W6={rotate:ta,rotateX:ta,rotateY:ta,rotateZ:ta,scale:Ic,scaleX:Ic,scaleY:Ic,scaleZ:Ic,skew:ta,skewX:ta,skewY:ta,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Go,originX:l0,originY:l0,originZ:be},Fp={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...W6,zIndex:N0,fillOpacity:Go,strokeOpacity:Go,numOctaves:N0},K6={...Fp,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:kf,WebkitFilter:kf},tw=e=>K6[e];function rw(e,r){let a=tw(e);return a!==kf&&(a=ua),a.getAnimatableNone?a.getAnimatableNone(r):void 0}const X6=new Set(["auto","none","0"]);function Z6(e,r,a){let i=0,o;for(;i<e.length&&!o;){const c=e[i];typeof c=="string"&&!X6.has(c)&&Wo(c).values.length&&(o=e[i]),i++}if(o&&a)for(const c of r)e[c]=rw(a,o)}class Q6 extends Bp{constructor(r,a,i,o,c){super(r,a,i,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:a,name:i}=this;if(!a||!a.current)return;super.readKeyframes();for(let h=0;h<r.length;h++){let f=r[h];if(typeof f=="string"&&(f=f.trim(),Rp(f))){const x=Z2(f,a.current);x!==void 0&&(r[h]=x),h===r.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Q2.has(i)||r.length!==2)return;const[o,c]=r,d=w0(o),m=w0(c);if(d!==m)if(g0(d)&&g0(m))for(let h=0;h<r.length;h++){const f=r[h];typeof f=="string"&&(r[h]=parseFloat(f))}else Xa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:a}=this,i=[];for(let o=0;o<r.length;o++)(r[o]===null||q6(r[o]))&&i.push(o);i.length&&Z6(r,i,a)}measureInitialState(){const{element:r,unresolvedKeyframes:a,name:i}=this;if(!r||!r.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xa[i](r.measureViewportBox(),window.getComputedStyle(r.current)),a[0]=this.measuredOrigin;const o=a[a.length-1];o!==void 0&&r.getValue(i,o).jump(o,!1)}measureEndState(){var m;const{element:r,name:a,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const o=r.getValue(a);o&&o.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=Xa[a](r.measureViewportBox(),window.getComputedStyle(r.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([h,f])=>{r.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function J6(e,r,a){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const o=(a==null?void 0:a[e])??i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const C0=30,eD=e=>!isNaN(parseFloat(e));class tD{constructor(r,a={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{var d,m;const c=$t.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((d=this.events.change)==null||d.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();o&&((m=this.events.renderRequest)==null||m.notify(this.current))},this.hasAnimated=!1,this.setCurrent(r),this.owner=a.owner}setCurrent(r){this.current=r,this.updatedAt=$t.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=eD(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,a){this.events[r]||(this.events[r]=new _p);const i=this.events[r].add(a);return r==="change"?()=>{i(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,a){this.passiveEffect=r,this.stopPassiveEffect=a}set(r,a=!0){!a||!this.passiveEffect?this.updateAndNotify(r,a):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,a,i){this.set(a),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-i}jump(r,a=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var r;(r=this.events.change)==null||r.notify(this.current)}addDependent(r){this.dependents||(this.dependents=new Set),this.dependents.add(r)}removeDependent(r){this.dependents&&this.dependents.delete(r)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=$t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>C0)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,C0);return w2(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(r){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=r(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var r,a;(r=this.dependents)==null||r.clear(),(a=this.events.destroy)==null||a.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ii(e,r){return new tD(e,r)}const sw=(e,r)=>r&&typeof e=="number"?r.transform(e):e,{schedule:Vp}=O2(queueMicrotask,!1),Sr={x:!1,y:!1};function aw(){return Sr.x||Sr.y}function rD(e){return e==="x"||e==="y"?Sr[e]?null:(Sr[e]=!0,()=>{Sr[e]=!1}):Sr.x||Sr.y?null:(Sr.x=Sr.y=!0,()=>{Sr.x=Sr.y=!1})}function nw(e,r){const a=J6(e),i=new AbortController,o={passive:!0,...r,signal:i.signal};return[a,o,()=>i.abort()]}function S0(e){return!(e.pointerType==="touch"||aw())}function sD(e,r,a={}){const[i,o,c]=nw(e,a),d=m=>{if(!S0(m))return;const{target:h}=m,f=r(h,m);if(typeof f!="function"||!h)return;const x=g=>{S0(g)&&(f(g),h.removeEventListener("pointerleave",x))};h.addEventListener("pointerleave",x,o)};return i.forEach(m=>{m.addEventListener("pointerenter",d,o)}),c}const iw=(e,r)=>r?e===r?!0:iw(e,r.parentElement):!1,Hp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,aD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function nD(e){return aD.has(e.tagName)||e.tabIndex!==-1}const td=new WeakSet;function k0(e){return r=>{r.key==="Enter"&&e(r)}}function Ph(e,r){e.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const iD=(e,r)=>{const a=e.currentTarget;if(!a)return;const i=k0(()=>{if(td.has(a))return;Ph(a,"down");const o=k0(()=>{Ph(a,"up")}),c=()=>Ph(a,"cancel");a.addEventListener("keyup",o,r),a.addEventListener("blur",c,r)});a.addEventListener("keydown",i,r),a.addEventListener("blur",()=>a.removeEventListener("keydown",i),r)};function _0(e){return Hp(e)&&!aw()}function oD(e,r,a={}){const[i,o,c]=nw(e,a),d=m=>{const h=m.currentTarget;if(!_0(m))return;td.add(h);const f=r(h,m),x=(j,b)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),td.has(h)&&td.delete(h),_0(j)&&typeof f=="function"&&f(j,{success:b})},g=j=>{x(j,h===window||h===document||a.useGlobalTarget||iw(h,j.target))},v=j=>{x(j,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",v,o)};return i.forEach(m=>{(a.useGlobalTarget?window:m).addEventListener("pointerdown",d,o),m instanceof HTMLElement&&(m.addEventListener("focus",f=>iD(f,o)),!nD(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}const lD=[...ew,Et,ua],cD=e=>lD.find(J2(e)),ow=w.createContext({strict:!1}),A0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oi={};for(const e in A0)oi[e]={isEnabled:r=>A0[e].some(a=>!!r[a])};function dD(e){for(const r in e)oi[r]={...oi[r],...e[r]}}const uD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uD.has(e)}let lw=e=>!jd(e);function mD(e){e&&(lw=r=>r.startsWith("on")?!jd(r):e(r))}try{mD(require("@emotion/is-prop-valid").default)}catch{}function hD(e,r,a){const i={};for(const o in e)o==="values"&&typeof e.values=="object"||(lw(o)||a===!0&&jd(o)||!r&&!jd(o)||e.draggable&&o.startsWith("onDrag"))&&(i[o]=e[o]);return i}function fD(e){if(typeof Proxy>"u")return e;const r=new Map,a=(...i)=>e(...i);return new Proxy(a,{get:(i,o)=>o==="create"?e:(r.has(o)||r.set(o,e(o)),r.get(o))})}const Fd=w.createContext({});function Vd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ko(e){return typeof e=="string"||Array.isArray(e)}const qp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$p=["initial",...qp];function Hd(e){return Vd(e.animate)||$p.some(r=>Ko(e[r]))}function cw(e){return!!(Hd(e)||e.variants)}function pD(e,r){if(Hd(e)){const{initial:a,animate:i}=e;return{initial:a===!1||Ko(a)?a:void 0,animate:Ko(i)?i:void 0}}return e.inherit!==!1?r:{}}function xD(e){const{initial:r,animate:a}=pD(e,w.useContext(Fd));return w.useMemo(()=>({initial:r,animate:a}),[E0(r),E0(a)])}function E0(e){return Array.isArray(e)?e.join(" "):e}const yD=Symbol.for("motionComponentSymbol");function Wn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function gD(e,r,a){return w.useCallback(i=>{i&&e.onMount&&e.onMount(i),r&&(i?r.mount(i):r.unmount()),a&&(typeof a=="function"?a(i):Wn(a)&&(a.current=i))},[r])}const Yp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vD="framerAppearId",dw="data-"+Yp(vD),uw=w.createContext({});function bD(e,r,a,i,o){var C,k;const{visualElement:c}=w.useContext(Fd),d=w.useContext(ow),m=w.useContext(Ud),h=w.useContext(wp).reducedMotion,f=w.useRef(null);i=i||d.renderer,!f.current&&i&&(f.current=i(e,{visualState:r,parent:c,props:a,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:h}));const x=f.current,g=w.useContext(uw);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&jD(f.current,a,o,g);const v=w.useRef(!1);w.useInsertionEffect(()=>{x&&v.current&&x.update(a,m)});const j=a[dw],b=w.useRef(!!j&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,j))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,j)));return y2(()=>{x&&(v.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),Vp.render(x.render),b.current&&x.animationState&&x.animationState.animateChanges())}),w.useEffect(()=>{x&&(!b.current&&x.animationState&&x.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,j)}),b.current=!1))}),x}function jD(e,r,a,i){const{layoutId:o,layout:c,drag:d,dragConstraints:m,layoutScroll:h,layoutRoot:f,layoutCrossfade:x}=r;e.projection=new a(e.latestValues,r["data-framer-portal-id"]?void 0:mw(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!d||m&&Wn(m),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:h,layoutRoot:f})}function mw(e){if(e)return e.options.allowProjection!==!1?e.projection:mw(e.parent)}function wD({preloadedFeatures:e,createVisualElement:r,useRender:a,useVisualState:i,Component:o}){e&&dD(e);function c(m,h){let f;const x={...w.useContext(wp),...m,layoutId:ND(m)},{isStatic:g}=x,v=xD(m),j=i(m,g);if(!g&&jp){CD();const b=SD(x);f=b.MeasureLayout,v.visualElement=bD(o,j,x,r,b.ProjectionNode)}return t.jsxs(Fd.Provider,{value:v,children:[f&&v.visualElement?t.jsx(f,{visualElement:v.visualElement,...x}):null,a(o,m,gD(j,v.visualElement,h),j,g,v.visualElement)]})}c.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const d=w.forwardRef(c);return d[yD]=o,d}function ND({layoutId:e}){const r=w.useContext(vp).id;return r&&e!==void 0?r+"-"+e:e}function CD(e,r){w.useContext(ow).strict}function SD(e){const{drag:r,layout:a}=oi;if(!r&&!a)return{};const i={...r,...a};return{MeasureLayout:r!=null&&r.isEnabled(e)||a!=null&&a.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Xo={};function kD(e){for(const r in e)Xo[r]=e[r],Tp(r)&&(Xo[r].isCSSVariable=!0)}function hw(e,{layout:r,layoutId:a}){return bi.has(e)||e.startsWith("origin")||(r||a!==void 0)&&(!!Xo[e]||e==="opacity")}const Rt=e=>!!(e&&e.getVelocity),_D={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AD=vi.length;function ED(e,r,a){let i="",o=!0;for(let c=0;c<AD;c++){const d=vi[c],m=e[d];if(m===void 0)continue;let h=!0;if(typeof m=="number"?h=m===(d.startsWith("scale")?1:0):h=parseFloat(m)===0,!h||a){const f=sw(m,Fp[d]);if(!h){o=!1;const x=_D[d]||d;i+=`${x}(${f}) `}a&&(r[d]=f)}}return i=i.trim(),a?i=a(r,o?"":i):o&&(i="none"),i}function Gp(e,r,a){const{style:i,vars:o,transformOrigin:c}=e;let d=!1,m=!1;for(const h in r){const f=r[h];if(bi.has(h)){d=!0;continue}else if(Tp(h)){o[h]=f;continue}else{const x=sw(f,Fp[h]);h.startsWith("origin")?(m=!0,c[h]=x):i[h]=x}}if(r.transform||(d||a?i.transform=ED(r,e.transform,a):i.transform&&(i.transform="none")),m){const{originX:h="50%",originY:f="50%",originZ:x=0}=c;i.transformOrigin=`${h} ${f} ${x}`}}const Wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fw(e,r,a){for(const i in r)!Rt(r[i])&&!hw(i,a)&&(e[i]=r[i])}function TD({transformTemplate:e},r){return w.useMemo(()=>{const a=Wp();return Gp(a,r,e),Object.assign({},a.vars,a.style)},[r])}function RD(e,r){const a=e.style||{},i={};return fw(i,a,e),Object.assign(i,TD(e,r)),i}function DD(e,r){const a={},i=RD(e,r);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=i,a}const OD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kp(e){return typeof e!="string"||e.includes("-")?!1:!!(OD.indexOf(e)>-1||/[A-Z]/u.test(e))}const PD={offset:"stroke-dashoffset",array:"stroke-dasharray"},LD={offset:"strokeDashoffset",array:"strokeDasharray"};function MD(e,r,a=1,i=0,o=!0){e.pathLength=1;const c=o?PD:LD;e[c.offset]=be.transform(-i);const d=be.transform(r),m=be.transform(a);e[c.array]=`${d} ${m}`}function pw(e,{attrX:r,attrY:a,attrScale:i,pathLength:o,pathSpacing:c=1,pathOffset:d=0,...m},h,f,x){if(Gp(e,m,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v}=e;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(x==null?void 0:x.transformBox)??"fill-box",delete g.transformBox),r!==void 0&&(g.x=r),a!==void 0&&(g.y=a),i!==void 0&&(g.scale=i),o!==void 0&&MD(g,o,c,d,!1)}const xw=()=>({...Wp(),attrs:{}}),yw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function zD(e,r,a,i){const o=w.useMemo(()=>{const c=xw();return pw(c,r,yw(i),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[r]);if(e.style){const c={};fw(c,e.style,e),o.style={...c,...o.style}}return o}function ID(e=!1){return(a,i,o,{latestValues:c},d)=>{const h=(Kp(a)?zD:DD)(i,c,d,a),f=hD(i,typeof a=="string",e),x=a!==w.Fragment?{...f,...h,ref:o}:{},{children:g}=i,v=w.useMemo(()=>Rt(g)?g.get():g,[g]);return w.createElement(a,{...x,children:v})}}function T0(e){const r=[{},{}];return e==null||e.values.forEach((a,i)=>{r[0][i]=a.get(),r[1][i]=a.getVelocity()}),r}function Xp(e,r,a,i){if(typeof r=="function"){const[o,c]=T0(i);r=r(a!==void 0?a:e.custom,o,c)}if(typeof r=="string"&&(r=e.variants&&e.variants[r]),typeof r=="function"){const[o,c]=T0(i);r=r(a!==void 0?a:e.custom,o,c)}return r}function rd(e){return Rt(e)?e.get():e}function BD({scrapeMotionValuesFromProps:e,createRenderState:r},a,i,o){return{latestValues:UD(a,i,o,e),renderState:r()}}const gw=e=>(r,a)=>{const i=w.useContext(Fd),o=w.useContext(Ud),c=()=>BD(e,r,i,o);return a?c():bp(c)};function UD(e,r,a,i){const o={},c=i(e,{});for(const v in c)o[v]=rd(c[v]);let{initial:d,animate:m}=e;const h=Hd(e),f=cw(e);r&&f&&!h&&e.inherit!==!1&&(d===void 0&&(d=r.initial),m===void 0&&(m=r.animate));let x=a?a.initial===!1:!1;x=x||d===!1;const g=x?m:d;if(g&&typeof g!="boolean"&&!Vd(g)){const v=Array.isArray(g)?g:[g];for(let j=0;j<v.length;j++){const b=Xp(e,v[j]);if(b){const{transitionEnd:C,transition:k,...S}=b;for(const T in S){let R=S[T];if(Array.isArray(R)){const E=x?R.length-1:0;R=R[E]}R!==null&&(o[T]=R)}for(const T in C)o[T]=C[T]}}}return o}function Zp(e,r,a){var c;const{style:i}=e,o={};for(const d in i)(Rt(i[d])||r.style&&Rt(r.style[d])||hw(d,e)||((c=a==null?void 0:a.getValue(d))==null?void 0:c.liveStyle)!==void 0)&&(o[d]=i[d]);return o}const FD={useVisualState:gw({scrapeMotionValuesFromProps:Zp,createRenderState:Wp})};function vw(e,r,a){const i=Zp(e,r,a);for(const o in e)if(Rt(e[o])||Rt(r[o])){const c=vi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[c]=e[o]}return i}const VD={useVisualState:gw({scrapeMotionValuesFromProps:vw,createRenderState:xw})};function HD(e,r){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const d={...Kp(i)?VD:FD,preloadedFeatures:e,useRender:ID(o),createVisualElement:r,Component:i};return wD(d)}}function Zo(e,r,a){const i=e.getProps();return Xp(i,r,a!==void 0?a:i.custom,e)}const _f=e=>Array.isArray(e);function qD(e,r,a){e.hasValue(r)?e.getValue(r).set(a):e.addValue(r,ii(a))}function $D(e){return _f(e)?e[e.length-1]||0:e}function YD(e,r){const a=Zo(e,r);let{transitionEnd:i={},transition:o={},...c}=a||{};c={...c,...i};for(const d in c){const m=$D(c[d]);qD(e,d,m)}}function GD(e){return!!(Rt(e)&&e.add)}function Af(e,r){const a=e.getValue("willChange");if(GD(a))return a.add(r);if(!a&&Ns.WillChange){const i=new Ns.WillChange("auto");e.addValue("willChange",i),i.add(r)}}function bw(e){return e.props[dw]}const WD=e=>e!==null;function KD(e,{repeat:r,repeatType:a="loop"},i){const o=e.filter(WD),c=r&&a!=="loop"&&r%2===1?0:o.length-1;return o[c]}const XD={type:"spring",stiffness:500,damping:25,restSpeed:10},ZD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),QD={type:"keyframes",duration:.8},JD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eO=(e,{keyframes:r})=>r.length>2?QD:bi.has(e)?e.startsWith("scale")?ZD(r[1]):XD:JD;function tO({when:e,delay:r,delayChildren:a,staggerChildren:i,staggerDirection:o,repeat:c,repeatType:d,repeatDelay:m,from:h,elapsed:f,...x}){return!!Object.keys(x).length}const Qp=(e,r,a,i={},o,c)=>d=>{const m=Up(i,e)||{},h=m.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Fr(h);const x={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:r.getVelocity(),...m,delay:-f,onUpdate:v=>{r.set(v),m.onUpdate&&m.onUpdate(v)},onComplete:()=>{d(),m.onComplete&&m.onComplete()},name:e,motionValue:r,element:c?void 0:o};tO(m)||Object.assign(x,eO(e,x)),x.duration&&(x.duration=Fr(x.duration)),x.repeatDelay&&(x.repeatDelay=Fr(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let g=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(g=!0)),(Ns.instantAnimations||Ns.skipAnimations)&&(g=!0,x.duration=0,x.delay=0),x.allowFlatten=!m.type&&!m.ease,g&&!c&&r.get()!==void 0){const v=KD(x.keyframes,m);if(v!==void 0){Je.update(()=>{x.onUpdate(v),x.onComplete()});return}}return m.isSync?new Ip(x):new U6(x)};function rO({protectedKeys:e,needsAnimating:r},a){const i=e.hasOwnProperty(a)&&r[a]!==!0;return r[a]=!1,i}function jw(e,r,{delay:a=0,transitionOverride:i,type:o}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:d,...m}=r;i&&(c=i);const h=[],f=o&&e.animationState&&e.animationState.getState()[o];for(const x in m){const g=e.getValue(x,e.latestValues[x]??null),v=m[x];if(v===void 0||f&&rO(f,x))continue;const j={delay:a,...Up(c||{},x)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===b&&!j.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const S=bw(e);if(S){const T=window.MotionHandoffAnimation(S,x,Je);T!==null&&(j.startTime=T,C=!0)}}Af(e,x),g.start(Qp(x,g,v,e.shouldReduceMotion&&Q2.has(x)?{type:!1}:j,e,C));const k=g.animation;k&&h.push(k)}return d&&Promise.all(h).then(()=>{Je.update(()=>{d&&YD(e,d)})}),h}function Ef(e,r,a={}){var h;const i=Zo(e,r,a.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};a.transitionOverride&&(o=a.transitionOverride);const c=i?()=>Promise.all(jw(e,i,a)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:x=0,staggerChildren:g,staggerDirection:v}=o;return sO(e,r,x+f,g,v,a)}:()=>Promise.resolve(),{when:m}=o;if(m){const[f,x]=m==="beforeChildren"?[c,d]:[d,c];return f().then(()=>x())}else return Promise.all([c(),d(a.delay)])}function sO(e,r,a=0,i=0,o=1,c){const d=[],m=(e.variantChildren.size-1)*i,h=o===1?(f=0)=>f*i:(f=0)=>m-f*i;return Array.from(e.variantChildren).sort(aO).forEach((f,x)=>{f.notify("AnimationStart",r),d.push(Ef(f,r,{...c,delay:a+h(x)}).then(()=>f.notify("AnimationComplete",r)))}),Promise.all(d)}function aO(e,r){return e.sortNodePosition(r)}function nO(e,r,a={}){e.notify("AnimationStart",r);let i;if(Array.isArray(r)){const o=r.map(c=>Ef(e,c,a));i=Promise.all(o)}else if(typeof r=="string")i=Ef(e,r,a);else{const o=typeof r=="function"?Zo(e,r,a.custom):r;i=Promise.all(jw(e,o,a))}return i.then(()=>{e.notify("AnimationComplete",r)})}function ww(e,r){if(!Array.isArray(r))return!1;const a=r.length;if(a!==e.length)return!1;for(let i=0;i<a;i++)if(r[i]!==e[i])return!1;return!0}const iO=$p.length;function Nw(e){if(!e)return;if(!e.isControllingVariants){const a=e.parent?Nw(e.parent)||{}:{};return e.props.initial!==void 0&&(a.initial=e.props.initial),a}const r={};for(let a=0;a<iO;a++){const i=$p[a],o=e.props[i];(Ko(o)||o===!1)&&(r[i]=o)}return r}const oO=[...qp].reverse(),lO=qp.length;function cO(e){return r=>Promise.all(r.map(({animation:a,options:i})=>nO(e,a,i)))}function dO(e){let r=cO(e),a=R0(),i=!0;const o=h=>(f,x)=>{var v;const g=Zo(e,x,h==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:j,transitionEnd:b,...C}=g;f={...f,...C,...b}}return f};function c(h){r=h(e)}function d(h){const{props:f}=e,x=Nw(e.parent)||{},g=[],v=new Set;let j={},b=1/0;for(let k=0;k<lO;k++){const S=oO[k],T=a[S],R=f[S]!==void 0?f[S]:x[S],E=Ko(R),D=S===h?T.isActive:null;D===!1&&(b=k);let F=R===x[S]&&R!==f[S]&&E;if(F&&i&&e.manuallyAnimateOnMount&&(F=!1),T.protectedKeys={...j},!T.isActive&&D===null||!R&&!T.prevProp||Vd(R)||typeof R=="boolean")continue;const V=uO(T.prevProp,R);let q=V||S===h&&T.isActive&&!F&&E||k>b&&E,O=!1;const A=Array.isArray(R)?R:[R];let M=A.reduce(o(S),{});D===!1&&(M={});const{prevResolvedValues:X={}}=T,I={...X,...M},ae=H=>{q=!0,v.has(H)&&(O=!0,v.delete(H)),T.needsAnimating[H]=!0;const re=e.getValue(H);re&&(re.liveStyle=!1)};for(const H in I){const re=M[H],ce=X[H];if(j.hasOwnProperty(H))continue;let L=!1;_f(re)&&_f(ce)?L=!ww(re,ce):L=re!==ce,L?re!=null?ae(H):v.add(H):re!==void 0&&v.has(H)?ae(H):T.protectedKeys[H]=!0}T.prevProp=R,T.prevResolvedValues=M,T.isActive&&(j={...j,...M}),i&&e.blockInitialAnimation&&(q=!1),q&&(!(F&&V)||O)&&g.push(...A.map(H=>({animation:H,options:{type:S}})))}if(v.size){const k={};if(typeof f.initial!="boolean"){const S=Zo(e,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(k.transition=S.transition)}v.forEach(S=>{const T=e.getBaseTarget(S),R=e.getValue(S);R&&(R.liveStyle=!0),k[S]=T??null}),g.push({animation:k})}let C=!!g.length;return i&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(C=!1),i=!1,C?r(g):Promise.resolve()}function m(h,f){var g;if(a[h].isActive===f)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(v=>{var j;return(j=v.animationState)==null?void 0:j.setActive(h,f)}),a[h].isActive=f;const x=d(h);for(const v in a)a[v].protectedKeys={};return x}return{animateChanges:d,setActive:m,setAnimateFunction:c,getState:()=>a,reset:()=>{a=R0(),i=!0}}}function uO(e,r){return typeof r=="string"?r!==e:Array.isArray(r)?!ww(r,e):!1}function za(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R0(){return{animate:za(!0),whileInView:za(),whileHover:za(),whileTap:za(),whileDrag:za(),whileFocus:za(),exit:za()}}class xa{constructor(r){this.isMounted=!1,this.node=r}update(){}}class mO extends xa{constructor(r){super(r),r.animationState||(r.animationState=dO(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();Vd(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:a}=this.node.prevProps||{};r!==a&&this.updateAnimationControlsSubscription()}unmount(){var r;this.node.animationState.reset(),(r=this.unmountControls)==null||r.call(this)}}let hO=0;class fO extends xa{constructor(){super(...arguments),this.id=hO++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:a}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===i)return;const o=this.node.animationState.setActive("exit",!r);a&&!r&&o.then(()=>{a(this.id)})}mount(){const{register:r,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),r&&(this.unmount=r(this.id))}unmount(){}}const pO={animation:{Feature:mO},exit:{Feature:fO}};function Qo(e,r,a,i={passive:!0}){return e.addEventListener(r,a,i),()=>e.removeEventListener(r,a)}function yl(e){return{point:{x:e.pageX,y:e.pageY}}}const xO=e=>r=>Hp(r)&&e(r,yl(r));function zo(e,r,a,i){return Qo(e,r,xO(a),i)}function Cw({top:e,left:r,right:a,bottom:i}){return{x:{min:r,max:a},y:{min:e,max:i}}}function yO({x:e,y:r}){return{top:r.min,right:e.max,bottom:r.max,left:e.min}}function gO(e,r){if(!r)return e;const a=r({x:e.left,y:e.top}),i=r({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:i.y,right:i.x}}const Sw=1e-4,vO=1-Sw,bO=1+Sw,kw=.01,jO=0-kw,wO=0+kw;function Lt(e){return e.max-e.min}function NO(e,r,a){return Math.abs(e-r)<=a}function D0(e,r,a,i=.5){e.origin=i,e.originPoint=Ze(r.min,r.max,e.origin),e.scale=Lt(a)/Lt(r),e.translate=Ze(a.min,a.max,e.origin)-e.originPoint,(e.scale>=vO&&e.scale<=bO||isNaN(e.scale))&&(e.scale=1),(e.translate>=jO&&e.translate<=wO||isNaN(e.translate))&&(e.translate=0)}function Io(e,r,a,i){D0(e.x,r.x,a.x,i?i.originX:void 0),D0(e.y,r.y,a.y,i?i.originY:void 0)}function O0(e,r,a){e.min=a.min+r.min,e.max=e.min+Lt(r)}function CO(e,r,a){O0(e.x,r.x,a.x),O0(e.y,r.y,a.y)}function P0(e,r,a){e.min=r.min-a.min,e.max=e.min+Lt(r)}function Bo(e,r,a){P0(e.x,r.x,a.x),P0(e.y,r.y,a.y)}const L0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kn=()=>({x:L0(),y:L0()}),M0=()=>({min:0,max:0}),it=()=>({x:M0(),y:M0()});function xr(e){return[e("x"),e("y")]}function Lh(e){return e===void 0||e===1}function Tf({scale:e,scaleX:r,scaleY:a}){return!Lh(e)||!Lh(r)||!Lh(a)}function Ba(e){return Tf(e)||_w(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _w(e){return z0(e.x)||z0(e.y)}function z0(e){return e&&e!=="0%"}function wd(e,r,a){const i=e-a,o=r*i;return a+o}function I0(e,r,a,i,o){return o!==void 0&&(e=wd(e,o,i)),wd(e,a,i)+r}function Rf(e,r=0,a=1,i,o){e.min=I0(e.min,r,a,i,o),e.max=I0(e.max,r,a,i,o)}function Aw(e,{x:r,y:a}){Rf(e.x,r.translate,r.scale,r.originPoint),Rf(e.y,a.translate,a.scale,a.originPoint)}const B0=.999999999999,U0=1.0000000000001;function SO(e,r,a,i=!1){const o=a.length;if(!o)return;r.x=r.y=1;let c,d;for(let m=0;m<o;m++){c=a[m],d=c.projectionDelta;const{visualElement:h}=c.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Zn(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(r.x*=d.x.scale,r.y*=d.y.scale,Aw(e,d)),i&&Ba(c.latestValues)&&Zn(e,c.latestValues))}r.x<U0&&r.x>B0&&(r.x=1),r.y<U0&&r.y>B0&&(r.y=1)}function Xn(e,r){e.min=e.min+r,e.max=e.max+r}function F0(e,r,a,i,o=.5){const c=Ze(e.min,e.max,o);Rf(e,r,a,c,i)}function Zn(e,r){F0(e.x,r.x,r.scaleX,r.scale,r.originX),F0(e.y,r.y,r.scaleY,r.scale,r.originY)}function Ew(e,r){return Cw(gO(e.getBoundingClientRect(),r))}function kO(e,r,a){const i=Ew(e,a),{scroll:o}=r;return o&&(Xn(i.x,o.offset.x),Xn(i.y,o.offset.y)),i}const Tw=({current:e})=>e?e.ownerDocument.defaultView:null,V0=(e,r)=>Math.abs(e-r);function _O(e,r){const a=V0(e.x,r.x),i=V0(e.y,r.y);return Math.sqrt(a**2+i**2)}class Rw{constructor(r,a,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=zh(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,j=_O(g.offset,{x:0,y:0})>=3;if(!v&&!j)return;const{point:b}=g,{timestamp:C}=Ct;this.history.push({...b,timestamp:C});const{onStart:k,onMove:S}=this.handlers;v||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Mh(v,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:j,onSessionEnd:b,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=zh(g.type==="pointercancel"?this.lastMoveEventInfo:Mh(v,this.transformPagePoint),this.history);this.startEvent&&j&&j(g,k),b&&b(g,k)},!Hp(r))return;this.dragSnapToOrigin=c,this.handlers=a,this.transformPagePoint=i,this.contextWindow=o||window;const d=yl(r),m=Mh(d,this.transformPagePoint),{point:h}=m,{timestamp:f}=Ct;this.history=[{...h,timestamp:f}];const{onSessionStart:x}=a;x&&x(r,zh(m,this.history)),this.removeListeners=fl(zo(this.contextWindow,"pointermove",this.handlePointerMove),zo(this.contextWindow,"pointerup",this.handlePointerUp),zo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),da(this.updatePoint)}}function Mh(e,r){return r?{point:r(e.point)}:e}function H0(e,r){return{x:e.x-r.x,y:e.y-r.y}}function zh({point:e},r){return{point:e,delta:H0(e,Dw(r)),offset:H0(e,AO(r)),velocity:EO(r,.1)}}function AO(e){return e[0]}function Dw(e){return e[e.length-1]}function EO(e,r){if(e.length<2)return{x:0,y:0};let a=e.length-1,i=null;const o=Dw(e);for(;a>=0&&(i=e[a],!(o.timestamp-i.timestamp>Fr(r)));)a--;if(!i)return{x:0,y:0};const c=Vr(o.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const d={x:(o.x-i.x)/c,y:(o.y-i.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function TO(e,{min:r,max:a},i){return r!==void 0&&e<r?e=i?Ze(r,e,i.min):Math.max(e,r):a!==void 0&&e>a&&(e=i?Ze(a,e,i.max):Math.min(e,a)),e}function q0(e,r,a){return{min:r!==void 0?e.min+r:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function RO(e,{top:r,left:a,bottom:i,right:o}){return{x:q0(e.x,a,o),y:q0(e.y,r,i)}}function $0(e,r){let a=r.min-e.min,i=r.max-e.max;return r.max-r.min<e.max-e.min&&([a,i]=[i,a]),{min:a,max:i}}function DO(e,r){return{x:$0(e.x,r.x),y:$0(e.y,r.y)}}function OO(e,r){let a=.5;const i=Lt(e),o=Lt(r);return o>i?a=Yo(r.min,r.max-i,e.min):i>o&&(a=Yo(e.min,e.max-o,r.min)),ws(0,1,a)}function PO(e,r){const a={};return r.min!==void 0&&(a.min=r.min-e.min),r.max!==void 0&&(a.max=r.max-e.min),a}const Df=.35;function LO(e=Df){return e===!1?e=0:e===!0&&(e=Df),{x:Y0(e,"left","right"),y:Y0(e,"top","bottom")}}function Y0(e,r,a){return{min:G0(e,r),max:G0(e,a)}}function G0(e,r){return typeof e=="number"?e:e[r]||0}const MO=new WeakMap;class zO{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=it(),this.visualElement=r}start(r,{snapToCursor:a=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=x=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(yl(x).point)},c=(x,g)=>{const{drag:v,dragPropagation:j,onDragStart:b}=this.getProps();if(v&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rD(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xr(k=>{let S=this.getAxisMotionValue(k).get()||0;if(Hr.test(S)){const{projection:T}=this.visualElement;if(T&&T.layout){const R=T.layout.layoutBox[k];R&&(S=Lt(R)*(parseFloat(S)/100))}}this.originPoint[k]=S}),b&&Je.postRender(()=>b(x,g)),Af(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(x,g)=>{const{dragPropagation:v,dragDirectionLock:j,onDirectionLock:b,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:k}=g;if(j&&this.currentDirection===null){this.currentDirection=IO(k),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),C&&C(x,g)},m=(x,g)=>this.stop(x,g),h=()=>xr(x=>{var g;return this.getAnimationState(x)==="paused"&&((g=this.getAxisMotionValue(x).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Rw(r,{onSessionStart:o,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:Tw(this.visualElement)})}stop(r,a){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Je.postRender(()=>c(r,a))}cancel(){this.isDragging=!1;const{projection:r,animationState:a}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(r,a,i){const{drag:o}=this.getProps();if(!i||!Bc(r,o,this.currentDirection))return;const c=this.getAxisMotionValue(r);let d=this.originPoint[r]+i[r];this.constraints&&this.constraints[r]&&(d=TO(d,this.constraints[r],this.elastic[r])),c.set(d)}resolveConstraints(){var c;const{dragConstraints:r,dragElastic:a}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,o=this.constraints;r&&Wn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=RO(i.layoutBox,r):this.constraints=!1,this.elastic=LO(a),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xr(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=PO(i.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:a}=this.getProps();if(!r||!Wn(r))return!1;const i=r.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=kO(i,o.root,this.visualElement.getTransformPagePoint());let d=DO(o.layout.layoutBox,c);if(a){const m=a(yO(d));this.hasMutatedConstraints=!!m,m&&(d=Cw(m))}return d}startAnimation(r){const{drag:a,dragMomentum:i,dragElastic:o,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:m}=this.getProps(),h=this.constraints||{},f=xr(x=>{if(!Bc(x,a,this.currentDirection))return;let g=h&&h[x]||{};d&&(g={min:0,max:0});const v=o?200:1e6,j=o?40:1e7,b={type:"inertia",velocity:i?r[x]:0,bounceStiffness:v,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...c,...g};return this.startAxisValueAnimation(x,b)});return Promise.all(f).then(m)}startAxisValueAnimation(r,a){const i=this.getAxisMotionValue(r);return Af(this.visualElement,r),i.start(Qp(r,i,0,a,this.visualElement,!1))}stopAnimation(){xr(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){xr(r=>{var a;return(a=this.getAxisMotionValue(r).animation)==null?void 0:a.pause()})}getAnimationState(r){var a;return(a=this.getAxisMotionValue(r).animation)==null?void 0:a.state}getAxisMotionValue(r){const a=`_drag${r.toUpperCase()}`,i=this.visualElement.getProps(),o=i[a];return o||this.visualElement.getValue(r,(i.initial?i.initial[r]:void 0)||0)}snapToCursor(r){xr(a=>{const{drag:i}=this.getProps();if(!Bc(a,i,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(a);if(o&&o.layout){const{min:d,max:m}=o.layout.layoutBox[a];c.set(r[a]-Ze(d,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:a}=this.getProps(),{projection:i}=this.visualElement;if(!Wn(a)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xr(d=>{const m=this.getAxisMotionValue(d);if(m&&this.constraints!==!1){const h=m.get();o[d]=OO({min:h,max:h},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),xr(d=>{if(!Bc(d,r,null))return;const m=this.getAxisMotionValue(d),{min:h,max:f}=this.constraints[d];m.set(Ze(h,f,o[d]))})}addListeners(){if(!this.visualElement.current)return;MO.set(this.visualElement,this);const r=this.visualElement.current,a=zo(r,"pointerdown",h=>{const{drag:f,dragListener:x=!0}=this.getProps();f&&x&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Wn(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Je.read(i);const d=Qo(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(xr(x=>{const g=this.getAxisMotionValue(x);g&&(this.originPoint[x]+=h[x].translate,g.set(g.get()+h[x].translate))}),this.visualElement.render())});return()=>{d(),a(),c(),m&&m()}}getProps(){const r=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:d=Df,dragMomentum:m=!0}=r;return{...r,drag:a,dragDirectionLock:i,dragPropagation:o,dragConstraints:c,dragElastic:d,dragMomentum:m}}}function Bc(e,r,a){return(r===!0||r===e)&&(a===null||a===e)}function IO(e,r=10){let a=null;return Math.abs(e.y)>r?a="y":Math.abs(e.x)>r&&(a="x"),a}class BO extends xa{constructor(r){super(r),this.removeGroupControls=gr,this.removeListeners=gr,this.controls=new zO(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const W0=e=>(r,a)=>{e&&Je.postRender(()=>e(r,a))};class UO extends xa{constructor(){super(...arguments),this.removePointerDownListener=gr}onPointerDown(r){this.session=new Rw(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tw(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:a,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:W0(r),onStart:W0(a),onMove:i,onEnd:(c,d)=>{delete this.session,o&&Je.postRender(()=>o(c,d))}}}mount(){this.removePointerDownListener=zo(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function K0(e,r){return r.max===r.min?0:e/(r.max-r.min)*100}const ko={correct:(e,r)=>{if(!r.target)return e;if(typeof e=="string")if(be.test(e))e=parseFloat(e);else return e;const a=K0(e,r.target.x),i=K0(e,r.target.y);return`${a}% ${i}%`}},FO={correct:(e,{treeScale:r,projectionDelta:a})=>{const i=e,o=ua.parse(e);if(o.length>5)return i;const c=ua.createTransformer(e),d=typeof o[0]!="number"?1:0,m=a.x.scale*r.x,h=a.y.scale*r.y;o[0+d]/=m,o[1+d]/=h;const f=Ze(m,h,.5);return typeof o[2+d]=="number"&&(o[2+d]/=f),typeof o[3+d]=="number"&&(o[3+d]/=f),c(o)}};class VO extends w.Component{componentDidMount(){const{visualElement:r,layoutGroup:a,switchLayoutGroup:i,layoutId:o}=this.props,{projection:c}=r;kD(HO),c&&(a.group&&a.group.add(c),i&&i.register&&o&&i.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),sd.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:a,visualElement:i,drag:o,isPresent:c}=this.props,{projection:d}=i;return d&&(d.isPresent=c,o||r.layoutDependency!==a||a===void 0||r.isPresent!==c?d.willUpdate():this.safeToRemove(),r.isPresent!==c&&(c?d.promote():d.relegate()||Je.postRender(()=>{const m=d.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),Vp.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:a,switchLayoutGroup:i}=this.props,{projection:o}=r;o&&(o.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function Ow(e){const[r,a]=g2(),i=w.useContext(vp);return t.jsx(VO,{...e,layoutGroup:i,switchLayoutGroup:w.useContext(uw),isPresent:r,safeToRemove:a})}const HO={borderRadius:{...ko,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ko,borderTopRightRadius:ko,borderBottomLeftRadius:ko,borderBottomRightRadius:ko,boxShadow:FO};function qO(e,r,a){const i=Rt(e)?e:ii(e);return i.start(Qp("",i,r,a)),i.animation}function $O(e){return e instanceof SVGElement&&e.tagName!=="svg"}const YO=(e,r)=>e.depth-r.depth;class GO{constructor(){this.children=[],this.isDirty=!1}add(r){Np(this.children,r),this.isDirty=!0}remove(r){Cp(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(YO),this.isDirty=!1,this.children.forEach(r)}}function WO(e,r){const a=$t.now(),i=({timestamp:o})=>{const c=o-a;c>=r&&(da(i),e(c-r))};return Je.setup(i,!0),()=>da(i)}const Pw=["TopLeft","TopRight","BottomLeft","BottomRight"],KO=Pw.length,X0=e=>typeof e=="string"?parseFloat(e):e,Z0=e=>typeof e=="number"||be.test(e);function XO(e,r,a,i,o,c){o?(e.opacity=Ze(0,a.opacity??1,ZO(i)),e.opacityExit=Ze(r.opacity??1,0,QO(i))):c&&(e.opacity=Ze(r.opacity??1,a.opacity??1,i));for(let d=0;d<KO;d++){const m=`border${Pw[d]}Radius`;let h=Q0(r,m),f=Q0(a,m);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||Z0(h)===Z0(f)?(e[m]=Math.max(Ze(X0(h),X0(f),i),0),(Hr.test(f)||Hr.test(h))&&(e[m]+="%")):e[m]=f}(r.rotate||a.rotate)&&(e.rotate=Ze(r.rotate||0,a.rotate||0,i))}function Q0(e,r){return e[r]!==void 0?e[r]:e.borderRadius}const ZO=Lw(0,.5,E2),QO=Lw(.5,.95,gr);function Lw(e,r,a){return i=>i<e?0:i>r?1:a(Yo(e,r,i))}function J0(e,r){e.min=r.min,e.max=r.max}function pr(e,r){J0(e.x,r.x),J0(e.y,r.y)}function ej(e,r){e.translate=r.translate,e.scale=r.scale,e.originPoint=r.originPoint,e.origin=r.origin}function tj(e,r,a,i,o){return e-=r,e=wd(e,1/a,i),o!==void 0&&(e=wd(e,1/o,i)),e}function JO(e,r=0,a=1,i=.5,o,c=e,d=e){if(Hr.test(r)&&(r=parseFloat(r),r=Ze(d.min,d.max,r/100)-d.min),typeof r!="number")return;let m=Ze(c.min,c.max,i);e===c&&(m-=r),e.min=tj(e.min,r,a,m,o),e.max=tj(e.max,r,a,m,o)}function rj(e,r,[a,i,o],c,d){JO(e,r[a],r[i],r[o],r.scale,c,d)}const eP=["x","scaleX","originX"],tP=["y","scaleY","originY"];function sj(e,r,a,i){rj(e.x,r,eP,a?a.x:void 0,i?i.x:void 0),rj(e.y,r,tP,a?a.y:void 0,i?i.y:void 0)}function aj(e){return e.translate===0&&e.scale===1}function Mw(e){return aj(e.x)&&aj(e.y)}function nj(e,r){return e.min===r.min&&e.max===r.max}function rP(e,r){return nj(e.x,r.x)&&nj(e.y,r.y)}function ij(e,r){return Math.round(e.min)===Math.round(r.min)&&Math.round(e.max)===Math.round(r.max)}function zw(e,r){return ij(e.x,r.x)&&ij(e.y,r.y)}function oj(e){return Lt(e.x)/Lt(e.y)}function lj(e,r){return e.translate===r.translate&&e.scale===r.scale&&e.originPoint===r.originPoint}class sP{constructor(){this.members=[]}add(r){Np(this.members,r),r.scheduleRender()}remove(r){if(Cp(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(r){const a=this.members.findIndex(o=>r===o);if(a===0)return!1;let i;for(let o=a;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(r,a){const i=this.lead;if(r!==i&&(this.prevLead=i,this.lead=r,r.show(),i)){i.instance&&i.scheduleRender(),r.scheduleRender(),r.resumeFrom=i,a&&(r.resumeFrom.preserveOpacity=!0),i.snapshot&&(r.snapshot=i.snapshot,r.snapshot.latestValues=i.animationValues||i.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:o}=r.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:a,resumingFrom:i}=r;a.onExitComplete&&a.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aP(e,r,a){let i="";const o=e.x.translate/r.x,c=e.y.translate/r.y,d=(a==null?void 0:a.z)||0;if((o||c||d)&&(i=`translate3d(${o}px, ${c}px, ${d}px) `),(r.x!==1||r.y!==1)&&(i+=`scale(${1/r.x}, ${1/r.y}) `),a){const{transformPerspective:f,rotate:x,rotateX:g,rotateY:v,skewX:j,skewY:b}=a;f&&(i=`perspective(${f}px) ${i}`),x&&(i+=`rotate(${x}deg) `),g&&(i+=`rotateX(${g}deg) `),v&&(i+=`rotateY(${v}deg) `),j&&(i+=`skewX(${j}deg) `),b&&(i+=`skewY(${b}deg) `)}const m=e.x.scale*r.x,h=e.y.scale*r.y;return(m!==1||h!==1)&&(i+=`scale(${m}, ${h})`),i||"none"}const Ih=["","X","Y","Z"],nP={visibility:"hidden"},iP=1e3;let oP=0;function Bh(e,r,a,i){const{latestValues:o}=r;o[e]&&(a[e]=o[e],r.setStaticValue(e,0),i&&(i[e]=0))}function Iw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:r}=e.options;if(!r)return;const a=bw(r);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(a,"transform",Je,!(o||c))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Iw(i)}function Bw({attachResizeListener:e,defaultParent:r,measureScroll:a,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(d={},m=r==null?void 0:r()){this.id=oP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(dP),this.nodes.forEach(pP),this.nodes.forEach(xP),this.nodes.forEach(uP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new GO)}addEventListener(d,m){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new _p),this.eventHandlers.get(d).add(m)}notifyListeners(d,...m){const h=this.eventHandlers.get(d);h&&h.notify(...m)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=$O(d),this.instance=d;const{layoutId:m,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||m)&&(this.isLayoutDirty=!0),e){let x;const g=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=WO(g,250),sd.hasAnimatedSinceResize&&(sd.hasAnimatedSinceResize=!1,this.nodes.forEach(dj))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&f&&(m||h)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||jP,{onLayoutAnimationStart:C,onLayoutAnimationComplete:k}=f.getProps(),S=!this.targetLayout||!zw(this.targetLayout,j),T=!g&&v;if(this.options.layoutRoot||this.resumeFrom||T||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,T);const R={...Up(b,"layout"),onPlay:C,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||dj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yP),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Iw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const g=this.path[x];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:m,layout:h}=this.options;if(m===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cj);return}this.isUpdating||this.nodes.forEach(hP),this.isUpdating=!1,this.nodes.forEach(fP),this.nodes.forEach(lP),this.nodes.forEach(cP),this.clearAllSnapshots();const m=$t.now();Ct.delta=ws(0,1e3/60,m-Ct.timestamp),Ct.timestamp=m,Ct.isProcessing=!0,Th.update.process(Ct),Th.preRender.process(Ct),Th.render.process(Ct),Ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mP),this.sharedNodes.forEach(gP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Lt(this.snapshot.measuredBox.x)&&!Lt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=it(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(m=!1),m&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:h,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Mw(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,x=f!==this.prevTransformTemplateValue;d&&this.instance&&(m||Ba(this.latestValues)||x)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const m=this.measurePageBox();let h=this.removeElementScroll(m);return d&&(h=this.removeTransform(h)),wP(h),{animationId:this.root.animationId,measuredBox:m,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:d}=this.options;if(!d)return it();const m=d.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(NP))){const{scroll:x}=this.root;x&&(Xn(m.x,x.offset.x),Xn(m.y,x.offset.y))}return m}removeElementScroll(d){var h;const m=it();if(pr(m,d),(h=this.scroll)!=null&&h.wasRoot)return m;for(let f=0;f<this.path.length;f++){const x=this.path[f],{scroll:g,options:v}=x;x!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&pr(m,d),Xn(m.x,g.offset.x),Xn(m.y,g.offset.y))}return m}applyTransform(d,m=!1){const h=it();pr(h,d);for(let f=0;f<this.path.length;f++){const x=this.path[f];!m&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Zn(h,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Ba(x.latestValues)&&Zn(h,x.latestValues)}return Ba(this.latestValues)&&Zn(h,this.latestValues),h}removeTransform(d){const m=it();pr(m,d);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Ba(f.latestValues))continue;Tf(f.latestValues)&&f.updateSnapshot();const x=it(),g=f.measurePageBox();pr(x,g),sj(m,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,x)}return Ba(this.latestValues)&&sj(m,this.latestValues),m}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var v;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==m;if(!(d||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:g}=this.options;if(!(!this.layout||!(x||g))){if(this.resolvedRelativeTargetAt=Ct.timestamp,!this.targetDelta&&!this.relativeTarget){const j=this.getClosestProjectingParent();j&&j.layout&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Bo(this.relativeTargetOrigin,this.layout.layoutBox,j.layout.layoutBox),pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=it(),this.targetWithTransforms=it()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pr(this.target,this.layout.layoutBox),Aw(this.target,this.targetDelta)):pr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const j=this.getClosestProjectingParent();j&&!!j.resumingFrom==!!this.resumingFrom&&!j.options.layoutScroll&&j.target&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=it(),this.relativeTargetOrigin=it(),Bo(this.relativeTargetOrigin,this.target,j.target),pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Tf(this.parent.latestValues)||_w(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const d=this.getLead(),m=!!this.resumingFrom||this!==d;let h=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(h=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ct.timestamp&&(h=!1),h)return;const{layout:f,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||x))return;pr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;SO(this.layoutCorrected,this.treeScale,this.path,m),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=it());const{target:j}=d;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ej(this.prevProjectionDelta.x,this.projectionDelta.x),ej(this.prevProjectionDelta.y,this.projectionDelta.y)),Io(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!lj(this.projectionDelta.x,this.prevProjectionDelta.x)||!lj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kn(),this.projectionDelta=Kn(),this.projectionDeltaWithTransform=Kn()}setAnimationOrigin(d,m=!1){const h=this.snapshot,f=h?h.latestValues:{},x={...this.latestValues},g=Kn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const v=it(),j=h?h.source:void 0,b=this.layout?this.layout.source:void 0,C=j!==b,k=this.getStack(),S=!k||k.members.length<=1,T=!!(C&&!S&&this.options.crossfade===!0&&!this.path.some(bP));this.animationProgress=0;let R;this.mixTargetDelta=E=>{const D=E/1e3;uj(g.x,d.x,D),uj(g.y,d.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vP(this.relativeTarget,this.relativeTargetOrigin,v,D),R&&rP(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=it()),pr(R,this.relativeTarget)),C&&(this.animationValues=x,XO(x,f,this.latestValues,D,T,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){var m,h,f;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(!1),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(!1),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{sd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ii(0)),this.currentAnimation=qO(this.motionValue,[0,1e3],{...d,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),d.onUpdate&&d.onUpdate(x)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iP),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:m,target:h,layout:f,latestValues:x}=d;if(!(!m||!h||!f)){if(this!==d&&this.layout&&f&&Uw(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||it();const g=Lt(this.layout.layoutBox.x);h.x.min=d.target.x.min,h.x.max=h.x.min+g;const v=Lt(this.layout.layoutBox.y);h.y.min=d.target.y.min,h.y.max=h.y.min+v}pr(m,h),Zn(m,x),Io(this.projectionDeltaWithTransform,this.layoutCorrected,m,x)}}registerSharedNode(d,m){this.sharedNodes.has(d)||this.sharedNodes.set(d,new sP),this.sharedNodes.get(d).add(m);const f=m.options.initialPromotionConfig;m.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(m):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var m;const{layoutId:d}=this.options;return d?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:d}=this.options;return d?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:m,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),d&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let m=!1;const{latestValues:h}=d;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(m=!0),!m)return;const f={};h.z&&Bh("z",d,f,this.animationValues);for(let x=0;x<Ih.length;x++)Bh(`rotate${Ih[x]}`,d,f,this.animationValues),Bh(`skew${Ih[x]}`,d,f,this.animationValues);d.render();for(const x in f)d.setStaticValue(x,f[x]),this.animationValues&&(this.animationValues[x]=f[x]);d.scheduleRender()}getProjectionStyles(d){if(!this.instance||this.isSVG)return;if(!this.isVisible)return nP;const m={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=rd(d==null?void 0:d.pointerEvents)||"",m.transform=h?h(this.latestValues,""):"none",m;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=rd(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ba(this.latestValues)&&(j.transform=h?h({},""):"none",this.hasProjected=!1),j}const x=f.animationValues||f.latestValues;this.applyTransformsToTarget(),m.transform=aP(this.projectionDeltaWithTransform,this.treeScale,x),h&&(m.transform=h(x,m.transform));const{x:g,y:v}=this.projectionDelta;m.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?m.opacity=f===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:m.opacity=f===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const j in Xo){if(x[j]===void 0)continue;const{correct:b,applyTo:C,isCSSVariable:k}=Xo[j],S=m.transform==="none"?x[j]:b(x[j],f);if(C){const T=C.length;for(let R=0;R<T;R++)m[C[R]]=S}else k?this.options.visualElement.renderState.vars[j]=S:m[j]=S}return this.options.layoutId&&(m.pointerEvents=f===this?rd(d==null?void 0:d.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var m;return(m=d.currentAnimation)==null?void 0:m.stop(!1)}),this.root.nodes.forEach(cj),this.root.sharedNodes.clear()}}}function lP(e){e.updateLayout()}function cP(e){var a;const r=((a=e.resumeFrom)==null?void 0:a.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=e.layout,{animationType:c}=e.options,d=r.source!==e.layout.source;c==="size"?xr(g=>{const v=d?r.measuredBox[g]:r.layoutBox[g],j=Lt(v);v.min=i[g].min,v.max=v.min+j}):Uw(c,r.layoutBox,i)&&xr(g=>{const v=d?r.measuredBox[g]:r.layoutBox[g],j=Lt(i[g]);v.max=v.min+j,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+j)});const m=Kn();Io(m,i,r.layoutBox);const h=Kn();d?Io(h,e.applyTransform(o,!0),r.measuredBox):Io(h,i,r.layoutBox);const f=!Mw(m);let x=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:j}=g;if(v&&j){const b=it();Bo(b,r.layoutBox,v.layoutBox);const C=it();Bo(C,i,j.layoutBox),zw(b,C)||(x=!0),g.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=b,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:h,layoutDelta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:x})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function dP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mP(e){e.clearSnapshot()}function cj(e){e.clearMeasurements()}function hP(e){e.isLayoutDirty=!1}function fP(e){const{visualElement:r}=e.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),e.resetTransform()}function dj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pP(e){e.resolveTargetDelta()}function xP(e){e.calcProjection()}function yP(e){e.resetSkewAndRotation()}function gP(e){e.removeLeadSnapshot()}function uj(e,r,a){e.translate=Ze(r.translate,0,a),e.scale=Ze(r.scale,1,a),e.origin=r.origin,e.originPoint=r.originPoint}function mj(e,r,a,i){e.min=Ze(r.min,a.min,i),e.max=Ze(r.max,a.max,i)}function vP(e,r,a,i){mj(e.x,r.x,a.x,i),mj(e.y,r.y,a.y,i)}function bP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jP={duration:.45,ease:[.4,0,.1,1]},hj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fj=hj("applewebkit/")&&!hj("chrome/")?Math.round:gr;function pj(e){e.min=fj(e.min),e.max=fj(e.max)}function wP(e){pj(e.x),pj(e.y)}function Uw(e,r,a){return e==="position"||e==="preserve-aspect"&&!NO(oj(r),oj(a),.2)}function NP(e){var r;return e!==e.root&&((r=e.scroll)==null?void 0:r.wasRoot)}const CP=Bw({attachResizeListener:(e,r)=>Qo(e,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uh={current:void 0},Fw=Bw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Uh.current){const e=new CP({});e.mount(window),e.setOptions({layoutScroll:!0}),Uh.current=e}return Uh.current},resetTransform:(e,r)=>{e.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),SP={pan:{Feature:UO},drag:{Feature:BO,ProjectionNode:Fw,MeasureLayout:Ow}};function xj(e,r,a){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",a==="Start");const o="onHover"+a,c=i[o];c&&Je.postRender(()=>c(r,yl(r)))}class kP extends xa{mount(){const{current:r}=this.node;r&&(this.unmount=sD(r,(a,i)=>(xj(this.node,i,"Start"),o=>xj(this.node,o,"End"))))}unmount(){}}class _P extends xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fl(Qo(this.node.current,"focus",()=>this.onFocus()),Qo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yj(e,r,a){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",a==="Start");const o="onTap"+(a==="End"?"":a),c=i[o];c&&Je.postRender(()=>c(r,yl(r)))}class AP extends xa{mount(){const{current:r}=this.node;r&&(this.unmount=oD(r,(a,i)=>(yj(this.node,i,"Start"),(o,{success:c})=>yj(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Of=new WeakMap,Fh=new WeakMap,EP=e=>{const r=Of.get(e.target);r&&r(e)},TP=e=>{e.forEach(EP)};function RP({root:e,...r}){const a=e||document;Fh.has(a)||Fh.set(a,{});const i=Fh.get(a),o=JSON.stringify(r);return i[o]||(i[o]=new IntersectionObserver(TP,{root:e,...r})),i[o]}function DP(e,r,a){const i=RP(r);return Of.set(e,a),i.observe(e),()=>{Of.delete(e),i.unobserve(e)}}const OP={some:0,all:1};class PP extends xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:a,margin:i,amount:o="some",once:c}=r,d={root:a?a.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:OP[o]},m=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,c&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:x,onViewportLeave:g}=this.node.getProps(),v=f?x:g;v&&v(h)};return DP(this.node.current,d,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:a}=this.node;["amount","margin","root"].some(LP(r,a))&&this.startObserver()}unmount(){}}function LP({viewport:e={}},{viewport:r={}}={}){return a=>e[a]!==r[a]}const MP={inView:{Feature:PP},tap:{Feature:AP},focus:{Feature:_P},hover:{Feature:kP}},zP={layout:{ProjectionNode:Fw,MeasureLayout:Ow}},Pf={current:null},Vw={current:!1};function IP(){if(Vw.current=!0,!!jp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),r=()=>Pf.current=e.matches;e.addListener(r),r()}else Pf.current=!1}const BP=new WeakMap;function UP(e,r,a){for(const i in r){const o=r[i],c=a[i];if(Rt(o))e.addValue(i,o);else if(Rt(c))e.addValue(i,ii(o,{owner:e}));else if(c!==o)if(e.hasValue(i)){const d=e.getValue(i);d.liveStyle===!0?d.jump(o):d.hasAnimated||d.set(o)}else{const d=e.getStaticValue(i);e.addValue(i,ii(d!==void 0?d:o,{owner:e}))}}for(const i in a)r[i]===void 0&&e.removeValue(i);return r}const gj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FP{scrapeMotionValuesFromProps(r,a,i){return{}}constructor({parent:r,props:a,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:c,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=$t.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Je.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=d;this.latestValues=h,this.baseTarget={...h},this.initialValues=a.initial?{...h}:{},this.renderState=f,this.parent=r,this.props=a,this.presenceContext=i,this.depth=r?r.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Hd(a),this.isVariantNode=cw(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:x,...g}=this.scrapeMotionValuesFromProps(a,{},this);for(const v in g){const j=g[v];h[v]!==void 0&&Rt(j)&&j.set(h[v],!1)}}mount(r){this.current=r,BP.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,i)=>this.bindToMotionValue(i,a)),Vw.current||IP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const a=this.features[r];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(r,a){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const i=bi.has(r);i&&this.onBindTransform&&this.onBindTransform();const o=a.on("change",m=>{this.latestValues[r]=m,this.props.onUpdate&&Je.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),c=a.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,r,a)),this.valueSubscriptions.set(r,()=>{o(),c(),d&&d(),a.owner&&a.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in oi){const a=oi[r];if(!a)continue;const{isEnabled:i,Feature:o}=a;if(!this.features[r]&&o&&i(this.props)&&(this.features[r]=new o(this)),this.features[r]){const c=this.features[r];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):it()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,a){this.latestValues[r]=a}update(r,a){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let i=0;i<gj.length;i++){const o=gj[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,d=r[c];d&&(this.propEventSubscriptions[o]=this.on(o,d))}this.prevMotionValues=UP(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(r),()=>a.variantChildren.delete(r)}addValue(r,a){const i=this.values.get(r);a!==i&&(i&&this.removeValue(r),this.bindToMotionValue(r,a),this.values.set(r,a),this.latestValues[r]=a.get())}removeValue(r){this.values.delete(r);const a=this.valueSubscriptions.get(r);a&&(a(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,a){if(this.props.values&&this.props.values[r])return this.props.values[r];let i=this.values.get(r);return i===void 0&&a!==void 0&&(i=ii(a===null?void 0:a,{owner:this}),this.addValue(r,i)),i}readValue(r,a){let i=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:this.getBaseTargetFromProps(this.props,r)??this.readValueFromInstance(this.current,r,this.options);return i!=null&&(typeof i=="string"&&(b2(i)||j2(i))?i=parseFloat(i):!cD(i)&&ua.test(a)&&(i=rw(r,a)),this.setBaseTarget(r,Rt(i)?i.get():i)),Rt(i)?i.get():i}setBaseTarget(r,a){this.baseTarget[r]=a}getBaseTarget(r){var c;const{initial:a}=this.props;let i;if(typeof a=="string"||typeof a=="object"){const d=Xp(this.props,a,(c=this.presenceContext)==null?void 0:c.custom);d&&(i=d[r])}if(a&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,r);return o!==void 0&&!Rt(o)?o:this.initialValues[r]!==void 0&&i===void 0?void 0:this.baseTarget[r]}on(r,a){return this.events[r]||(this.events[r]=new _p),this.events[r].add(a)}notify(r,...a){this.events[r]&&this.events[r].notify(...a)}}class Hw extends FP{constructor(){super(...arguments),this.KeyframeResolver=Q6}sortInstanceNodePosition(r,a){return r.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(r,a){return r.style?r.style[a]:void 0}removeValueFromRenderState(r,{vars:a,style:i}){delete a[r],delete i[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;Rt(r)&&(this.childSubscription=r.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function qw(e,{style:r,vars:a},i,o){Object.assign(e.style,r,o&&o.getProjectionStyles(i));for(const c in a)e.style.setProperty(c,a[c])}function VP(e){return window.getComputedStyle(e)}class HP extends Hw{constructor(){super(...arguments),this.type="html",this.renderInstance=qw}readValueFromInstance(r,a){if(bi.has(a))return y6(r,a);{const i=VP(r),o=(Tp(a)?i.getPropertyValue(a):i[a])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(r,{transformPagePoint:a}){return Ew(r,a)}build(r,a,i){Gp(r,a,i.transformTemplate)}scrapeMotionValuesFromProps(r,a,i){return Zp(r,a,i)}}const $w=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qP(e,r,a,i){qw(e,r,void 0,i);for(const o in r.attrs)e.setAttribute($w.has(o)?o:Yp(o),r.attrs[o])}class $P extends Hw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=it}getBaseTargetFromProps(r,a){return r[a]}readValueFromInstance(r,a){if(bi.has(a)){const i=tw(a);return i&&i.default||0}return a=$w.has(a)?a:Yp(a),r.getAttribute(a)}scrapeMotionValuesFromProps(r,a,i){return vw(r,a,i)}build(r,a,i){pw(r,a,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(r,a,i,o){qP(r,a,i,o)}mount(r){this.isSVGTag=yw(r.tagName),super.mount(r)}}const YP=(e,r)=>Kp(e)?new $P(r):new HP(r,{allowProjection:e!==w.Fragment}),GP=HD({...pO,...MP,...SP,...zP},YP),Pt=fD(GP),vj={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Lf=new Map,Uc=e=>{const r=Lf.get(e);return r?Object.fromEntries(Object.entries(r.stores).map(([a,i])=>[a,i.getState()])):{}},WP=(e,r,a)=>{if(e===void 0)return{type:"untracked",connection:r.connect(a)};const i=Lf.get(a.name);if(i)return{type:"tracked",store:e,...i};const o={connection:r.connect(a),stores:{}};return Lf.set(a.name,o),{type:"tracked",store:e,...o}},KP=(e,r={})=>(a,i,o)=>{const{enabled:c,anonymousActionType:d,store:m,...h}=r;let f;try{f=(c??(vj?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!f)return e(a,i,o);const{connection:x,...g}=WP(m,f,h);let v=!0;o.setState=(C,k,S)=>{const T=a(C,k);if(!v)return T;const R=S===void 0?{type:d||"anonymous"}:typeof S=="string"?{type:S}:S;return m===void 0?(x==null||x.send(R,i()),T):(x==null||x.send({...R,type:`${m}/${R.type}`},{...Uc(h.name),[m]:o.getState()}),T)};const j=(...C)=>{const k=v;v=!1,a(...C),v=k},b=e(o.setState,i,o);if(g.type==="untracked"?x==null||x.init(b):(g.stores[g.store]=o,x==null||x.init(Object.fromEntries(Object.entries(g.stores).map(([C,k])=>[C,C===g.store?b:k.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let C=!1;const k=o.dispatch;o.dispatch=(...S)=>{(vj?"production":void 0)!=="production"&&S[0].type==="__setState"&&!C&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),C=!0),k(...S)}}return x.subscribe(C=>{var k;switch(C.type){case"ACTION":if(typeof C.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Vh(C.payload,S=>{if(S.type==="__setState"){if(m===void 0){j(S.state);return}Object.keys(S.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const T=S.state[m];if(T==null)return;JSON.stringify(o.getState())!==JSON.stringify(T)&&j(T);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(S)});case"DISPATCH":switch(C.payload.type){case"RESET":return j(b),m===void 0?x==null?void 0:x.init(o.getState()):x==null?void 0:x.init(Uc(h.name));case"COMMIT":if(m===void 0){x==null||x.init(o.getState());return}return x==null?void 0:x.init(Uc(h.name));case"ROLLBACK":return Vh(C.state,S=>{if(m===void 0){j(S),x==null||x.init(o.getState());return}j(S[m]),x==null||x.init(Uc(h.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Vh(C.state,S=>{if(m===void 0){j(S);return}JSON.stringify(o.getState())!==JSON.stringify(S[m])&&j(S[m])});case"IMPORT_STATE":{const{nextLiftedState:S}=C.payload,T=(k=S.computedStates.slice(-1)[0])==null?void 0:k.state;if(!T)return;j(m===void 0?T:T[m]),x==null||x.send(null,S);return}case"PAUSE_RECORDING":return v=!v}return}}),b},Jp=KP,Vh=(e,r)=>{let a;try{a=JSON.parse(e)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}a!==void 0&&r(a)};function XP(e,r){let a;try{a=e()}catch{return}return{getItem:o=>{var c;const d=h=>h===null?null:JSON.parse(h,void 0),m=(c=a.getItem(o))!=null?c:null;return m instanceof Promise?m.then(d):d(m)},setItem:(o,c)=>a.setItem(o,JSON.stringify(c,void 0)),removeItem:o=>a.removeItem(o)}}const Mf=e=>r=>{try{const a=e(r);return a instanceof Promise?a:{then(i){return Mf(i)(a)},catch(i){return this}}}catch(a){return{then(i){return this},catch(i){return Mf(i)(a)}}}},ZP=(e,r)=>(a,i,o)=>{let c={storage:XP(()=>localStorage),partialize:C=>C,version:0,merge:(C,k)=>({...k,...C}),...r},d=!1;const m=new Set,h=new Set;let f=c.storage;if(!f)return e((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),a(...C)},i,o);const x=()=>{const C=c.partialize({...i()});return f.setItem(c.name,{state:C,version:c.version})},g=o.setState;o.setState=(C,k)=>{g(C,k),x()};const v=e((...C)=>{a(...C),x()},i,o);o.getInitialState=()=>v;let j;const b=()=>{var C,k;if(!f)return;d=!1,m.forEach(T=>{var R;return T((R=i())!=null?R:v)});const S=((k=c.onRehydrateStorage)==null?void 0:k.call(c,(C=i())!=null?C:v))||void 0;return Mf(f.getItem.bind(f))(c.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==c.version){if(c.migrate){const R=c.migrate(T.state,T.version);return R instanceof Promise?R.then(E=>[!0,E]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var R;const[E,D]=T;if(j=c.merge(D,(R=i())!=null?R:v),a(j,!0),E)return x()}).then(()=>{S==null||S(j,void 0),j=i(),d=!0,h.forEach(T=>T(j))}).catch(T=>{S==null||S(void 0,T)})};return o.persist={setOptions:C=>{c={...c,...C},C.storage&&(f=C.storage)},clearStorage:()=>{f==null||f.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>b(),hasHydrated:()=>d,onHydrate:C=>(m.add(C),()=>{m.delete(C)}),onFinishHydration:C=>(h.add(C),()=>{h.delete(C)})},c.skipHydration||b(),j||v},Yw=ZP,qd=Kt(Jp((e,r)=>({banners:[],loading:!1,error:null,setBanners:a=>e({banners:a}),setLoading:a=>e({loading:a}),setError:a=>e({error:a}),fetchBanners:async()=>{var a,i;e({loading:!0,error:null});try{const o=await _e.get("/admin/banners/");if(o.status===200)return e({banners:o.data.banners||[],loading:!1}),o.data.banners}catch(o){throw console.error("Error fetching banners:",o),e({error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.error)||"Failed to fetch banners",loading:!1}),o}},fetchPublicBanners:async()=>{var a,i;e({loading:!0,error:null});try{const o=await _e.get("/admin/banners/public/");if(o.status===200)return e({banners:o.data.banners||[],loading:!1}),o.data.banners}catch(o){throw console.error("Error fetching public banners:",o),e({error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.error)||"Failed to fetch public banners",loading:!1}),o}},addBanner:async a=>{var i,o;e({loading:!0,error:null});try{const c=await _e.post("/admin/banners/add/",a,{headers:{"Content-Type":"multipart/form-data"}});if(c.status===201)return await r().fetchBanners(),e({loading:!1}),c.data}catch(c){throw console.error("Error adding banner:",c),e({error:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to add banner",loading:!1}),c}},editBanner:async(a,i)=>{var o,c;e({loading:!0,error:null});try{const d=i instanceof FormData;let m={};d&&(m={"Content-Type":"multipart/form-data"});const h=await _e.patch(`/admin/banners/edit/${a}/`,i,{headers:m});if(h.status===200)return await r().fetchBanners(),e({loading:!1}),h.data}catch(d){throw console.error("Error editing banner:",d),e({error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to edit banner",loading:!1}),d}},deleteBanner:async a=>{var i,o;e({loading:!0,error:null});try{const c=await _e.delete(`/admin/banners/delete/${a}/`);if(c.status===200){const{banners:d}=r(),m=d.filter(h=>h.id!==a);return e({banners:m,loading:!1}),c.data}}catch(c){throw console.error("Error deleting banner:",c),e({error:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to delete banner",loading:!1}),c}},toggleBannerActive:async a=>{var i,o;e({loading:!0,error:null});try{const c=await _e.patch(`/admin/banners/toggle/${a}/`);if(c.status===200){const{banners:d}=r(),m=d.map(h=>h.id===a?{...h,active:c.data.active}:h);return e({banners:m,loading:!1}),c.data}}catch(c){throw console.error("Error toggling banner:",c),e({error:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to toggle banner",loading:!1}),c}},getBannersByPosition:a=>{const{banners:i}=r();return i.filter(o=>o.position===a&&o.active)},getHeroBanners:()=>r().getBannersByPosition("hero"),getCarouselBanners:()=>{const{banners:a}=r();let i=a.filter(o=>["home-middle","home-bottom","carousel"].includes(o.position)&&o.active);return console.log("Carousel Banners:",i),i},clearError:()=>e({error:null})}))),QP=[{id:1,image:"/mobile1.png",backgroundColor:"#f8fafc"},{id:2,image:"/laptops.png",backgroundColor:"#f1f5f9"},{id:3,image:"/tv1.png",backgroundColor:"#e2e8f0"},{id:4,image:"/tablets1.png",backgroundColor:"#f1f5f9"},{id:5,image:"/accessories.png",backgroundColor:"#f8fafc"}],JP=()=>{const{fetchPublicBanners:e,getCarouselBanners:r}=qd(),[a,i]=w.useState(0),[[o,c],d]=w.useState([0,0]),m=r(),h=m.length>0?m:QP;w.useEffect(()=>{e()},[e]),w.useEffect(()=>{const j=setTimeout(()=>{const b=(a+1)%h.length;d([b,1]),i(b)},5e3);return()=>clearTimeout(j)},[a,h.length]);const f=()=>{const j=(a-1+h.length)%h.length;d([j,-1]),i(j)},x=()=>{const j=(a+1)%h.length;d([j,1]),i(j)},g={enter:j=>({x:j>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:j=>({x:j<0?1e3:-1e3,opacity:0})},v={duration:.6,ease:"easeInOut"};return t.jsxs("div",{className:"relative overflow-hidden rounded-xl w-full",style:{boxShadow:"var(--shadow-large)",borderRadius:"var(--rounded-xl)",height:"500px"},children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 h-1.5 bg-white bg-opacity-20",children:t.jsx("div",{className:"h-full",style:{width:`${(a+1)/h.length*100}%`,backgroundColor:"var(--brand-primary)",transition:"width 5s linear"}})})," ",t.jsx("div",{className:"relative w-full h-full overflow-hidden",children:t.jsxs(v2,{initial:!1,custom:c,children:[" ",t.jsxs(Pt.div,{custom:c,variants:g,initial:"enter",animate:"center",exit:"exit",transition:v,className:"absolute inset-0 w-full",children:[" "," ",t.jsx(Pt.img,{src:h[a].image,alt:"Product",className:"w-full h-full object-cover",style:{backgroundColor:h[a].backgroundColor||"#f1f5f9"},initial:{scale:.95},animate:{scale:1},transition:{duration:.5},loading:"eager"}),t.jsx(Pt.div,{className:"absolute top-0 right-0 w-64 h-64 opacity-20 rotate-45 translate-x-20 -translate-y-20",animate:{rotate:[45,55,45],opacity:[.2,.25,.2]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(40px)"}})}),t.jsx(Pt.div,{className:"absolute bottom-10 right-1/4 w-32 h-32 opacity-10",animate:{scale:[1,1.2,1],opacity:[.1,.15,.1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--text-on-brand) 0%, transparent 70%)",filter:"blur(25px)"}})})]},o)]})}),t.jsx(Pt.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:f,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-lg z-10",style:{backgroundColor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(4px)",color:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},"aria-label":"Previous slide",children:t.jsx(Md,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),t.jsx(Pt.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:x,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-lg z-10",style:{backgroundColor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(4px)",color:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},"aria-label":"Next slide",children:t.jsx(St,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),t.jsx("div",{className:"absolute bottom-5 left-1/2 -translate-x-1/2 flex space-x-2 z-20",children:h.map((j,b)=>t.jsx(Pt.button,{onClick:()=>{const C=b>a?1:-1;d([b,C]),i(b)},className:`h-2.5 rounded-full ${b===a?"w-8 bg-white":"w-2.5 bg-white/50"}`,whileHover:{scale:1.2},whileTap:{scale:.9},transition:{duration:.2},"aria-label":`Go to slide ${b+1}`},b))})]})};function eL(e){return ie({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V20H17V4H7ZM6 2H18C18.5523 2 19 2.44772 19 3V21C19 21.5523 18.5523 22 18 22H6C5.44772 22 5 21.5523 5 21V3C5 2.44772 5.44772 2 6 2ZM12 17C12.5523 17 13 17.4477 13 18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18C11 17.4477 11.4477 17 12 17Z"},child:[]}]})(e)}function tL(e){return ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 12v-1.707c0-4.442-3.479-8.161-7.755-8.29-2.204-.051-4.251.736-5.816 2.256A7.933 7.933 0 0 0 4 10v2c-1.103 0-2 .897-2 2v4c0 1.103.897 2 2 2h2V10a5.95 5.95 0 0 1 1.821-4.306 5.977 5.977 0 0 1 4.363-1.691C15.392 4.099 18 6.921 18 10.293V20h2c1.103 0 2-.897 2-2v-4c0-1.103-.897-2-2-2z"},child:[]},{tag:"path",attr:{d:"M7 12h2v8H7zm8 0h2v8h-2z"},child:[]}]})(e)}function rL(e){return ie({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zM2 9a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M5 11.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M14 3a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM2 2a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M5 4.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"},child:[]}]})(e)}const sL=({categories:e})=>{const r={Smartphones:t.jsx(eL,{className:"w-full h-full"}),Laptops:t.jsx(f_,{className:"w-full h-full"}),Tablets:t.jsx(p_,{className:"w-full h-full"}),"Mobile Accessories":t.jsx(Me,{className:"w-full h-full"}),"Laptop Accessories":t.jsx(rL,{className:"w-full h-full"}),"Audio Devices":t.jsx(tL,{className:"w-full h-full"})};return t.jsxs("div",{className:"py-14",children:[t.jsxs("div",{className:"relative mb-14 flex flex-col items-center",children:[t.jsx("span",{className:"text-sm font-medium tracking-wide uppercase mb-2",style:{color:"var(--brand-primary)"},children:"Find What You Need"}),t.jsx("h2",{style:{color:"var(--text-primary)"},className:"text-3xl font-bold text-center mb-3 relative z-10",children:"Shop by Category"}),t.jsx("div",{className:"h-1.5 w-28 rounded-full mb-4",style:{background:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"}}),t.jsx("p",{className:"text-center max-w-md text-base",style:{color:"var(--text-secondary)"},children:"Discover our wide range of products by browsing through popular categories"})]}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 sm:gap-5 px-4",children:e.map(a=>t.jsxs(he,{to:a.path,className:"group relative p-5 sm:p-6 flex flex-col items-center justify-center rounded-xl transition-all duration-500 hover:-translate-y-2 overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",minHeight:"180px",border:"1px solid var(--border-primary)"},children:[t.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{background:"linear-gradient(135deg, var(--bg-accent-light) 0%, rgba(255,255,255,0.9) 100%)",borderRadius:"var(--rounded-lg)"}}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1.5 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500",style:{backgroundColor:"var(--brand-primary)",transformOrigin:"left"}}),t.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 -mr-12 -mt-12 rounded-full opacity-10 group-hover:opacity-20 transition-opacity duration-500",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 -ml-8 -mb-8 rounded-full opacity-10 group-hover:opacity-20 transition-opacity duration-500",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("div",{className:"w-20 h-20 mb-5 rounded-full flex items-center justify-center transition-all duration-500 relative z-10 group-hover:scale-110 p-5",style:{backgroundColor:"var(--bg-accent-light)",boxShadow:"0 4px 20px rgba(245, 158, 11, 0.15)"},children:t.jsx("div",{className:"w-12 h-12 transform group-hover:rotate-6 transition-transform duration-500",style:{color:"var(--brand-primary)"},children:r[a.name]||t.jsx("svg",{className:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),t.jsx("h3",{className:"text-lg sm:text-xl font-semibold transition-all duration-300 relative z-10 text-center mb-1 group-hover:text-brand-primary",style:{color:"var(--text-primary)"},children:a.name}),t.jsxs("span",{className:"text-sm flex items-center gap-1 font-medium relative z-10 opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-4 group-hover:translate-y-0",style:{color:"var(--brand-primary)"},children:[t.jsx("span",{children:"Browse Now"}),t.jsx("svg",{className:"w-4 h-4 transform group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]},a.id))})]})};function aL(e){return ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Gw(e){return ie({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(e)}function zf(e){return ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function If(e){return ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(e)}const ya=Kt(Yw((e,r)=>({items:[],itemCount:0,totalAmount:0,isLoading:!1,error:null,fetchCart:async()=>{var a,i;try{if(e({isLoading:!0,error:null}),Le.getState().isAuthenticated){const d=(await Te.get("/users/cart/")).data.cart.map(m=>({id:m.product_id,item_id:m.item_id,name:m.name,price:m.price,image:m.image_url,quantity:m.quantity,stock:m.stock||10,category:m.category||"Product",added_at:m.added_at}));return e({items:d,isLoading:!1}),_o(),d}else return _o(),e({isLoading:!1}),r().items}catch(o){return e({isLoading:!1,error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.error)||"Failed to fetch cart"}),r().items}},addItem:async(a,i=1)=>{var o,c;try{e({isLoading:!0,error:null}),Le.getState().isAuthenticated&&await Te.post(`/users/cart/add/${a.id}/`,{quantity:i});const{items:m}=r(),h=m.find(f=>f.id===a.id);return e(h?{items:m.map(f=>f.id===a.id?{...f,quantity:f.quantity+i}:f),isLoading:!1}:{items:[...m,{...a,quantity:i}],isLoading:!1}),_o(),ge.success("Item added to cart"),!0}catch(d){return e({isLoading:!1,error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to add item to cart"}),!1}},removeItem:async a=>{var i,o;try{e({isLoading:!0,error:null}),Le.getState().isAuthenticated&&await Te.delete(`/users/cart/remove/${a}/`);const{items:d}=r();return e({items:d.filter(m=>m.id!==a),isLoading:!1}),_o(),!0}catch(c){return e({isLoading:!1,error:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to remove item from cart"}),!1}},updateQuantity:async(a,i)=>{var o,c;try{e({isLoading:!0,error:null});const d=Le.getState().isAuthenticated;if(i<=0)return r().removeItem(a);d&&(await Te.delete(`/users/cart/remove/${a}/`),await Te.post(`/users/cart/add/${a}/`,{quantity:i}));const{items:m}=r();return e({items:m.map(h=>h.id===a?{...h,quantity:i}:h),isLoading:!1}),_o(),!0}catch(d){return e({isLoading:!1,error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to update item quantity"}),!1}},clearCart:async()=>{var a,i;try{if(e({isLoading:!0,error:null}),Le.getState().isAuthenticated){const{items:c}=r(),d=c.map(m=>Te.delete(`/users/cart/remove/${m.id}/`));await Promise.all(d)}return e({items:[],itemCount:0,totalAmount:0,isLoading:!1}),!0}catch(o){return e({isLoading:!1,error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.error)||"Failed to clear cart"}),!1}},updateTotals:()=>{const{items:a}=r(),i=a.reduce((c,d)=>c+d.quantity,0),o=a.reduce((c,d)=>c+d.price*d.quantity,0);e({itemCount:i,totalAmount:o})},clearError:()=>e({error:null})}),{name:"cart-storage"})),_o=()=>{ya.getState().updateTotals()},$d=Kt(Yw((e,r)=>({items:[],isLoading:!1,error:null,fetchWishlist:async()=>{var a,i;try{if(e({isLoading:!0,error:null}),Le.getState().isAuthenticated){const d=(await Te.get("/users/wishlist/")).data.wishlist.map(m=>({id:m.product_id,item_id:m.item_id,name:m.name,price:m.price,image:m.image_url,stock:m.stock||1,category:m.category||"Product",added_at:m.added_at}));return e({items:d,isLoading:!1}),d}else return e({isLoading:!1}),r().items}catch(o){return e({isLoading:!1,error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.error)||"Failed to fetch wishlist"}),r().items}},addItem:async a=>{var i,o;try{e({isLoading:!0,error:null});const c=Le.getState().isAuthenticated,{items:d}=r();return d.find(h=>h.id===a.id)?(e({isLoading:!1}),!0):(c&&await Te.post(`/users/wishlist/add/${a.id}/`),e({items:[...d,a],isLoading:!1}),ge.success("Item added to wishlist"),!0)}catch(c){return e({isLoading:!1,error:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to add item to wishlist"}),!1}},removeItem:async a=>{var i,o;try{e({isLoading:!0,error:null}),Le.getState().isAuthenticated&&await Te.delete(`/users/wishlist/remove/${a}/`);const{items:d}=r();return e({items:d.filter(m=>m.id!==a),isLoading:!1}),!0}catch(c){return e({isLoading:!1,error:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to remove item from wishlist"}),!1}},isInWishlist:a=>{const{items:i}=r();return i.some(o=>o.id===a)},clearWishlist:async()=>{var a,i;try{if(e({isLoading:!0,error:null}),Le.getState().isAuthenticated){const{items:c}=r(),d=c.map(m=>Te.delete(`/users/wishlist/remove/${m.id}/`));await Promise.all(d)}return e({items:[],isLoading:!1}),!0}catch(o){return e({isLoading:!1,error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.error)||"Failed to clear wishlist"}),!1}},clearError:()=>e({error:null})}),{name:"wishlist-storage"})),ex=({product:e})=>{const{addItem:r}=ya(),{addItem:a,isInWishlist:i,removeItem:o}=$d(),c=i(e.id),d=()=>{r(e,1),Ue.success(`${e.name} added to cart!`)},m=()=>{c?(o(e.id),Ue.success(`${e.name} removed from wishlist!`)):(a(e),Ue.success(`${e.name} added to wishlist!`))},h=f=>{const x=[],g=Math.floor(f),v=f%1!==0;for(let j=0;j<5;j++)j<g?x.push(t.jsx(zf,{className:"text-yellow-400"},j)):j===g&&v?x.push(t.jsx(Gw,{className:"text-yellow-400"},j)):x.push(t.jsx(If,{className:"text-yellow-400"},j));return x};return t.jsxs("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:-translate-y-1",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[t.jsxs(he,{to:`/products/${e.id}`,className:"block relative group",children:[t.jsx("div",{className:"bg-white p-4 flex items-center justify-center h-56",children:t.jsx("img",{src:e.image,alt:e.name,className:"max-h-48 w-auto object-contain transform transition-transform duration-300 group-hover:scale-110"})}),e.discount&&t.jsxs("span",{className:"absolute top-3 left-3 text-xs font-medium px-2.5 py-1 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:[e.discount," OFF"]})]}),t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1 pr-3",children:[t.jsxs("p",{className:"text-xs mb-1.5",style:{color:"var(--text-secondary)"},children:[e.brand," • ",e.category]}),t.jsx("h3",{className:"font-medium mb-1.5 line-clamp-2 min-h-[2.5rem]",style:{color:"var(--text-primary)"},children:t.jsx(he,{to:`/products/${e.id}`,children:e.name})}),t.jsxs("div",{className:"flex items-center mb-2.5",children:[t.jsx("div",{className:"flex items-center",children:h(e.rating)}),t.jsx("span",{className:"text-xs ml-1.5",style:{color:"var(--text-secondary)"},children:e.rating})]}),t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsxs("p",{className:"font-bold text-lg",style:{color:"var(--text-accent)"},children:["₹",e.discountPrice.toLocaleString()]}),e.discount&&t.jsxs("p",{className:"text-sm line-through ml-2",style:{color:"var(--text-secondary)"},children:["₹",e.price.toLocaleString()]})]})]})," ",t.jsx("button",{onClick:m,className:"flex items-center justify-center h-8 w-8 rounded-full transition-colors",style:{backgroundColor:c?"var(--brand-primary)":"var(--bg-accent-light)",color:c?"white":"var(--brand-primary)"},children:t.jsx(ml,{className:`text-lg ${c?"fill-current":""}`})})]})," ",t.jsx("div",{className:"mt-3",children:t.jsx(ue,{onClick:d,fullWidth:!0,className:"flex items-center justify-center",icon:t.jsx(hl,{className:"mr-1.5"}),children:"Add to Cart"})})]})]})},nL=({products:e})=>{const r=(e||[]).map(a=>({...a,id:a.id||a._id,name:a.name||`${a.brand} ${a.model||""}`.trim(),image:a.images&&a.images.length>0?a.images[0]:a.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:a.discount_price||a.offer_price||a.price,price:a.price,discount:a.discount||(a.price&&a.discount_price?`${Math.round((a.price-(a.discount_price||a.offer_price))/a.price*100)}%`:null),rating:a.rating||4,reviews:a.reviews||a.reviews_count||0,brand:a.brand||"Unknown",category:a.category||"General",stock:a.stock||0}));return t.jsx("div",{className:"featured-products py-10",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"Featured Products"}),t.jsx("div",{className:"h-1 w-24 mx-auto rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("p",{className:"mt-4 text-lg",style:{color:"var(--text-secondary)"},children:"Discover our best-selling items handpicked for you"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(a=>t.jsx(ex,{product:a},a.id))}),r.length===0&&t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{style:{color:"var(--text-secondary)"},children:"No featured products available at the moment."})})]})})},iL=[{image:"/mobile1.png",title:"Latest Smartphones",subtitle:"Discover the newest technology at unbeatable prices",tag:"New Arrivals",cta:"Shop Phones",backgroundColor:"#f8fafc"},{image:"/laptops.png",title:"Premium Laptops",subtitle:"Powerful devices for work and play",tag:"Best Sellers",cta:"Shop Laptops",backgroundColor:"#f1f5f9"},{image:"/tv1.png",title:"Smart TVs",subtitle:"Immersive entertainment for your home",tag:"Featured",cta:"Shop TVs",backgroundColor:"#e2e8f0"}],oL=()=>{const{fetchPublicBanners:e,getHeroBanners:r}=qd(),[a,i]=w.useState(0),[[o,c],d]=w.useState([0,0]),m=r(),h=m.length>0?m:iL;w.useEffect(()=>{e()},[e]),w.useEffect(()=>{if(h.length===0)return;const j=setTimeout(()=>{const b=(a+1)%h.length;d([b,1]),i(b)},5e3);return()=>clearTimeout(j)},[a,h.length]);const f=()=>{const j=(a-1+h.length)%h.length;d([j,-1]),i(j)},x=()=>{const j=(a+1)%h.length;d([j,1]),i(j)},g={enter:j=>({x:j>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:j=>({x:j<0?1e3:-1e3,opacity:0})},v={duration:.6,ease:"easeInOut"};return t.jsx("section",{className:"relative py-6 overflow-hidden",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"relative overflow-hidden rounded-2xl transform hover:scale-[1.01] transition-all duration-700 ease-in-out animate-fadeIn",style:{boxShadow:"var(--shadow-large), 0 15px 30px -10px rgba(245, 158, 11, 0.2)",borderRadius:"var(--rounded-xl)",height:"500px"},children:[t.jsx(v2,{initial:!1,custom:c,children:t.jsxs(Pt.div,{custom:c,variants:g,initial:"enter",animate:"center",exit:"exit",transition:v,className:"absolute inset-0",children:[" ",t.jsx("img",{src:h[a].image,alt:h[a].title,className:"w-full h-full object-cover object-center",style:{backgroundColor:h[a].backgroundColor},loading:"eager"}),t.jsx("div",{className:"absolute inset-0 flex flex-col justify-center px-8 md:px-14",style:{background:"linear-gradient(90deg, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.65) 40%, rgba(0,0,0,0.2) 100%)",backdropFilter:"blur(2px)"},children:t.jsxs("div",{className:"max-w-lg relative",children:[t.jsx(Pt.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"inline-block px-5 py-2 mb-5 rounded-full text-sm font-medium shadow-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.5)",backdropFilter:"blur(4px)"},children:h[a].tag||"Special Offer"}),t.jsx(Pt.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-3xl sm:text-5xl md:text-6xl font-bold mb-4 leading-tight drop-shadow-lg",style:{color:"var(--text-on-brand)",textShadow:"0 2px 10px rgba(0,0,0,0.4)",letterSpacing:"-0.02em"},children:h[a].title}),t.jsx(Pt.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-lg sm:text-xl md:text-2xl mb-8 leading-relaxed max-w-xl",style:{color:"var(--text-on-brand-muted)",textShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:h[a].subtitle}),t.jsxs(Pt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"flex flex-wrap gap-4",children:[t.jsxs(ue,{variant:"primary",fullWidth:!1,size:"lg",className:"transition-all duration-500 hover:translate-y-[-4px] hover:shadow-xl relative overflow-hidden group",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"0 10px 25px -5px rgba(245, 158, 11, 0.5)",borderRadius:"var(--rounded-md)",padding:"0.85rem 2rem"},children:[" ",t.jsxs("span",{className:"relative z-10 text-base font-semibold flex items-center gap-2",children:[h[a].cta||"Shop Now",t.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),t.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 transform -skew-x-30 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-in-out"})]}),t.jsxs(ue,{variant:"outline",fullWidth:!1,size:"lg",className:"transition-all duration-500 hover:translate-y-[-4px] hover:shadow-xl relative overflow-hidden group",style:{backgroundColor:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(8px)",borderColor:"rgba(255, 255, 255, 0.4)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",padding:"0.85rem 2rem",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.15)"},children:[t.jsx("span",{className:"relative z-10 text-base font-semibold",children:"Learn More"}),t.jsx("span",{className:"absolute inset-0 bg-white/10 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"})]})]})]})})]},o)}),t.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center",children:t.jsx(Pt.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:f,className:"bg-black/30 hover:bg-black/50 text-white p-2 rounded-r-lg backdrop-blur-sm ml-2","aria-label":"Previous slide",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),t.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:t.jsx(Pt.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:x,className:"bg-black/30 hover:bg-black/50 text-white p-2 rounded-l-lg backdrop-blur-sm mr-2","aria-label":"Next slide",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})})," ",t.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:h.map((j,b)=>t.jsx(Pt.button,{onClick:()=>{const C=b>a?1:-1;d([b,C]),i(b)},className:`h-2.5 rounded-full ${b===a?"w-8 bg-white":"w-2.5 bg-white/50"}`,whileHover:{scale:1.2},whileTap:{scale:.9},transition:{duration:.2},"aria-label":`Go to slide ${b+1}`},b))}),t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 opacity-20 rotate-45 translate-x-20 -translate-y-20 animate-pulse",style:{animationDuration:"5s"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(40px)"}})}),t.jsx("div",{className:"absolute top-1/2 right-1/3 w-40 h-40 opacity-15 rotate-12 animate-pulse",style:{animationDuration:"8s"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-secondary) 0%, transparent 70%)",filter:"blur(30px)"}})}),t.jsx("div",{className:"absolute bottom-10 right-1/4 w-32 h-32 opacity-10 animate-pulse",style:{animationDuration:"12s"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--text-on-brand) 0%, transparent 70%)",filter:"blur(25px)"}})}),t.jsx("div",{className:"absolute bottom-0 left-1/4 w-20 h-20 opacity-10 rotate-90 animate-pulse",style:{animationDuration:"10s"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(15px)"}})})]})})})},bj={markReviewHelpful:async(e,r)=>{var a,i,o,c,d,m,h;try{return{success:!0,data:(await Te.post(`/products/${e}/reviews/${r}/helpful/`)).data}}catch(f){let x="Failed to mark review as helpful";return((a=f.response)==null?void 0:a.status)===401?x="Please log in to mark reviews as helpful":((i=f.response)==null?void 0:i.status)===404?x="Review not found":((o=f.response)==null?void 0:o.status)===409?x="You have already marked this review as helpful":(d=(c=f.response)==null?void 0:c.data)!=null&&d.error?x=f.response.data.error:(h=(m=f.response)==null?void 0:m.data)!=null&&h.message&&(x=f.response.data.message),{success:!1,error:x}}},reportReview:async(e,r)=>{var a,i,o,c,d,m,h;try{const f=await Te.post(`/products/${e}/reviews/${r}/report/`);return{success:!0,data:f.data,message:f.data.message||"Review reported successfully"}}catch(f){let x="Failed to report review";return((a=f.response)==null?void 0:a.status)===401?x="Please log in to report reviews":((i=f.response)==null?void 0:i.status)===404?x="Review not found":((o=f.response)==null?void 0:o.status)===409?x="You have already reported this review":(d=(c=f.response)==null?void 0:c.data)!=null&&d.error?x=f.response.data.error:(h=(m=f.response)==null?void 0:m.data)!=null&&h.message&&(x=f.response.data.message),{success:!1,error:x}}}},ga=Kt((e,r)=>({products:[],categories:[],brands:[],featuredProducts:[],currentProduct:null,loading:!1,error:null,reviewLoading:!1,reviewError:null,fetchProducts:async()=>{e({loading:!0});try{const a=await Te.get(`${Ha}/products/products`),i=Array.from(new Set(a.data.products.map(d=>d.category))),o=Array.from(new Set(a.data.products.map(d=>d.brand))),c=a.data.products.filter(d=>d.featured===!0||d.rating>=4.5).sort((d,m)=>d.featured&&!m.featured?-1:!d.featured&&m.featured?1:(m.rating||0)-(d.rating||0)).slice(0,8);e({products:a.data.products,categories:i,brands:o,featuredProducts:c,loading:!1})}catch(a){console.error("Error fetching products:",a),e({error:"Failed to fetch products. Please try again later.",loading:!1})}},fetchCategories:async()=>{e({loading:!0});try{const a=await Te.get(`${Ha}/products/categories`);e({categories:a.data.categories,loading:!1})}catch(a){e({error:a.message,loading:!1})}},getProduct:a=>{const{products:i}=r();return i.find(o=>o.id===parseInt(a,10))},fetchProduct:async a=>{e({loading:!0,error:null});try{const i=await Te.get(`${Ha}/products/products/${a}/`);return e({currentProduct:i.data.product,loading:!1}),i.data.product}catch(i){return console.error("Error fetching product:",i),e({error:"Failed to fetch product. Please try again later.",loading:!1}),null}},clearCurrentProduct:()=>{e({currentProduct:null})},getProductsByCategory:a=>{const{products:i}=r();return i.filter(o=>o.category.toLowerCase()===a.toLowerCase())},getProductsByBrand:a=>{const{products:i}=r();return i.filter(o=>o.brand.toLowerCase()===a.toLowerCase())},searchProducts:a=>{const{products:i}=r();if(!a||a.trim()==="")return[];const o=a.toLowerCase().trim(),c=o.split(/\s+/);return i.map(m=>{var f,x,g;let h=0;return m.name.toLowerCase().includes(o)&&(h+=100),c.forEach(v=>{m.name.toLowerCase().includes(v)&&(h+=50)}),(f=m.brand)!=null&&f.toLowerCase().includes(o)&&(h+=40),(x=m.category)!=null&&x.toLowerCase().includes(o)&&(h+=30),(g=m.description)!=null&&g.toLowerCase().includes(o)&&(h+=20),c.forEach(v=>{var j;(j=m.description)!=null&&j.toLowerCase().includes(v)&&(h+=10)}),{product:m,score:h}}).filter(m=>m.score>0).sort((m,h)=>h.score-m.score).map(m=>m.product)},addReview:async(a,i)=>{var o,c,d,m,h;e({reviewLoading:!0,reviewError:null});try{const f=await Te.post(`/users/add-review/${a}/`,i,{headers:{"Content-Type":"application/json"}}),x=r();return x.currentProduct&&x.currentProduct.id===Number(a)&&await x.fetchProduct(a),e({reviewLoading:!1}),{success:!0,data:f.data,message:f.data.message||"Review added successfully"}}catch(f){console.error("Error adding review:",f);let x="Failed to add review. Please try again later.";return(c=(o=f.response)==null?void 0:o.data)!=null&&c.error?x=f.response.data.error:((d=f.response)==null?void 0:d.status)===400?x="Invalid review data. Please check your input.":((m=f.response)==null?void 0:m.status)===404?x="Product not found.":((h=f.response)==null?void 0:h.status)===401&&(x="Please log in to add a review."),e({reviewError:x,reviewLoading:!1}),{success:!1,error:x}}},clearReviewError:()=>{e({reviewError:null})},markReviewHelpful:async(a,i)=>{try{const o=await bj.markReviewHelpful(a,i);if(o.success){const{currentProduct:c}=r();if(c&&c.id===a){const d=c.reviewsData.map(m=>m.id===i?{...m,helpful_count:o.data.helpful_count,is_marked_helpful:o.data.is_marked_helpful}:m);e({currentProduct:{...c,reviewsData:d}})}return o}return o}catch(o){return console.error("Error marking review as helpful:",o),{success:!1,error:"Failed to mark review as helpful"}}},reportReview:async(a,i)=>{try{return await bj.reportReview(a,i)}catch(o){return console.error("Error reporting review:",o),{success:!1,error:"Failed to report review"}}},fetchFeaturedProducts:async()=>{e({loading:!0});try{const i=(await Te.get(`${Ha}/products/products`)).data.products.filter(o=>o.featured===!0||o.rating>=4.5).sort((o,c)=>o.featured&&!c.featured?-1:!o.featured&&c.featured?1:(c.rating||0)-(o.rating||0)).slice(0,8);e({featuredProducts:i,loading:!1})}catch(a){console.error("Error fetching featured products:",a),e({error:"Failed to fetch featured products. Please try again later.",loading:!1})}}})),lL=Object.freeze(Object.defineProperty({__proto__:null,useProductStore:ga},Symbol.toStringTag,{value:"Module"}));var Bf=new Map,Fc=new WeakMap,jj=0,cL=void 0;function dL(e){return e?(Fc.has(e)||(jj+=1,Fc.set(e,jj.toString())),Fc.get(e)):"0"}function uL(e){return Object.keys(e).sort().filter(r=>e[r]!==void 0).map(r=>`${r}_${r==="root"?dL(e.root):e[r]}`).toString()}function mL(e){const r=uL(e);let a=Bf.get(r);if(!a){const i=new Map;let o;const c=new IntersectionObserver(d=>{d.forEach(m=>{var h;const f=m.isIntersecting&&o.some(x=>m.intersectionRatio>=x);e.trackVisibility&&typeof m.isVisible>"u"&&(m.isVisible=f),(h=i.get(m.target))==null||h.forEach(x=>{x(f,m)})})},e);o=c.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),a={id:r,observer:c,elements:i},Bf.set(r,a)}return a}function hL(e,r,a={},i=cL){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const h=e.getBoundingClientRect();return r(i,{isIntersecting:i,target:e,intersectionRatio:typeof a.threshold=="number"?a.threshold:0,time:0,boundingClientRect:h,intersectionRect:h,rootBounds:h}),()=>{}}const{id:o,observer:c,elements:d}=mL(a),m=d.get(e)||[];return d.has(e)||d.set(e,m),m.push(r),c.observe(e),function(){m.splice(m.indexOf(r),1),m.length===0&&(d.delete(e),c.unobserve(e)),d.size===0&&(c.disconnect(),Bf.delete(o))}}function fL({threshold:e,delay:r,trackVisibility:a,rootMargin:i,root:o,triggerOnce:c,skip:d,initialInView:m,fallbackInView:h,onChange:f}={}){var x;const[g,v]=w.useState(null),j=w.useRef(f),[b,C]=w.useState({inView:!!m,entry:void 0});j.current=f,w.useEffect(()=>{if(d||!g)return;let R;return R=hL(g,(E,D)=>{C({inView:E,entry:D}),j.current&&j.current(E,D),D.isIntersecting&&c&&R&&(R(),R=void 0)},{root:o,rootMargin:i,threshold:e,trackVisibility:a,delay:r},h),()=>{R&&R()}},[Array.isArray(e)?e.toString():e,g,o,i,c,d,a,h,r]);const k=(x=b.entry)==null?void 0:x.target,S=w.useRef(void 0);!g&&k&&!c&&!d&&S.current!==k&&(S.current=k,C({inView:!!m,entry:void 0}));const T=[v,b.inView,b.entry];return T.ref=T[0],T.inView=T[1],T.entry=T[2],T}const pL=()=>{const{products:e,featuredProducts:r,fetchProducts:a}=ga(),{fetchPublicBanners:i}=qd(),[o,c]=w.useState([]),[d,m]=w.useState(1),[h,f]=w.useState(!0),[x,g]=w.useState(!1),v=8,{ref:j,inView:b}=fL({threshold:.1,triggerOnce:!1});w.useEffect(()=>{a(),i()},[a,i]),w.useEffect(()=>{e&&e.length>0&&(c(e.slice(0,v)),f(e.length>v))},[e]);const C=w.useCallback(()=>{x||!h||(g(!0),setTimeout(()=>{const S=d+1,T=d*v,R=T+v,E=e.slice(T,R);E.length>0?(c(D=>[...D,...E]),m(S),f(R<e.length)):f(!1),g(!1)},800))},[d,e,x,h]);w.useEffect(()=>{b&&C()},[b,C]);const k=[{id:1,name:"Smartphones",path:"/category/smartphones"},{id:2,name:"Laptops",path:"/category/laptops"},{id:3,name:"Tablets",path:"/category/tablets"},{id:4,name:"Mobile Accessories",path:"/category/mobile-accessories"},{id:5,name:"Laptop Accessories",path:"/category/laptop-accessories"},{id:6,name:"Audio Devices",path:"/category/audio"}];return t.jsxs("div",{style:{backgroundColor:"var(--bg-secondary)"},className:"min-h-screen",children:[" ",t.jsx(oL,{}),t.jsx("section",{style:{backgroundColor:"var(--bg-primary)"},className:"py-12",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx(sL,{categories:k})})}),t.jsx("section",{className:"py-12",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx(nL,{products:r})})}),t.jsx("section",{style:{backgroundColor:"var(--bg-primary)"},className:"py-12",children:t.jsxs("div",{className:"container mx-auto px-4",children:[" ",t.jsx("h2",{style:{color:"var(--text-primary)"},className:"text-2xl md:text-3xl font-bold mb-6",children:"Special Offers"}),t.jsx(JP,{})]})}),t.jsx("section",{className:"py-12",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"Our Products"}),t.jsx("div",{className:"h-1 w-24 mx-auto rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("p",{className:"mt-4 text-lg",style:{color:"var(--text-secondary)"},children:"Explore our complete collection"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(S=>t.jsx(ex,{product:{...S,id:S.id||S._id,name:S.name||`${S.brand} ${S.model||""}`.trim(),image:S.images&&S.images.length>0?S.images[0]:S.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:S.discount_price||S.offer_price||S.price,price:S.price,discount:S.discount||(S.price&&S.discount_price?`${Math.round((S.price-(S.discount_price||S.offer_price))/S.price*100)}%`:null),rating:S.rating||4,reviews:S.reviews||S.reviews_count||0,brand:S.brand||"Unknown",category:S.category||"General",stock:S.stock||0}},S.id))}),t.jsxs("div",{className:"mt-10 text-center",ref:j,children:[x&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-3",style:{borderColor:"var(--brand-primary)"}}),t.jsx("p",{className:"text-sm font-medium mt-3",style:{color:"var(--text-secondary)"},children:"Loading more products..."})]}),!x&&h&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[t.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full animate-bounce mb-2",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(fp,{className:"text-lg"})}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Scroll for more products"})]}),!x&&!h&&e.length>0&&t.jsx("div",{className:"py-8",children:t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"You've reached the end of our product catalog"})})]})]})})]})},Ga=(e,r="info")=>{const a=document.createElement("div");a.className=`toast toast-${r}`,a.textContent=e,document.body.appendChild(a),setTimeout(()=>{a.classList.add("toast-show")},100),setTimeout(()=>{a.classList.add("toast-hide"),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a)},300)},3e3)},de={success:e=>Ga(e,"success"),error:e=>Ga(e,"error"),warning:e=>Ga(e,"warning"),info:e=>Ga(e,"info")},Uf=e=>{Ga(`${e} added to your cart!`,"success")},Vc=e=>{Ga(e||"Error updating cart","error")},xL=()=>{Ga("Item removed from your wishlist","info")},Yd=({items:e})=>t.jsx("nav",{className:"flex items-center text-sm mb-6 font-medium py-2 px-3 rounded-lg overflow-x-auto no-scrollbar",style:{backgroundColor:"var(--bg-accent-light)",boxShadow:"var(--shadow-small)"},children:e.map((r,a)=>t.jsxs(Oe.Fragment,{children:[a===0&&t.jsx(yp,{className:"mr-1.5",size:14,style:{color:"var(--brand-primary)"}}),a>0&&t.jsx(St,{className:"mx-2",size:14,style:{color:"var(--text-secondary)"}}),r.link?t.jsx(he,{to:r.link,className:"transition-colors duration-200 hover:underline flex items-center",style:{color:"var(--text-secondary)"},children:r.label}):t.jsx("span",{className:"font-semibold flex items-center truncate max-w-[200px]",style:{color:"var(--brand-primary)"},children:r.label})]},a))}),yL=({images:e=[],activeImage:r=0,setActiveImage:a})=>{const[i,o]=w.useState(!1),c=()=>{a(h=>h===e.length-1?0:h+1)},d=()=>{a(h=>h===0?e.length-1:h-1)},m=()=>o(!i);return t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"mb-4 rounded-lg overflow-hidden relative group",style:{boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:`relative overflow-hidden ${i?"cursor-zoom-out":"cursor-zoom-in"}`,onClick:m,children:t.jsx("img",{src:e[r],alt:`Product view ${r+1}`,className:`w-full h-auto object-contain aspect-square transition-transform duration-500 ${i?"scale-150":"scale-100"}`})}),t.jsx("button",{className:"absolute bottom-3 right-3 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:m,style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:t.jsx(lR,{})}),e.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:d,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:t.jsx(Md,{size:20})}),t.jsx("button",{onClick:c,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:t.jsx(St,{size:20})})]})]}),t.jsx("div",{className:"grid grid-cols-5 gap-2",children:e.map((h,f)=>t.jsx("button",{onClick:()=>a(f),className:`rounded-md overflow-hidden transition-all duration-300 ${r===f?"ring-2 ring-offset-1 transform scale-105":"opacity-80 hover:opacity-100"}`,style:{ringColor:"var(--brand-primary)",transform:r===f?"scale(1.05)":"scale(1)"},children:t.jsx("img",{src:h,alt:`Product thumbnail ${f+1}`,className:"w-full h-auto object-cover aspect-square"})},f))})]})},gL=({product:e})=>{var a,i,o,c,d,m;const r=e.reviews||0;return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:e.brand}),t.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:e.name}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"flex items-center",style:{color:"var(--brand-primary)"},children:[...Array(5)].map((h,f)=>t.jsx(Yr,{className:`${f<Math.floor(e.rating)?"fill-current":""} ${f===Math.floor(e.rating)&&e.rating%1>0?"fill-current opacity-50":""}`,size:18},f))}),t.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:[e.rating," (",r," ratings)"]})]}),t.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("div",{className:"flex items-baseline flex-wrap gap-2",children:[t.jsxs("span",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:["₹",e.discountPrice.toLocaleString()]}),e.discount&&t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-lg line-through",style:{color:"var(--text-secondary)"},children:["₹",e.price.toLocaleString()]}),t.jsxs("span",{className:"px-2 py-1 text-xs font-bold rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:[e.discount," off"]})]})]}),t.jsxs("div",{className:"flex items-center mt-3",children:[t.jsxs("div",{className:"flex items-center",style:{color:"var(--success-color)"},children:[t.jsx(zt,{className:"mr-1"}),t.jsx("span",{className:"font-medium",children:"In Stock"})]}),t.jsxs("span",{className:"text-sm ml-2",style:{color:"var(--text-secondary)"},children:["(",e.stock," available)"]})]})," "]}),(((a=e.colors)==null?void 0:a.length)>0||((i=e.ramOptions)==null?void 0:i.length)>0||((o=e.storageOptions)==null?void 0:o.length)>0)&&t.jsxs("div",{className:"space-y-4",children:[((c=e.colors)==null?void 0:c.length)>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Available Colors:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.colors.map((h,f)=>t.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:h},f))})]}),((d=e.ramOptions)==null?void 0:d.length)>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"RAM Options:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.ramOptions.map((h,f)=>t.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:h},f))})]}),((m=e.storageOptions)==null?void 0:m.length)>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Storage Options:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.storageOptions.map((h,f)=>t.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full border",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderColor:"var(--border-primary)"},children:h},f))})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx(U5,{className:"mr-2",style:{color:"var(--brand-primary)"}}),t.jsx("span",{className:"text-sm",children:"Authentic Product"})]}),t.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx(lt,{className:"mr-2",style:{color:"var(--brand-primary)"}}),t.jsx("span",{className:"text-sm",children:"Fast Delivery"})]}),t.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx(yd,{className:"mr-2",style:{color:"var(--brand-primary)"}}),t.jsx("span",{className:"text-sm",children:"Secure Payment"})]})]})]})},vL=({quantity:e,stock:r,handleQuantityChange:a,incrementQuantity:i,decrementQuantity:o})=>t.jsxs("div",{className:"flex flex-wrap items-center mb-6",children:[t.jsx("span",{className:"font-medium mr-4 text-sm",style:{color:"var(--text-primary)"},children:"Quantity:"}),t.jsxs("div",{className:"flex items-center rounded-lg overflow-hidden",style:{borderColor:"var(--border-primary)",boxShadow:"var(--shadow-small)"},children:[t.jsx("button",{onClick:o,className:"px-3 py-2 transition-all duration-200 flex items-center justify-center h-full",disabled:e<=1,style:{backgroundColor:e<=1?"#f5f5f5":"var(--bg-accent-light)",color:e<=1?"var(--text-secondary)":"var(--brand-primary)",opacity:e<=1?.7:1},"aria-label":"Decrease quantity",children:t.jsx(p2,{size:16})}),t.jsx("input",{type:"number",min:"1",max:r,value:e,onChange:a,className:"w-14 text-center py-2 focus:outline-none font-medium text-sm",style:{borderLeft:"1px solid var(--border-primary)",borderRight:"1px solid var(--border-primary)",color:"var(--text-primary)"}}),t.jsx("button",{onClick:i,className:"px-3 py-2 transition-all duration-200 flex items-center justify-center h-full",disabled:e>=r,style:{backgroundColor:e>=r?"#f5f5f5":"var(--bg-accent-light)",color:e>=r?"var(--text-secondary)":"var(--brand-primary)",opacity:e>=r?.7:1},"aria-label":"Increase quantity",children:t.jsx(vt,{size:16})})]}),r&&t.jsxs("span",{className:"text-xs ml-4 mt-1 md:mt-0",style:{color:"var(--text-secondary)"},children:[r," items available"]})]}),bL=({addToCart:e,addToWishlist:r,price:a})=>{const i=a*.18,o=a>5e4?0:99,c=a+i+o;return t.jsxs("div",{className:"rounded-lg p-4 space-y-6",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"var(--shadow-small)"},children:[t.jsxs("div",{className:"p-4 rounded-lg mb-2",style:{backgroundColor:"var(--bg-accent-light)"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{style:{color:"var(--text-secondary)"},children:"Price:"}),t.jsxs("span",{style:{color:"var(--text-primary)"},children:["₹",a.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{style:{color:"var(--text-secondary)"},children:"GST (18%):"}),t.jsxs("span",{style:{color:"var(--text-primary)"},children:["₹",i.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{style:{color:"var(--text-secondary)"},children:"Delivery:"}),t.jsx("span",{style:o===0?{color:"var(--success-color)"}:{color:"var(--text-primary)"},children:o>0?`₹${o.toLocaleString()}`:"Free"})]}),t.jsx("hr",{style:{borderColor:"var(--border-primary)",margin:"8px 0"}}),t.jsxs("div",{className:"flex justify-between items-center font-bold",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Total:"}),t.jsxs("span",{style:{color:"var(--brand-primary)"},children:["₹",c.toLocaleString()]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs(ue,{onClick:e,className:"transition-transform hover:scale-105 duration-300",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t.jsx(hl,{className:"mr-2"}),"Add to Cart"]}),t.jsxs(ue,{onClick:r,variant:"outline",className:"transition-transform hover:scale-105 duration-300",style:{borderColor:"var(--brand-primary)",color:"var(--brand-primary)"},children:[t.jsx(ml,{className:"mr-2"}),"Add to Wishlist"]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{className:"inline-flex items-center px-3 py-1 rounded-full transition-colors duration-300",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderWidth:"1px",borderColor:"var(--border-primary)"},children:[t.jsx(tR,{className:"mr-1"}),t.jsx("span",{children:"Share"})]})}),t.jsx("hr",{style:{borderColor:"var(--border-primary)"}}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Delivery & Payment Options"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[t.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(lt,{})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Free & Fast Delivery"}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Orders ship within 24 hours"})]})]}),t.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[t.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Cs,{})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Easy EMI Options"}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"3, 6, 9 & 12 months available"})]})]}),t.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[t.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(h2,{})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Gift Wrapping"}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Available at additional cost"})]})]}),t.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[t.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(yd,{})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Warranty Protection"}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"All products come with warranty"})]})]})]})]})]})},Hh=({rating:e=0,readOnly:r=!1,onRatingChange:a=()=>{},reviewText:i="",onReviewTextChange:o=()=>{},onSubmit:c=()=>{},isVerifiedPurchase:d=!1})=>{const[m,h]=w.useState(0),f=(g,v=!1)=>{const j=[],b=Math.floor(g),C=g%1!==0;for(let k=0;k<5;k++)v?j.push(t.jsx("span",{className:"cursor-pointer text-xl",onClick:()=>!r&&a(k+1),onMouseEnter:()=>!r&&h(k+1),onMouseLeave:()=>!r&&h(0),children:(m||g)>k?t.jsx(zf,{className:"text-yellow-400"}):t.jsx(If,{className:"text-yellow-400"})},k)):k<b?j.push(t.jsx(zf,{className:"text-yellow-400"},k)):k===b&&C?j.push(t.jsx(Gw,{className:"text-yellow-400"},k)):j.push(t.jsx(If,{className:"text-yellow-400"},k));return j},x=g=>{if(g.preventDefault(),e===0){de.warning("Please select a rating");return}c({rating:e,reviewText:i})};return t.jsx("div",{className:"w-full animate-fadeIn",children:r?t.jsx("div",{className:"flex flex-col gap-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex mr-2",children:f(e)}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.toFixed(1)}),d&&t.jsxs("div",{className:"ml-3 flex items-center text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--success-color)",color:"white"},children:[t.jsx(aL,{className:"mr-1",size:10}),t.jsx("span",{children:"Verified Purchase"})]})]})}):t.jsxs("form",{onSubmit:x,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 font-medium",style:{color:"var(--text-primary)"},children:"Your Rating"}),t.jsx("div",{className:"flex gap-1",children:f(e,!0)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 font-medium",style:{color:"var(--text-primary)"},children:"Your Review"}),t.jsx("textarea",{value:i,onChange:g=>o(g.target.value),className:"w-full px-4 py-2 rounded-lg min-h-[120px]",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},placeholder:"Share your experience with this product..."})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Submit Review"})})]})})},tx=({isOpen:e,onClose:r,title:a,children:i,size:o="md",showCloseButton:c=!0,closeOnBackdropClick:d=!0,className:m=""})=>{if(w.useEffect(()=>{const x=g=>{g.key==="Escape"&&e&&r()};return e&&(document.addEventListener("keydown",x),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",x),document.body.style.overflow="unset"}},[e,r]),!e)return null;const h={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},f=x=>{d&&x.target===x.currentTarget&&r()};return t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:f,children:t.jsxs("div",{className:`w-full ${h[o]} max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all ${m}`,style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:x=>x.stopPropagation(),children:[(a||c)&&t.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[a&&t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:a}),c&&t.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors p-1 rounded-md",style:{color:"var(--text-secondary)"},"aria-label":"Close modal",children:t.jsx(Qe,{size:24})})]}),t.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:i})]})})},nn=({isOpen:e,onClose:r,onConfirm:a,title:i="Confirm Action",message:o="Are you sure you want to proceed?",confirmText:c="Confirm",cancelText:d="Cancel",type:m="warning",isLoading:h=!1})=>{const f=()=>{a()},x=()=>{switch(m){case"danger":return t.jsx(Qe,{className:"text-red-500",size:24});case"info":return t.jsx(zd,{className:"text-blue-500",size:24});case"success":return t.jsx(Mt,{className:"text-green-500",size:24});case"warning":default:return t.jsx(ni,{className:"text-yellow-500",size:24})}},g=()=>{switch(m){case"danger":return"danger";case"success":return"primary";case"info":return"primary";case"warning":default:return"primary"}};return t.jsx(tx,{isOpen:e,onClose:r,size:"sm",closeOnBackdropClick:!h,children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start mb-4",children:[t.jsx("div",{className:"flex-shrink-0 mr-4 mt-1",children:x()}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:i}),t.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:o})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[t.jsx(ue,{variant:"outline",onClick:r,disabled:h,fullWidth:!1,size:"sm",children:d}),t.jsx(ue,{variant:g(),onClick:f,isLoading:h,fullWidth:!1,size:"sm",children:c})]})]})})},ji=()=>{const[e,r]=w.useState(!1),[a,i]=w.useState({title:"Confirm Action",message:"Are you sure you want to proceed?",confirmText:"Confirm",cancelText:"Cancel",type:"warning",onConfirm:()=>{}}),[o,c]=w.useState(!1),d=w.useCallback(f=>{i({title:f.title||"Confirm Action",message:f.message||"Are you sure you want to proceed?",confirmText:f.confirmText||"Confirm",cancelText:f.cancelText||"Cancel",type:f.type||"warning",onConfirm:f.onConfirm||(()=>{})}),r(!0),c(!1)},[]),m=w.useCallback(()=>{r(!1),c(!1)},[]),h=w.useCallback(async()=>{c(!0);try{await a.onConfirm(),m()}catch(f){console.error("Error in confirm action:",f),c(!1)}},[a,m]);return{isOpen:e,modalConfig:a,isLoading:o,showConfirm:d,hideConfirm:m,handleConfirm:h}},jL=({productId:e,reviews:r=[],onAddReview:a=()=>{},canAddReview:i=!1,showFilters:o=!0,onMarkHelpful:c=null,onReportReview:d=null,currentUser:m=null})=>{const[h,f]=w.useState(r),[x,g]=w.useState(0),[v,j]=w.useState(!1),[b,C]=w.useState({rating:0,reviewText:""}),[k,S]=w.useState("newest"),[T,R]=w.useState({}),{isOpen:E,modalConfig:D,isLoading:F,showConfirm:V,hideConfirm:q,handleConfirm:O}=ji(),A=r.length>0?(r.reduce((H,re)=>H+re.rating,0)/r.length).toFixed(1):"0.0",M=H=>{g(H),f(H===0?r:r.filter(re=>re.rating===H))},X=H=>{S(H);let re=[...h];switch(H){case"newest":re.sort((ce,L)=>new Date(L.date||L.created_at)-new Date(ce.date||ce.created_at));break;case"highest":re.sort((ce,L)=>L.rating-ce.rating);break;case"lowest":re.sort((ce,L)=>ce.rating-L.rating);break;case"helpful":re.sort((ce,L)=>(L.helpful||0)-(ce.helpful||0));break}f(re)},I=H=>{a({...H,productId:e,date:new Date().toISOString(),verified:!0,helpful:0}),j(!1),C({rating:0,reviewText:""})},ae=async H=>{if(!m){de.warning("Please log in to mark reviews as helpful");return}if(c){R(re=>({...re,[H]:"helpful"}));try{const re=await c(e,H);re.success?f(ce=>ce.map(L=>L.id===H?{...L,helpful:re.data.helpful_count,userMarkedHelpful:re.data.is_marked_helpful}:L)):de.error(re.error||"Failed to mark review as helpful")}catch(re){console.error("Error marking review as helpful:",re),de.error("Failed to mark review as helpful. Please try again.")}finally{R(re=>{const ce={...re};return delete ce[H],ce})}}else f(h.map(re=>re.id===H?{...re,helpful:(re.helpful||0)+1}:re)),de.success("Review marked as helpful!")},ne=async H=>{if(!m){de.warning("Please log in to report reviews");return}V({title:"Report Review",message:"Are you sure you want to report this review? This action will flag it for moderator review.",confirmText:"Report",cancelText:"Cancel",type:"warning",onConfirm:async()=>{if(d){R(re=>({...re,[H]:"report"}));try{const re=await d(e,H);re.success?de.success(re.message||"Review reported successfully"):de.error(re.error||"Failed to report review")}catch(re){console.error("Error reporting review:",re),de.error("Failed to report review. Please try again.")}finally{R(re=>{const ce={...re};return delete ce[H],ce})}}else de.success("Review reported successfully")}})},$=[5,4,3,2,1].map(H=>{const re=r.filter(L=>L.rating===H).length,ce=r.length>0?re/r.length*100:0;return{rating:H,count:re,percentage:ce}});return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6 p-5 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[t.jsx("div",{className:"text-center md:text-left",children:t.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[t.jsx("span",{className:"text-4xl font-bold mr-2",style:{color:"var(--text-primary)"},children:A}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"flex",children:t.jsx(Hh,{rating:parseFloat(A),readOnly:!0})}),t.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Based on ",r.length," ",r.length===1?"review":"reviews"]})]})]})}),t.jsx("div",{className:"w-full max-w-xs",children:$.map(H=>t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx("div",{className:"flex items-center w-16",children:t.jsxs("span",{className:"text-xs font-medium mr-2",style:{color:"var(--text-secondary)"},children:[H.rating," ",t.jsx(Yr,{className:"inline-block ml-1",size:12})]})}),t.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full rounded-full",style:{width:`${H.percentage}%`,backgroundColor:"var(--brand-primary)"}})}),t.jsx("span",{className:"text-xs ml-2 w-8",style:{color:"var(--text-secondary)"},children:H.count})]},H.rating))})]}),i&&t.jsx("div",{className:"flex justify-center md:justify-end",children:t.jsxs("button",{onClick:()=>j(!0),className:"px-6 py-3 rounded-lg font-medium flex items-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t.jsx(Yr,{className:"mr-2"}),"Write a Review"]})})]}),v&&t.jsxs("div",{className:"p-5 rounded-lg animate-fadeIn",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Write Your Review"}),t.jsx(Hh,{rating:b.rating,readOnly:!1,reviewText:b.reviewText,onRatingChange:H=>C({...b,rating:H}),onReviewTextChange:H=>C({...b,reviewText:H}),onSubmit:I}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 mr-2 rounded-lg font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:"Cancel"})})]})," ",o&&r.length>0&&t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pb-4 border-b",style:{borderColor:"var(--border-secondary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(pa,{className:"mr-2",style:{color:"var(--text-secondary)"}}),t.jsx("span",{className:"mr-3 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Filter:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[0,5,4,3,2,1].map(H=>t.jsx("button",{onClick:()=>M(H),className:`px-3 py-1 text-xs rounded-full transition-colors ${x===H?"font-semibold":""}`,style:{backgroundColor:x===H?"var(--brand-primary)":"var(--bg-secondary)",color:x===H?"var(--text-on-brand)":"var(--text-secondary)"},children:H===0?"All Ratings":`${H} Stars`},H))})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:k,onChange:H=>X(H.target.value),className:"appearance-none pl-3 pr-8 py-2 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--border-secondary)"},children:[t.jsx("option",{value:"newest",children:"Newest First"}),t.jsx("option",{value:"highest",children:"Highest Rated"}),t.jsx("option",{value:"lowest",children:"Lowest Rated"}),t.jsx("option",{value:"helpful",children:"Most Helpful"})]}),t.jsx(u2,{className:"absolute right-2 top-1/2 transform -translate-y-1/2",style:{color:"var(--text-secondary)"}})]})]}),t.jsx("div",{className:"space-y-6",children:h.length>0?h.map(H=>t.jsxs("div",{className:"p-5 rounded-lg transition-shadow hover:shadow-md",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",style:{color:"var(--text-primary)"},children:H.title||"Review"}),t.jsxs("div",{className:"flex items-center mt-1",children:[t.jsx(Hh,{rating:H.rating,readOnly:!0})," ",t.jsx("span",{className:"ml-2 text-xs",style:{color:"var(--text-secondary)"},children:(()=>{const re=H.date||H.created_at;return typeof re=="string"?new Date(re).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):re})()})]})]}),H.is_verified&&t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--success-color)"},children:"Verified Purchase"})})]}),t.jsx("p",{className:"my-3 text-sm",style:{color:"var(--text-secondary)"},children:H.comment||H.reviewText}),t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsx("div",{className:"flex items-center text-sm",style:{color:"var(--text-secondary)"},children:t.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:H.user||"Anonymous"})})," ",t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("button",{onClick:()=>ae(H.id),disabled:T[H.id]==="helpful"||H.userMarkedHelpful||H.is_marked_helpful||m&&H.userEmail===m.email,className:`flex items-center text-xs transition-colors disabled:opacity-50 ${H.userMarkedHelpful||H.is_marked_helpful?"text-blue-600":"hover:text-blue-600"}`,style:{color:H.userMarkedHelpful||H.is_marked_helpful?"#2563eb":"var(--text-secondary)"},title:m&&H.userEmail===m.email?"You cannot mark your own review as helpful":H.userMarkedHelpful||H.is_marked_helpful?"You marked this review as helpful":"Mark this review as helpful",children:[t.jsx(aR,{className:"mr-1"}),T[H.id]==="helpful"?"Loading...":`Helpful (${H.helpful_count||H.helpful||0})`]}),t.jsxs("button",{onClick:()=>ne(H.id),disabled:T[H.id]==="report"||m&&H.userEmail===m.email,className:"flex items-center text-xs transition-colors hover:text-red-600 disabled:opacity-50",style:{color:"var(--text-secondary)"},title:m&&H.userEmail===m.email?"You cannot report your own review":"Report review",children:[t.jsx(xp,{className:"mr-1"}),T[H.id]==="report"?"Reporting...":"Report"]})]})]})]},H.id)):t.jsxs("div",{className:"p-8 text-center rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx("div",{className:"text-lg font-medium mb-2",children:"No reviews yet"}),t.jsx("p",{children:"Be the first to share your experience with this product"})]})}),t.jsx(nn,{isOpen:E,onClose:q,onConfirm:O,title:D.title,message:D.message,confirmText:D.confirmText,cancelText:D.cancelText,type:D.type,isLoading:F})]})},wL=({productId:e,onReviewSubmitted:r})=>{const[a,i]=w.useState(0),[o,c]=w.useState(""),[d,m]=w.useState(0),{addReview:h,reviewLoading:f,reviewError:x,clearReviewError:g}=ga(),{isAuthenticated:v}=Le(),j=async b=>{if(b.preventDefault(),!v){ge.error("Please log in to write a review");return}if(a===0){ge.error("Please select a rating");return}g();const C={rating:a,comment:o.trim()},k=await h(e,C);k.success?(i(0),c(""),r&&r(k.data),ge.success("Review submitted successfully!")):ge.error(k.error||"Failed to submit review. Please try again.")};return v?t.jsxs("form",{onSubmit:j,className:"bg-white p-6 rounded-lg border",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Write a Review"}),x&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",children:x}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating *"}),t.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(b=>t.jsx("button",{type:"button",className:"focus:outline-none",onMouseEnter:()=>m(b),onMouseLeave:()=>m(0),onClick:()=>i(b),children:t.jsx(Yr,{className:`w-6 h-6 ${b<=(d||a)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},b))}),a>0&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[a," out of 5 stars"]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),t.jsx("textarea",{value:o,onChange:b=>c(b.target.value),placeholder:"Share your thoughts about this product...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:1e3}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[o.length,"/1000 characters"]})]}),t.jsx("button",{type:"submit",disabled:f||a===0,className:"w-full bg-orange-500 text-white py-2 px-4 rounded-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]}):t.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg text-center",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to write a review"}),t.jsx("button",{className:"text-orange-500 hover:text-orange-600 font-medium",children:"Log In"})]})},Ww=Kt(e=>({reviews:[],productReviews:{},pendingReviews:[],flaggedReviews:[],addReview:r=>e(a=>{const i=[...a.reviews,{...r,status:"pending"}];let o={...a.productReviews};return o[r.productId]||(o[r.productId]=[]),o[r.productId]=[...o[r.productId],{...r,status:"pending"}],{reviews:i,productReviews:o,pendingReviews:[...a.pendingReviews,{...r,status:"pending"}]}}),updateReviewStatus:(r,a)=>e(i=>{const o=i.reviews.map(h=>h.id===r?{...h,status:a}:h);let c={...i.productReviews};Object.keys(c).forEach(h=>{c[h]=c[h].map(f=>f.id===r?{...f,status:a}:f)});const d=a==="pending"?i.pendingReviews:i.pendingReviews.filter(h=>h.id!==r),m=a==="flagged"?[...i.flaggedReviews,o.find(h=>h.id===r)]:i.flaggedReviews.filter(h=>h.id!==r);return{reviews:o,productReviews:c,pendingReviews:d,flaggedReviews:m}}),deleteReview:r=>e(a=>{const i=a.reviews.filter(m=>m.id!==r);let o={...a.productReviews};Object.keys(o).forEach(m=>{o[m]=o[m].filter(h=>h.id!==r)});const c=a.pendingReviews.filter(m=>m.id!==r),d=a.flaggedReviews.filter(m=>m.id!==r);return{reviews:i,productReviews:o,pendingReviews:c,flaggedReviews:d}}),toggleFlaggedStatus:r=>e(a=>{const i=a.reviews.find(h=>h.id===r);if(!i)return a;const o=a.flaggedReviews.some(h=>h.id===r),c=a.reviews.map(h=>h.id===r?{...h,flagged:!o}:h);let d={...a.productReviews};Object.keys(d).forEach(h=>{d[h]=d[h].map(f=>f.id===r?{...f,flagged:!o}:f)});const m=o?a.flaggedReviews.filter(h=>h.id!==r):[...a.flaggedReviews,{...i,flagged:!0}];return{reviews:c,productReviews:d,flaggedReviews:m}}),markReviewAsHelpful:r=>e(a=>{const i=a.reviews.map(c=>c.id===r?{...c,helpful:(c.helpful||0)+1}:c);let o={...a.productReviews};return Object.keys(o).forEach(c=>{o[c]=o[c].map(d=>d.id===r?{...d,helpful:(d.helpful||0)+1}:d)}),{reviews:i,productReviews:o}}),getProductReviews:r=>Ww.getState().productReviews[r]||[],fetchReviews:()=>{const r=[{id:1,productId:1,productName:"iPhone 13 Pro Max",user:"Sanjay Mehta",userEmail:"sanjay@example.com",rating:4,title:"Great phone but battery could be better",comment:"I've been using this phone for 2 months now and it's really good. Camera is excellent and performance is smooth. Battery life could be a bit better though.",date:"2023-11-15T10:30:00",helpful:12,verified:!0,status:"approved",flagged:!1},{id:2,productId:1,user:"Priya Sharma",userEmail:"priya.s@example.com",rating:5,title:"Best phone I've ever owned!",comment:"This phone exceeded all my expectations. The display is beautiful and the camera is outstanding. Very happy with my purchase.",date:"2023-11-10T14:22:00",helpful:8,verified:!0,status:"approved",flagged:!1},{id:3,productId:2,productName:"Samsung Galaxy S22 Ultra",user:"Rahul Gupta",userEmail:"rahul.g@example.com",rating:2,title:"Disappointing Experience",comment:"The phone heats up frequently and the battery drains too fast. Not what I expected from a premium phone.",date:"2023-11-12T09:15:00",helpful:4,verified:!0,status:"approved",flagged:!0},{id:4,productId:3,productName:"Apple MacBook Pro M1",user:"Vikram Singh",userEmail:"vikram@example.com",rating:5,title:"Best laptop I've ever owned",comment:"This is an amazing laptop. The M1 chip is incredibly fast and the battery life is phenomenal. I can work all day without needing to charge.",date:"2023-11-08T16:45:00",helpful:15,verified:!0,status:"approved",flagged:!1},{id:5,productId:6,productName:"Apple AirPods Pro",user:"Sneha Patel",userEmail:"sneha.p@example.com",rating:4,title:"Great sound quality",comment:"The noise cancellation is excellent and they fit comfortably. The only downside is the battery life could be better.",date:"2023-11-05T11:30:00",helpful:9,verified:!1,status:"pending",flagged:!1}],a={};r.forEach(c=>{a[c.productId]||(a[c.productId]=[]),a[c.productId].push(c)});const i=r.filter(c=>c.status==="pending"),o=r.filter(c=>c.flagged);e({reviews:r,productReviews:a,pendingReviews:i,flaggedReviews:o})}})),NL=({productId:e,product:r})=>{const{reviews:a,productReviews:i,addReview:o,fetchReviews:c}=Ww(),{user:d}=Le(),{markReviewHelpful:m,reportReview:h}=ga(),{isOpen:f,modalConfig:x,isLoading:g,showConfirm:v,hideConfirm:j,handleConfirm:b}=ji();w.useEffect(()=>{a.length===0&&c()},[a.length,c]);const C=D=>{console.log("Review submitted successfully:",D),c()},k=D=>{o({productId:e,productName:r.name,user:(d==null?void 0:d.name)||"Anonymous User",userEmail:(d==null?void 0:d.email)||"anonymous@example.com",...D})},S=!!d,T=r.reviewsData&&r.reviewsData.length>0?r.reviewsData:i[e]||[],R=async D=>{if(!d){de.warning("Please log in to mark reviews as helpful");return}const F=T.find(V=>V.id===D);if(F&&F.userEmail===d.email){de.warning("You cannot mark your own review as helpful");return}if(F&&(F.userMarkedHelpful||F.is_marked_helpful)){de.info("You have already marked this review as helpful");return}try{const V=await m(e,D);V.success?(de.success("Review marked as helpful!"),console.log("Review marked as helpful successfully")):de.error(V.error||"Failed to mark review as helpful")}catch(V){console.error("Error marking review as helpful:",V),de.error("Failed to mark review as helpful")}},E=async D=>{if(!d){de.warning("Please log in to report reviews");return}const F=T.find(V=>V.id===D);if(F&&F.userEmail===d.email){de.warning("You cannot report your own review");return}v({title:"Report Review",message:"Are you sure you want to report this review? This will flag it for moderator review.",confirmText:"Report",cancelText:"Cancel",type:"warning",onConfirm:async()=>{try{const V=await h(e,D);V.success?de.success("Review reported successfully. Thank you for helping us maintain quality."):de.error(V.error||"Failed to report review")}catch(V){console.error("Error reporting review:",V),de.error("Failed to report review")}}})};return t.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[t.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Customer Reviews"}),t.jsx("div",{className:"mb-8",children:t.jsx(wL,{productId:e,onReviewSubmitted:C})})," ",t.jsx(jL,{productId:e,reviews:T,onAddReview:k,canAddReview:S,showFilters:!0,onMarkHelpful:R,onReportReview:E,currentUser:d,isAuthenticated:!!d}),t.jsx(nn,{isOpen:f,onClose:j,onConfirm:b,title:x.title,message:x.message,confirmText:x.confirmText,cancelText:x.cancelText,type:x.type,isLoading:g})]})},CL=({product:e,activeTab:r,setActiveTab:a})=>{const i=e.reviews||0;return t.jsxs("div",{className:"mt-10 rounded-lg overflow-hidden",style:{boxShadow:"var(--shadow-medium)",border:"1px solid var(--border-primary)"},children:[t.jsxs("div",{className:"flex flex-nowrap overflow-x-auto",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx(qh,{id:"description",activeTab:r,setActiveTab:a,icon:t.jsx(zd,{}),label:"Description"}),t.jsx(qh,{id:"specifications",activeTab:r,setActiveTab:a,label:"Specifications"}),t.jsx(qh,{id:"reviews",activeTab:r,setActiveTab:a,icon:t.jsx(Q5,{}),label:`Reviews (${i})`})]}),t.jsxs("div",{className:"p-6 bg-white",children:[r==="description"&&t.jsxs("div",{className:"animate-fadeIn",children:[t.jsx("p",{className:"mb-6 leading-relaxed",style:{color:"var(--text-secondary)"},children:e.description}),t.jsx("h3",{className:"font-semibold text-lg mb-4",style:{color:"var(--text-primary)"},children:"Key Features:"}),t.jsxs("ul",{className:"space-y-3",children:[(e.features||[]).map((o,c)=>t.jsxs("li",{className:"flex items-start",children:[t.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full mr-2 mt-0.5",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:c+1}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:o})]},c)),(!e.features||e.features.length===0)&&t.jsxs("li",{className:"flex items-start",children:[t.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full mr-2 mt-0.5",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"1"}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:"High-quality materials and construction"})]})]})]}),r==="specifications"&&t.jsx("div",{className:"animate-fadeIn",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-6 gap-x-10",children:[Object.entries(e.specifications||{}).map(([o,c])=>t.jsx("div",{className:"group",children:t.jsxs("div",{className:"flex flex-col pb-4 border-b-2 transition-colors duration-300 group-hover:border-orange-500",style:{borderColor:"var(--border-primary)"},children:[t.jsx("span",{className:"text-sm mb-1",style:{color:"var(--text-secondary)"},children:o}),t.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:c})]})},o)),(!e.specifications||Object.keys(e.specifications).length===0)&&t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:"Product specifications not available"})]})})," ",r==="reviews"&&t.jsx("div",{className:"animate-fadeIn",children:t.jsx(NL,{productId:e.id,product:e})})]})]})},qh=({id:e,activeTab:r,setActiveTab:a,icon:i,label:o})=>{const c=r===e;return t.jsxs("button",{onClick:()=>a(e),className:`px-6 py-4 text-sm font-medium flex items-center transition-all duration-300 whitespace-nowrap ${c?"border-b-2":"hover:bg-white/50"}`,style:{borderColor:c?"var(--brand-primary)":"transparent",color:c?"var(--brand-primary)":"var(--text-secondary)",backgroundColor:c?"white":"transparent"},children:[i&&t.jsx("span",{className:"mr-2",children:i}),o]})},SL=()=>{var V,q,O;const{id:e}=el(),[r,a]=w.useState(0),[i,o]=w.useState(1),[c,d]=w.useState("description"),{currentProduct:m,loading:h,error:f,fetchProduct:x,clearCurrentProduct:g}=ga(),{addItem:v}=ya(),{addItem:j}=$d(),{user:b}=Le();if(w.useEffect(()=>{window.scrollTo(0,0)},[]),w.useEffect(()=>(e&&(console.log("Fetching product with ID:",e),x(e)),()=>{g()}),[e,x,g]),w.useEffect(()=>{m&&console.log("Raw product data from API:",m)},[m]),h)return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading product..."})]})})})});if(f)return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-red-600 mb-4",children:f}),t.jsx("button",{onClick:()=>x(e),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Retry"})]})})})});if(!m)return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"Product not found"}),t.jsx(he,{to:ot.PRODUCTS,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Back to Products"})]})})})});const C=m,k={...C,name:C.name||C.title||C.product_name||"Unknown Product",price:C.price||C.original_price||0,discountPrice:C.discount_price||C.discountPrice||C.discounted_price||C.sale_price||C.price||0,discount:C.discount||(C.price&&C.discount_price?Math.round((C.price-C.discount_price)/C.price*100)+"%":null),rating:C.rating||C.average_rating||0,reviews:Array.isArray(C.reviews)?C.reviews.length:C.reviews||C.review_count||0,reviewsData:Array.isArray(C.reviews)?C.reviews.map(A=>({id:A.id,rating:A.rating,comment:A.comment,user:A.email?A.email.split("@")[0]:"Anonymous",userEmail:A.email,date:A.created_at,verified:!0,helpful:A.helpful_count||0,helpful_count:A.helpful_count||0,is_marked_helpful:A.is_marked_helpful||!1,title:`${A.rating} star review`,reported_count:A.reported_count||0,helpful_users:A.helpful_users||[]})):[],stock:C.stock||C.quantity||C.inventory||1,images:C.images||C.image_urls||C.photos||["https://via.placeholder.com/600x600?text=No+Image"],features:C.features||C.key_features||[],specifications:C.specifications||C.specs||{},description:C.description||C.product_description||"No description available",category:C.category||C.product_category||"General",brand:C.brand||C.manufacturer||"Unknown Brand",variant:C.variant||{},colors:((V=C.variant)==null?void 0:V.colors)||[],ramOptions:((q=C.variant)==null?void 0:q.ram)||[],storageOptions:((O=C.variant)==null?void 0:O.storage)||[]};console.log("Normalized product data:",k);const S=A=>{const M=parseInt(A.target.value);M>0&&M<=k.stock&&o(M)},T=()=>{i<k.stock&&o(i+1)},R=()=>{i>1&&o(i-1)},E=async()=>{var A;if(!b){Vc("Please log in to add items to cart");return}try{const M={id:k.id,name:k.name,price:k.price,image:((A=k.images)==null?void 0:A[0])||k.image,quantity:i};await v(M),Uf(k.name,i)}catch(M){console.error("Error adding to cart:",M),Vc("Failed to add item to cart")}},D=async()=>{var A;if(!b){Vc("Please log in to add items to wishlist");return}try{const M={id:k.id,name:k.name,price:k.price,image:((A=k.images)==null?void 0:A[0])||k.image};await j(M),Uf(`${k.name} added to wishlist!`)}catch(M){console.error("Error adding to wishlist:",M),Vc("Failed to add item to wishlist")}},F=[{label:"Home",link:ot.HOME},{label:k.category,link:ot.PRODUCTS},{label:k.brand,link:`/brand/${k.brand}`},{label:k.name}];return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx(Yd,{items:F}),t.jsxs(he,{to:ot.PRODUCTS,className:"inline-flex items-center text-orange-500 mb-6",children:[t.jsx(ca,{className:"mr-2"})," Back to Products"]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 p-6",children:[t.jsxs("div",{className:"lg:col-span-2",children:[" ",t.jsx(yL,{images:k.images,activeImage:r,setActiveImage:a})]}),t.jsxs("div",{className:"lg:col-span-3 flex flex-col",children:[t.jsx(gL,{product:k}),t.jsxs("div",{className:"border-t border-gray-200 py-4",children:[" ",t.jsx(vL,{quantity:i,setQuantity:o,stock:k.stock,handleQuantityChange:S,incrementQuantity:T,decrementQuantity:R}),t.jsx(bL,{price:k.price,addToCart:E,addToWishlist:D})]})]})]})," ",t.jsx(CL,{product:k,activeTab:c,setActiveTab:d})]})]})})},Kw=({showFilters:e,setShowFilters:r,brands:a,selectedBrands:i,toggleBrandFilter:o,priceRange:c,handlePriceChange:d,setPriceRange:m,setSelectedBrands:h})=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-full md:hidden mb-4",children:t.jsx(ue,{onClick:()=>r(!e),className:"flex items-center justify-center gap-2 py-2.5",variant:"outline",icon:t.jsx(pa,{size:18}),children:e?"Hide Filters":"Show Filters"})}),t.jsxs("div",{className:`
          ${e?"block":"hidden md:block"}
          w-full md:w-1/4 rounded-xl p-6 sticky top-4 transition-all duration-300
        `,style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderLeft:"4px solid var(--brand-primary)"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-7",children:[t.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",style:{color:"var(--text-primary)"},children:[t.jsx(rR,{className:"text-lg",style:{color:"var(--brand-primary)"}}),"Filters"]}),t.jsxs("button",{onClick:()=>{h([]),m({min:0,max:15e4})},className:"text-sm font-medium hover:underline transition-all duration-200 flex items-center gap-1",style:{color:"var(--brand-primary)"},children:[t.jsx(Bd,{size:16}),"Clear All"]})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-base font-semibold mb-4 pb-2",style:{color:"var(--text-primary)",borderBottom:"1px solid var(--border-primary)"},children:"Brand"}),t.jsx("div",{className:"space-y-3",children:a.map(f=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:`brand-${f}`,checked:i.includes(f),onChange:()=>o(f),className:"h-5 w-5 rounded border-gray-300 cursor-pointer transition-all duration-200",style:{accentColor:"var(--brand-primary)"}}),t.jsx("label",{htmlFor:`brand-${f}`,className:"ml-3 cursor-pointer text-sm font-medium hover:text-brand-primary transition-colors duration-200",style:{color:i.includes(f)?"var(--brand-primary)":"var(--text-primary)"},children:f})]},f))})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-base font-semibold mb-4 pb-2",style:{color:"var(--text-primary)",borderBottom:"1px solid var(--border-primary)"},children:"Price Range"}),t.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[t.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:["₹",c.min.toLocaleString()]}),t.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:["₹",c.max.toLocaleString()]})]}),t.jsx("div",{className:"mb-5 mt-4",children:t.jsx("input",{type:"range",min:"0",max:"150000",value:c.min,onChange:f=>d(f,"min"),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:"linear-gradient(to right, var(--border-primary) 0%, var(--brand-primary) 100%)"}})}),t.jsx("div",{children:t.jsx("input",{type:"range",min:"0",max:"150000",value:c.max,onChange:f=>d(f,"max"),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:"linear-gradient(to right, var(--brand-primary) 0%, var(--border-primary) 100%)"}})}),t.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"min-price",className:"block text-sm mb-1.5 font-medium",style:{color:"var(--text-secondary)"},children:"Min Price"}),t.jsx("input",{type:"number",id:"min-price",value:c.min,onChange:f=>d(f,"min"),className:"w-full rounded-lg px-3 py-2.5 text-sm border transition-all duration-200 focus:ring-2 focus:ring-offset-0 focus:outline-none",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",focusRingColor:"var(--brand-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"max-price",className:"block text-sm mb-1.5 font-medium",style:{color:"var(--text-secondary)"},children:"Max Price"}),t.jsx("input",{type:"number",id:"max-price",value:c.max,onChange:f=>d(f,"max"),className:"w-full rounded-lg px-3 py-2.5 text-sm border transition-all duration-200 focus:ring-2 focus:ring-offset-0 focus:outline-none",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",focusRingColor:"var(--brand-primary)"}})]})]})]}),t.jsx("div",{className:"md:hidden",children:t.jsx(ue,{onClick:()=>r(!1),fullWidth:!0,variant:"primary",className:"py-2.5 text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"var(--shadow-medium)"},children:"Apply Filters"})})]})]}),Xw=({sortBy:e,setSortBy:r})=>t.jsx("div",{className:"rounded-xl p-6 mb-6 backdrop-blur-sm",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderBottom:"2px solid var(--brand-primary)"},children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"mb-4 md:mb-0 flex items-center",children:[t.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)"},children:t.jsx(Y5,{size:16,style:{color:"var(--brand-primary)"}})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Products Found"}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Showing all available products"})]})]}),t.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg p-1 border transition-all duration-200 hover:border-gray-300",style:{borderColor:"var(--border-primary)"},children:[t.jsx("label",{htmlFor:"sort-by",className:"text-sm mx-3 font-medium whitespace-nowrap",style:{color:"var(--text-secondary)"},children:"Sort by:"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{id:"sort-by",value:e,onChange:a=>r(a.target.value),className:"appearance-none border-0 bg-transparent rounded px-4 py-2 pr-8 text-sm font-medium focus:outline-none focus:ring-0",style:{color:"var(--text-primary)"},children:[t.jsx("option",{value:"popularity",children:"Popularity"}),t.jsx("option",{value:"rating",children:"Rating"}),t.jsx("option",{value:"price-low",children:"Price: Low to High"}),t.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2",children:e==="price-low"?t.jsx(d2,{size:14,style:{color:"var(--brand-primary)"}}):e==="price-high"?t.jsx(fp,{size:14,style:{color:"var(--brand-primary)"}}):t.jsx("span",{className:"text-xs font-medium px-1.5 py-0.5 rounded",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:e.slice(0,3).toUpperCase()})})]})]})]})}),Zw=({products:e,loading:r})=>r?t.jsxs("div",{className:"flex flex-col justify-center items-center h-64",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-3",style:{borderColor:"var(--brand-primary)"}}),t.jsx("p",{className:"text-sm font-medium mt-3",style:{color:"var(--text-secondary)"},children:"Loading products..."})]}):e.length===0?null:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-8",children:e.map(a=>t.jsx("div",{className:"opacity-0 animate-fadeIn",style:{animation:"fadeIn 0.5s forwards",animationFillMode:"forwards"},children:t.jsx(ex,{product:a})},a.id))}),Qw=({resetFilters:e})=>t.jsx("div",{className:"rounded-xl p-10 text-center transition-all duration-300",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"flex items-center justify-center w-20 h-20 mb-6 rounded-full",style:{backgroundColor:"var(--bg-accent-light)"},children:t.jsx(br,{size:32,style:{color:"var(--brand-primary)"}})}),t.jsx("h2",{className:"text-2xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"No products found"}),t.jsx("p",{className:"text-base mb-6 max-w-md mx-auto",style:{color:"var(--text-secondary)"},children:"We couldn't find any products matching your current filters. Try adjusting your filters or search criteria."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t.jsx(ue,{onClick:e,variant:"primary",fullWidth:!1,className:"px-5 py-2.5 font-medium flex items-center justify-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},icon:t.jsx(an,{size:16}),children:"Reset Filters"}),t.jsx(ue,{onClick:e,variant:"outline",fullWidth:!1,className:"px-5 py-2.5 font-medium flex items-center justify-center gap-2",icon:t.jsx(pa,{size:16}),children:"Modify Filters"})]})]})}),wj=()=>{let{category:e}=el();e=e?e.charAt(0).toUpperCase()+e.slice(1).replace(/s$/,""):null;const[r,a]=w.useState(!1),[i,o]=w.useState([]),[c,d]=w.useState({min:0,max:15e4}),[m,h]=w.useState("popularity"),{products:f,brands:x,loading:g,fetchProducts:v}=ga();w.useEffect(()=>{v()},[v]);const j=(f||[]).map(E=>({...E,discountPrice:E.discount_price||E.price,image:E.images&&E.images.length>0?E.images[0]:"https://via.placeholder.com/300x300?text=No+Image"})),b=E=>{i.includes(E)?o(i.filter(D=>D!==E)):o([...i,E])},C=(E,D)=>{const F=parseInt(E.target.value);d({...c,[D]:F})},S=(()=>{let E=[...j];if(i.length>0&&(E=E.filter(D=>i.includes(D.brand))),e){const D=e.replace("-"," ");E=E.filter(F=>F.category.toLowerCase()===D.toLowerCase())}return E=E.filter(D=>D.discountPrice>=c.min&&D.discountPrice<=c.max),m==="price-low"?E.sort((D,F)=>D.discountPrice-F.discountPrice):m==="price-high"?E.sort((D,F)=>F.discountPrice-D.discountPrice):m==="rating"&&E.sort((D,F)=>{const V=D.rating!==void 0&&D.rating!==null?D.rating:0;return(F.rating!==void 0&&F.rating!==null?F.rating:0)-V}),E})(),T=()=>{o([]),d({min:0,max:15e4}),h("popularity")},R=[{label:"Home",link:ot.HOME},{label:e?e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "):"Products"}];return t.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:e?e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "):"All Products"}),t.jsx(Yd,{items:R})]}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[t.jsx(Kw,{showFilters:r,setShowFilters:a,brands:x,selectedBrands:i,toggleBrandFilter:b,priceRange:c,setPriceRange:d,handlePriceChange:C,setSelectedBrands:o}),t.jsxs("div",{className:"w-full md:w-3/4",children:[t.jsx(Xw,{sortBy:m,setSortBy:h}),t.jsx(Zw,{products:S,loading:g}),!g&&S.length===0&&t.jsx(Qw,{resetFilters:T})]})]})]})})},kL=()=>{const[e]=o4(),r=e.get("query")||"",[a,i]=w.useState(!1),[o,c]=w.useState([]),[d,m]=w.useState({min:0,max:15e4}),[h,f]=w.useState("popularity"),{brands:x,loading:g,searchProducts:v}=ga(),j=v(r).map(E=>({...E,discountPrice:E.discount_price||E.price,image:E.images&&E.images.length>0?E.images[0]:"https://via.placeholder.com/300x300?text=No+Image"})),b=E=>{o.includes(E)?c(o.filter(D=>D!==E)):c([...o,E])},C=(E,D)=>{const F=parseInt(E.target.value);m({...d,[D]:F})},S=(()=>{let E=[...j];return o.length>0&&(E=E.filter(D=>o.includes(D.brand))),E=E.filter(D=>D.discountPrice>=d.min&&D.discountPrice<=d.max),h==="price-low"?E.sort((D,F)=>D.discountPrice-F.discountPrice):h==="price-high"?E.sort((D,F)=>F.discountPrice-D.discountPrice):h==="rating"&&E.sort((D,F)=>{const V=D.rating!==void 0&&D.rating!==null?D.rating:0;return(F.rating!==void 0&&F.rating!==null?F.rating:0)-V}),E})(),T=()=>{c([]),m({min:0,max:15e4}),f("popularity")},R=[{label:"Home",link:ot.HOME},{label:`Search Results: "${r}"`}];return t.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:['Search Results for "',r,'"']}),t.jsx(Yd,{items:R}),t.jsxs("p",{className:"text-gray-600 mt-2",children:[S.length," results found"]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[t.jsx(Kw,{showFilters:a,setShowFilters:i,brands:x,selectedBrands:o,toggleBrandFilter:b,priceRange:d,setPriceRange:m,handlePriceChange:C,setSelectedBrands:c}),t.jsxs("div",{className:"w-full md:w-3/4",children:[t.jsx(Xw,{sortBy:h,setSortBy:f}),g?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"spinner"})}):S.length>0?t.jsx(Zw,{products:S}):t.jsx(Qw,{searchQuery:r,resetFilters:T})]})]})]})})},_L=()=>t.jsxs("div",{className:"bg-white rounded-xl p-10 text-center transition-all duration-300 hover:shadow-lg",style:{boxShadow:"var(--shadow-medium)",background:"linear-gradient(to bottom, var(--bg-primary), var(--bg-secondary))"},children:[t.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full mb-7 animate-pulse",style:{background:"var(--bg-accent-light)",boxShadow:"var(--shadow-medium)"},children:t.jsx(js,{className:"h-12 w-12",style:{color:"var(--brand-primary)"}})}),t.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Your cart is empty"}),t.jsx("p",{className:"mb-8 max-w-md mx-auto text-base",style:{color:"var(--text-secondary)"},children:"Looks like you haven't added any products to your cart yet. Start shopping to fill it with amazing products!"}),t.jsx(he,{to:ot.PRODUCTS,className:"inline-block",children:t.jsxs(ue,{variant:"primary",fullWidth:!1,className:"px-8 py-3.5 text-base group flex items-center transition-all duration-300 transform hover:translate-y-[-3px]",style:{background:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"var(--shadow-medium)",borderRadius:"1rem"},children:["Browse Products",t.jsx(B5,{className:"ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})})]}),AL=({item:e,updateQuantity:r,removeItem:a})=>t.jsxs("tr",{className:"group transition-all duration-200 hover:bg-opacity-50",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsx("td",{className:"py-6 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"h-20 w-20 rounded-lg flex items-center justify-center overflow-hidden transition-transform duration-200 group-hover:scale-105",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"var(--shadow-small)"},children:t.jsx("img",{src:e.image,alt:e.name,className:"h-16 w-16 object-contain"})}),t.jsxs("div",{className:"ml-5 flex-1",children:[t.jsx(he,{to:`/products/${e.id}`,className:"font-medium hover:underline transition-all duration-200 block mb-1 text-base",style:{color:"var(--text-primary)"},children:e.name}),t.jsxs("span",{className:"text-sm block mt-1",style:{color:"var(--text-secondary)"},children:["₹",e.price.toLocaleString()," each"]})]})]})}),t.jsx("td",{className:"py-6 px-4",children:t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("button",{onClick:()=>r(e.id,-1),className:"flex items-center justify-center w-8 h-8 rounded-md focus:outline-none transition-all duration-200",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},"aria-label":"Decrease quantity",children:t.jsx(p2,{size:16})}),t.jsx("span",{className:"mx-4 w-8 text-center font-medium text-base",style:{color:"var(--text-primary)"},children:e.quantity}),t.jsx("button",{onClick:()=>r(e.id,1),className:"flex items-center justify-center w-8 h-8 rounded-md focus:outline-none transition-all duration-200",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},"aria-label":"Increase quantity",children:t.jsx(vt,{size:16})})]})}),t.jsxs("td",{className:"py-6 px-4 text-right text-lg font-semibold",style:{color:"var(--brand-primary)"},children:["₹",(e.price*e.quantity).toLocaleString()]}),t.jsx("td",{className:"py-6 px-4 text-center",children:t.jsx("button",{onClick:()=>a(e.id),className:"p-2.5 rounded-full hover:bg-red-50 transition-all duration-200 focus:outline-none",style:{color:"var(--error-color)",backgroundColor:"var(--bg-secondary)"},"aria-label":"Remove item",children:t.jsx(bt,{size:18})})})]}),EL=({cartItems:e,updateQuantity:r,removeItem:a})=>t.jsxs("div",{className:"lg:col-span-2",children:[t.jsxs("div",{className:"bg-white rounded-xl overflow-hidden mb-7",style:{boxShadow:"var(--shadow-medium)",borderLeft:"4px solid var(--brand-primary)"},children:[t.jsx("div",{className:"px-6 py-5 border-b flex items-center justify-between",style:{borderColor:"var(--border-primary)"},children:t.jsxs("h2",{className:"text-xl font-bold flex items-center",style:{color:"var(--text-primary)"},children:["Cart Items",t.jsx("span",{className:"ml-2 px-2.5 py-1 text-sm rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:e.length})]})}),t.jsx("div",{className:"overflow-x-auto p-2",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-left",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"py-4 px-5 text-left text-xs font-semibold uppercase tracking-wider rounded-tl-lg",style:{color:"var(--text-secondary)"},children:"Product"}),t.jsx("th",{className:"py-4 px-5 text-center text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-secondary)"},children:"Quantity"}),t.jsx("th",{className:"py-4 px-5 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-secondary)"},children:"Amount"}),t.jsx("th",{className:"py-4 px-5 text-center text-xs font-semibold uppercase tracking-wider rounded-tr-lg",style:{color:"var(--text-secondary)"},children:"Action"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:e.map(i=>t.jsx(AL,{item:i,updateQuantity:r,removeItem:a},i.id))})]})})]}),t.jsx("div",{className:"flex justify-between mt-6",children:t.jsxs(he,{to:ot.PRODUCTS,className:"inline-flex items-center px-5 py-3 rounded-lg transition-all duration-300 font-medium text-sm hover:translate-x-[-5px]",style:{color:"var(--brand-primary)",backgroundColor:"var(--bg-accent-light)"},children:[t.jsx(ca,{className:"mr-2"}),"Continue Shopping"]})})]}),TL=({subtotal:e,total:r,onCheckout:a})=>t.jsx("div",{className:"lg:col-span-1 sticky top-4",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 overflow-hidden",style:{boxShadow:"var(--shadow-medium)",borderTop:"4px solid var(--brand-primary)"},children:[t.jsxs("h2",{className:"text-xl font-bold mb-6 pb-4 border-b flex items-center",style:{color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx(js,{className:"mr-2",style:{color:"var(--brand-primary)"}}),"Order Summary"]}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"flex justify-between items-center py-1",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Subtotal"}),t.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["₹",e.toLocaleString()]})]}),t.jsx("div",{className:"h-px my-3",style:{background:"var(--border-primary)"}}),t.jsxs("div",{className:"flex justify-between items-center py-2",children:[t.jsx("span",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Total"}),t.jsxs("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:["₹",r.toLocaleString()]})]})]}),t.jsx("div",{className:"mt-8",children:t.jsxs(ue,{onClick:a,className:"text-base py-3.5 transition-all duration-300 transform hover:translate-y-[-2px] rounded-lg font-medium",style:{background:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"var(--shadow-medium)"},children:[t.jsx(Cs,{className:"mr-2"})," Proceed to Checkout"]})})]})}),Jw=Kt((e,r)=>({addresses:[],isLoading:!1,error:null,fetchAddresses:async()=>{var i,o;const{isAuthenticated:a}=Le.getState();if(!a)return e({addresses:[],error:"User not authenticated"}),[];try{e({isLoading:!0,error:null});const m=((await Te.get("/users/addresses/")).data.addresses||[]).map(h=>({id:h.id,name:h.type,address:h.street_address,city:h.city,state:h.state,pincode:h.postal_code,phone:h.phone_number,isDefault:h.is_default,type:h.type,street_address:h.street_address,postal_code:h.postal_code,phone_number:h.phone_number,is_default:h.is_default,created_at:h.created_at,updated_at:h.updated_at}));return e({addresses:m,isLoading:!1}),m}catch(c){return console.error("Error fetching addresses:",c),e({isLoading:!1,error:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to fetch addresses"}),[]}},addAddress:async a=>{var o,c,d,m;const{isAuthenticated:i}=Le.getState();if(!i)return ge.error("Please login to add an address"),null;try{e({isLoading:!0,error:null});const h={type:a.type||a.name,street_address:a.street_address||a.address,city:a.city,state:a.state,postal_code:a.postal_code||a.pincode,phone_number:a.phone_number||a.phone,is_default:a.is_default||a.isDefault||!1},f=await Te.post("/users/addresses/add/",h),x=f.data.address,g={id:f.data.address_id,name:x.type,address:x.street_address,city:x.city,state:x.state,pincode:x.postal_code,phone:x.phone_number,isDefault:x.is_default,...x};return e(v=>({addresses:[...v.addresses,g],isLoading:!1})),ge.success("Address added successfully"),g}catch(h){return console.error("Error adding address:",h),e({isLoading:!1,error:((c=(o=h.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to add address"}),ge.error(((m=(d=h.response)==null?void 0:d.data)==null?void 0:m.error)||"Failed to add address"),null}},updateAddress:async(a,i)=>{var c,d,m,h;const{isAuthenticated:o}=Le.getState();if(!o)return ge.error("Please login to update an address"),!1;try{e({isLoading:!0,error:null});const f={type:i.type||i.name,street_address:i.street_address||i.address,city:i.city,state:i.state,postal_code:i.postal_code||i.pincode,phone_number:i.phone_number||i.phone,is_default:i.is_default||i.isDefault||!1},g=(await Te.put(`/users/addresses/update/${a}/`,f)).data.address,v={id:g.id||a,name:g.type,address:g.street_address,city:g.city,state:g.state,pincode:g.postal_code,phone:g.phone_number,isDefault:g.is_default,type:g.type,street_address:g.street_address,postal_code:g.postal_code,phone_number:g.phone_number,is_default:g.is_default,created_at:g.created_at,updated_at:g.updated_at};return e(j=>({addresses:j.addresses.map(b=>b.id===a?v:b),isLoading:!1})),ge.success("Address updated successfully"),!0}catch(f){return console.error("Error updating address:",f),e({isLoading:!1,error:((d=(c=f.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to update address"}),ge.error(((h=(m=f.response)==null?void 0:m.data)==null?void 0:h.error)||"Failed to update address"),!1}},deleteAddress:async a=>{var o,c,d,m;const{isAuthenticated:i}=Le.getState();if(!i)return ge.error("Please login to delete an address"),!1;try{return e({isLoading:!0,error:null}),await Te.delete(`/users/addresses/delete/${a}/`),e(h=>({addresses:h.addresses.filter(f=>f.id!==a),isLoading:!1})),ge.success("Address deleted successfully"),!0}catch(h){return console.error("Error deleting address:",h),e({isLoading:!1,error:((c=(o=h.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to delete address"}),ge.error(((m=(d=h.response)==null?void 0:d.data)==null?void 0:m.error)||"Failed to delete address"),!1}},setDefaultAddress:async a=>{var o,c,d,m;const{isAuthenticated:i}=Le.getState();if(!i)return ge.error("Please login to set default address"),!1;try{return e({isLoading:!0,error:null}),await Te.post(`/users/addresses/set-default/${a}/`),e(h=>({addresses:h.addresses.map(f=>({...f,isDefault:f.id===a,is_default:f.id===a})),isLoading:!1})),ge.success("Default address updated"),!0}catch(h){return console.error("Error setting default address:",h),e({isLoading:!1,error:((c=(o=h.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to set default address"}),ge.error(((m=(d=h.response)==null?void 0:d.data)==null?void 0:m.error)||"Failed to set default address"),!1}},getAddressById:a=>r().addresses.find(i=>i.id===a)||null,getDefaultAddress:()=>r().addresses.find(a=>a.isDefault)||(r().addresses.length>0?r().addresses[0]:null),clearError:()=>e({error:null})})),$h=(e,r,a)=>(console.log("Initiating Razorpay payment with data:",e),window.Razorpay?!e.key_id||!e.amount||!e.razorpay_order_id?(console.error("Missing required Razorpay data:",e),ge.error("Invalid payment configuration. Please try again."),Promise.reject("Invalid razorpay data")):new Promise((i,o)=>{const c={key:e.key_id,amount:e.amount,currency:e.currency||"INR",order_id:e.razorpay_order_id,name:"Anand Mobiles",description:"Purchase of products",image:"/logo.jpg",handler:function(d){console.log("Payment successful, response:",d);const m={razorpay_payment_id:d.razorpay_payment_id,razorpay_order_id:d.razorpay_order_id,razorpay_signature:d.razorpay_signature,order_id:e.app_order_id};Te.post("/users/order/razorpay/verify/",m).then(h=>{console.log("Payment verified successfully:",h.data),r&&r(h.data),i(h.data)}).catch(h=>{console.error("Payment verification failed:",h),a&&a(h),o(h)})},prefill:{},notes:{order_id:e.app_order_id},theme:{color:"#3399cc"},modal:{ondismiss:function(){console.log("Payment modal dismissed by user"),a&&a({message:"Payment cancelled by user"}),o({message:"Payment cancelled by user"})}}};console.log("Opening Razorpay modal with options:",c);try{const d=new window.Razorpay(c);d.on("payment.failed",function(m){console.error("Payment failed:",m.error),a&&a(m.error),o(m.error)}),d.open(),console.log("Razorpay modal opened successfully")}catch(d){console.error("Error initiating Razorpay:",d),ge.error("Failed to open payment gateway. Please try again."),a&&a(d),o(d)}}):(console.error("Razorpay SDK is not loaded"),ge.error("Payment gateway not available. Please try again later."),Promise.reject("Razorpay SDK not loaded"))),wi=Kt(e=>({orders:[],currentOrder:null,isLoading:!1,isProcessingPayment:!1,paymentSuccessful:!1,error:null,initiatePayment:r=>$h(r,a=>{e(i=>({orders:i.orders.map(o=>o.id===r.app_order_id?{...o,status:"paid",payment_details:a}:o),paymentSuccessful:!0})),ge.success("Payment successful!"),setTimeout(()=>{e({paymentSuccessful:!1})},1e3)},a=>{ge.error("Payment failed. Please try again."),console.error("Payment error:",a)}),fetchOrders:async()=>{var r,a,i,o;try{e({isLoading:!0,error:null});const d=(await Te.get("/users/orders/")).data.orders||[];return e({orders:d,isLoading:!1}),d}catch(c){return console.error("Error fetching orders:",c),e({isLoading:!1,error:((a=(r=c.response)==null?void 0:r.data)==null?void 0:a.detail)||((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to fetch orders"}),[]}},placeOrderFromCart:async r=>{var a,i,o,c;try{e({isProcessingPayment:!0,error:null}),console.log("Starting placeOrderFromCart with addressId:",r);const d=ya.getState().items;if(console.log("Cart items:",d),!d||d.length===0)return ge.error("Your cart is empty"),e({isProcessingPayment:!1}),null;const m=Math.round(d.reduce((v,j)=>v+j.price*j.quantity,0)*100),h={address_id:r,amount:m,currency:"INR",product_ids:d.map(v=>v.id)};console.log("Order data being sent:",h);const f=await Te.post("/users/order/razorpay/create/",h);console.log("API response:",f.data);const x=f.data;if(!x.key_id||!x.razorpay_order_id||!x.amount)return console.error("Invalid razorpay data received:",x),ge.error("Invalid payment configuration received from server"),e({isProcessingPayment:!1}),null;const g={id:x.app_order_id,razorpay_order_id:x.razorpay_order_id,status:"pending_payment"};return e(v=>({orders:[g,...v.orders],currentOrder:g})),console.log("Initiating Razorpay payment..."),await $h(x,async v=>{console.log("Payment successful:",v),e(j=>({orders:j.orders.map(b=>b.id===x.app_order_id?{...b,status:"paid",payment_details:v}:b),isProcessingPayment:!1,paymentSuccessful:!0})),setTimeout(()=>{e({paymentSuccessful:!1})},1e3),ge.success("Payment successful! Order placed successfully.")},v=>{console.error("Payment error:",v),e({isProcessingPayment:!1}),v.message==="Payment cancelled by user"?ge.error("Payment was cancelled"):ge.error("Payment failed. Please try again.")}),g}catch(d){return console.error("Error placing order:",d),e({isProcessingPayment:!1,error:((i=(a=d.response)==null?void 0:a.data)==null?void 0:i.detail)||((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to place order"}),ge.error("Failed to place order. Please try again."),null}},placeSingleProductOrder:async(r,a,i)=>{var o,c,d,m;try{if(e({isProcessingPayment:!0,error:null}),console.log("Starting placeSingleProductOrder with:",{product:r,quantity:a,addressId:i}),!r)return ge.error("Product information is missing"),e({isProcessingPayment:!1}),null;const h=Math.round(r.price*a*100),f={address_id:i,amount:h,currency:"INR",product_ids:[r.id]};console.log("Single product order data being sent:",f);const x=await Te.post("/users/orders/create/",f);console.log("Single product API response:",x.data);const g=x.data;if(!g.key_id||!g.razorpay_order_id||!g.amount)return console.error("Invalid razorpay data received for single product:",g),ge.error("Invalid payment configuration received from server"),e({isProcessingPayment:!1}),null;const v={id:g.app_order_id,razorpay_order_id:g.razorpay_order_id,status:"pending_payment"};return e(j=>({orders:[v,...j.orders],currentOrder:v})),console.log("Initiating Razorpay payment for single product..."),await $h(g,async j=>{console.log("Single product payment successful:",j),e(b=>({orders:b.orders.map(C=>C.id===g.app_order_id?{...C,status:"paid",payment_details:j}:C),isProcessingPayment:!1,paymentSuccessful:!0})),setTimeout(()=>{e({paymentSuccessful:!1})},1e3),ge.success("Payment successful! Order placed successfully.")},j=>{console.error("Single product payment error:",j),e({isProcessingPayment:!1}),j.message==="Payment cancelled by user"?ge.error("Payment was cancelled"):ge.error("Payment failed. Please try again.")}),v}catch(h){return console.error("Error placing single product order:",h),e({isProcessingPayment:!1,error:((c=(o=h.response)==null?void 0:o.data)==null?void 0:c.detail)||((m=(d=h.response)==null?void 0:d.data)==null?void 0:m.error)||"Failed to place order"}),ge.error("Failed to place order. Please try again."),null}},getOrderById:async r=>{var a,i,o,c;try{e({isLoading:!0,error:null});const m=(await Te.get(`/users/orders/${r}/`)).data.order_details;return console.log("Fetched order:",m),e({currentOrder:m,isLoading:!1}),m}catch(d){return console.error("Error fetching order:",d),e({isLoading:!1,error:((i=(a=d.response)==null?void 0:a.data)==null?void 0:i.detail)||((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch order"}),null}},cancelOrder:async r=>{var a,i,o,c;try{return e({isLoading:!0,error:null}),await Te.post(`/users/orders/${r}/cancel/`),e(d=>({orders:d.orders.map(m=>m.id===r?{...m,status:"cancelled"}:m),isLoading:!1})),ge.success("Order cancelled successfully"),!0}catch(d){return console.error("Error cancelling order:",d),e({isLoading:!1,error:((i=(a=d.response)==null?void 0:a.data)==null?void 0:i.detail)||((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to cancel order"}),ge.error("Failed to cancel order"),!1}},clearError:()=>e({error:null})})),RL=({isOpen:e,onClose:r,product:a=null,quantity:i=1})=>{const o=Wt(),{isAuthenticated:c}=Le(),{items:d,totalAmount:m}=ya(),{placeOrderFromCart:h,placeSingleProductOrder:f,isProcessingPayment:x,paymentSuccessful:g}=wi(),{addresses:v,fetchAddresses:j,isLoading:b}=Jw(),[C,k]=w.useState(null),S=!a,T=S?d:[{...a,quantity:i}],R=S?m:(a==null?void 0:a.price)*i,F=R+0+0;w.useEffect(()=>{if(e&&c){if(!window.Razorpay){console.error("Razorpay SDK not loaded when checkout opened"),ge.error("Payment gateway not available. Please refresh and try again.");return}console.log("Razorpay SDK is available:",!!window.Razorpay),j()}},[e,c,j]),w.useEffect(()=>{var O;if(v.length>0&&!C){const A=v.find(M=>M.isDefault);k((A==null?void 0:A.id)||((O=v[0])==null?void 0:O.id))}},[v,C]),w.useEffect(()=>{g&&e&&(console.log("Payment successful, closing checkout modal"),setTimeout(()=>{r()},1e3))},[g,e,r]);const V=async()=>{if(console.log("handlePlaceOrder called",{isAuthenticated:c,selectedAddressId:C}),!c){ge.error("Please login to place order"),o("/login");return}if(!C){ge.error("Please select a delivery address");return}try{console.log("Attempting to place order...",{isCartOrder:S,product:a,quantity:i,selectedAddressId:C});let O;S?(console.log("Placing cart order..."),O=await h(C)):(console.log("Placing single product order..."),O=await f(a,i,C)),console.log("Order placement result:",O),console.log(O?"Order placed successfully, waiting for payment completion...":"Order placement failed - no result returned")}catch(O){console.error("Order placement failed:",O),ge.error("Failed to place order. Please try again.")}},q=O=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(O);return e?t.jsx(tx,{isOpen:e,onClose:r,size:"2xl",closeOnBackdropClick:!x,className:"animate-fadeIn w-11/12 max-w-5xl",children:t.jsxs("div",{className:"relative w-full",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[t.jsxs("div",{className:"relative px-8 py-8 text-center overflow-hidden",style:{background:"linear-gradient(135deg, var(--brand-primary) 0%, var(--brand-primary-hover) 100%)",color:"var(--text-on-brand)"},children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full opacity-10 transform translate-x-8 -translate-y-8",children:t.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:"var(--text-on-brand)"}})}),t.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 rounded-full opacity-10 transform -translate-x-4 translate-y-4",children:t.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:"var(--text-on-brand)"}})}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"p-4 rounded-full transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:t.jsx(js,{className:"text-3xl"})})}),t.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Complete Your Order"}),t.jsx("p",{className:"text-lg opacity-90",children:"Review your order details and complete the secure checkout"}),t.jsxs("div",{className:"flex items-center justify-center mt-6 space-x-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-100"}),t.jsx("div",{className:"w-8 h-1 bg-white opacity-60 rounded-full"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-60"}),t.jsx("div",{className:"w-8 h-1 bg-white opacity-30 rounded-full"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-30"})]})]})]}),t.jsx("div",{className:"p-6 md:p-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6 md:space-y-8",style:{animation:"slideInLeft 0.6s ease-out"},children:[" ",t.jsxs("div",{className:"group rounded-2xl p-8 border-2 border-transparent transition-all duration-500 hover:border-opacity-30 hover:shadow-xl transform hover:-translate-y-1",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",background:"linear-gradient(145deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-8",children:[t.jsx("div",{className:"p-3 rounded-xl mr-4 transform group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)",boxShadow:"0 4px 14px 0 rgba(0, 118, 255, 0.15)"},children:t.jsx(js,{className:"text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Order Summary"}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[T.length," item",T.length>1?"s":""," ","in your order"]})]})]}),t.jsxs("div",{className:"space-y-6",children:[T.map((O,A)=>t.jsxs("div",{className:`group/item flex items-center justify-between p-6 rounded-xl transition-all duration-300 hover:shadow-md transform hover:scale-[1.02] ${A<T.length-1?"border-b-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsxs("div",{className:"relative w-24 h-24 rounded-xl overflow-hidden mr-6 group-hover/item:shadow-lg transition-shadow duration-300",style:{boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",border:"2px solid var(--border-primary)"},children:[t.jsx("img",{src:O.image,alt:O.name,className:"w-full h-full object-cover group-hover/item:scale-105 transition-transform duration-300"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover/item:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold mb-2 text-lg group-hover:item:text-opacity-80 transition-all duration-300",style:{color:"var(--text-primary)"},children:O.name}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("span",{className:"text-sm px-4 py-2 rounded-full font-medium",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:["Qty: ",O.quantity]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Yr,{className:"text-yellow-400 mr-1",size:14}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"4.5"})]})]})]})]}),t.jsxs("div",{className:"text-right ml-4",children:[t.jsx("p",{className:"font-bold text-xl mb-1 group-hover:item:scale-105 transition-transform duration-300",style:{color:"var(--brand-primary)"},children:q(O.price*O.quantity)}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[q(O.price)," each"]})]})]},O.id)),t.jsx("div",{className:"p-6 rounded-xl border-2",style:{borderColor:"var(--brand-primary)",backgroundColor:"var(--bg-accent-light)",background:"linear-gradient(145deg, var(--bg-accent-light) 0%, rgba(255, 255, 255, 0.8) 100%)"},children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(h2,{className:"mr-3 text-2xl",style:{color:"var(--brand-primary)"}}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Total Amount"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Including all taxes"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-3xl font-bold",style:{color:"var(--brand-primary)"},children:q(F)}),t.jsxs("div",{className:"flex items-center justify-end mt-1",children:[t.jsx(lt,{className:"mr-1 text-green-500",size:14}),t.jsx("span",{className:"text-sm font-medium text-green-500",children:"FREE Delivery"})]})]})]})})]})]})," ",t.jsxs("div",{className:"group rounded-2xl p-8 border-2 border-transparent transition-all duration-500 hover:border-opacity-30 hover:shadow-xl transform hover:-translate-y-1",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",background:"linear-gradient(145deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 rounded-xl mr-4 transform group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)",boxShadow:"0 4px 14px 0 rgba(0, 118, 255, 0.15)"},children:t.jsx(ht,{className:"text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Delivery Address"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Choose where you want your order delivered"})]})]})}),b?t.jsxs("div",{className:"flex flex-col items-center justify-center py-16 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsx("div",{className:"p-4 rounded-full mb-4",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(la,{className:"animate-spin",size:32})}),t.jsx("p",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Loading addresses..."}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Please wait while we fetch your saved addresses"})]}):v.length>0?t.jsx("div",{className:"space-y-4",children:v.map(O=>t.jsx("div",{className:`group/addr p-6 rounded-xl cursor-pointer transition-all duration-300 border-2 transform ${C===O.id?"shadow-lg scale-[1.02] border-2":"hover:shadow-md hover:scale-[1.01]"}`,style:{backgroundColor:C===O.id?"var(--bg-accent-light)":"var(--bg-primary)",borderColor:C===O.id?"var(--brand-primary)":"var(--border-primary)",boxShadow:C===O.id?"0 10px 25px -5px rgba(245, 158, 11, 0.25)":"0 4px 15px rgba(0, 0, 0, 0.05)"},onClick:()=>k(O.id),children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center mr-6 mt-1",children:t.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${C===O.id?"border-2 scale-110":"group-hover/addr:scale-105"}`,style:{borderColor:C===O.id?"var(--brand-primary)":"var(--border-secondary)",backgroundColor:C===O.id?"var(--brand-primary)":"transparent"},children:C===O.id&&t.jsx(zt,{className:"text-sm animate-fadeIn",style:{color:"var(--text-on-brand)"}})})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsxs("div",{className:"flex items-center mr-4",children:[t.jsx(nr,{className:"mr-2 text-lg",style:{color:"var(--brand-primary)"}}),t.jsx("span",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:O.name})]}),O.isDefault&&t.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full transform group-hover/addr:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--success-color)",color:"white"},children:"⭐ Default"})]}),t.jsxs("div",{className:"flex items-start mb-3",children:[t.jsx(ht,{className:"mr-3 mt-1 text-lg flex-shrink-0",style:{color:"var(--brand-primary)"}}),t.jsxs("p",{className:"text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:[O.address,", ",O.city,","," ",O.state," - ",O.pincode]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(yi,{className:"mr-3 text-lg",style:{color:"var(--brand-primary)"}}),t.jsx("p",{className:"text-base font-medium",style:{color:"var(--text-secondary)"},children:O.phone})]})]}),C===O.id&&t.jsx("div",{className:"ml-4",children:t.jsx("div",{className:"p-2 rounded-full animate-fadeIn",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:t.jsx(zt,{className:"text-lg"})})})]})},O.id))}):t.jsxs("div",{className:"text-center py-16 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:t.jsx(ht,{size:40,style:{color:"var(--text-secondary)"}})}),t.jsx("p",{className:"mb-4 text-xl font-bold",style:{color:"var(--text-primary)"},children:"No addresses found"}),t.jsx("p",{className:"mb-8 text-base",style:{color:"var(--text-secondary)"},children:"Add a delivery address from profile section to continue with your order"})]})]})]})," ",t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"rounded-xl p-6 border sticky top-4",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-medium)",borderTop:"4px solid var(--brand-primary)"},children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("div",{className:"p-2 rounded-lg mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Cs,{className:"text-lg"})}),t.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Payment"})]}),t.jsx("div",{className:"mb-6",children:t.jsx("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)"},children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3",style:{borderColor:"var(--brand-primary)",backgroundColor:"var(--brand-primary)"},children:t.jsx(zt,{className:"text-xs",style:{color:"var(--text-on-brand)"}})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Razorpay"}),t.jsx(yd,{className:"ml-2 text-sm",style:{color:"var(--success-color)"}})]}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Secure payment with UPI, Cards, Net Banking"})]})]})})}),t.jsx("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{style:{color:"var(--text-secondary)"},children:"Subtotal:"}),t.jsx("span",{style:{color:"var(--text-primary)"},children:q(R)})]}),t.jsx("hr",{style:{borderColor:"var(--border-primary)"}}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:"Total:"}),t.jsx("span",{className:"font-bold text-xl",style:{color:"var(--brand-primary)"},children:q(F)})]})]})})," ",t.jsx(ue,{onClick:V,disabled:!C||x,className:"w-full transition-transform hover:scale-105 duration-300 mb-2",size:"lg",style:{backgroundColor:!C||x?"var(--text-secondary)":"var(--brand-primary)",color:"var(--text-on-brand)"},icon:x?t.jsx(la,{className:"animate-spin"}):t.jsx(oR,{}),children:x?"Processing Payment...":"Place Order"})," ",t.jsx("button",{onClick:r,className:"w-full py-2 mt-2 text-center font-medium transition-all duration-300 rounded-lg hover:bg-opacity-10",style:{color:"var(--brand-primary)",backgroundColor:"transparent",border:"1px solid var(--brand-primary)"},disabled:x,children:"Continue Shopping"}),t.jsxs("div",{className:"mt-4 p-3 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-accent-light)",border:"1px solid var(--border-primary)"},children:[t.jsx(yd,{className:"mr-2 flex-shrink-0",style:{color:"var(--success-color)"}}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Your payment information is secure and encrypted"})]})]})})]})})]})}):null},DL=()=>{const{items:e,totalAmount:r,fetchCart:a,updateQuantity:i,removeItem:o}=ya(),{isAuthenticated:c}=Le(),{paymentSuccessful:d}=wi(),[m,h]=w.useState(!1);w.useEffect(()=>{a()},[a,c]),w.useEffect(()=>{d&&(console.log("Payment successful, refetching cart data"),setTimeout(()=>{a(),console.log("Cart data refetched after successful payment")},500))},[d,a]);const f=r,x=0,g=0,v=f+x+g,j=()=>{h(!0)},b=()=>{h(!1),a()},C=[{label:"Home",link:ot.HOME},{label:"Shopping Cart"}];return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx(Yd,{items:C}),t.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Shopping Cart"}),e.length===0?t.jsx(_L,{}):t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx(EL,{cartItems:e,updateQuantity:i,removeItem:o}),t.jsx(TL,{subtotal:f,tax:x,shipping:g,total:v,onCheckout:j})]}),t.jsx(RL,{isOpen:m,onClose:b})]})})},OL=()=>{const{items:e,fetchWishlist:r,removeItem:a}=$d(),{addItem:i}=ya(),{isAuthenticated:o}=Le();w.useEffect(()=>{r()},[r,o]);const c=async m=>{await a(m)&&xL()},d=async m=>{await i(m,1)&&Uf(m.name)};return t.jsx("div",{className:"min-h-screen py-8",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("nav",{className:"flex items-center text-sm mb-6",children:[t.jsx(he,{to:ot.HOME,className:"hover:underline transition-colors duration-200",style:{color:"var(--text-secondary)"},children:"Home"}),t.jsx("span",{className:"mx-2",style:{color:"var(--text-secondary)"},children:"/"}),t.jsx("span",{style:{color:"var(--text-primary)"},children:"My Wishlist"})]}),t.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"My Wishlist"}),e.length===0?t.jsxs("div",{className:"rounded-lg p-8 text-center transition-shadow duration-300",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full mb-6",style:{backgroundColor:"var(--bg-accent-light)"},children:t.jsx(ml,{className:"h-10 w-10",style:{color:"var(--brand-primary)"}})}),t.jsx("h2",{className:"text-xl font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Your wishlist is empty"}),t.jsx("p",{className:"mb-8",style:{color:"var(--text-secondary)"},children:"Save items you like to your wishlist and they'll appear here"}),t.jsx(he,{to:ot.PRODUCTS,children:t.jsx(ue,{variant:"primary",fullWidth:!1,className:"px-6",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)","&:hover":{backgroundColor:"var(--brand-primary-hover)"}},children:"Continue Shopping"})})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(m=>t.jsx("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:-translate-y-1",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:t.jsx("div",{className:"p-5",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"bg-white p-2 rounded-md flex items-center justify-center",style:{boxShadow:"var(--shadow-small)"},children:t.jsx("img",{src:m.image,alt:m.name,className:"h-24 w-24 object-contain"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:m.category}),t.jsx(he,{to:`/products/${m.id}`,className:"font-medium hover:underline line-clamp-2",style:{color:"var(--text-primary)"},children:m.name}),t.jsxs("p",{className:"font-bold mt-1 text-lg",style:{color:"var(--brand-primary)"},children:["₹",m.price.toLocaleString()]})]})," ",t.jsx("button",{onClick:()=>c(m.id),className:"p-2 rounded-full transition-colors hover:bg-gray-100",style:{color:"var(--text-secondary)"},"aria-label":"Remove from wishlist",children:t.jsx(bt,{className:"h-5 w-5"})})]})," ",t.jsxs("div",{className:"mt-4",children:[m.stock!==0?t.jsxs("p",{className:"text-sm mb-3 flex items-center",style:{color:"var(--success-color)"},children:[t.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:"var(--success-color)"}}),"In Stock"]}):t.jsxs("p",{className:"text-sm mb-3 flex items-center",style:{color:"var(--error-color)"},children:[t.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:"var(--error-color)"}}),"Out of Stock"]})," ",t.jsx(ue,{fullWidth:!0,onClick:()=>d(m),disabled:m.stock===0,icon:t.jsx(hl,{}),style:{backgroundColor:m.stock!==0?"var(--brand-primary)":"var(--bg-secondary)",color:m.stock!==0?"var(--text-on-brand)":"var(--text-secondary)",cursor:m.stock!==0?"pointer":"not-allowed"},children:"Add to Cart"})]})]})]})})},m.id))})]})})},PL=({isOpen:e,onClose:r,orderId:a})=>{const{getOrderById:i,isLoading:o}=wi(),[c,d]=w.useState(null);if(w.useEffect(()=>{const g=v=>{v.key==="Escape"&&e&&r()};return e&&(document.addEventListener("keydown",g),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",g),document.body.style.overflow="unset"}},[e,r]),w.useEffect(()=>{e&&a&&(console.log("Modal opened for order:",a),(async()=>{try{const v=await i(a);console.log("Fetched order details:",v),d(v)}catch(v){console.error("Error fetching order details:",v)}})())},[e,a,i]),console.log("Modal render - isOpen:",e,"orderId:",a),!e)return null;const m=(g,v="INR")=>v==="INR"?`₹${g==null?void 0:g.toLocaleString()}`:`${g} ${v}`,h=g=>({pending_payment:"Pending Payment",payment_successful:"Payment Successful",order_confirmed:"Order Confirmed",processing:"Processing",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[g]||g,f=g=>({pending_payment:"var(--warning-color)",payment_successful:"var(--success-color)",order_confirmed:"var(--brand-primary)",processing:"var(--info-color)",shipped:"var(--brand-secondary)",out_for_delivery:"var(--warning-color)",delivered:"var(--success-color)",cancelled:"var(--error-color)"})[g]||"var(--brand-primary)",x=g=>{g.target===g.currentTarget&&r()};return t.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:x,children:[" ",t.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Me,{size:20})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order #",a]})]})]})," ",t.jsx("button",{onClick:r,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:t.jsx(Qe,{size:20})})]})," ",t.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)] p-6",children:o?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading order details..."})]}):c?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ar,{className:"mr-2",style:{color:f(c.status)}}),t.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Status:"})]}),t.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:`${f(c.status)}20`,color:f(c.status)},children:h(c.status)})]})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Order Summary"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Order Date"}),t.jsx("p",{style:{color:"var(--text-primary)"},children:new Date(c.created_at).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Total Amount"}),t.jsx("p",{className:"text-lg font-semibold text-green-600",children:m(c.total_amount,c.currency)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Payment Method"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Cs,{className:"mr-1"}),t.jsx("span",{style:{color:"var(--text-primary)"},children:c.payment_method||"Online Payment"})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Items Count"}),t.jsxs("p",{style:{color:"var(--text-primary)"},children:[c.item_count," item(s)"]})]})]})," "]}),c.invoice&&c.invoice.invoice_pdf_url&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Invoice"}),t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(bs,{className:"mr-2",style:{color:"var(--brand-primary)"}}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Invoice #",c.invoice.invoice_id]}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Download your order invoice"})]})]})," ",t.jsxs("a",{href:c.invoice.invoice_pdf_url,download:`Invoice_${c.invoice.invoice_id}.pdf`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-md text-white font-medium transition-colors duration-200 hover:opacity-90 flex items-center",style:{backgroundColor:"var(--brand-primary)"},onClick:()=>{setTimeout(()=>{console.log("Invoice download initiated")},100)},children:[t.jsx(bs,{className:"mr-2",size:16}),"Download Invoice"]})]})})]}),c.items&&c.items.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Ordered Items"}),t.jsx("div",{className:"space-y-3",children:c.items.map((g,v)=>t.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[g.image&&t.jsx("img",{src:g.image,alt:g.name,className:"w-16 h-16 object-cover rounded-md mr-3",onError:j=>{j.target.style.display="none"}}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:g.name}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Quantity: ",g.quantity]}),t.jsx("p",{className:"text-sm font-medium text-green-600",children:m(g.price)})]})]},v))})]}),c.shipping_address&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Delivery Address"}),t.jsxs("div",{className:"p-3 rounded-lg flex items-start",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx(ht,{className:"mr-2 mt-1",style:{color:"var(--brand-primary)"}}),t.jsxs("div",{children:[t.jsx("p",{style:{color:"var(--text-primary)"},children:c.shipping_address.street_address}),t.jsxs("p",{style:{color:"var(--text-secondary)"},children:[c.shipping_address.city,","," ",c.shipping_address.state," ",c.shipping_address.postal_code]})]})]})]})]}):t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Unable to load order details. Please try again."})})})]})]})},LL={pending_payment:t.jsx(Ar,{}),payment_successful:t.jsx(Mt,{}),order_confirmed:t.jsx(Me,{}),processing:t.jsx(Me,{}),shipped:t.jsx(lt,{}),out_for_delivery:t.jsx(ht,{}),delivered:t.jsx(Mt,{}),cancelled:t.jsx(Bd,{}),Ordered:t.jsx(rn,{}),Packed:t.jsx(Me,{}),Shipped:t.jsx(lt,{}),"Out for Delivery":t.jsx(ht,{}),Delivered:t.jsx(Mt,{})},Yh={pending_payment:"var(--warning-color)",payment_successful:"var(--success-color)",order_confirmed:"var(--brand-primary)",processing:"var(--info-color)",shipped:"var(--brand-secondary)",out_for_delivery:"var(--warning-color)",delivered:"var(--success-color)",cancelled:"var(--error-color)",Ordered:"var(--brand-primary)",Packed:"var(--info-color)",Shipped:"var(--brand-secondary)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)"},ML=e=>({pending_payment:"Pending Payment",payment_successful:"Payment Successful",order_confirmed:"Order Confirmed",processing:"Processing",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[e]||e,zL=(e,r="INR")=>r==="INR"?`₹${e==null?void 0:e.toLocaleString()}`:`${e} ${r}`,IL=({orders:e})=>{const[r,a]=w.useState(null),{initiatePayment:i,isProcessingPayment:o}=wi(),c=(h,f)=>{h.preventDefault(),h.stopPropagation(),console.log("Opening modal for order:",f),ge.info(`Opening modal for order: ${f}`),a(f)},d=()=>{a(null)},m=async(h,f)=>{if(h.preventDefault(),h.stopPropagation(),f.status!=="pending_payment"){ge.error("Payment can only be retried for pending payment orders");return}try{f.payment_data?await i(f.payment_data):ge.error("Payment information not available. Please contact support.")}catch(x){console.error("Error retrying payment:",x),ge.error("Failed to retry payment. Please try again.")}};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"space-y-4",children:e.map(h=>t.jsx("div",{className:"group hover:bg-gray-50 rounded-lg transition-all duration-200 animate-fadeIn transform hover:translate-y-[-2px] border border-transparent hover:border-gray-100",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:t.jsxs(he,{to:`/order-tracking/${h.order_id}`,className:"flex items-center justify-between p-4",style:{textDecoration:"none"},children:[t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsx("div",{className:"h-12 w-12 flex items-center justify-center rounded-full mr-4 transition-all duration-300",style:{backgroundColor:Yh[h.status]||"var(--brand-primary)",color:"var(--text-on-brand)",fontSize:22,boxShadow:"var(--shadow-small)",transform:"scale(1)"},children:LL[h.status]||t.jsx(rn,{})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"font-semibold text-base mb-1",style:{color:"var(--text-primary)"},children:["Order #",h.order_id]}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[t.jsxs("div",{className:"text-sm flex items-center",style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"mr-1",children:"Status:"}),t.jsx("span",{className:"px-2 py-1 rounded-full text-xs",style:{backgroundColor:`${Yh[h.status]||"var(--brand-primary)"}20`,color:Yh[h.status]||"var(--brand-primary)",fontWeight:600},children:ML(h.status)})]}),t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"hidden sm:inline mx-2",children:"•"}),"Placed: ",new Date(h.created_at).toLocaleDateString()," ","at"," ",new Date(h.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-sm",children:[t.jsxs("div",{style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"font-medium",children:"Amount:"})," ",t.jsx("span",{className:"text-green-600 font-semibold",children:zL(h.total_amount,h.currency)})]}),t.jsxs("div",{style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"font-medium",children:"Items:"})," ",h.item_count]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[h.status==="pending_payment"&&t.jsxs("button",{onClick:f=>m(f,h),disabled:o,className:"flex items-center px-3 py-1 rounded-full text-xs font-medium transition-colors duration-200 hover:bg-orange-50 disabled:opacity-50",style:{color:"var(--warning-color)",border:"1px solid var(--warning-color)"},title:"Retry Payment",children:[t.jsx(Cs,{size:12,className:"mr-1"}),o?"Processing...":"Retry Payment"]}),t.jsx("button",{onClick:f=>c(f,h.order_id),className:"p-2 rounded-full hover:bg-blue-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View Details",children:t.jsx(pi,{size:16})}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-2 text-sm font-medium hidden md:block",style:{color:"var(--brand-primary)"},children:"Track Order"}),t.jsx("div",{className:"bg-gray-100 p-2 rounded-full group-hover:bg-orange-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},children:t.jsx(St,{className:"text-lg"})})]})]})]})},h.order_id))})," ",t.jsx(PL,{isOpen:!!r,onClose:d,orderId:r}),r&&t.jsxs("div",{style:{display:"none"},children:["Selected Order ID: ",r]})]})},BL=()=>{const{fetchOrders:e,orders:r,isLoading:a,error:i}=wi();return w.useEffect(()=>{e()},[e]),console.log("OrderStatusPage rendered",r),t.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs(he,{to:"/",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[t.jsx(ca,{className:"mr-2"}),t.jsx("span",{className:"font-medium",children:"Back to Home"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[" ",t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Me,{size:20})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"My Orders"}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Track your recent orders and see their status in real-time."})]})]}),t.jsxs("button",{onClick:()=>e(),disabled:a,className:"flex items-center px-4 py-2 rounded-lg transition-all duration-200 hover:bg-gray-100 disabled:opacity-50",style:{color:"var(--brand-primary)",border:"1px solid var(--border-primary)"},title:"Refresh orders",children:[t.jsx(an,{className:`mr-2 ${a?"animate-spin":""}`,size:16}),t.jsx("span",{className:"text-sm font-medium",children:"Refresh"})]})]}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 flex items-center",style:{backgroundColor:"var(--bg-accent-light)"},children:t.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[t.jsx("strong",{children:"Tip:"})," Click on any order to view detailed tracking information."]})})]})," ",t.jsx("div",{className:"p-6",children:a?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading your orders..."})]}):i?t.jsxs("div",{className:"text-center py-12",style:{color:"var(--error-color)"},children:[t.jsx(rn,{className:"mx-auto mb-4",size:40}),t.jsx("p",{className:"font-medium",children:"Error loading orders"}),t.jsx("p",{className:"text-sm",children:i}),t.jsx("button",{onClick:()=>e(),className:"mt-3 inline-block px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Retry"})]}):r.length>0?t.jsx(IL,{orders:r}):t.jsxs("div",{className:"text-center py-12",style:{color:"var(--text-secondary)"},children:[t.jsx(rn,{className:"mx-auto mb-4",size:40}),t.jsx("p",{className:"font-medium",children:"You don't have any orders yet"}),t.jsx(he,{to:"/products",className:"mt-3 inline-block px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Start Shopping"})]})})]})]})})})},UL={Ordered:t.jsx(rn,{size:18}),Packed:t.jsx(Me,{size:18}),Shipped:t.jsx(lt,{size:18}),"Out for Delivery":t.jsx(ht,{size:18}),Delivered:t.jsx(Mt,{size:18})},Hc={Ordered:"var(--brand-primary)",Packed:"var(--info-color)",Shipped:"var(--brand-secondary)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)"},eN=({timeline:e,currentStatus:r})=>{const a=e.findIndex(i=>i.status===r);return t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute left-5 top-5 bottom-5 w-0.5",style:{background:"var(--border-primary)"}}),t.jsx("div",{className:"space-y-8",children:e.map((i,o)=>{const c=i.status===r,d=a>=o,m=!d;return t.jsxs("div",{className:"flex items-start relative animate-fadeIn",style:{animationDelay:`${o*100}ms`,animationFillMode:"both"},children:[t.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full z-10 transition-all duration-300",style:{backgroundColor:d?Hc[i.status]:"var(--bg-primary)",color:d?"var(--text-on-brand)":"var(--text-secondary)",border:m?"2px solid var(--border-primary)":"none",boxShadow:c?"var(--shadow-medium)":"var(--shadow-small)",transform:c?"scale(1.1)":"scale(1)"},children:UL[i.status]}),t.jsxs("div",{className:"ml-6 pb-2",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[t.jsx("div",{className:"font-semibold text-base",style:{color:c?Hc[i.status]:d?"var(--text-primary)":"var(--text-secondary)"},children:i.status}),d&&i.date&&t.jsx("div",{className:"text-xs mt-1 sm:mt-0 sm:ml-3 sm:pl-3 sm:border-l",style:{borderColor:"var(--border-primary)"},children:t.jsxs("span",{style:{color:"var(--text-secondary)"},children:[new Date(i.date).toLocaleDateString()," at"," ",new Date(i.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})})]}),c&&t.jsx("div",{className:"mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${Hc[i.status]}20`,color:Hc[i.status]},children:"Current Status"}),!d&&i.status==="Delivered"&&t.jsx("div",{className:"mt-1 text-xs font-medium italic",style:{color:"var(--text-secondary)"},children:"Pending delivery"}),t.jsxs("div",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:[i.status==="Ordered"&&d&&"Your order has been received and is being processed.",i.status==="Packed"&&d&&"Your items have been carefully packed and are ready for shipping.",i.status==="Shipped"&&d&&"Your package is on its way to you.",i.status==="Out for Delivery"&&d&&"Your package will be delivered today.",i.status==="Delivered"&&d&&"Your package has been delivered. Enjoy!"]})]})]},i.status)})})]})},FL=()=>{const e={id:"ORD123456",status:"Out for Delivery",timeline:[{status:"Ordered",date:"2025-05-10T10:00:00Z"},{status:"Packed",date:"2025-05-11T09:00:00Z"},{status:"Shipped",date:"2025-05-12T14:00:00Z"},{status:"Out for Delivery",date:"2025-05-13T08:00:00Z"},{status:"Delivered",date:null}],estimatedDelivery:"2025-05-14"};return t.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs(he,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[t.jsx(ca,{className:"mr-2"}),t.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Me,{size:24})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Track Your Order"}),t.jsxs("p",{className:"text-sm flex items-center",style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"font-medium mr-1",children:"Order ID:"}),t.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",style:{color:"var(--text-primary)"},children:e.id})]})]})]}),t.jsxs("div",{className:"hidden md:block text-right",style:{color:"var(--text-secondary)"},children:[t.jsx("div",{className:"text-xs",children:"Current Status"}),t.jsx("div",{className:"font-semibold mt-1 px-3 py-1 rounded-full text-sm inline-block",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:e.status})]})]}),t.jsxs("div",{className:"mt-6 p-4 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--text-primary)"},children:[t.jsx(fa,{className:"mr-3",size:20,style:{color:"var(--brand-primary)"}}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",children:"Estimated Delivery"}),t.jsx("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:new Date(e.estimatedDelivery).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 p-3 border-l-4 rounded-r-lg flex items-center",style:{borderColor:"var(--info-color)",backgroundColor:"var(--info-color)10"},children:[t.jsx(zd,{className:"mr-2",style:{color:"var(--info-color)"}}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"We'll update this page as your order progresses."})]}),t.jsx(eN,{timeline:e.timeline,currentStatus:e.status})]})]})]})})})},VL=()=>{const{id:e}=el();console.log("OrderTrackingDetail rendered with orderId:",e);const{getOrderById:r,currentOrder:a,isLoading:i,error:o}=wi();w.useEffect(()=>{(async()=>{if(e){console.log("Fetching order details for:",e);try{await r(e)}catch(v){console.error("Error fetching order details:",v)}}})()},[e,r]),console.log("Order fetched successfully:",a);const d=a?(g=>{var E,D,F,V,q;if(!g)return null;const v=(O,A)=>({Ordered:A?"Order confirmed and being processed":"Order will be confirmed",Processing:A?"Payment processed successfully, preparing your order":"Order processing pending",Packed:A?"Items packed and ready for dispatch":"Items will be packed soon",Shipped:A?"Order dispatched from warehouse":"Order will be shipped soon","Out for Delivery":A?"Package is out for delivery":"Package will be out for delivery",Delivered:A?"Order successfully delivered":"Order will be delivered soon"})[O]||`${O} - ${A?"completed":"pending"}`,j=O=>({pending_payment:"Ordered",payment_successful:"Processing",processing:"Processing",packed:"Packed",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[O]||O,b=((D=(E=g.tracking_info)==null?void 0:E.status_history)==null?void 0:D.map(O=>({status:j(O.status),date:O.timestamp,description:O.description||`Status updated to ${j(O.status)}`})))||[],C=["Ordered","Processing","Packed","Shipped","Out for Delivery","Delivered"],k=b.map(O=>O.status),S=C.indexOf(j(g.status));C.forEach((O,A)=>{k.includes(O)||(A<=S?b.push({status:O,date:null,description:v(O,!0)}):b.push({status:O,date:null,description:v(O,!1)}))});const T=["Ordered","Processing","Packed","Shipped","Out for Delivery","Delivered"];b.sort((O,A)=>T.indexOf(O.status)-T.indexOf(A.status));const R=O=>O?`${O.street_address}, ${O.city}, ${O.state} - ${O.postal_code}`:null;return{id:g.razorpay_order_id||e,order_id:g.razorpay_order_id||e,status:j(g.status),timeline:b,estimatedDelivery:g.estimated_delivery,estimatedDeliveryFormatted:g.estimated_delivery_formatted,shippingAddress:R(g.address),carrier:((F=g.tracking_info)==null?void 0:F.carrier)||"Pending",trackingNumber:(V=g.tracking_info)==null?void 0:V.tracking_number,trackingUrl:(q=g.tracking_info)==null?void 0:q.tracking_url,orderItems:g.order_items||[],totalAmount:g.total_amount||g.total_amount_calculated,currency:g.currency||"INR",paymentDetails:g.payment_details,createdAt:g.created_at,createdAtFormatted:g.created_at_formatted,invoice:g.invoice}})(a):{id:e,order_id:e,status:"Out for Delivery",timeline:[{status:"Ordered",date:"2025-05-10T10:00:00Z"},{status:"Packed",date:"2025-05-11T09:00:00Z"},{status:"Shipped",date:"2025-05-12T14:00:00Z"},{status:"Out for Delivery",date:"2025-05-13T08:00:00Z"},{status:"Delivered",date:null}],estimatedDelivery:"2025-05-14",shippingAddress:"123 Main St, Anytown, State 12345",carrier:"FastShip Express",trackingNumber:"FS78291782X"};console.log("Order data being used:",d);const m=!a,h=()=>{var j,b;const g=((j=d.timeline)==null?void 0:j.length)||5,v=((b=d.timeline)==null?void 0:b.findIndex(C=>C.status===d.status))||0;return Math.min((v+1)/g*100,100)},f=g=>({Ordered:t.jsx(js,{}),Processing:t.jsx(I5,{}),Packed:t.jsx(rn,{}),Shipped:t.jsx(lt,{}),"Out for Delivery":t.jsx(sR,{}),Delivered:t.jsx(Mt,{}),Cancelled:t.jsx(Qe,{})})[g]||t.jsx(Me,{}),x=g=>({Ordered:"var(--brand-primary)",Processing:"var(--info-color)",Packed:"var(--brand-secondary)",Shipped:"var(--warning-color)","Out for Delivery":"var(--error-color)",Delivered:"var(--success-color)",Cancelled:"var(--text-secondary)"})[g]||"var(--brand-primary)";return i?t.jsx("div",{className:"min-h-screen py-10 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"text-center",children:[t.jsx(la,{className:"animate-spin h-8 w-8 mx-auto mb-4",style:{color:"var(--brand-primary)"}}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading order details..."})]})}):o?t.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsxs(he,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[t.jsx(ca,{className:"mr-2"}),t.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsx(Me,{className:"h-16 w-16 mx-auto mb-4",style:{color:"var(--error-color)"}}),t.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Order Not Found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:o}),t.jsx(he,{to:"/orders",className:"inline-block px-6 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"View All Orders"})]})]})})}):t.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs(he,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[t.jsx(ca,{className:"mr-2"}),t.jsx("span",{className:"font-medium",children:"Back to Orders"})]})," ",t.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(99, 102, 241, 0.02) 100%)"},children:[t.jsxs("div",{className:"relative h-3 w-full bg-gradient-to-r from-gray-200 to-gray-100 overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 h-full transition-all duration-1000 ease-out bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-600",style:{width:`${h()}%`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})]}),t.jsx("div",{className:"p-8 border-b bg-gradient-to-r from-transparent to-blue-50/30",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[t.jsxs("div",{className:"flex items-start space-x-5",children:[t.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center shrink-0 shadow-lg",style:{background:"linear-gradient(135deg, var(--brand-primary), var(--brand-secondary))",color:"white"},children:t.jsx(js,{size:28})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",style:{color:"var(--text-primary)"},children:["Order #",d.id||d.order_id]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[" ",t.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold shadow-sm",style:{backgroundColor:`${x(d.status)}15`,color:x(d.status),border:`1px solid ${x(d.status)}30`},children:[f(d.status),t.jsx("span",{className:"ml-2",children:d.status})]}),d.totalAmount&&t.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx(Cs,{className:"mr-1",size:14}),"₹",d.totalAmount]})]})]}),d.createdAtFormatted&&t.jsxs("div",{className:"flex items-center text-sm",style:{color:"var(--text-secondary)"},children:[t.jsx(Ar,{className:"mr-2",size:14}),"Ordered on ",d.createdAtFormatted]})]})]}),t.jsxs("div",{className:"flex items-center p-4 rounded-xl shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.05) 100%)"},children:[t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:t.jsx(fa,{size:20})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-medium uppercase tracking-wide mb-1",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),t.jsx("div",{className:"font-bold text-lg",style:{color:"var(--brand-primary)"},children:d.estimatedDeliveryFormatted||(d.estimatedDelivery?new Date(d.estimatedDelivery).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short"}):"Pending")})]})]})]})})," ",t.jsxs("div",{className:"p-8 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(34, 197, 94, 0.02) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:t.jsx(ht,{size:18})}),t.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Delivery Address"})]}),t.jsxs("div",{className:"ml-13",children:[t.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:d.shippingAddress||"Address not available"}),t.jsxs("div",{className:"flex items-center mt-3 text-xs",style:{color:"var(--text-tertiary)"},children:[t.jsx(J5,{className:"mr-1",size:12}),t.jsx("span",{children:"Primary delivery location"})]})]})]}),t.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.02) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:t.jsx(lt,{size:18})}),t.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Shipping Details"})]}),t.jsxs("div",{className:"ml-13 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Carrier:"}),t.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:d.carrier||"TBD"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Tracking ID:"}),t.jsx("div",{className:"flex items-center",children:d.trackingNumber?d.trackingUrl?t.jsxs("a",{href:d.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center font-mono bg-gray-100 px-3 py-1.5 rounded-lg text-xs hover:bg-gray-200 transition-colors shadow-sm",style:{color:"var(--brand-primary)"},children:[d.trackingNumber,t.jsx(H5,{className:"ml-1",size:12})]}):t.jsx("span",{className:"font-mono bg-gray-100 px-3 py-1.5 rounded-lg text-xs",style:{color:"var(--text-primary)"},children:d.trackingNumber}):t.jsx("span",{className:"font-mono bg-gray-100 px-3 py-1.5 rounded-lg text-xs",style:{color:"var(--text-tertiary)"},children:"Pending"})})]}),d.carrier&&t.jsxs("div",{className:"flex items-center text-xs pt-2",style:{color:"var(--text-tertiary)"},children:[t.jsx(zd,{className:"mr-1",size:12}),t.jsx("span",{children:"Professional courier service"})]})]})]})]}),d.orderItems&&d.orderItems.length>0&&t.jsx("div",{className:"px-8 pb-6",children:t.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(168, 85, 247, 0.02) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-secondary)15",color:"var(--brand-secondary)"},children:t.jsx(Me,{size:18})}),t.jsxs("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:["Order Items (",d.orderItems.length,")"]})]}),t.jsxs("div",{className:"ml-13 space-y-2",children:[d.orderItems.slice(0,3).map((g,v)=>t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:g.product_name||g.name||`Item ${v+1}`}),t.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["Qty: ",g.quantity||1]})]},v)),d.orderItems.length>3&&t.jsxs("div",{className:"text-xs pt-2",style:{color:"var(--text-tertiary)"},children:["+",d.orderItems.length-3," more items"]})]})," "]})})]}),d.invoice&&d.invoice.invoice_pdf_url&&t.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"100ms"},children:t.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(16, 185, 129, 0.02) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:t.jsx(bs,{size:18})}),t.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Invoice Available"})]}),t.jsxs("div",{className:"ml-13 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["Invoice #",d.invoice.invoice_id]}),t.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Download your order invoice for records"})]}),t.jsxs("a",{href:d.invoice.invoice_pdf_url,download:`Invoice_${d.invoice.invoice_id}.pdf`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--success-color)",color:"white",textDecoration:"none"},onClick:()=>{console.log("Invoice download initiated")},children:[t.jsx(bs,{className:"mr-2",size:16}),"Download PDF"]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"200ms"},children:[" ",t.jsxs("h2",{className:"text-xl font-bold mb-6",style:{color:"var(--text-primary)"},children:["Delivery Progress",m&&t.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Using Mock Data"})]}),t.jsx(eN,{timeline:d.timeline,currentStatus:d.status})]})]})})})},HL=()=>{const e=Bt(),r=Wt(),{logout:a}=Le(),i=[{id:"profile",name:"Profile Information",path:"/profile",icon:t.jsx(nr,{className:"w-5 h-5"})},{id:"orders",name:"My Orders",path:"/orders",icon:t.jsx(js,{className:"w-5 h-5"})},{id:"wishlist",name:"My Wishlist",path:"/wishlist",icon:t.jsx(ml,{className:"w-5 h-5"})},{id:"addresses",name:"My Addresses",path:"/profile/addresses",icon:t.jsx(ht,{className:"w-5 h-5"})}],o=c=>{c.preventDefault(),a(),r("/login")};return t.jsxs("div",{className:"rounded-lg overflow-hidden shadow-md",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsx("div",{className:"p-4",style:{backgroundColor:"var(--brand-primary)"},children:t.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-on-brand)"},children:"My Account"})}),t.jsx("div",{className:"p-2",children:t.jsxs("ul",{children:[i.map(c=>t.jsx("li",{children:t.jsxs(he,{to:c.path,className:`flex items-center gap-3 px-4 py-3 rounded-md transition-all duration-200 ${e.pathname===c.path?"bg-opacity-10 font-medium":"hover:bg-opacity-5"}`,style:{backgroundColor:e.pathname===c.path?"var(--bg-accent-light)":"transparent",color:e.pathname===c.path?"var(--brand-primary)":"var(--text-primary)"},children:[c.icon,t.jsx("span",{children:c.name})]})},c.id)),t.jsx("li",{children:t.jsxs("button",{onClick:o,className:"flex w-full items-center gap-3 px-4 py-3 rounded-md transition-all duration-200 text-left hover:bg-opacity-5",style:{color:"var(--error-color)"},children:[t.jsx(f2,{className:"w-5 h-5"}),t.jsx("span",{children:"Logout"})]})})]})})]})},qL=()=>{const{user:e,isLoading:r,error:a,fetchUserProfile:i,updateUserProfileAPI:o,clearError:c}=Le(),{isOpen:d,modalConfig:m,isLoading:h,showConfirm:f,hideConfirm:x,handleConfirm:g}=ji(),[v,j]=Oe.useState(!1),[b,C]=Oe.useState({firstName:(e==null?void 0:e.first_name)||"",lastName:(e==null?void 0:e.last_name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[k,S]=Oe.useState({});Oe.useEffect(()=>{e!=null&&e.uid&&i().catch(()=>{})},[i,e==null?void 0:e.uid]),Oe.useEffect(()=>{e&&C(V=>({...V,firstName:e.first_name||"",lastName:e.last_name||"",email:e.email||"",phone:e.phone||""}))},[e]),Oe.useEffect(()=>()=>c(),[c]);const T=V=>{const{name:q,value:O}=V.target;C(A=>({...A,[q]:O})),k[q]&&S(A=>({...A,[q]:""}))},R=()=>{const V={};return b.firstName.trim()||(V.firstName="First name is required"),b.lastName.trim()||(V.lastName="Last name is required"),b.email.trim()?/\S+@\S+\.\S+/.test(b.email)||(V.email="Please enter a valid email address"):V.email="Email is required",(b.currentPassword||b.newPassword||b.confirmPassword)&&(b.currentPassword||(V.currentPassword="Current password is required to change password"),b.newPassword?b.newPassword.length<6&&(V.newPassword="New password must be at least 6 characters long"):V.newPassword="New password is required",b.confirmPassword?b.newPassword!==b.confirmPassword&&(V.confirmPassword="New passwords do not match"):V.confirmPassword="Please confirm your new password"),S(V),Object.keys(V).length===0},E=async V=>{if(V.preventDefault(),!R()){ge.error("Please fix the errors in the form");return}b.currentPassword&&b.newPassword&&b.confirmPassword?f({title:"Confirm Password Change",message:"Are you sure you want to change your password? You will need to use the new password for future logins.",confirmText:"Change Password",cancelText:"Cancel",type:"warning",onConfirm:async()=>{await D(!0)}}):await D(!1)},D=async(V=!1)=>{var q,O;try{const A={first_name:b.firstName,last_name:b.lastName,phone_number:b.phone};V&&(A.current_password=b.currentPassword,A.new_password=b.newPassword,A.confirm_new_password=b.confirmPassword);const M=await o(A);M.success&&(ge.success(M.message||"Profile updated successfully"),j(!1),C(X=>({...X,currentPassword:"",newPassword:"",confirmPassword:""})),S({}))}catch(A){ge.error(((O=(q=A.response)==null?void 0:q.data)==null?void 0:O.error)||"Failed to update profile")}},F=()=>{j(!v),S({}),C(v?V=>({...V,currentPassword:"",newPassword:"",confirmPassword:""}):{firstName:(e==null?void 0:e.first_name)||"",lastName:(e==null?void 0:e.last_name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",currentPassword:"",newPassword:"",confirmPassword:""})};return t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Profile Information"}),t.jsx("button",{onClick:F,className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:v?"var(--bg-secondary)":"var(--brand-primary)",color:v?"var(--text-primary)":"var(--text-on-brand)"},children:v?"Cancel":"Edit Profile"})]})," ",a&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:a}),t.jsxs("form",{onSubmit:E,children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"First Name"}),v?t.jsxs("div",{children:[t.jsx("input",{type:"text",id:"firstName",name:"firstName",value:b.firstName,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:k.firstName?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0}),k.firstName&&t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:k.firstName})]}):t.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(e==null?void 0:e.first_name)||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Last Name"}),v?t.jsxs("div",{children:[t.jsx("input",{type:"text",id:"lastName",name:"lastName",value:b.lastName,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:k.lastName?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0}),k.lastName&&t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:k.lastName})]}):t.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(e==null?void 0:e.last_name)||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Email Address"}),t.jsxs("div",{children:[t.jsx("input",{type:"email",id:"email",name:"email",value:b.email,onChange:T,disabled:!0,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 disabled:opacity-60 disabled:cursor-not-allowed",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"}}),t.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Email cannot be changed for security reasons"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Phone Number"}),v?t.jsx("input",{type:"tel",id:"phone",name:"phone",value:b.phone,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"}}):t.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(e==null?void 0:e.phone)||"Not provided"})]})]})," ",v&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-md font-medium mb-3",style:{color:"var(--text-primary)"},children:"Change Password (Optional)"}),t.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Leave password fields empty if you don't want to change your password"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Current Password"}),t.jsxs("div",{children:[t.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:b.currentPassword,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:k.currentPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Enter current password"}),k.currentPassword&&t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:k.currentPassword})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"New Password"}),t.jsxs("div",{children:[t.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:b.newPassword,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:k.newPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Enter new password (min 6 characters)"}),k.newPassword&&t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:k.newPassword})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Confirm New Password"}),t.jsxs("div",{children:[t.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:b.confirmPassword,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:k.confirmPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Confirm new password"}),k.confirmPassword&&t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:k.confirmPassword})]})]})]})]})," ",v&&t.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[t.jsx("button",{type:"button",onClick:F,disabled:r,className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:r,className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[r&&t.jsx(la,{className:"w-4 h-4 animate-spin"}),"Save Changes"]})]})]}),t.jsx(nn,{isOpen:d,onClose:x,onConfirm:g,title:m.title,message:m.message,confirmText:m.confirmText,cancelText:m.cancelText,type:m.type,isLoading:h})]})},$L=()=>{const{addresses:e,isLoading:r,error:a,fetchAddresses:i,addAddress:o,updateAddress:c,deleteAddress:d,setDefaultAddress:m,clearError:h}=Jw(),{isOpen:f,modalConfig:x,isLoading:g,showConfirm:v,hideConfirm:j,handleConfirm:b}=ji(),[C,k]=Oe.useState(!1),[S,T]=Oe.useState(null),[R,E]=Oe.useState({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1});Oe.useEffect(()=>{i()},[i]),Oe.useEffect(()=>()=>h(),[h]);const D=A=>{const{name:M,value:X,type:I,checked:ae}=A.target;E(ne=>({...ne,[M]:I==="checkbox"?ae:X}))},F=A=>{E({name:A.name||A.type,address:A.address||A.street_address,city:A.city,state:A.state,pincode:A.pincode||A.postal_code,phone:A.phone||A.phone_number,isDefault:A.isDefault||A.is_default}),T(A.id),k(!0)},V=async A=>{v({title:"Delete Address",message:"Are you sure you want to delete this address? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{await d(A)}})},q=async A=>{await m(A)},O=async A=>{A.preventDefault();try{const M={type:R.name,street_address:R.address,city:R.city,state:R.state,postal_code:R.pincode,phone_number:R.phone,is_default:R.isDefault};S?await c(S,M):await o(M),E({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1}),k(!1),T(null)}catch(M){console.error("Error saving address:",M)}};return t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"My Addresses"}),!C&&t.jsxs("button",{onClick:()=>k(!0),disabled:r,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[r?t.jsx(la,{className:"w-4 h-4 animate-spin"}):t.jsx(vt,{className:"w-4 h-4"}),t.jsx("span",{children:"Add New Address"})]})]}),a&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-4",children:a}),r&&!C&&t.jsxs("div",{className:"flex justify-center items-center py-8",children:[t.jsx(la,{className:"w-6 h-6 animate-spin",style:{color:"var(--brand-primary)"}}),t.jsx("span",{className:"ml-2",style:{color:"var(--text-secondary)"},children:"Loading addresses..."})]}),C?t.jsxs("div",{className:"border rounded-lg p-4 mb-6",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:S?"Edit Address":"Add New Address"}),t.jsxs("form",{onSubmit:O,children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Address Name"}),t.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Home, Office, etc.",value:R.name,onChange:D,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Phone Number"}),t.jsx("input",{type:"tel",id:"phone",name:"phone",placeholder:"Contact number for delivery",value:R.phone,onChange:D,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{htmlFor:"address",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Street Address"}),t.jsx("textarea",{id:"address",name:"address",placeholder:"Flat, House no., Building, Company, Apartment",value:R.address,onChange:D,rows:2,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"city",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"City"}),t.jsx("input",{type:"text",id:"city",name:"city",value:R.city,onChange:D,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"state",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"State"}),t.jsx("input",{type:"text",id:"state",name:"state",value:R.state,onChange:D,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"pincode",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"PIN Code"}),t.jsx("input",{type:"text",id:"pincode",name:"pincode",value:R.pincode,onChange:D,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:"isDefault",checked:R.isDefault,onChange:D,className:"w-4 h-4 accent-primary",style:{accentColor:"var(--brand-primary)"}}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Set as default address"})]})})]})," ",t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{k(!1),T(null),E({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1})},disabled:r,className:"px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)"},children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:r,className:"px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[r&&t.jsx(la,{className:"w-4 h-4 animate-spin"}),S?"Update Address":"Save Address"]})]})]})]}):t.jsxs("div",{children:[e.length===0&&!r?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ht,{className:"w-16 h-16 mx-auto mb-4 opacity-50",style:{color:"var(--text-secondary)"}}),t.jsx("p",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"No addresses found"}),t.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Add your first address to get started with deliveries"}),t.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Add Address"})]}):t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.map(A=>t.jsxs("div",{className:`border rounded-lg p-4 relative ${A.isDefault||A.is_default?"ring-2":""}`,style:{borderColor:"var(--border-primary)",ringColor:A.isDefault||A.is_default?"var(--brand-primary)":void 0},children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:A.name||A.type}),(A.isDefault||A.is_default)&&t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:"Default"})]}),t.jsxs("div",{className:"flex gap-2 mb-2 items-start",children:[t.jsx(ht,{className:"min-w-5 h-5 mt-0.5",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{style:{color:"var(--text-primary)"},children:[t.jsx("p",{children:A.address||A.street_address}),t.jsxs("p",{children:[A.city,", ",A.state," -"," ",A.pincode||A.postal_code]}),t.jsxs("p",{className:"mt-1",children:["Phone: ",A.phone||A.phone_number]})]})]})," ",t.jsxs("div",{className:"flex justify-between items-center mt-4",children:[!(A.isDefault||A.is_default)&&t.jsx("button",{onClick:()=>q(A.id),disabled:r,className:"text-xs px-2 py-1 rounded border transition-colors disabled:opacity-50",style:{borderColor:"var(--brand-primary)",color:"var(--brand-primary)"},children:"Set as Default"}),t.jsxs("div",{className:`flex gap-2 ${A.isDefault||A.is_default?"":"ml-auto"}`,children:[t.jsx("button",{onClick:()=>F(A),disabled:r,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50",style:{color:"var(--text-secondary)"},children:t.jsx(ul,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>V(A.id),disabled:r,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50",style:{color:"var(--error-color)"},children:t.jsx(bt,{className:"w-4 h-4"})})]})]})]},A.id))})," "]}),t.jsx(nn,{isOpen:f,onClose:j,onConfirm:b,title:x.title,message:x.message,confirmText:x.confirmText,cancelText:x.cancelText,type:x.type,isLoading:g})]})},YL=()=>{const[e,r]=Oe.useState([{id:1,type:"Credit Card",name:"John Doe",cardNumber:"•••• •••• •••• 1234",expiry:"12/25",isDefault:!0},{id:2,type:"Debit Card",name:"John Doe",cardNumber:"•••• •••• •••• 5678",expiry:"08/26",isDefault:!1}]),[a,i]=Oe.useState(!1),[o,c]=Oe.useState(null),[d,m]=Oe.useState({type:"Credit Card",name:"",cardNumber:"",expiry:"",cvv:"",isDefault:!1}),h=v=>{const{name:j,value:b,type:C,checked:k}=v.target;m(S=>({...S,[j]:C==="checkbox"?k:b}))},f=v=>{m({...v,cardNumber:"",cvv:""}),c(v.id),i(!0)},x=v=>{r(e.filter(j=>j.id!==v))},g=v=>{v.preventDefault();const j=`•••• •••• •••• ${d.cardNumber.slice(-4)}`;if(o)r(e.map(b=>b.id===o?{...d,id:o,cardNumber:j}:b));else{const b={...d,id:Date.now(),cardNumber:j};r([...e,b])}m({type:"Credit Card",name:"",cardNumber:"",expiry:"",cvv:"",isDefault:!1}),i(!1),c(null)};return t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Payment Methods"}),!a&&t.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t.jsx(vt,{className:"w-4 h-4"}),t.jsx("span",{children:"Add New Card"})]})]}),a?t.jsxs("div",{className:"border rounded-lg p-4 mb-6",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:o?"Update Card":"Add New Card"}),t.jsxs("form",{onSubmit:g,children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"type",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Card Type"}),t.jsxs("select",{id:"type",name:"type",value:d.type,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},children:[t.jsx("option",{value:"Credit Card",children:"Credit Card"}),t.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Cardholder Name"}),t.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Name on card",value:d.name,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Card Number"}),t.jsx("input",{type:"text",id:"cardNumber",name:"cardNumber",placeholder:"XXXX XXXX XXXX XXXX",value:d.cardNumber,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Expiry Date"}),t.jsx("input",{type:"text",id:"expiry",name:"expiry",placeholder:"MM/YY",value:d.expiry,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"CVV"}),t.jsx("input",{type:"text",id:"cvv",name:"cvv",placeholder:"XXX",value:d.cvv,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:"isDefault",checked:d.isDefault,onChange:h,className:"w-4 h-4 accent-primary",style:{accentColor:"var(--brand-primary)"}}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Set as default payment method"})]})})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{i(!1),c(null)},className:"px-4 py-2 rounded-md text-sm font-medium",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)"},children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:o?"Update Card":"Add Card"})]})]})]}):t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.map(v=>t.jsxs("div",{className:`border rounded-lg p-4 relative ${v.isDefault?"ring-2":""}`,style:{borderColor:"var(--border-primary)",ringColor:v.isDefault?"var(--brand-primary)":void 0},children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:v.type}),v.isDefault&&t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:"Default"})]}),t.jsxs("div",{className:"flex gap-2 mb-2 items-start",children:[t.jsx(Cs,{className:"min-w-5 h-5 mt-0.5",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{style:{color:"var(--text-primary)"},children:[t.jsx("p",{className:"text-lg font-mono",children:v.cardNumber}),t.jsx("p",{children:v.name}),t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:["Expires: ",v.expiry]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[t.jsx("button",{onClick:()=>f(v),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:t.jsx(ul,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>x(v.id),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"var(--error-color)"},children:t.jsx(bt,{className:"w-4 h-4"})})]})]},v.id))})]})},GL=()=>{const[e,r]=Oe.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,orderUpdates:!0,promotions:!1,newArrivals:!0,priceDrops:!0,darkMode:!1,twoFactorAuth:!1}),a=i=>{r(o=>({...o,[i]:!o[i]}))};return t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Account Settings"}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Manage your notification preferences and account security"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(F5,{}),t.jsx("span",{children:"Notification Preferences"})]})}),t.jsxs("div",{className:"space-y-4 pl-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Email Notifications"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates via email"})]}),t.jsx("button",{onClick:()=>a("emailNotifications"),className:"text-2xl","aria-label":e.emailNotifications?"Disable email notifications":"Enable email notifications",children:e.emailNotifications?t.jsx(Js,{style:{color:"var(--brand-primary)"}}):t.jsx(Qs,{style:{color:"var(--text-secondary)"}})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"SMS Notifications"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates via text message"})]}),t.jsx("button",{onClick:()=>a("smsNotifications"),className:"text-2xl","aria-label":e.smsNotifications?"Disable SMS notifications":"Enable SMS notifications",children:e.smsNotifications?t.jsx(Js,{style:{color:"var(--brand-primary)"}}):t.jsx(Qs,{style:{color:"var(--text-secondary)"}})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Push Notifications"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive notifications on mobile app"})]}),t.jsx("button",{onClick:()=>a("pushNotifications"),className:"text-2xl","aria-label":e.pushNotifications?"Disable push notifications":"Enable push notifications",children:e.pushNotifications?t.jsx(Js,{style:{color:"var(--brand-primary)"}}):t.jsx(Qs,{style:{color:"var(--text-secondary)"}})})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Notification Types"}),t.jsxs("div",{className:"space-y-4 pl-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Order Updates"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates about your orders"})]}),t.jsx("button",{onClick:()=>a("orderUpdates"),className:"text-2xl","aria-label":e.orderUpdates?"Disable order updates":"Enable order updates",children:e.orderUpdates?t.jsx(Js,{style:{color:"var(--brand-primary)"}}):t.jsx(Qs,{style:{color:"var(--text-secondary)"}})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Promotions & Deals"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive special offers and promotions"})]}),t.jsx("button",{onClick:()=>a("promotions"),className:"text-2xl","aria-label":e.promotions?"Disable promotions":"Enable promotions",children:e.promotions?t.jsx(Js,{style:{color:"var(--brand-primary)"}}):t.jsx(Qs,{style:{color:"var(--text-secondary)"}})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"New Arrivals"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Be notified about new products"})]}),t.jsx("button",{onClick:()=>a("newArrivals"),className:"text-2xl","aria-label":e.newArrivals?"Disable new arrivals notifications":"Enable new arrivals notifications",children:e.newArrivals?t.jsx(Js,{style:{color:"var(--brand-primary)"}}):t.jsx(Qs,{style:{color:"var(--text-secondary)"}})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Price Drops"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Be notified about price drops on your wishlist"})]}),t.jsx("button",{onClick:()=>a("priceDrops"),className:"text-2xl","aria-label":e.priceDrops?"Disable price drop notifications":"Enable price drop notifications",children:e.priceDrops?t.jsx(Js,{style:{color:"var(--brand-primary)"}}):t.jsx(Qs,{style:{color:"var(--text-secondary)"}})})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Security"}),t.jsx("div",{className:"space-y-4 pl-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Two-Factor Authentication"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Add an extra layer of security to your account"})]}),t.jsx("button",{onClick:()=>a("twoFactorAuth"),className:"text-2xl","aria-label":e.twoFactorAuth?"Disable two-factor authentication":"Enable two-factor authentication",children:e.twoFactorAuth?t.jsx(Js,{style:{color:"var(--brand-primary)"}}):t.jsx(Qs,{style:{color:"var(--text-secondary)"}})})]})})]}),t.jsx("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:t.jsx("button",{className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Save Settings"})})]})]})},Nj=()=>{const{section:e="profile"}=el(),[r,a]=Oe.useState(e);Oe.useEffect(()=>{a(e)},[e]);const i=()=>{switch(r){case"addresses":return t.jsx($L,{});case"payment":return t.jsx(YL,{});case"settings":return t.jsx(GL,{});case"profile":default:return t.jsx(qL,{})}};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6 md:mb-8",style:{color:"var(--text-primary)"},children:"My Account"}),t.jsxs("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"md:col-span-1",children:t.jsx(HL,{})}),t.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:i()})]})]})},Gd="admin_token",Wd="admin_user",tN=e=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):null}catch(r){return console.error(`Error parsing stored admin data for key ${e}:`,r),null}},WL=(e,r)=>{try{return localStorage.setItem(e,JSON.stringify(r)),!0}catch(a){return console.error(`Error storing admin data for key ${e}:`,a),!1}},KL=(e,r)=>{try{return e&&localStorage.setItem(Gd,e),r&&WL(Wd,r),!0}catch(a){return console.error("Error persisting admin auth data:",a),!1}},Cj=()=>{try{localStorage.removeItem(Gd),localStorage.removeItem(Wd)}catch(e){console.error("Error clearing admin auth data:",e)}},XL=()=>{const e=localStorage.getItem(Gd),r=tN(Wd);return{admin:r,isAuthenticated:!!(e&&r),isLoading:!1,error:null}},rx=Kt(e=>({...XL(),formData:{username:"",password:"",secretKey:""},formErrors:{username:null,password:null,secretKey:null},setFormData:a=>e(i=>({formData:{...i.formData,...a}})),setFormErrors:a=>e(()=>({formErrors:a})),setIsAuthenticated:a=>e(()=>({isAuthenticated:a})),setIsLoading:a=>e(()=>({isLoading:a})),setError:a=>e(()=>({error:a})),adminLogin:async a=>{var i,o;try{e({isLoading:!0,error:null});const d=(await _e.post("/admin/login",{username:a.username,password:a.password})).data,m={id:d.admin_id,username:a.username};return KL(d.token,m),e({admin:m,isAuthenticated:!0,isLoading:!1}),d}catch(c){throw e({error:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Login failed. Please check your credentials.",isLoading:!1}),c}},adminRegister:async a=>{var i,o;try{e({isLoading:!0,error:null});const c=await _e.post("/admin/signup",{username:a.username,password:a.password,secret:a.secretKey});return e({isLoading:!1}),c.data}catch(c){throw e({error:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Registration failed. Please try again.",isLoading:!1}),c}},adminLogout:()=>{Cj(),e({admin:null,isAuthenticated:!1,error:null})},checkAdminAuthStatus:()=>{try{if(localStorage.getItem(Gd)){const i=tN(Wd);if(i)return e({admin:i,isAuthenticated:!0}),!0}return e({admin:null,isAuthenticated:!1}),!1}catch(a){return console.error("Admin auth check error:",a),Cj(),e({admin:null,isAuthenticated:!1,error:"Authentication error"}),!1}},clearError:()=>e({error:null})})),ZL=({categories:e})=>{const r=Wt(),[a,i]=w.useState(""),[o,c]=w.useState([]),[d,m]=w.useState(!1),h=w.useRef(null),f=w.useRef(null),{isAuthenticated:x}=Le(),{itemCount:g,totalAmount:v,fetchCart:j}=ya(),{items:b,fetchWishlist:C}=$d(),{searchProducts:k}=ga(),[S,T]=w.useState({city:"Bhopal",loading:!1,error:null}),[R,E]=w.useState(!1),[D,F]=w.useState(!1);w.useEffect(()=>{const A=M=>{const X=h.current&&!h.current.contains(M.target),I=f.current&&!f.current.contains(M.target);X&&I&&m(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]),w.useEffect(()=>{if(a.trim()===""){c([]),m(!1);return}const A=k(a);c(A.slice(0,5)),m(!0)},[a,k]),w.useEffect(()=>{x&&(j(),C())},[x,j,C]),w.useEffect(()=>{(()=>{navigator.geolocation?(T(M=>({...M,loading:!0})),navigator.geolocation.getCurrentPosition(async M=>{try{const{latitude:X,longitude:I}=M.coords,ne=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${X}&lon=${I}&format=json`)).json(),$=ne.address.city||ne.address.town||ne.address.village||ne.address.county||"Unknown";T({city:$,loading:!1,error:null})}catch(X){T({city:"Bhopal",loading:!1,error:X||"Failed to fetch location"})}},M=>{T({city:"Jabalpur",loading:!1,error:M||"Location access denied"})})):T({city:"Jabalpur",loading:!1,error:"Geolocation not supported"})})()},[]);const V=A=>{if(A.preventDefault(),a.trim()){const M=k(a);console.log("Search results:",M),r(`/search?query=${encodeURIComponent(a.trim())}`),m(!1)}},q=A=>{if(A.key==="Enter"&&a.trim()){const M=k(a);console.log("Mobile search results:",M),r(`/search?query=${encodeURIComponent(a.trim())}`),m(!1)}},O=A=>{r(`/products/${A}`),m(!1),i("")};return t.jsxs("header",{className:"relative z-20",children:[t.jsx("div",{className:"shadow-xl relative",style:{backgroundColor:"var(--brand-primary)",backgroundImage:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"},children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"flex items-center justify-between py-4",children:[t.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-white/10 transition-colors",onClick:()=>E(!R),"aria-label":R?"Close menu":"Open menu",children:R?t.jsx(Qe,{className:"w-6 h-6",style:{color:"var(--text-on-brand)"}}):t.jsx(Z5,{className:"w-6 h-6",style:{color:"var(--text-on-brand)"}})})," ",t.jsx(he,{to:ot.HOME,className:"flex items-center transform hover:scale-105 transition duration-300 ease-in-out",children:t.jsx(Jh,{linkWrapper:!1,titleColor:"white"})}),t.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-6",children:t.jsxs("div",{className:`relative group ${D?"ring-4 ring-white/20 rounded-full":""}`,children:[t.jsxs("form",{onSubmit:V,className:"w-full",children:[t.jsx("input",{type:"text",placeholder:"Search for Products, Brands, Offers",className:"w-full py-3 px-5 pr-12 rounded-full focus:outline-none transition-all duration-300",style:{backgroundColor:D?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.8)",color:"#333",borderColor:"rgba(255, 255, 255, 0.2)",boxShadow:D?"0 0 20px rgba(255, 255, 255, 0.3)":"var(--shadow-small)",caretColor:"#333"},value:a,onChange:A=>{i(A.target.value),A.target.value.trim()===""&&m(!1)},onFocus:()=>{a.trim()!==""&&o.length>0&&m(!0)},onBlur:()=>F(!1)}),t.jsx("button",{type:"submit",className:"absolute right-0 top-0 bottom-0 px-4 flex items-center justify-center transition-transform duration-300 hover:scale-110 active:scale-95",style:{color:"#333"},"aria-label":"Search",children:t.jsx(br,{className:"text-xl filter drop-shadow-lg"})})]}),d&&o.length>0&&t.jsx("div",{ref:h,className:"absolute left-0 right-0 z-10 mt-1 bg-white rounded-md shadow-lg overflow-hidden",style:{maxHeight:"400px",overflowY:"auto"},children:t.jsxs("ul",{className:"py-1",children:[o.map(A=>t.jsx("li",{children:t.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 flex items-center cursor-pointer",onClick:()=>O(A.id),children:[t.jsx("div",{className:"w-10 h-10 flex-shrink-0 mr-3 bg-gray-200 rounded overflow-hidden",children:t.jsx("img",{src:A.images&&A.images.length>0?A.images[0]:"https://via.placeholder.com/40",alt:A.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:A.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:[A.brand," • ",A.category]})]}),t.jsxs("div",{className:"ml-3 text-sm font-medium text-gray-900",children:["₹",A.discount_price||A.price]})]})},A.id)),t.jsx("li",{children:t.jsx("div",{className:"px-4 py-2 text-center text-sm text-brand-primary hover:bg-gray-50 cursor-pointer font-medium",onClick:()=>{V({preventDefault:()=>{}}),m(!1)},children:"View all results"})})]})})]})}),t.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[t.jsxs("div",{className:"group flex flex-col items-center cursor-pointer transition-all duration-300 hover:translate-y-[-2px] relative",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),t.jsx(ht,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]})," ",t.jsxs("div",{className:"text-xs mt-1",children:[t.jsx("p",{className:"text-white/80 text-center",style:{color:"var(--text-on-brand-muted)"},children:"Delivery to"}),t.jsx("p",{className:"font-semibold",style:{color:"var(--text-on-brand)"},children:S.loading?t.jsx("span",{className:"inline-block w-16 h-3 bg-white/20 rounded-full animate-pulse"}):S.error?"Error fetching location":S.city})]})]}),t.jsxs(he,{to:ot.WISHLIST,className:"hidden sm:flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),t.jsx(ml,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}}),t.jsx("span",{className:"absolute -top-2 -right-2 z-20 text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",style:{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",boxShadow:"0 0 10px rgba(255,255,255,0.3)"},children:b.length})]}),t.jsx("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:"Wishlist"})]}),t.jsxs(he,{to:ot.ORDERS,className:"hidden sm:flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[" ",t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),t.jsx(fa,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),t.jsx("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:"Orders"})]}),t.jsxs(he,{to:ot.CART,className:"flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),t.jsx(hl,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}}),t.jsx("span",{className:"absolute -top-2 -right-2 z-20 text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",style:{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",boxShadow:"0 0 10px rgba(255,255,255,0.3)"},children:g})]}),t.jsxs("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:["₹ ",v.toFixed(2)]})]})," ",t.jsxs(he,{to:x?"/profile":ot.LOGIN,className:"flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),t.jsx(nr,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),t.jsx("div",{className:"text-xs mt-1",children:t.jsx("p",{className:"font-semibold",style:{color:"var(--text-on-brand)"},children:x?"My Account":"Sign In"})})]})]})]})})}),t.jsx("div",{className:"md:hidden px-4 py-3",style:{backgroundColor:"var(--brand-primary-hover)"},children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full py-2 px-4 pr-10 rounded-full text-sm focus:outline-none",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",color:"#333",borderColor:"rgba(255, 255, 255, 0.2)",boxShadow:"var(--shadow-small)"},value:a,onChange:A=>i(A.target.value),onKeyDown:q,onFocus:()=>{a.trim()!==""&&o.length>0&&m(!0)}}),t.jsx("button",{onClick:()=>{if(a.trim()){const A=k(a);console.log("Mobile search results:",A),r(`/search?query=${encodeURIComponent(a.trim())}`)}},className:"absolute right-0 top-0 bottom-0 px-3 flex items-center justify-center",style:{color:"#333"},children:t.jsx(br,{className:"text-lg"})}),d&&o.length>0&&t.jsx("div",{ref:f,className:"absolute left-0 right-0 z-50 mt-1 bg-white rounded-md shadow-lg overflow-hidden",style:{maxHeight:"300px",overflowY:"auto"},children:t.jsxs("ul",{className:"py-1",children:[o.map(A=>t.jsx("li",{children:t.jsxs("div",{className:"px-3 py-2 hover:bg-gray-100 flex items-center cursor-pointer",onClick:()=>O(A.id),children:[t.jsx("div",{className:"w-8 h-8 flex-shrink-0 mr-2 bg-gray-200 rounded overflow-hidden",children:t.jsx("img",{src:A.images&&A.images.length>0?A.images[0]:"https://via.placeholder.com/32",alt:A.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:A.name}),t.jsx("p",{className:"text-xs text-gray-500",children:A.brand})]}),t.jsxs("div",{className:"ml-2 text-xs font-medium text-gray-900",children:["₹",A.discount_price||A.price]})]})},A.id)),t.jsx("li",{children:t.jsx("div",{className:"px-3 py-2 text-center text-xs text-brand-primary hover:bg-gray-50 cursor-pointer font-medium",onClick:()=>{a.trim()&&(r(`/search?query=${encodeURIComponent(a.trim())}`),m(!1))},children:"View all results"})})]})})]})}),t.jsx("nav",{className:"bg-white shadow-md relative z-0",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx("ul",{className:"hidden lg:flex items-center justify-between overflow-x-auto py-3.5 no-scrollbar",children:e==null?void 0:e.map(A=>t.jsx("li",{className:"whitespace-nowrap px-3",children:t.jsxs(he,{to:A.path,className:"text-sm font-medium transition-all duration-300 relative group py-1.5 px-2 hover:text-brand-primary",style:{color:"var(--text-primary)"},children:[t.jsx("span",{className:"relative z-10",children:A.name}),t.jsx("span",{className:"absolute left-0 right-0 bottom-0 h-0.5 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("span",{className:"absolute inset-0 bg-gray-50 rounded-md scale-95 opacity-0 group-hover:opacity-100 group-hover:scale-100 transition-all duration-300 -z-10",style:{backgroundColor:"var(--bg-accent-light)"}})]})},A.id))}),t.jsx("div",{className:`lg:hidden fixed inset-0 z-50 transition-all duration-300 ${R?"opacity-100 visible":"opacity-0 invisible"}`,style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:`absolute top-0 left-0 h-full w-3/4 max-w-xs bg-white shadow-2xl transition-transform duration-300 transform ${R?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"p-4 border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsx(Jh,{size:"small",linkWrapper:!1,titleColor:"var(--text-primary)"}),t.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100",onClick:()=>E(!1),"aria-label":"Close menu",children:t.jsx(Qe,{className:"w-5 h-5",style:{color:"var(--text-primary)"}})})]})," ",t.jsxs("div",{className:"py-4",children:[x&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"px-4 text-xs uppercase font-semibold mb-2",style:{color:"var(--text-secondary)"},children:"My Account"}),t.jsxs("ul",{children:[t.jsx("li",{children:t.jsx(he,{to:"/profile",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>E(!1),children:"Profile"})}),t.jsx("li",{children:t.jsx(he,{to:"/profile/addresses",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>E(!1),children:"My Addresses"})}),t.jsx("li",{children:t.jsx(he,{to:"/orders",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>E(!1),children:"Orders"})}),t.jsx("li",{children:t.jsx(he,{to:"/wishlist",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>E(!1),children:"Wishlist"})})]})]}),t.jsx("h3",{className:"px-4 text-xs uppercase font-semibold mb-2",style:{color:"var(--text-secondary)"},children:"Categories"}),t.jsx("ul",{children:e==null?void 0:e.map(A=>t.jsx("li",{children:t.jsx(he,{to:A.path,className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>E(!1),children:A.name})},A.id))})]})]})})]})})]})},QL=({size:e="medium",linkWrapper:r=!0})=>{const a={small:"h-8 w-auto",medium:"h-12 w-auto",large:"h-16 w-auto"},i=t.jsxs(t.Fragment,{children:[t.jsx("img",{src:"/logo.jpg",alt:"Anand Mobiles",className:`${a[e]} rounded-md`}),t.jsx("span",{style:{color:"var(--brand-primary)"},className:"ml-2 text-xl font-bold text-gray-900 hidden sm:inline-block",children:"Anand Mobiles"})]});return r?t.jsx(he,{to:"/",className:"flex items-center",children:i}):t.jsx("div",{className:"flex items-center",children:i})},JL=()=>{const e=[{name:"Home",path:ot.HOME},{name:"Products",path:ot.PRODUCTS},{name:"About Us",path:"/about"},{name:"Contact",path:"/contact"},{name:"FAQs",path:"/faqs"}],r=[{name:"My Account",path:ot.PROFILE},{name:"Orders & Returns",path:ot.ORDERS},{name:"Shopping Cart",path:ot.CART},{name:"Wishlist",path:"/wishlist"},{name:"Support Center",path:"/support"}],a=["Visa","Mastercard","UPI","PayTM","PhonePe","Cash On Delivery"],i=["No return policy","OTP verification before delivery","Product unboxing in front of customer","Extended warranty options available"],o=new Date().getFullYear();return t.jsxs("footer",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 rounded-full opacity-5",style:{backgroundColor:"var(--brand-primary)",transform:"translate(-50%, -50%)"}}),t.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 rounded-full opacity-5",style:{backgroundColor:"var(--brand-primary)",transform:"translate(30%, 30%)"}}),t.jsx("div",{className:"pt-16 pb-8",style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[t.jsxs("div",{className:"space-y-5",children:[t.jsx(QL,{linkWrapper:!1}),t.jsx("p",{className:"text-sm max-w-xs",style:{color:"var(--text-on-dark-bg)",lineHeight:"1.6"},children:"Your trusted electronics partner offering the latest mobiles, laptops, and accessories at competitive prices with excellent customer service."}),t.jsx("div",{className:"flex space-x-4 pt-2",style:{color:"var(--text-on-dark-bg)"},children:[{icon:t.jsx(q5,{}),label:"Facebook",url:"https://facebook.com"},{icon:t.jsx(W5,{}),label:"Instagram",url:"https://instagram.com"},{icon:t.jsx(nR,{}),label:"Twitter",url:"https://twitter.com"},{icon:t.jsx(iR,{}),label:"YouTube",url:"https://youtube.com"}].map((c,d)=>t.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110",style:{backgroundColor:"rgba(255,255,255,0.08)",color:"var(--text-on-dark-bg)"},"aria-label":c.label,children:c.icon},d))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Quick Links",t.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),t.jsx("ul",{className:"space-y-3",children:e.map(c=>t.jsx("li",{className:"group",children:t.jsxs(he,{to:c.path,className:"text-sm flex items-center group-hover:translate-x-1 transition-transform duration-300",style:{color:"var(--text-on-dark-bg)"},children:[t.jsx(St,{style:{color:"var(--brand-primary)"},className:"mr-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),c.name]})},c.name))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Customer Service",t.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),t.jsx("ul",{className:"space-y-3",children:r.map(c=>t.jsx("li",{className:"group",children:t.jsxs(he,{to:c.path,className:"text-sm flex items-center group-hover:translate-x-1 transition-transform duration-300",style:{color:"var(--text-on-dark-bg)"},children:[t.jsx(St,{style:{color:"var(--brand-primary)"},className:"mr-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),c.name]})},c.name))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Contact Us",t.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),t.jsxs("ul",{className:"space-y-3",children:[t.jsx("li",{children:t.jsxs("a",{href:"tel:1800-123-4567",className:"text-sm flex items-center transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:[t.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:t.jsx(yi,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),t.jsx("span",{children:"1800-123-4567"})]})}),t.jsx("li",{children:t.jsxs("a",{href:"mailto:info@anandmobiles.com",className:"text-sm flex items-center transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:[t.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:t.jsx(xi,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),t.jsx("span",{children:"info@anandmobiles.com"})]})}),t.jsx("li",{children:t.jsxs("div",{className:"text-sm flex transition-colors duration-300",children:[t.jsx("div",{className:"p-2 mr-3 rounded-full flex-shrink-0 self-start mt-1",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:t.jsx(ht,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),t.jsxs("span",{style:{color:"var(--text-on-dark-bg)"},children:["123 Retail Park, Main Street,",t.jsx("br",{})," Bhopal, MP - 462001"]})]})}),t.jsx("li",{children:t.jsxs("div",{className:"text-sm flex items-center transition-colors duration-300",children:[t.jsx("div",{className:"p-2 mr-3 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)"},children:t.jsx(Ar,{className:"w-4 h-4",style:{color:"var(--brand-primary)"}})}),t.jsx("span",{style:{color:"var(--text-on-dark-bg)"},children:"Mon-Sat: 10:00 AM - 8:00 PM"})]})})]})]})]}),t.jsx("div",{className:"rounded-2xl p-6 mb-8 relative overflow-hidden",style:{backgroundColor:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)"},children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("h4",{className:"text-base font-medium mb-5 relative inline-block",style:{color:"var(--brand-primary)"},children:["Payment Methods We Accept",t.jsx("span",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 h-0.5 w-1/2",style:{backgroundColor:"var(--brand-primary)"}})]}),t.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:a.map(c=>t.jsx("span",{className:"px-4 py-2 text-sm rounded-md transition-all duration-300 hover:scale-105",style:{backgroundColor:"rgba(255,255,255,0.05)",color:"var(--text-on-dark-bg)",border:"1px solid rgba(255,255,255,0.08)"},children:c},c))})]})}),t.jsxs("div",{className:"mb-8 rounded-2xl overflow-hidden",style:{backgroundColor:"rgba(245, 158, 11, 0.05)",border:"1px solid rgba(245, 158, 11, 0.15)"},children:[t.jsx("h4",{className:"font-medium text-center py-3",style:{color:"var(--text-on-brand)",backgroundColor:"var(--brand-primary)"},children:"Our Store Policies"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 p-4",children:i.map(c=>t.jsxs("div",{className:"text-sm flex items-center p-2 rounded-md",style:{backgroundColor:"rgba(255,255,255,0.05)",color:"var(--text-on-dark-bg)"},children:[t.jsx("span",{className:"w-2 h-2 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:"var(--brand-primary)"}}),c]},c))})]}),t.jsxs("div",{className:"pt-6 border-t text-center",style:{borderColor:"rgba(255,255,255,0.08)",color:"var(--text-on-dark-bg)"},children:[t.jsxs("p",{className:"text-xs mb-3",children:["© ",o," Anand Mobiles. All rights reserved."]}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2 text-xs",children:[t.jsx(he,{to:"/privacy-policy",className:"hover:text-white transition-colors duration-300",style:{color:"var(--text-on-dark-bg)"},children:"Privacy Policy"}),t.jsx(he,{to:"/terms-conditions",className:"hover:text-white transition-colors duration-300",style:{color:"var(--text-on-dark-bg)"},children:"Terms & Conditions"}),t.jsx(he,{to:"/return-policy",className:"hover:text-white transition-colors duration-300",style:{color:"var(--text-on-dark-bg)"},children:"Return Policy"})]})]})]})})]})},eM=()=>{const e=Bt(),[r,a]=w.useState(!1),i=[{name:"Dashboard",path:"/admin/dashboard",icon:t.jsx(yp,{size:20})},{name:"Products",path:"/admin/products",icon:t.jsx(rn,{size:20})},{name:"Inventory",path:"/admin/inventory",icon:t.jsx(K5,{size:20})},{name:"Orders",path:"/admin/orders",icon:t.jsx(hl,{size:20})},{name:"Users",path:"/admin/users",icon:t.jsx(gp,{size:20})},{name:"Content",path:"/admin/content",icon:t.jsx($5,{size:20})},{name:"Reviews",path:"/admin/reviews",icon:t.jsx(Yr,{size:20})},{name:"Delivery Partners",path:"/admin/delivery-partners",icon:t.jsx(lt,{size:20})}];return t.jsxs("div",{className:"flex h-screen bg-bg-secondary overflow-hidden",children:[t.jsxs("aside",{className:`${r?"w-20":"w-64"} bg-bg-dark text-text-on-dark-bg flex flex-col transition-all duration-300 ease-in-out shadow-lg`,style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-opacity-20",style:{borderColor:"var(--border-dark)"},children:[t.jsxs("div",{className:`flex items-center ${r?"justify-center w-full":""}`,children:[!r&&t.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"Admin Panel"}),r&&t.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"AP"})]}),t.jsx("button",{onClick:()=>a(!r),className:`p-1 rounded-md hover:bg-gray-700 transition-colors duration-150 ${r?"mx-auto mt-2":""}`,children:r?t.jsx(St,{size:24}):t.jsx(Md,{size:24})})]}),t.jsx("nav",{className:"flex-1 py-4 overflow-y-auto no-scrollbar",children:t.jsx("ul",{className:"px-2 space-y-1",children:i.map(o=>{const c=e.pathname===o.path;return t.jsx("li",{children:t.jsxs(he,{to:o.path,className:`flex items-center px-4 py-3 rounded-md transition-all duration-200 ${c?"bg-opacity-20 font-medium animate-fadeIn":"hover:bg-gray-700 hover:bg-opacity-30"}`,style:{backgroundColor:c?"var(--brand-primary)":"transparent",color:c?"var(--text-on-brand)":"var(--text-on-dark-bg)",boxShadow:c?"var(--shadow-small)":"none",borderRadius:"var(--rounded-md)"},children:[t.jsx("span",{className:"flex items-center justify-center",children:o.icon}),!r&&t.jsx("span",{className:"ml-3",children:o.name})]})},o.name)})})}),t.jsx("div",{className:"p-4 border-t border-opacity-20",style:{borderColor:"var(--border-dark)"},children:t.jsxs(he,{to:"/",className:"flex items-center px-4 py-2 rounded-md hover:bg-gray-700 hover:bg-opacity-30 transition-all duration-150 text-sm",style:{borderRadius:"var(--rounded-md)"},children:[t.jsx(ca,{size:20}),!r&&t.jsx("span",{className:"ml-3",children:"Back to Site"})]})})]}),t.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-bg-secondary animate-fadeIn",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"bg-bg-primary p-6 rounded-lg shadow-md mb-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[t.jsx(Wf,{})," "]})})]})},Gh={Pending:"var(--warning-color)","Out for Delivery":"var(--brand-secondary)",Delivered:"var(--success-color)",Failed:"var(--error-color)"},tM={Pending:t.jsx(Me,{}),"Out for Delivery":t.jsx(lt,{}),Delivered:t.jsx(Me,{}),Failed:t.jsx(Me,{})},rM=({delivery:e,onAccept:r})=>t.jsxs("div",{className:"flex flex-col md:flex-row justify-between p-4 group hover:bg-gray-50 rounded-lg transition-all duration-200 animate-fadeIn transform hover:translate-y-[-2px] border border-transparent hover:border-gray-100 mb-4",style:{textDecoration:"none",backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[t.jsxs("div",{className:"flex items-start flex-grow",children:[t.jsx("div",{className:"h-12 w-12 flex-shrink-0 flex items-center justify-center rounded-full mr-4 transition-all duration-300",style:{backgroundColor:Gh[e.status],color:"var(--text-on-brand)",fontSize:22,boxShadow:"var(--shadow-small)",transform:"scale(1)"},children:tM[e.status]}),t.jsxs("div",{className:"flex-grow",children:[t.jsxs("div",{className:"font-semibold text-base mb-1",style:{color:"var(--text-primary)"},children:["Order #",e.orderId]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 mt-3",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx(ht,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.address})]})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(yi,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Customer Contact"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.customerPhone})]})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(fa,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Expected Delivery"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(e.expectedDelivery).toLocaleDateString()})]})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Ar,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Assigned On"}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[new Date(e.assignedDate).toLocaleDateString()," ",new Date(e.assignedDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]})]})]}),t.jsxs("div",{className:"flex md:flex-col justify-between items-end mt-4 md:mt-0 md:ml-4",children:[t.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${Gh[e.status]}20`,color:Gh[e.status]},children:e.status})," ",t.jsxs("button",{onClick:()=>r(e.id),className:"flex items-center mt-4 font-medium text-sm hover:underline transition-colors",style:{color:"var(--brand-primary)"},children:["Update Status",t.jsx(St,{className:"ml-1"})]})]})]}),sM={Pending:"var(--warning-color)","Out for Delivery":"var(--brand-secondary)",Delivered:"var(--success-color)",Failed:"var(--error-color)"},aM={Pending:t.jsx(Me,{size:16}),"Out for Delivery":t.jsx(lt,{size:16}),Delivered:t.jsx(Mt,{size:16}),Failed:t.jsx(Qe,{size:16})},nM=({delivery:e})=>{const r=d=>{if(!d)return"N/A";try{return new Date(d).toLocaleDateString()}catch(m){return console.error("Invalid date format:",d,m),"N/A"}},a=d=>{if(!d)return"";try{return new Date(d).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(m){return console.error("Invalid date format:",d,m),""}},i=sM[e.status]||"var(--warning-color)",o=aM[e.status]||t.jsx(Me,{size:16}),c=typeof e.amount=="number"?e.amount.toFixed(2):parseFloat(e.amount||0).toFixed(2);return t.jsxs("div",{className:"border rounded-lg overflow-hidden mb-4 transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"p-4 flex justify-between items-center border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs("span",{className:"font-semibold mr-3",style:{color:"var(--text-primary)"},children:["Order #",e.orderId]}),t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${i}20`,color:i},children:[o,t.jsx("span",{className:"ml-1",children:e.status})]})]}),t.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:e.completedDate?`Completed on ${r(e.completedDate)} at ${a(e.completedDate)}`:"In progress"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Amount"}),t.jsxs("div",{className:"text-lg font-bold",style:{color:e.paymentMethod==="COD"?"var(--success-color)":"var(--text-primary)"},children:["₹",c]}),t.jsx("div",{className:"text-xs",style:{color:"var(--brand-primary)"},children:e.paymentMethod||"Online"})]})]}),t.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex",children:[t.jsx(ht,{className:"mt-1 mr-3 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.address||"No address provided"})]})]}),t.jsxs("div",{className:"flex",children:[t.jsx(fa,{className:"mt-1 mr-3 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Expected vs Actual Delivery"}),t.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:["Expected: ",r(e.expectedDelivery),t.jsx("br",{}),e.status==="Delivered"?t.jsxs("span",{style:{color:new Date(e.completedDate)<=new Date(e.expectedDelivery)?"var(--success-color)":"var(--warning-color)"},children:["Actual: ",r(e.completedDate)]}):t.jsx("span",{style:{color:"var(--error-color)"},children:e.status})]})]})]})]}),e.notes&&t.jsxs("div",{className:"px-4 py-3 mt-1 border-t",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-secondary)"},children:[t.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Notes"}),t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.notes})]})]})},iM=({collapsed:e})=>{const r=Bt(),a=[{name:"Dashboard",path:"/delivery/dashboard",icon:t.jsx(yp,{className:"h-5 w-5"})},{name:"Assignments",path:"/delivery/assignments",icon:t.jsx(Me,{className:"h-5 w-5"})},{name:"Status Updates",path:"/delivery/status-update",icon:t.jsx(X5,{className:"h-5 w-5"})},{name:"Delivery History",path:"/delivery/history",icon:t.jsx(Ar,{className:"h-5 w-5"})},{name:"Settings",path:"/delivery/settings",icon:t.jsx(eR,{className:"h-5 w-5"})}];return t.jsx("nav",{className:"flex-1 py-4 overflow-y-auto no-scrollbar",children:t.jsx("ul",{className:"px-2 space-y-1",children:a.map(i=>{const o=r.pathname===i.path;return t.jsx("li",{children:t.jsxs(he,{to:i.path,className:`flex items-center px-4 py-3 rounded-md transition-all duration-200 ${o?"bg-opacity-20 font-medium animate-fadeIn":"hover:bg-gray-700 hover:bg-opacity-30"}`,style:{backgroundColor:o?"var(--brand-primary)":"transparent",color:o?"var(--text-on-brand)":"var(--text-on-dark-bg)"},children:[t.jsx("span",{className:"flex-shrink-0",children:i.icon}),!e&&t.jsx("span",{className:"ml-3",children:i.name}),!e&&o&&t.jsx("span",{className:"ml-auto",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 animate-pulse",style:{color:"var(--text-on-brand)"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},i.name)})})})},Ss=Kt(Jp(e=>({isAuthenticated:!!localStorage.getItem(Ro),partner:JSON.parse(localStorage.getItem("delivery_partner")||"null"),loading:!1,error:null,assignedDeliveries:[],deliveryHistory:[],registerPartner:async r=>{var a,i;e({loading:!0,error:null});try{const o=await Ua.post("/partners/register/",r);return e({loading:!1,error:null}),o.data}catch(o){throw e({loading:!1,error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.error)||"Registration failed"}),o}},loginPartner:async r=>{var a,i;e({loading:!0,error:null});try{const o=await Ua.post("/partners/login/",r),{token:c,partner_id:d}=o.data;localStorage.setItem(Ro,c);const m={id:d,email:r.email};return localStorage.setItem("delivery_partner",JSON.stringify(m)),e({isAuthenticated:!0,partner:m,loading:!1,error:null}),o.data}catch(o){throw e({loading:!1,error:((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.error)||"Login failed"}),o}},logoutPartner:()=>{localStorage.removeItem(Ro),localStorage.removeItem("delivery_partner"),e({isAuthenticated:!1,partner:null,assignedDeliveries:[],deliveryHistory:[]})},fetchAssignedDeliveries:async()=>{var r,a;e({loading:!0,error:null});try{const o=(await Ua.get("/partners/deliveries/assigned/")).data.assigned_orders||[];return e({assignedDeliveries:o,loading:!1,error:null}),o}catch(i){throw e({loading:!1,error:((a=(r=i.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to fetch assigned deliveries"}),i}},fetchDeliveryHistory:async()=>{var r,a;e({loading:!0,error:null});try{const i=await Ua.get("/partners/deliveries/history/");return e({deliveryHistory:i.data.delivery_history,loading:!1,error:null}),i.data.delivery_history}catch(i){throw e({loading:!1,error:((a=(r=i.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to fetch delivery history"}),i}},updateDeliveryStatus:async(r,a,i={})=>{var o,c;e({loading:!0,error:null});try{const d={status:a,...i},m=await Ua.patch(`/partners/deliveries/update_status/${r}/`,d);return await Ss.getState().fetchAssignedDeliveries(),e({loading:!1,error:null}),m.data}catch(d){throw e({loading:!1,error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to update delivery status"}),d}}}))),Qa=({children:e,hideMenu:r})=>{const[a,i]=Oe.useState(!1),{logoutPartner:o}=Ss(),c=async()=>{await o(),console.log("User logged out")};return t.jsxs("div",{className:"flex h-screen bg-bg-secondary overflow-hidden",children:[!r&&t.jsxs("aside",{className:`${a?"w-20":"w-64"} bg-bg-dark text-text-on-dark-bg flex flex-col transition-all duration-300 ease-in-out shadow-lg`,style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-opacity-20",style:{borderColor:"var(--border-dark)"},children:[t.jsxs("div",{className:`flex items-center ${a?"justify-center w-full":""}`,children:[!a&&t.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"Delivery Partner"}),a&&t.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"DP"})]}),t.jsx("button",{onClick:()=>i(!a),className:"p-1 rounded-full hover:bg-gray-700 hover:bg-opacity-30 focus:outline-none",children:a?t.jsx(St,{className:"h-5 w-5"}):t.jsx(Md,{className:"h-5 w-5"})})]}),t.jsx(iM,{collapsed:a}),t.jsx("div",{className:"mt-auto p-4",children:t.jsxs("button",{onClick:c,className:"flex items-center w-full py-3 px-4 rounded-md transition-all duration-200 hover:bg-gray-700 hover:bg-opacity-30 text-left",style:{color:"var(--text-on-dark-bg)"},children:[t.jsx(f2,{className:"h-5 w-5 mr-3"}),!a&&t.jsx("span",{className:"ml-3",children:"Logout"})]})})]}),t.jsx("main",{className:`flex-1 overflow-y-auto p-6 bg-bg-secondary animate-fadeIn ${r?"flex justify-center items-center":""}`,style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"bg-bg-primary p-6 rounded-lg shadow-md mb-6 w-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[e||t.jsx(Wf,{})," "]})})]})},Yn=({children:e})=>{const{isAuthenticated:r,partner:a}=Ss(),i=Bt();return!r||!a?t.jsx(Ot,{to:"/delivery/login",state:{from:i},replace:!0}):e},Ff=({isOpen:e,onClose:r,delivery:a,onStatusUpdate:i,isSubmitting:o=!1})=>{var F,V,q,O;const[c,d]=w.useState(null),[m,h]=w.useState((a==null?void 0:a.status)||"assigned"),[f,x]=w.useState(""),[g,v]=w.useState(""),[j,b]=w.useState(""),[C,k]=w.useState("");if(w.useEffect(()=>{a&&(h(a.status||"assigned"),b(a.estimated_delivery?new Date(a.estimated_delivery).toISOString().slice(0,16):""),x(""),v(""),k(""),d(null))},[a]),!e||!a)return null;const S=[{value:"assigned",label:"Assigned",icon:t.jsx(Me,{}),color:"var(--brand-primary)",description:"Order assigned to delivery partner"},{value:"picked_up",label:"Picked Up",icon:t.jsx(Me,{}),color:"var(--info-color)",description:"Package collected from warehouse"},{value:"out_for_delivery",label:"Out for Delivery",icon:t.jsx(lt,{}),color:"var(--brand-primary)",description:"Package is out for delivery"},{value:"delivered",label:"Delivered",icon:t.jsx(Mt,{}),color:"var(--success-color)",requiresOtp:!1,description:"Package successfully delivered"},{value:"failed_attempt",label:"Failed Delivery",icon:t.jsx(Qe,{}),color:"var(--error-color)",requiresNotes:!0,description:"Delivery attempt failed"},{value:"returning_to_warehouse",label:"Returning to Warehouse",icon:t.jsx($r,{}),color:"var(--warning-color)",requiresNotes:!0,description:"Package being returned to warehouse"}],T=S.find(A=>A.value===m),R=A=>{const M=A.target.files[0];if(M){const X=new FileReader;X.onload=I=>d(I.target.result),X.readAsDataURL(M)}},E=()=>{d(null)},D=async A=>{if(A.preventDefault(),k(""),T!=null&&T.requiresOtp&&!f){k("OTP is required for delivered status");return}if(T!=null&&T.requiresNotes&&!g){k("Please provide a reason for delivery failure");return}try{await i(a.id,m,{photo:c,otp:f,notes:g,estimated_delivery:j?new Date(j).toISOString():null,updatedAt:new Date().toISOString()}),d(null),x(""),v(""),b(""),k("")}catch(M){console.error("Error updating status:",M),k("Failed to update status. Please try again.")}};return t.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[t.jsx("div",{className:"fixed inset-0 bg-black/40 transition-opacity",onClick:r}),t.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:t.jsxs("div",{className:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Me,{className:"mr-3",size:24,style:{color:"var(--brand-primary)"}}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order ID: ",a.orderId," • Customer:"," ",(F=a.customer)==null?void 0:F.name]})]})]}),t.jsx("button",{onClick:r,className:"rounded-md p-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",style:{color:"var(--text-secondary)"},children:t.jsx(Qe,{size:20})})]})," ",t.jsx("div",{className:"px-6 py-4 max-h-[70vh] overflow-y-auto",children:t.jsxs("form",{onSubmit:D,children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2",children:[" ",t.jsxs("div",{className:"rounded-lg p-4 mb-4",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("h4",{className:"text-md font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(Me,{className:"mr-2"})," Update Status"]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Select Status"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:S.map(A=>t.jsxs("button",{type:"button",className:`p-3 rounded-lg flex items-center border transition-all duration-200 ${m===A.value?"border-2":"hover:border-gray-300"}`,style:{backgroundColor:m===A.value?`${A.color}10`:"var(--bg-primary)",borderColor:m===A.value?A.color:"var(--border-primary)"},onClick:()=>h(A.value),children:[t.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:m===A.value?`${A.color}20`:"var(--bg-secondary)",color:A.color},children:A.icon}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:A.label})]},A.value))})]}),(T==null?void 0:T.requiresOtp)&&t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Delivery OTP"}),t.jsx("input",{type:"text",id:"otp",value:f,onChange:A=>x(A.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter OTP provided by the customer"}),t.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Please collect the OTP from the customer upon delivery"})," "]})," ",t.jsxs("div",{className:"mb-4",children:[" ",t.jsxs("label",{htmlFor:"estimatedDelivery",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Estimated Delivery Date & Time"}),m==="out_for_delivery"&&t.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--warning-color)15",color:"var(--warning-color)"},children:"Recommended"})]}),t.jsx("input",{type:"datetime-local",id:"estimatedDelivery",value:j,onChange:A=>b(A.target.value),className:`w-full p-3 border rounded-md text-sm ${m==="out_for_delivery"?"border-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:m==="out_for_delivery"?"var(--brand-primary)":"var(--border-primary)",color:"var(--text-primary)"}}),t.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:m==="out_for_delivery"?"Please provide an estimated delivery time when going out for delivery":"Update the estimated delivery date and time for this order"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{htmlFor:"notes",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:["Notes ",(T==null?void 0:T.requiresNotes)&&"(Required)"]}),t.jsx("textarea",{id:"notes",value:g,onChange:A=>v(A.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:T!=null&&T.requiresNotes?"Please provide a reason for delivery failure":"Add any relevant notes (optional)",rows:3})]}),C&&t.jsxs("div",{className:"p-3 rounded-md flex items-start mb-4",style:{backgroundColor:"var(--error-color)10",color:"var(--error-color)"},children:[t.jsx($r,{className:"mr-2 mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:C})]})]}),(a.status==="out_for_delivery"||a.status==="assigned")&&t.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("h4",{className:"text-md font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(pp,{className:"mr-2"})," Delivery Photo (Optional)"]}),t.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:"Take a photo as proof of delivery"}),c?t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"relative inline-block",children:[t.jsx("img",{src:c,alt:"Delivery proof",className:"rounded-md max-h-40 max-w-full"}),t.jsx("button",{onClick:E,className:"absolute top-2 right-2 rounded-full p-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:t.jsx(Qe,{size:14,style:{color:"white"}})})]})}):t.jsx("div",{className:"mb-3",children:t.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 rounded-md cursor-pointer border-2 border-dashed",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsx(G5,{size:24,style:{color:"var(--text-secondary)"},className:"mb-2"}),t.jsx("p",{className:"text-xs text-center",style:{color:"var(--text-primary)"},children:t.jsx("span",{className:"font-semibold",children:"Click to capture"})})]}),t.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:R})]})})]})]}),t.jsx("div",{children:t.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("h4",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Delivery Details"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Current Status"}),t.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:a.status==="delivered"?"var(--success-color)20":a.status==="failed_attempt"||a.status==="failed_final"?"var(--error-color)20":"var(--brand-primary)20",color:a.status==="delivered"?"var(--success-color)":a.status==="failed_attempt"||a.status==="failed_final"?"var(--error-color)":"var(--brand-primary)"},children:a.status==="assigned"||a.status==="shipped"||a.status==="payment_successful"?"Assigned":a.status==="out_for_delivery"?"Out For Delivery":a.status==="delivered"?"Delivered":a.status==="failed_attempt"?"Failed Attempt":a.status==="failed_final"?"Failed":a.status==="returning_to_warehouse"?"Returning":a.status})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Customer Information"}),t.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:(V=a.customer)==null?void 0:V.name}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:(q=a.customer)==null?void 0:q.phone}),t.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-primary)"},children:(O=a.customer)==null?void 0:O.address})]}),t.jsxs("div",{children:[t.jsxs("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:["Items (",a.items?a.items.length:0,")"]}),t.jsx("div",{className:"max-h-16 overflow-y-auto",children:t.jsx("ul",{className:"space-y-1",children:a.items&&a.items.map((A,M)=>t.jsxs("li",{className:"flex justify-between text-xs",children:[t.jsxs("span",{style:{color:"var(--text-primary)"},children:[A.name," x",A.quantity]}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:A.price})]},M))})})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Payment Information"}),t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Payment Type"}),t.jsx("span",{className:"font-medium",style:{color:a.paymentType==="Cash on Delivery"?"var(--warning-color)":"var(--success-color)"},children:a.paymentType})]}),t.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Amount"}),t.jsx("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:a.paymentAmount||a.total_amount})]})]})]})," "]})})]}),t.jsxs("div",{className:"mt-6 pt-4 border-t flex justify-end space-x-3",style:{borderColor:"var(--border-primary)"},children:[t.jsx(ue,{type:"button",variant:"secondary",onClick:r,disabled:o,children:"Cancel"}),t.jsx(ue,{type:"submit",variant:"primary",disabled:o,className:"transition-transform hover:scale-105",children:o?"Updating...":"Update Status"})]})]})})]})})]})},oM=()=>{const e=Wt(),r=Bt(),{loginPartner:a,isAuthenticated:i,partner:o,loading:c,error:d}=Ss(),[m,h]=w.useState({email:"",password:""}),[f,x]=w.useState({}),[g,v]=w.useState("");w.useEffect(()=>{var k;(k=r.state)!=null&&k.message&&v(r.state.message)},[r.state]),w.useEffect(()=>{i&&o&&e("/delivery/dashboard")},[i,o,e]);const j=k=>{const{name:S,value:T}=k.target;h(R=>({...R,[S]:T})),f[S]&&x(R=>({...R,[S]:""}))},b=()=>{let k=!0;const S={};return m.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)||(S.email="Please enter a valid email address",k=!1):(S.email="Email is required",k=!1),m.password||(S.password="Password is required",k=!1),x(S),k},C=async k=>{var S,T,R;if(k.preventDefault(),!!b())try{await a(m)&&e("/delivery/dashboard")}catch(E){ge.error(((T=(S=E.response)==null?void 0:S.data)==null?void 0:T.error)||"Failed to login. Please try again."),((R=E.response)==null?void 0:R.status)===403&&e("/delivery/admin-verify")}};return t.jsxs(Br,{title:"Delivery Partner Login",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(lt,{size:36})})}),t.jsx("p",{className:"text-center text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Sign in to your delivery partner account to manage deliveries"}),t.jsxs("form",{onSubmit:C,className:"space-y-5",children:[g&&t.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),g]}),d&&t.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--error-color)15",color:"var(--error-color)"},children:[t.jsx($r,{className:"h-5 w-5 mr-2"}),d]}),t.jsx(Be,{label:"Email",type:"email",name:"email",icon:t.jsx(xi,{}),value:m.email,onChange:j,required:!0,placeholder:"your@email.com",error:f.email}),t.jsx(Be,{label:"Password",type:"password",name:"password",icon:t.jsx(ps,{}),value:m.password,onChange:j,required:!0,placeholder:"Enter your password",error:f.password}),t.jsx(ue,{type:"submit",variant:"primary",fullWidth:!0,isLoading:c,children:c?"Signing In...":"Sign In"}),t.jsx("div",{className:"text-center mt-6",children:t.jsxs("p",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Don't have a partner account?"," ",t.jsx(he,{to:"/delivery/register",className:"font-medium hover:underline",style:{color:"var(--brand-primary)"},children:"Register here"})]})})]})]})},lM=()=>{const e=Wt(),{registerPartner:r,loading:a,error:i}=Ss(),[o,c]=w.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[d,m]=w.useState({}),h=g=>{const{name:v,value:j}=g.target;c(b=>({...b,[v]:j})),d[v]&&m(b=>({...b,[v]:""}))},f=()=>{const g={};return o.name.trim()||(g.name="Full name is required"),o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(g.email="Email is invalid"):g.email="Email is required",o.password?o.password.length<6&&(g.password="Password must be at least 6 characters"):g.password="Password is required",o.password!==o.confirmPassword&&(g.confirmPassword="Passwords don't match"),o.phone.trim()?/^\d{10}$/.test(o.phone.replace(/\D/g,""))||(g.phone="Phone number must be 10 digits"):g.phone="Phone number is required",m(g),Object.keys(g).length===0},x=async g=>{if(g.preventDefault(),!f())return;const v={name:o.name,email:o.email,password:o.password,phone:o.phone};try{await r(v),e("/delivery/login",{state:{message:"Registration successful! Please wait for admin verification."}})}catch(j){console.error("Registration error:",j)}};return t.jsxs(Br,{title:"Become a Delivery Partner",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(lt,{size:36})})}),t.jsx("p",{className:"text-center text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Register as a delivery partner and start earning with flexible hours"}),t.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i&&t.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--error-color)15",color:"var(--error-color)"},children:[t.jsx($r,{className:"h-5 w-5 mr-2"}),i]}),t.jsx(Be,{label:"Full Name",type:"text",name:"name",icon:t.jsx(nr,{}),value:o.name,onChange:h,required:!0,placeholder:"Enter your full name",error:d.name}),t.jsx(Be,{label:"Email",type:"email",name:"email",icon:t.jsx(xi,{}),value:o.email,onChange:h,required:!0,placeholder:"your@email.com",error:d.email}),t.jsx(Be,{label:"Phone Number",type:"tel",name:"phone",icon:t.jsx(yi,{}),value:o.phone,onChange:h,required:!0,placeholder:"Your phone number",error:d.phone}),t.jsx(Be,{label:"Password",type:"password",name:"password",icon:t.jsx(ps,{}),value:o.password,onChange:h,required:!0,placeholder:"Create a strong password",error:d.password}),t.jsx(Be,{label:"Confirm Password",type:"password",name:"confirmPassword",icon:t.jsx(ps,{}),value:o.confirmPassword,onChange:h,required:!0,placeholder:"Confirm your password",error:d.confirmPassword}),t.jsx("div",{className:"mt-6",children:t.jsx(ue,{type:"submit",variant:"primary",fullWidth:!0,isLoading:a,children:a?"Creating Account...":"Register as Partner"})}),t.jsx("div",{className:"text-center mt-6",children:t.jsxs("p",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Already have an account?"," ",t.jsx(he,{to:"/delivery/login",className:"font-medium hover:underline",style:{color:"var(--brand-primary)"},children:"Log in here"})]})}),t.jsx("div",{className:"text-xs text-center mt-4 px-4",style:{color:"var(--text-secondary)"},children:"By registering, you agree to our Terms of Service and acknowledge that your account requires admin verification before you can start accepting deliveries."})]})]})},Sj=()=>{const e=Wt(),[r,a]=w.useState(!0),[i,o]=w.useState("pending");w.useEffect(()=>{(async()=>{a(!0);try{await new Promise(v=>setTimeout(v,1500));const x=["pending","approved","rejected"],g=x[Math.floor(Math.random()*x.length)];o(g)}catch(x){console.error("Error fetching verification status:",x)}finally{a(!1)}})()},[]);const c=()=>{e("/delivery/login")},d=()=>{e("/delivery/register")},m=()=>{window.open("mailto:support@example.com","_blank")},h=()=>r?t.jsxs("div",{className:"flex flex-col items-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-4",style:{borderColor:"var(--brand-primary)"}}),t.jsx("p",{className:"text-center text-sm mt-4",style:{color:"var(--text-secondary)"},children:"Checking your verification status..."})]}):i==="approved"?t.jsxs("div",{className:"text-center py-6",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:t.jsx(Mt,{size:64})})}),t.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Approved!"}),t.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Your account has been verified by our admin team. You can now log in to access your delivery dashboard."}),t.jsx(ue,{variant:"primary",icon:t.jsx($o,{className:"mr-2"}),onClick:c,fullWidth:!0,children:"Log In to Your Account"})]}):i==="rejected"?t.jsxs("div",{className:"text-center py-6",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--error-color)20",color:"var(--error-color)"},children:t.jsx(ni,{size:64})})}),t.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Rejected"}),t.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Unfortunately, your account verification was not approved. This could be due to incomplete or incorrect information provided during registration."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(ue,{variant:"primary",icon:t.jsx($o,{className:"mr-2"}),onClick:d,fullWidth:!0,children:"Reapply with Correct Information"}),t.jsx(ue,{variant:"secondary",onClick:m,fullWidth:!0,children:"Contact Support"})]})]}):t.jsxs("div",{className:"text-center py-6",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:t.jsx(Id,{size:64})})}),t.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Pending"}),t.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Your account is currently under review by our admin team. This process usually takes 1-2 business days. We'll notify you by email once your account is verified."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(ue,{variant:"secondary",onClick:c,fullWidth:!0,children:"Back to Login"}),t.jsx(ue,{variant:"outline",onClick:m,fullWidth:!0,children:"Contact Support"})]}),t.jsxs("div",{className:"text-xs mt-6 p-4 rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Note:"})," You will receive an email notification when your account is verified. If you don't see the email, please check your spam folder."]})]});return t.jsxs(Br,{title:"Account Verification Status",children:[t.jsx("div",{className:"mt-4 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Delivery partner account verification"}),h()]})},cM=()=>{const[e,r]=w.useState(!0),[a,i]=w.useState([]),[o,c]=w.useState([]),[d,m]=w.useState(""),[h,f]=w.useState("all"),[x,g]=w.useState(!1),[v,j]=w.useState(null),[b,C]=w.useState(!1),{fetchAssignedDeliveries:k,updateDeliveryStatus:S}=Ss();w.useEffect(()=>{(async()=>{r(!0);try{const A=(await k()).map(M=>({id:M.order_id,orderId:M.order_id,customer:{name:M.customer_name||"Customer",phone:M.customer_phone||"N/A",address:T(M.delivery_address)},items:M.items||[],status:M.delivery_status||"pending",priority:R(M),distance:"N/A",estimatedTime:E(M.estimated_delivery),paymentType:"N/A",createdAt:M.created_at,total_amount:M.total_amount,currency:M.currency||"INR"}));i(A),c(A)}catch(O){console.error("Error fetching assigned deliveries:",O),de.error("Failed to load delivery assignments")}finally{r(!1)}})()},[k]);const T=q=>{if(!q)return"N/A";const{street_address:O,city:A,state:M,postal_code:X}=q;return[O,A,M,X].filter(Boolean).join(", ")},R=q=>{if(!q)return"normal";const O=q.estimated_delivery?new Date(q.estimated_delivery):null;return O&&O-new Date<24*60*60*1e3?"high":"normal"},E=q=>{if(!q)return"N/A";try{const O=new Date(q);return O.toLocaleDateString()+" "+O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(O){return console.error("Error formatting date:",O),q}};w.useEffect(()=>{const q=a.filter(O=>{const A=O.orderId.toLowerCase().includes(d.toLowerCase())||O.customer.name.toLowerCase().includes(d.toLowerCase())||O.customer.address.toLowerCase().includes(d.toLowerCase());return h==="all"?A:h==="high-priority"?A&&O.priority==="high":h==="normal-priority"?A&&O.priority==="normal":A});c(q)},[d,h,a]);const D=async q=>{const O=a.find(A=>A.id===q);O&&(j(O),g(!0))},F=async(q,O,A)=>{C(!0);try{await S(q,O,A),i(M=>M.map(X=>X.id===q?{...X,status:O}:X)),c(M=>M.map(X=>X.id===q?{...X,status:O}:X)),de.success("Delivery status updated successfully"),g(!1),j(null)}catch(M){console.error("Error updating delivery status:",M),de.error("Failed to update delivery status")}finally{C(!1)}},V=()=>{g(!1),j(null)};return t.jsxs(Qa,{children:[t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",style:{color:"var(--text-primary)"},children:"Available Delivery Assignments"}),t.jsxs("div",{className:"flex flex-col md:flex-row w-full md:w-auto gap-3",children:[t.jsxs("div",{className:"relative flex-grow md:w-64",children:[t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(br,{size:18})}),t.jsx("input",{type:"text",placeholder:"Search by order ID or customer",className:"w-full pl-10 pr-4 py-2 rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},value:d,onChange:q=>m(q.target.value)})]}),t.jsxs("div",{className:"relative md:w-48",children:[t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(pa,{size:18})}),t.jsxs("select",{value:h,onChange:q=>f(q.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[t.jsx("option",{value:"all",children:"All Assignments"}),t.jsx("option",{value:"high-priority",children:"High Priority"}),t.jsx("option",{value:"normal-priority",children:"Normal Priority"})]})]})]})]}),e?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):o.length>0?t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:o.map(q=>t.jsx(rM,{delivery:q,onAccept:()=>D(q.id)},q.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx($r,{size:48,style:{color:"var(--text-secondary)"},className:"mb-4"}),t.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No assignments found"}),t.jsx("p",{className:"text-center max-w-md",style:{color:"var(--text-secondary)"},children:d||h!=="all"?"Try changing your search terms or filters":"There are currently no delivery assignments available. Check back later!"})]})]}),t.jsx(Ff,{isOpen:x,onClose:V,delivery:v,onStatusUpdate:F,isSubmitting:b})]})},kj=()=>{const{id:e}=el(),r=Wt(),[a,i]=w.useState(!!e),[o,c]=w.useState(null),[d,m]=w.useState(null),[h,f]=w.useState(""),[x,g]=w.useState([]),[v,j]=w.useState(!1),[b,C]=w.useState(null),[k,S]=w.useState(!1),{fetchAssignedDeliveries:T,updateDeliveryStatus:R,assignedDeliveries:E}=Ss(),D=w.useCallback(I=>{if(!I)return"N/A";const{street_address:ae,city:ne,state:$,postal_code:H}=I;return[ae,ne,$,H].filter(Boolean).join(", ")},[]);console.log("assigned",E);const F=w.useCallback(async()=>{i(!0);try{await T();const I=E==null?void 0:E.map(ae=>({id:ae.order_id,orderId:ae.order_id,customerName:ae.customer_name||"Customer",customerAddress:D(ae.delivery_address),customerPhone:ae.customer_phone||"N/A",status:ae.delivery_status||ae.status||"assigned",items:ae.items||[],expectedDelivery:ae.estimated_delivery,assignedOn:ae.assigned_at,paymentType:ae.payment_method||"Online Payment",paymentAmount:`${ae.currency||"INR"} ${ae.total_amount||0}`}));g(I)}catch(I){console.error("Error fetching assigned deliveries:",I),de.error("Failed to load deliveries")}finally{i(!1)}},[T,D,E]),V=w.useCallback(async I=>{i(!0),m(null);try{const ne=(await T()).find($=>$.order_id===I);if(ne)c({id:ne.order_id,orderId:ne.order_id,status:ne.delivery_status||ne.status||"assigned",customer:{name:ne.customer_name||"Customer",phone:ne.customer_phone||"N/A",address:D(ne.delivery_address)},items:ne.items||[],paymentType:ne.payment_method||"Online Payment",paymentAmount:`${ne.currency||"INR"} ${ne.total_amount||"0"}`,deliveryInstructions:ne.delivery_instructions||"",estimatedDelivery:ne.estimated_delivery,assignedOn:ne.assigned_at,assignedPartnerName:ne.assigned_partner_name});else throw new Error("Delivery not found")}catch(ae){m("Failed to load delivery information. Please try again."),console.error("Error fetching delivery:",ae)}finally{i(!1)}},[T,D]);w.useEffect(()=>{e?V(e):F()},[e,V,F]);const q=I=>{const ae=I.target.value.toLowerCase();if(f(ae),!ae.trim()){F();return}const ne=x.filter($=>$.id.toLowerCase().includes(ae)||$.orderId.toLowerCase().includes(ae)||$.customerName.toLowerCase().includes(ae)||$.customerAddress.toLowerCase().includes(ae));g(ne)},O=I=>{const ae=x.find(ne=>ne.id===I);ae&&(C(ae),j(!0))},A=async(I,ae,ne)=>{S(!0);try{await R(I,ae,ne),o&&o.id===I&&c($=>({...$,status:ae})),g($=>$.map(H=>H.id===I?{...H,status:ae}:H)),de.success("Delivery status updated successfully"),j(!1),C(null)}catch($){console.error("Error updating status:",$),de.error("Failed to update delivery status")}finally{S(!1)}},M=()=>{C(o),j(!0)},X=()=>{j(!1),C(null)};return e?a||!o?t.jsx(Qa,{children:t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})})}):t.jsx(Qa,{children:t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("button",{onClick:()=>r("/delivery/assignments"),className:"flex items-center text-sm font-medium mb-4",style:{color:"var(--brand-primary)"},children:[t.jsx(ca,{className:"mr-2"})," Back to Assignments"]}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx("span",{className:"text-sm font-medium mr-2",style:{color:"var(--text-secondary)"},children:"Delivery ID:"}),t.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:o.id}),t.jsx("span",{className:"mx-2",style:{color:"var(--text-secondary)"},children:"•"}),t.jsx("span",{className:"text-sm font-medium mr-2",style:{color:"var(--text-secondary)"},children:"Order:"}),t.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:o.orderId})]})]})," ",t.jsxs("div",{className:"mt-4 md:mt-0 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:o.status==="delivered"?"var(--success-color)20":o.status==="failed_attempt"||o.status==="failed_final"?"var(--error-color)20":"var(--brand-primary)20",color:o.status==="delivered"?"var(--success-color)":o.status==="failed_attempt"||o.status==="failed_final"?"var(--error-color)":"var(--brand-primary)"},children:[(o.status==="assigned"||o.status==="shipped"||o.status==="payment_successful")&&"Assigned",o.status==="out_for_delivery"&&"Out For Delivery",o.status==="delivered"&&"Delivered",o.status==="failed_attempt"&&"Failed Attempt",o.status==="failed_final"&&"Failed",o.status==="returning_to_warehouse"&&"Returning"]})]})]}),d&&t.jsx("div",{className:"p-4 mb-6 rounded-lg",style:{backgroundColor:"var(--error-color)10",borderLeft:"4px solid var(--error-color)"},children:t.jsx("p",{style:{color:"var(--error-color)"},children:d})})," ",t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"rounded-lg p-6 mb-6",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(Me,{className:"mr-2"})," Update Status"]}),t.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Click the button below to update the delivery status for this order."}),t.jsx(ue,{variant:"primary",onClick:M,className:"transition-transform hover:scale-105",children:"Update Delivery Status"})]})}),t.jsx("div",{children:t.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("h2",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Delivery Details"}),t.jsxs("div",{className:"space-y-4",children:[" ",t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Customer Information"}),t.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:o.customer.name}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:o.customer.phone}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)"},children:o.customer.address})]}),o.estimatedDelivery&&t.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),t.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:[new Date(o.estimatedDelivery).toLocaleDateString()," ","at"," ",new Date(o.estimatedDelivery).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),t.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:["Items (",o.items?o.items.length:0,")"]}),t.jsx("ul",{className:"space-y-2",children:o.items&&o.items.map((I,ae)=>t.jsxs("li",{className:"flex justify-between text-sm",children:[t.jsxs("span",{style:{color:"var(--text-primary)"},children:[I.name," x",I.quantity]}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:I.price})]},ae))})]}),t.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Payment Information"}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Payment Type"}),t.jsx("span",{className:"font-medium",style:{color:o.paymentType==="Cash on Delivery"?"var(--warning-color)":"var(--success-color)"},children:o.paymentType})]}),t.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Amount"}),t.jsx("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:o.paymentAmount})]})]}),o.deliveryInstructions&&t.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Delivery Instructions"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:o.deliveryInstructions})]})]})," "]})})]}),t.jsx(Ff,{isOpen:v,onClose:X,delivery:b,onStatusUpdate:A,isSubmitting:k})]})}):t.jsxs(Qa,{children:[t.jsxs("div",{className:"w-full",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),t.jsx("div",{className:"mb-6",children:t.jsx(Be,{type:"text",placeholder:"Search by Order ID, Customer Name, or Address...",value:h,onChange:q,icon:t.jsx(br,{})})}),a?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):(x==null?void 0:x.length)===0?t.jsxs("div",{className:"p-6 text-center rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx(Me,{className:"h-12 w-12 mx-auto mb-3"}),t.jsx("h3",{className:"text-lg font-medium",children:"No deliveries found"}),t.jsx("p",{className:"mt-2",children:"Try a different search term or check back later."})]}):t.jsxs("div",{className:"space-y-4",children:[x==null?void 0:x.map(I=>t.jsx("div",{className:"p-4 rounded-lg cursor-pointer transition-all hover:shadow-md",style:{backgroundColor:"var(--bg-secondary)",borderLeft:"4px solid var(--brand-primary)"},onClick:()=>O(I.id),children:t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:I.customerName}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:I.customerAddress}),t.jsx("div",{className:"mt-2 flex items-center",children:t.jsxs("span",{className:"text-sm px-2 py-1 rounded-full",style:{backgroundColor:I.status==="delivered"?"var(--success-color)20":I.status==="failed_attempt"||I.status==="failed_final"?"var(--error-color)20":I.status==="shipped"||I.status==="payment_successful"||I.status==="assigned"?"var(--brand-primary)20":"var(--warning-color)20",color:I.status==="delivered"?"var(--success-color)":I.status==="failed_attempt"||I.status==="failed_final"?"var(--error-color)":I.status==="shipped"||I.status==="payment_successful"||I.status==="assigned"?"var(--brand-primary)":"var(--warning-color)"},children:[" ",I.status==="assigned"||I.status==="shipped"||I.status==="payment_successful"?"Assigned":I.status==="out_for_delivery"?"Out For Delivery":I.status==="delivered"?"Delivered":I.status==="failed_attempt"?"Failed Attempt":I.status==="failed_final"?"Failed":I.status==="returning_to_warehouse"?"Returning":I.status]})})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:I.id}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order: ",I.orderId]})]})]})},I.id))," "]})]}),t.jsx(Ff,{isOpen:v,onClose:X,delivery:b,onStatusUpdate:A,isSubmitting:k})]})},dM=()=>{var R;const e=Bt(),[r,a]=w.useState(!0),[i,o]=w.useState([]),[c,d]=w.useState([]),[m,h]=w.useState(""),[f,x]=w.useState("all"),[g,v]=w.useState("all"),[j,b]=w.useState(""),{fetchDeliveryHistory:C}=Ss(),k=w.useCallback(E=>{if(!E)return"N/A";const{street_address:D,city:F,state:V,postal_code:q}=E;return[D,F,V,q].filter(Boolean).join(", ")},[]);w.useEffect(()=>{var E;if((E=e.state)!=null&&E.successMessage){b(e.state.successMessage);const D=setTimeout(()=>{b("")},5e3);return()=>clearTimeout(D)}},[(R=e.state)==null?void 0:R.successMessage]),w.useEffect(()=>{(async()=>{a(!0);try{const F=(await C()).map(V=>({id:V.order_id,orderId:V.order_id,customer:V.customer_name||"Customer",address:k(V.delivery_address),status:S(V.delivery_status||""),completedDate:V.delivered_at||V.updated_at||V.created_at,expectedDelivery:V.estimated_delivery||new Date().toISOString(),amount:parseFloat(V.total_amount||"0"),paymentMethod:V.payment_method||"Online",notes:V.notes||"",items:V.items||[]}));o(F),d(F)}catch(D){console.error("Error fetching delivery history:",D),de.error("Failed to load delivery history")}finally{a(!1)}})()},[C,k]);const S=E=>({delivered:"Delivered",out_for_delivery:"Out for Delivery",failed_final:"Failed",failed_attempt:"Failed",pending:"Pending",assigned:"Pending",cancelled:"Failed"})[E.toLowerCase()]||"Pending";w.useEffect(()=>{const E=i.filter(D=>{const F=(D.orderId||"").toLowerCase().includes(m.toLowerCase())||(D.customer||"").toLowerCase().includes(m.toLowerCase())||(D.address||"").toLowerCase().includes(m.toLowerCase());let V=!0;const q=new Date,O=D.completedDate?new Date(D.completedDate):null;if(f==="today")V=O&&O.getDate()===q.getDate()&&O.getMonth()===q.getMonth()&&O.getFullYear()===q.getFullYear();else if(f==="week"){const M=new Date;M.setDate(M.getDate()-7),V=O&&O>=M}else if(f==="month"){const M=new Date;M.setMonth(M.getMonth()-1),V=O&&O>=M}const A=g==="all"||(D.status||"").toLowerCase()===g.toLowerCase();return F&&V&&A});d(E)},[m,f,g,i]);const T=()=>{if(c.length===0){de.error("No data to export");return}const F="data:text/csv;charset=utf-8,"+[["Order ID","Customer","Address","Status","Completed Date","Expected Delivery","Amount","Payment Method","Notes"].join(","),...c.map(O=>[`"${O.orderId}"`,`"${O.customer}"`,`"${O.address}"`,`"${O.status}"`,`"${new Date(O.completedDate).toLocaleDateString()}"`,`"${new Date(O.expectedDelivery).toLocaleDateString()}"`,O.amount,`"${O.paymentMethod}"`,`"${O.notes}"`].join(","))].join(`
`),V=encodeURI(F),q=document.createElement("a");q.setAttribute("href",V),q.setAttribute("download",`delivery_history_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(q),q.click(),document.body.removeChild(q),de.success("Delivery history exported successfully")};return t.jsx(Qa,{children:t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[j&&t.jsx("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--success-color)10",borderLeft:"4px solid var(--success-color)"},children:t.jsx("p",{style:{color:"var(--success-color)"},children:j})}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",style:{color:"var(--text-primary)"},children:"Delivery History"}),t.jsxs("button",{onClick:T,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:[t.jsx(bs,{className:"mr-2"}),"Export History"]})]}),t.jsx("div",{className:"flex flex-col md:flex-row justify-between mb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row w-full gap-3",children:[t.jsxs("div",{className:"relative flex-grow md:w-64",children:[t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(br,{size:18})}),t.jsx("input",{type:"text",placeholder:"Search by order ID or customer",className:"w-full pl-10 pr-4 py-2 rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},value:m,onChange:E=>h(E.target.value)})]}),t.jsxs("div",{className:"relative md:w-48",children:[t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(fa,{size:18})}),t.jsxs("select",{value:f,onChange:E=>x(E.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"today",children:"Today"}),t.jsx("option",{value:"week",children:"This Week"}),t.jsx("option",{value:"month",children:"This Month"})]})]}),t.jsxs("div",{className:"relative md:w-48",children:[t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(pa,{size:18})}),t.jsxs("select",{value:g,onChange:E=>v(E.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"delivered",children:"Delivered"}),t.jsx("option",{value:"failed_final",children:"Failed"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),r?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):c.length>0?t.jsx("div",{className:"space-y-4",children:c.map(E=>t.jsx(nM,{delivery:E},E.order_id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,style:{color:"var(--text-secondary)"},children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No delivery history found"}),t.jsx("p",{className:"text-center max-w-md",style:{color:"var(--text-secondary)"},children:m||f!=="all"||g!=="all"?"Try changing your search terms or filters":"Your completed deliveries will appear here once you've made some deliveries."})]})]})})},uM=()=>{const[e,r]=w.useState(!0),[a,i]=w.useState({todayDeliveries:0,pendingDeliveries:0,completedDeliveries:0,rating:4.8}),[o,c]=w.useState([]),[d,m]=w.useState([]),{fetchAssignedDeliveries:h,fetchDeliveryHistory:f}=Ss(),x=w.useCallback(E=>{if(!E)return"N/A";const{street_address:D,city:F,state:V,postal_code:q}=E;return[D,F,V,q].filter(Boolean).join(", ")},[]),g=w.useCallback(E=>{if(!E)return"N/A";const D=new Date(E),F=new Date,V=new Date(F);return V.setDate(V.getDate()-1),D.setHours(0,0,0,0)===F.setHours(0,0,0,0)?`Today, ${D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:D.setHours(0,0,0,0)===V.setHours(0,0,0,0)?`Yesterday, ${D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:`${D.toLocaleDateString()}, ${D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`},[]),v=w.useCallback(E=>!E||!E.estimated_delivery?"normal":new Date(E.estimated_delivery)-new Date<24*60*60*1e3?"high":"normal",[]),j=w.useCallback(E=>E?E.charAt(0).toUpperCase()+E.slice(1):"",[]),b=w.useCallback((E=[],D=[])=>{const F=E.slice(0,3).map(A=>({id:A.order_id,orderId:A.order_id,customer:A.customer_name||"Customer",address:x(A.delivery_address),scheduledTime:g(A.estimated_delivery),priority:v(A)}));m(F);const V=D.slice(0,3).map(A=>({id:A.order_id,orderId:A.order_id,customer:A.customer_name||"Customer",address:x(A.delivery_address),status:j(A.delivery_status||""),time:g(A.delivered_at||A.updated_at||A.created_at),reason:A.notes||null}));c(V);const q=new Date;q.setHours(0,0,0,0);const O=D.filter(A=>new Date(A.delivered_at||A.updated_at)>=q).length;i({todayDeliveries:O,pendingDeliveries:E.length,completedDeliveries:D.length,rating:4.8})},[x,g,v,j]);w.useEffect(()=>{(async()=>{r(!0);try{const D=await h(),F=await f();b(D,F)}catch(D){console.error("Error fetching dashboard data:",D),de.error("Failed to load dashboard data")}finally{r(!1)}})()},[h,f,b]);const C=w.useCallback(E=>{switch(E){case"Delivered":return"var(--success-color)";case"Failed_attempt":case"Failed_final":case"Failed":return"var(--error-color)";case"Assigned":case"Out_for_delivery":case"Pending":return"var(--warning-color)";default:return"var(--brand-primary)"}},[]),k=w.useCallback(E=>{switch(E){case"high":return{color:"var(--error-color)",label:"High Priority"};case"normal":return{color:"var(--brand-primary)",label:"Normal"};case"low":return{color:"var(--text-secondary)",label:"Low Priority"};default:return{color:"var(--brand-primary)",label:"Normal"}}},[]),S=({icon:E,value:D,label:F,color:V,bgColor:q})=>t.jsx("div",{className:"rounded-lg p-6 transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:D}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:F})]}),t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:q,color:V},children:E})]})}),T=({delivery:E})=>t.jsx("div",{className:"rounded-lg p-4 mb-3 transition-all duration-200 hover:shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${C(E.status)}20`,color:C(E.status)},children:E.status==="Delivered"?t.jsx(Mt,{size:20}):t.jsx($r,{size:20})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Order #",E.orderId]}),t.jsx("span",{className:"mx-2 text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:`${C(E.status)}20`,color:C(E.status)},children:E.status})]}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:E.customer}),t.jsxs("div",{className:"flex items-start mt-1",children:[t.jsx(ht,{className:"mr-1 mt-0.5 flex-shrink-0",size:14,style:{color:"var(--text-secondary)"}}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:E.address})]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-right",style:{color:"var(--text-secondary)"},children:E.time}),E.reason&&t.jsx("p",{className:"text-xs mt-1 text-right",style:{color:"var(--error-color)"},children:E.reason})]})]})}),R=({delivery:E})=>{const D=k(E.priority);return t.jsx("div",{className:"rounded-lg p-4 mb-3 transition-all duration-200 hover:shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Me,{size:20})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Order #",E.orderId]}),t.jsx("span",{className:"mx-2 text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:`${D.color}20`,color:D.color},children:D.label})]}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:E.customer}),t.jsxs("div",{className:"flex items-start mt-1",children:[t.jsx(ht,{className:"mr-1 mt-0.5 flex-shrink-0",size:14,style:{color:"var(--text-secondary)"}}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:E.address})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center text-xs mb-2",style:{color:"var(--brand-primary)"},children:[t.jsx(Ar,{size:12,className:"mr-1"}),E.scheduledTime]}),t.jsxs(he,{to:`/delivery/status-update/${E.id}`,className:"flex items-center justify-end text-xs font-medium",style:{color:"var(--brand-primary)"},children:["View Details",t.jsx(St,{size:14,className:"ml-0.5"})]})]})]})})};return t.jsx(Qa,{children:t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Delivery Dashboard"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Welcome back! Here's an overview of your delivery activities."})]}),t.jsx("div",{className:"flex items-center mt-4 md:mt-0",children:t.jsxs("div",{className:"mr-2 px-4 py-2 rounded-md text-sm flex items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx(fa,{size:16,className:"mr-2",style:{color:"var(--text-secondary)"}}),t.jsx("span",{style:{color:"var(--text-primary)"},children:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})})]}),e?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[t.jsx(S,{icon:t.jsx(lt,{size:24}),value:a.todayDeliveries,label:"Today's Deliveries",color:"var(--brand-primary)",bgColor:"var(--bg-accent-light)"}),t.jsx(S,{icon:t.jsx(Me,{size:24}),value:a.pendingDeliveries,label:"Pending Deliveries",color:"var(--warning-color)",bgColor:"var(--warning-color)20"}),t.jsx(S,{icon:t.jsx(Mt,{size:24}),value:a.completedDeliveries,label:"Completed Deliveries",color:"var(--success-color)",bgColor:"var(--success-color)20"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Upcoming Deliveries"}),t.jsxs(he,{to:"/delivery/assignments",className:"text-xs font-medium flex items-center",style:{color:"var(--brand-primary)"},children:["View All",t.jsx(St,{size:14,className:"ml-0.5"})]})]}),t.jsx("div",{className:"space-y-3",children:d.length>0?d.map(E=>t.jsx(R,{delivery:E},E.id)):t.jsx("div",{className:"py-6 text-center",style:{color:"var(--text-secondary)"},children:"No upcoming deliveries at this time."})})]}),t.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Recent Deliveries"}),t.jsxs(he,{to:"/delivery/history",className:"text-xs font-medium flex items-center",style:{color:"var(--brand-primary)"},children:["View History",t.jsx(St,{size:14,className:"ml-0.5"})]})]}),t.jsx("div",{className:"space-y-3",children:o.length>0?o.map(E=>t.jsx(T,{delivery:E},E.id)):t.jsx("div",{className:"py-6 text-center",style:{color:"var(--text-secondary)"},children:"No recent deliveries."})})]})]}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[t.jsx("h2",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Quick Actions"}),t.jsxs("div",{className:"space-y-3",children:[" ",t.jsxs(he,{to:"/delivery/assignments",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)20",color:"var(--brand-primary)"},children:t.jsx(Me,{size:16})}),t.jsx("span",{style:{color:"var(--text-primary)"},children:"View Assignments"})]}),t.jsx(St,{})]})," ",t.jsxs(he,{to:"/delivery/history",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:t.jsx(Ar,{size:16})}),t.jsx("span",{style:{color:"var(--text-primary)"},children:"View Delivery History"})]}),t.jsx(St,{})]})," ",t.jsxs(he,{to:"/delivery/status-update",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:t.jsx(pf,{size:16})}),t.jsx("span",{style:{color:"var(--text-primary)"},children:"Update Delivery Status"})]}),t.jsx(St,{})]})]})]})})]})]})]})})},mM=()=>{const[e,r]=w.useState(!1),[a,i]=w.useState(!1),[o,c]=w.useState({fullName:"John Doe",email:"john.doe@example.com",phone:"123-456-7890",address:"123 Delivery St, City",vehicleType:"bike",vehicleNumber:"DL-5S-AB-1234",currentPassword:"",newPassword:"",confirmPassword:"",notifyAssignments:!0,notifyStatus:!0,notifyReviews:!0}),[d,m]=w.useState({}),h=g=>{const{name:v,value:j,type:b,checked:C}=g.target;c({...o,[v]:b==="checkbox"?C:j}),d[v]&&m({...d,[v]:""})},f=g=>{const v={};return g==="profile"&&(o.fullName||(v.fullName="Full name is required"),o.email?/\S+@\S+\.\S+/.test(o.email)||(v.email="Email is invalid"):v.email="Email is required",o.phone||(v.phone="Phone number is required"),o.address||(v.address="Address is required"),o.vehicleNumber||(v.vehicleNumber="Vehicle number is required")),g==="password"&&(o.currentPassword||(v.currentPassword="Current password is required"),o.newPassword&&o.newPassword.length<6&&(v.newPassword="Password must be at least 6 characters"),o.newPassword!==o.confirmPassword&&(v.confirmPassword="Passwords don't match")),m(v),Object.keys(v).length===0},x=async(g,v)=>{if(g.preventDefault(),!!f(v)){r(!0);try{await new Promise(j=>setTimeout(j,1e3)),i(!0),setTimeout(()=>{i(!1)},3e3)}catch{m({form:"Failed to save changes. Please try again."})}finally{r(!1)}}};return t.jsx(Qa,{children:t.jsxs("div",{className:"w-full",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Settings"}),a&&t.jsx("div",{className:"mb-4 p-3 rounded-md",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:"Changes saved successfully!"}),d.form&&t.jsx("div",{className:"mb-4 p-3 rounded-md",style:{backgroundColor:"var(--error-color)20",color:"var(--error-color)"},children:d.form}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs(Br,{children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Profile Information"}),t.jsxs("form",{onSubmit:g=>x(g,"profile"),className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Be,{label:"Full Name",type:"text",name:"fullName",value:o.fullName,onChange:h,placeholder:"Enter your full name",icon:t.jsx(nr,{}),error:d.fullName}),t.jsx(Be,{label:"Email Address",type:"email",name:"email",value:o.email,onChange:h,placeholder:"Enter your email",icon:t.jsx(xi,{}),error:d.email})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Be,{label:"Phone Number",type:"tel",name:"phone",value:o.phone,onChange:h,placeholder:"Enter your phone number",icon:t.jsx(yi,{}),error:d.phone}),t.jsx(Be,{label:"Address",type:"text",name:"address",value:o.address,onChange:h,placeholder:"Enter your address",icon:t.jsx(ht,{}),error:d.address})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-primary)"},children:"Vehicle Type"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(lt,{})}),t.jsxs("select",{name:"vehicleType",value:o.vehicleType,onChange:h,className:"w-full pl-10 pr-3 py-2 rounded-md text-sm border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx("option",{value:"bike",children:"Bike/Scooter"}),t.jsx("option",{value:"car",children:"Car"}),t.jsx("option",{value:"van",children:"Van/Mini Truck"})]})]})]}),t.jsx(Be,{label:"Vehicle Number",type:"text",name:"vehicleNumber",value:o.vehicleNumber,onChange:h,placeholder:"Enter vehicle registration number",icon:t.jsx(lt,{}),error:d.vehicleNumber})]}),t.jsx("div",{className:"mt-4",children:t.jsx(ue,{type:"submit",variant:"primary",isLoading:e,icon:t.jsx(Po,{}),children:"Save Changes"})})]})]}),t.jsxs(Br,{children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Change Password"}),t.jsxs("form",{onSubmit:g=>x(g,"password"),className:"space-y-4",children:[t.jsx(Be,{label:"Current Password",type:"password",name:"currentPassword",value:o.currentPassword,onChange:h,placeholder:"Enter your current password",icon:t.jsx(ps,{}),error:d.currentPassword}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Be,{label:"New Password",type:"password",name:"newPassword",value:o.newPassword,onChange:h,placeholder:"Enter new password",icon:t.jsx(ps,{}),error:d.newPassword}),t.jsx(Be,{label:"Confirm New Password",type:"password",name:"confirmPassword",value:o.confirmPassword,onChange:h,placeholder:"Confirm new password",icon:t.jsx(ps,{}),error:d.confirmPassword})]}),t.jsx("div",{className:"mt-4",children:t.jsx(ue,{type:"submit",variant:"primary",isLoading:e,icon:t.jsx(Po,{}),children:"Update Password"})})]})]}),t.jsxs(Br,{children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Notification Preferences"}),t.jsxs("form",{onSubmit:g=>x(g,"notifications"),className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"notifyAssignments",name:"notifyAssignments",checked:o.notifyAssignments,onChange:h,className:"mr-3 h-4 w-4",style:{accentColor:"var(--brand-primary)"}}),t.jsx("label",{htmlFor:"notifyAssignments",style:{color:"var(--text-primary)"},children:"New delivery assignments"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"notifyStatus",name:"notifyStatus",checked:o.notifyStatus,onChange:h,className:"mr-3 h-4 w-4",style:{accentColor:"var(--brand-primary)"}}),t.jsx("label",{htmlFor:"notifyStatus",style:{color:"var(--text-primary)"},children:"Delivery status updates"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"notifyReviews",name:"notifyReviews",checked:o.notifyReviews,onChange:h,className:"mr-3 h-4 w-4",style:{accentColor:"var(--brand-primary)"}}),t.jsx("label",{htmlFor:"notifyReviews",style:{color:"var(--text-primary)"},children:"Customer reviews and ratings"})]})]}),t.jsx("div",{className:"mt-4",children:t.jsx(ue,{type:"submit",variant:"primary",isLoading:e,icon:t.jsx(Po,{}),children:"Save Preferences"})})]})]})]})]})})},hM=({title:e,value:r,icon:a,change:i,isPositive:o,color:c})=>t.jsxs("div",{className:"p-6 rounded-lg transition-all duration-300 hover:shadow-lg relative overflow-hidden",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[t.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 rounded-full opacity-10",style:{backgroundColor:c}}),t.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[t.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${c}15`,color:c},children:a}),t.jsxs("div",{className:`flex items-center text-sm font-medium px-2.5 py-1 rounded-full ${o?"bg-green-100":"bg-red-100"}`,style:{color:o?"var(--success-color)":"var(--error-color)"},children:[o?t.jsx(d2,{className:"mr-1",size:14}):t.jsx(fp,{className:"mr-1",size:14}),i]})]}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:e}),t.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:r})]})]}),fM=()=>{const[e,r]=w.useState("all"),a=[{id:"#ORD-7931",customer:"Rahul Sharma",date:"2023-05-15",amount:24990,status:"delivered",items:3},{id:"#ORD-7930",customer:"Priya Singh",date:"2023-05-15",amount:16499,status:"processing",items:2},{id:"#ORD-7929",customer:"Amit Kumar",date:"2023-05-14",amount:54990,status:"shipped",items:1},{id:"#ORD-7928",customer:"Neha Verma",date:"2023-05-14",amount:6999,status:"cancelled",items:1},{id:"#ORD-7927",customer:"Vivek Gupta",date:"2023-05-13",amount:12499,status:"delivered",items:4}],i=c=>{switch(c){case"delivered":return{bgColor:"rgba(16, 185, 129, 0.15)",textColor:"var(--success-color)",icon:t.jsx(Mt,{size:14})};case"processing":return{bgColor:"rgba(245, 158, 11, 0.15)",textColor:"var(--warning-color)",icon:t.jsx(Ar,{size:14})};case"shipped":return{bgColor:"rgba(59, 130, 246, 0.15)",textColor:"var(--info-color)",icon:t.jsx(lt,{size:14})};case"cancelled":return{bgColor:"rgba(239, 68, 68, 0.15)",textColor:"var(--error-color)",icon:t.jsx(Bd,{size:14})};default:return{bgColor:"rgba(107, 114, 128, 0.15)",textColor:"var(--text-secondary)",icon:t.jsx(Ar,{size:14})}}},o=e==="all"?a:a.filter(c=>c.status===e);return t.jsxs("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Recent Orders"}),t.jsxs("div",{className:"flex flex-wrap items-center space-x-2 mt-2 sm:mt-0",children:[t.jsxs("div",{className:"relative rounded-md",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(br,{className:"h-4 w-4",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:"text",placeholder:"Search orders...",className:"py-1.5 pl-9 pr-4 block w-full text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"}})]}),t.jsxs("select",{value:e,onChange:c=>r(c.target.value),className:"py-1.5 px-3 text-sm border rounded-md appearance-none bg-white",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("option",{value:"all",children:"All Orders"}),t.jsx("option",{value:"delivered",children:"Delivered"}),t.jsx("option",{value:"processing",children:"Processing"}),t.jsx("option",{value:"shipped",children:"Shipped"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Order ID"}),t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Customer"}),t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Amount"}),t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:o.map(c=>{var m;const d=i(c.status);return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"py-4 text-sm font-medium",style:{color:"var(--text-primary)"},children:c.id}),t.jsx("td",{className:"py-4 text-sm",style:{color:"var(--text-primary)"},children:c.customer}),t.jsx("td",{className:"py-4 text-sm",style:{color:"var(--text-secondary)"},children:new Date(c.date).toLocaleDateString()}),t.jsxs("td",{className:"py-4 text-sm font-medium",style:{color:"var(--text-primary)"},children:["₹",(m=c.amount)==null?void 0:m.toLocaleString()]}),t.jsx("td",{className:"py-4",children:t.jsxs("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:d.bgColor,color:d.textColor},children:[t.jsx("span",{className:"mr-1.5",children:d.icon}),c.status.charAt(0).toUpperCase()+c.status.slice(1)]})}),t.jsx("td",{className:"py-4 text-right",children:t.jsxs("button",{className:"flex items-center text-xs",style:{color:"var(--brand-primary)"},children:["Details",t.jsx(St,{size:14,className:"ml-1"})]})})]},c.id)})})]})}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md transition-all duration-200",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:["View All Orders",t.jsx(St,{size:16,className:"ml-1"})]})})]})},pM=()=>{const[e,r]=w.useState("yearly");return t.jsxs("div",{className:"p-6 rounded-lg h-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Sales Overview"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total sales and revenue"})]}),t.jsxs("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[t.jsxs("div",{className:"border rounded-md flex items-center px-3 py-1.5",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:[t.jsx(fa,{size:14,className:"mr-2"}),t.jsxs("select",{value:e,onChange:a=>r(a.target.value),className:"text-sm bg-transparent border-none outline-none appearance-none pr-6",style:{color:"var(--text-primary)"},children:[t.jsx("option",{value:"weekly",children:"Weekly"}),t.jsx("option",{value:"monthly",children:"Monthly"}),t.jsx("option",{value:"yearly",children:"Yearly"})]}),t.jsx(u2,{size:14,className:"ml-1"})]}),t.jsxs("button",{className:"border rounded-md px-3 py-1.5 flex items-center text-sm",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:[t.jsx(bs,{size:14,className:"mr-2"}),"Export"]})]})]}),t.jsx("div",{className:"h-64 flex items-center justify-center mb-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-full h-48 rounded-lg mb-4 overflow-hidden relative",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"flex justify-between absolute left-0 right-0 bottom-0 px-4",children:[[...Array(6)].map((a,i)=>t.jsx("div",{className:"w-12 rounded-t-lg",style:{height:`${Math.random()*100+20}px`,backgroundColor:"var(--brand-primary)",opacity:.8}},i)),[...Array(6)].map((a,i)=>t.jsx("div",{className:"w-12 rounded-t-lg",style:{height:`${Math.random()*80+40}px`,backgroundColor:"var(--brand-secondary)",opacity:.7}},i+6))]})}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"(This is a placeholder for an actual chart component)"})]})}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Sales"}),t.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"₹425,652"}),t.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"+8.5% vs last period"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Orders"}),t.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"1,482"}),t.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"+5.2% vs last period"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Average Order"}),t.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"₹28,720"}),t.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"+2.8% vs last period"})]})]})]})},xM=()=>{const[e,r]=w.useState("monthly"),a=[{id:1,name:"Apple iPhone 13 Pro",image:"https://via.placeholder.com/50",sales:42,revenue:378e4,growth:"+12.5%"},{id:2,name:"Samsung Galaxy S22",image:"https://via.placeholder.com/50",sales:38,revenue:285e4,growth:"+8.3%"},{id:3,name:"OnePlus 10 Pro",image:"https://via.placeholder.com/50",sales:31,revenue:186e4,growth:"+15.7%"},{id:4,name:"Xiaomi 12 Pro",image:"https://via.placeholder.com/50",sales:27,revenue:1485e3,growth:"+6.2%"}];return t.jsxs("div",{className:"p-6 rounded-lg h-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Top Products"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:`px-3 py-1 text-xs rounded-full transition-all ${e==="weekly"?"font-medium":""}`,style:{backgroundColor:e==="weekly"?"var(--bg-accent-light)":"var(--bg-secondary)",color:e==="weekly"?"var(--brand-primary)":"var(--text-secondary)"},onClick:()=>r("weekly"),children:"Weekly"}),t.jsx("button",{className:`px-3 py-1 text-xs rounded-full transition-all ${e==="monthly"?"font-medium":""}`,style:{backgroundColor:e==="monthly"?"var(--bg-accent-light)":"var(--bg-secondary)",color:e==="monthly"?"var(--brand-primary)":"var(--text-secondary)"},onClick:()=>r("monthly"),children:"Monthly"})]})]}),t.jsx("div",{className:"space-y-4",children:a.map(i=>t.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-all duration-200",style:{borderRadius:"var(--rounded-md)"},children:[t.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white flex-shrink-0 flex items-center justify-center shadow-sm",style:{borderRadius:"var(--rounded-md)"},children:t.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"ml-3 flex-1",children:[t.jsx("h3",{className:"font-medium text-sm line-clamp-1",style:{color:"var(--text-primary)"},children:i.name}),t.jsxs("div",{className:"flex items-center mt-1",children:[t.jsxs("div",{className:"flex items-center text-xs mr-4",style:{color:"var(--text-secondary)"},children:[t.jsx(Me,{size:12,className:"mr-1"}),t.jsxs("span",{children:[i.sales," sold"]})]}),t.jsx("div",{className:"text-xs font-medium",style:{color:"var(--success-color)"},children:i.growth})]})]}),t.jsx("button",{className:"ml-2 p-2 rounded-full hover:bg-gray-100 transition-all duration-200",style:{color:"var(--brand-primary)"},children:t.jsx(pi,{size:18})})]},i.id))}),t.jsx("button",{className:"w-full mt-4 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:"View All Products"})]})},ea=(e,r="status")=>e.reduce((a,i)=>{const o=i[r];return a[o]=(a[o]||0)+1,a},{}),Gr=Kt(Jp((e,r)=>({dashboard:{stats:[],salesData:[],topProducts:[],recentOrders:[],loading:!1},orders:{list:[],loading:!1,statusCounts:{},error:null},users:{list:[],loading:!1,statusCounts:{},error:null},products:{list:[],loading:!1,error:null},returns:{list:[],loading:!1,statusCounts:{}},deliveryPartners:{list:[],loading:!1,error:null},getUserById:async a=>{try{return(await _e.get(`/admin/users/${a}/`)).data.user}catch(i){return console.error(`Failed to fetch user ${a}:`,i),null}},getProductById:async a=>{try{return(await _e.get(`/admin/products/${a}/`)).data.product}catch(i){return console.error(`Failed to fetch product ${a}:`,i),null}},userCache:new Map,productCache:new Map,getCachedUser:async a=>{const i=r().userCache.get(a);if(i)return i;const o=await r().getUserById(a);return o&&e(c=>{const d=new Map(c.userCache);return d.set(a,o),{userCache:d}}),o},getCachedProduct:async a=>{const i=r().productCache.get(a);if(i)return i;const o=await r().getProductById(a);return o&&e(c=>{const d=new Map(c.productCache);return d.set(a,o),{productCache:d}}),o},fetchDashboardData:async()=>{e(a=>({dashboard:{...a.dashboard,loading:!0}}));try{const a=[{title:"Total Sales",value:"₹125,430",change:"+12.5%",isPositive:!0},{title:"New Orders",value:"42",change:"+8.2%",isPositive:!0},{title:"New Customers",value:"18",change:"+5.7%",isPositive:!0},{title:"Low Stock Items",value:"7",change:"-2.3%",isPositive:!1}],i=[{id:1,name:"Smartphone X",sales:145,revenue:14500},{id:2,name:"Laptop Pro",sales:98,revenue:78400},{id:3,name:"Wireless Headphones",sales:82,revenue:4100},{id:4,name:"Smart Watch",sales:65,revenue:9750},{id:5,name:"HD Camera",sales:49,revenue:7350}],c=(await _e.get("/admin/get_all_orders")).data.orders.slice(0,5);e({dashboard:{stats:a,salesData:[{month:"Jan",sales:4e3},{month:"Feb",sales:6e3},{month:"Mar",sales:8e3},{month:"Apr",sales:7500},{month:"May",sales:12e3},{month:"Jun",sales:9800}],topProducts:i,recentOrders:c,loading:!1}})}catch(a){e(i=>{var o,c;return{dashboard:{...i.dashboard,loading:!1,error:((c=(o=a.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch dashboard data"}}})}},fetchOrders:async()=>{e(a=>({orders:{...a.orders,loading:!0,error:null}}));try{const i=(await _e.get("/admin/get_all_orders")).data.orders,o=ea(i);e({orders:{list:i,statusCounts:o,loading:!1,error:null}})}catch(a){e(i=>{var o,c;return{orders:{...i.orders,loading:!1,error:((c=(o=a.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch orders"}}})}},updateOrderStatus:async(a,i)=>{e(o=>({orders:{...o.orders,loading:!0,error:null}}));try{const o=await _e.put(`/admin/order/edit/${a}/`,{status:i});(o.data.message||o.status===200)&&e(c=>{const d=c.orders.list.map(h=>h.order_id===a?{...h,status:i}:h),m=ea(d);return{orders:{list:d,statusCounts:m,loading:!1,error:null}}})}catch(o){e(c=>{var d,m;return{orders:{...c.orders,loading:!1,error:((m=(d=o.response)==null?void 0:d.data)==null?void 0:m.error)||"Failed to update order status"}}})}},editOrder:async(a,i,o)=>{e(c=>({orders:{...c.orders,loading:!0,error:null}}));try{const c=await _e.put(`/admin/users/${a}/orders/${i}/edit/`,o);if(c.data.message||c.status===200)return e(d=>{const m=d.orders.list.map(h=>h.order_id===i?{...h,...o}:h);return{orders:{list:m,statusCounts:ea(m),loading:!1,error:null}}}),c.data}catch(c){throw e(d=>{var m,h;return{orders:{...d.orders,loading:!1,error:((h=(m=c.response)==null?void 0:m.data)==null?void 0:h.error)||"Failed to edit order"}}}),c}},assignOrderToDeliveryPartner:async(a,i,o)=>{var c,d;if(!o){const m="Partner ID is required. Please select a delivery partner.";throw e(h=>({orders:{...h.orders,loading:!1,error:m}})),console.error(m),new Error(m)}e(m=>({orders:{...m.orders,loading:!0,error:null}}));try{const m=await _e.post(`/admin/users/${a}/orders/${i}/assign-partner/`,{partner_id:o});if(m.data.message||m.status===200)return e(h=>{const f=h.orders.list.map(g=>g.order_id===i?{...g,assigned_partner_id:o,delivery_status:"assigned",status:"assigned"}:g),x=ea(f);return{orders:{list:f,statusCounts:x,loading:!1,error:null}}}),m.data}catch(m){const h=((d=(c=m.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to assign delivery partner";throw e(f=>({orders:{...f.orders,loading:!1,error:h}})),console.error("Error in assignOrderToDeliveryPartner:",m),m}},fetchProducts:async()=>{e(a=>({products:{...a.products,loading:!0,error:null}}));try{const i=(await _e.get("/admin/get_all_products")).data.products;e({products:{list:i,loading:!1,error:null}})}catch(a){e(i=>{var o,c;return{products:{...i.products,loading:!1,error:((c=(o=a.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch products"}}})}},updateProduct:async(a,i)=>{e(o=>({products:{...o.products,loading:!0,error:null}}));try{(await _e.post("/admin/update_product",{product_id:a,...i})).data.success&&e(c=>({products:{list:c.products.list.map(m=>m.id===a?{...m,...i}:m),loading:!1,error:null}}))}catch(o){e(c=>{var d,m;return{products:{...c.products,loading:!1,error:((m=(d=o.response)==null?void 0:d.data)==null?void 0:m.error)||"Failed to update product"}}})}},addProduct:async a=>{e(i=>({products:{...i.products,loading:!0,error:null}}));try{const i=await _e.post("/admin/add_product",a);i.data.success&&e(o=>({products:{list:[...o.products.list,i.data.product],loading:!1,error:null}}))}catch(i){e(o=>{var c,d;return{products:{...o.products,loading:!1,error:((d=(c=i.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to add product"}}})}},deleteProduct:async a=>{e(i=>({products:{...i.products,loading:!0,error:null}}));try{(await _e.delete(`/admin/delete_product/${a}`)).data.success&&e(o=>({products:{list:o.products.list.filter(c=>c.id!==a),loading:!1,error:null}}))}catch(i){e(o=>{var c,d;return{products:{...o.products,loading:!1,error:((d=(c=i.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to delete product"}}})}},fetchUsers:async()=>{e(a=>({users:{...a.users,loading:!0,error:null}}));try{const i=(await _e.get("/admin/get_all_users")).data.users,o=ea(i,"status");e({users:{list:i,statusCounts:o,loading:!1,error:null}})}catch(a){e(i=>{var o,c;return{users:{...i.users,loading:!1,error:((c=(o=a.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch users"}}})}},updateUserStatus:async a=>{e(i=>({users:{...i.users,loading:!0,error:null}}));try{const i=await _e.patch(`/admin/users/ban/${a}/`);i.data.message&&e(o=>{const c=o.users.list.map(m=>m.id===a?{...m,is_banned:i.data.is_banned,status:i.data.is_banned?"banned":"active"}:m),d=ea(c,"status");return{users:{list:c,statusCounts:d,loading:!1,error:null}}})}catch(i){e(o=>{var c,d;return{users:{...o.users,loading:!1,error:((d=(c=i.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to update user status"}}})}},updateUserRole:async(a,i)=>{e(o=>({users:{...o.users,loading:!0,error:null}}));try{(await _e.post("/admin/update_user_role",{user_id:a,role:i})).data.success&&e(c=>{const d=c.users.list.map(m=>m.id===a?{...m,role:i}:m);return{users:{...c.users,list:d,loading:!1,error:null}}})}catch(o){e(c=>{var d,m;return{users:{...c.users,loading:!1,error:((m=(d=o.response)==null?void 0:d.data)==null?void 0:m.error)||"Failed to update user role"}}})}},fetchReturns:async()=>{e(c=>({returns:{...c.returns,loading:!0}}));const i=[{id:"RET-001",orderId:"ORD-12345",customer:"John Smith",requestDate:"2023-05-10",status:"pending",refundAmount:49.99},{id:"RET-002",orderId:"ORD-12346",customer:"Jane Doe",requestDate:"2023-05-12",status:"approved",refundAmount:89.99},{id:"RET-003",orderId:"ORD-12347",customer:"Mike Johnson",requestDate:"2023-05-15",status:"rejected",refundAmount:159.97}],o=ea(i);e({returns:{list:i,statusCounts:o,loading:!1}})},updateReturnStatus:async(a,i)=>{e(o=>({returns:{...o.returns,loading:!0}})),e(o=>{const c=o.returns.list.map(m=>m.id===a?{...m,status:i}:m),d=ea(c);return{returns:{list:c,statusCounts:d,loading:!1}}})},fetchDeliveryPartners:async()=>{e(a=>({deliveryPartners:{...a.deliveryPartners,loading:!0,error:null}}));try{const a=await _e.get("/partners/all/");return e({deliveryPartners:{list:a.data.partners,loading:!1,error:null}}),a.data.partners}catch(a){throw e(i=>{var o,c;return{deliveryPartners:{...i.deliveryPartners,loading:!1,error:((c=(o=a.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch delivery partners"}}}),a}},verifyDeliveryPartner:async a=>{e(i=>({deliveryPartners:{...i.deliveryPartners,loading:!0,error:null}}));try{const i=await _e.patch(`/partners/verify/${a}/`,{});return e(o=>({deliveryPartners:{list:o.deliveryPartners.list.map(d=>d.partner_id===a?{...d,is_verified:!0}:d),loading:!1,error:null}})),i.data}catch(i){throw e(o=>{var c,d;return{deliveryPartners:{...o.deliveryPartners,loading:!1,error:((d=(c=i.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to verify delivery partner"}}}),i}},assignDeliveryPartner:async(a,i)=>{e(o=>({deliveryPartners:{...o.deliveryPartners,loading:!0,error:null}}));try{const o=await _e.post("/admin/assign_delivery_partner/",{order_id:a,partner_id:i});return await Gr.getState().fetchOrders(),e(c=>({deliveryPartners:{...c.deliveryPartners,loading:!1}})),o.data}catch(o){throw e(c=>{var d,m;return{deliveryPartners:{...c.deliveryPartners,loading:!1,error:((m=(d=o.response)==null?void 0:d.data)==null?void 0:m.error)||"Failed to assign delivery partner"}}}),o}}}))),yM=()=>{const{dashboard:e,fetchDashboardData:r}=Gr(),{stats:a,loading:i}=e,o=a.map((c,d)=>{const m=[t.jsx(V5,{size:24}),t.jsx(js,{size:24}),t.jsx(gp,{size:24}),t.jsx(Me,{size:24})],h=["var(--brand-primary)","var(--brand-secondary)","var(--success-color)","var(--error-color)"];return{...c,icon:m[d],color:h[d]}});return w.useEffect(()=>{r()},[r]),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Dashboard"}),t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"text-sm font-medium mr-4",style:{color:"var(--text-secondary)"},children:["Last updated: ",new Date().toLocaleString()]}),t.jsx(ue,{variant:"secondary",size:"sm",fullWidth:!1,onClick:r,isLoading:i,icon:t.jsx(an,{size:16}),children:i?"Refreshing...":"Refresh"})]})]})," ",t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:i?[...Array(4)].map((c,d)=>t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),t.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"})]}),t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]},d)):o.map((c,d)=>t.jsx(hM,{...c},d))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[t.jsx("div",{className:"lg:col-span-2",children:i?t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-72",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),t.jsx("div",{className:"h-56 bg-gray-200 rounded w-full"})]}):t.jsx(pM,{})}),t.jsx("div",{children:i?t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-72",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),t.jsx("div",{className:"space-y-3",children:[...Array(5)].map((c,d)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded mr-3"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4 mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},d))})]}):t.jsx(xM,{})})]}),t.jsx("div",{children:i?t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4 mb-6"}),t.jsx("div",{className:"h-10 bg-gray-200 rounded w-full mb-4"}),t.jsx("div",{className:"space-y-3",children:[...Array(5)].map((c,d)=>t.jsx("div",{className:"h-12 bg-gray-200 rounded w-full"},d))})]}):t.jsx(fM,{})})]})},yr=Kt((e,r)=>({products:{list:[],filteredList:null,loading:!1,error:null},fetchProducts:async()=>{e(a=>({products:{...a.products,loading:!0,error:null}}));try{const i=(await _e.get("/admin/get_all_products")).data.products;e({products:{list:i,filteredList:null,loading:!1,error:null}})}catch(a){e(i=>{var o,c;return{products:{...i.products,loading:!1,error:((c=(o=a.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch products"}}})}},deleteProduct:async a=>{var i,o;e(c=>({products:{...c.products,loading:!0,error:null}}));try{const c=await _e.delete(`/admin/delete-product/${a}/`);if(c.status===200)return e(d=>({products:{...d.products,list:d.products.list.filter(m=>m.id!==a),filteredList:d.products.filteredList?d.products.filteredList.filter(m=>m.id!==a):null,loading:!1,error:null}})),{success:!0,message:c.data.message}}catch(c){return e(d=>{var m,h;return{products:{...d.products,loading:!1,error:((h=(m=c.response)==null?void 0:m.data)==null?void 0:h.error)||"Failed to delete product"}}}),{success:!1,message:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to delete product"}}},toggleProductFeatured:async a=>{var i,o;e(c=>({products:{...c.products,loading:!0,error:null}}));try{const c=await _e.patch(`/admin/toggle-featured/${a}/`);if(c.status===200){const d=m=>m.map(h=>h.id===a?{...h,featured:c.data.featured}:h);return e(m=>({products:{...m.products,list:d(m.products.list),filteredList:m.products.filteredList?d(m.products.filteredList):null,loading:!1,error:null}})),{success:!0,message:c.data.message,featured:c.data.featured}}}catch(c){return e(d=>{var m,h;return{products:{...d.products,loading:!1,error:((h=(m=c.response)==null?void 0:m.data)==null?void 0:h.error)||"Failed to update featured status"}}}),{success:!1,message:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to update featured status"}}},updateProduct:async(a,i)=>{var o,c,d;e(m=>({products:{...m.products,loading:!0,error:null}}));try{const m=await _e.patch(`/admin/products/edit/${a}/`,i);if(m.status===200){const h=f=>f.map(x=>x.id===a?{...x,...i}:x);return e(f=>({products:{...f.products,list:h(f.products.list),filteredList:f.products.filteredList?h(f.products.filteredList):null,loading:!1,error:null}})),e(f=>({products:{...f.products,list:h(f.products.list),filteredList:f.products.filteredList?h(f.products.filteredList):null,loading:!1,error:null}})),{success:!0,message:m.data.message||"Product updated successfully",product_id:m.data.product_id||a}}}catch(m){const h=((c=(o=m.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to update product";return e(f=>({products:{...f.products,loading:!1,error:h}})),{success:!1,message:h,status:(d=m.response)==null?void 0:d.status}}},addProduct:async a=>{var i,o,c;e(d=>({products:{...d.products,loading:!0,error:null}}));try{const d=await _e.post("admin/products/add/",a);if(d.status===201){const m={...a,id:d.data.product_id};return e(h=>({products:{...h.products,list:[...h.products.list,m],filteredList:h.products.filteredList?[...h.products.filteredList,m]:null,loading:!1,error:null}})),{success:!0,message:d.data.message||"Product added successfully",product_id:d.data.product_id}}}catch(d){const m=((o=(i=d.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to add product";return e(h=>({products:{...h.products,loading:!1,error:m}})),{success:!1,message:m,status:(c=d.response)==null?void 0:c.status}}},filterAndSortProducts:(a,i,o)=>{const{list:c}=r().products;if(!(a&&a!=="all"||i&&i.trim())&&o==="newest"){e(h=>({products:{...h.products,filteredList:null}}));return}let m=[...c];if(a&&a!=="all"&&(m=m.filter(h=>h.category.toLowerCase()===a.toLowerCase())),i&&i.trim()){const h=i.toLowerCase().trim();m=m.filter(f=>f.name.toLowerCase().includes(h)||f.brand.toLowerCase().includes(h)||f.description.toLowerCase().includes(h))}switch(o){case"newest":m.sort((h,f)=>new Date(f.createdAt||f.created_at||0)-new Date(h.createdAt||h.created_at||0));break;case"price-asc":m.sort((h,f)=>parseFloat(h.price)-parseFloat(f.price));break;case"price-desc":m.sort((h,f)=>parseFloat(f.price)-parseFloat(h.price));break;case"name-asc":m.sort((h,f)=>h.name.localeCompare(f.name));break;case"stock-asc":m.sort((h,f)=>parseInt(h.stock)-parseInt(f.stock));break}e(h=>({products:{...h.products,filteredList:m}}))},resetFilters:()=>{e(a=>({products:{...a.products,filteredList:null}}))},uploadProductImage:async a=>{var i,o;try{const c=new FormData;c.append("image",a);const d=await _e.post("/admin/products/upload-image/",c,{headers:{"Content-Type":"multipart/form-data"}});return d.data.success?{success:!0,imageUrl:d.data.image_url,message:d.data.message||"Image uploaded successfully"}:{success:!1,message:d.data.error||"Failed to upload image"}}catch(c){return{success:!1,message:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||c.message||"Failed to upload image"}}}})),gM=({onViewProduct:e,onEditProduct:r})=>{const{products:a,fetchProducts:i,deleteProduct:o,toggleProductFeatured:c}=yr(),{list:d,filteredList:m,loading:h}=a,f=m!==null?m:d,[x,g]=w.useState(!1),[v,j]=w.useState(!1),[b,C]=w.useState(null);w.useEffect(()=>{i()},[i]);const k=E=>{C(E),g(!0)},S=async()=>{b&&(await o(b.id),g(!1))},T=E=>{C(E),j(!0)},R=async()=>{b&&(await c(b.id),j(!1))};return t.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Category"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Price"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Stock"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Featured"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:h?t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"Loading products..."})}):f.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"No products found matching your filters."})}):f.map(E=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:t.jsx("img",{src:E.images&&E.images.length>0?E.images[0]:"https://via.placeholder.com/50",alt:E.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:E.name}),t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["ID: ",E.id]})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:E.category})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["₹",(E.discount_price||E.price).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm",style:{color:E.stock===0?"var(--error-color)":E.stock<10?"var(--warning-color)":"var(--text-primary)"},children:[E.stock," ",E.stock===1?"unit":"units"]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:t.jsx("button",{onClick:()=>T(E),className:"w-5 h-5 rounded-full flex items-center justify-center transition-colors duration-200",style:{backgroundColor:E.featured?"var(--brand-primary)":"var(--bg-secondary)",border:"1px solid",borderColor:E.featured?"var(--brand-primary)":"var(--border-secondary)",color:E.featured?"var(--text-on-brand)":"var(--text-secondary)"},children:E.featured?t.jsx(zt,{size:12}):null})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:E.stock>0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:E.stock>0?"var(--success-color)":"var(--error-color)"},children:E.stock>0?"Active":"Out of Stock"})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[" ",t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{onClick:()=>e(E),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},title:"View Product",children:t.jsx(pi,{size:16})}),t.jsx("button",{onClick:()=>r(E),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"Edit Product",children:t.jsx(ul,{size:16})}),t.jsx("button",{onClick:()=>k(E),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Product",children:t.jsx(bt,{size:16})})]})]})]},E.id))})]}),t.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",f.length," of ",d.length," products"]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Previous"}),t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"1"}),t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Next"})]})]})," ",x&&t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:"p-6 rounded-lg shadow-xl max-w-md w-full border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"mb-4 flex items-center",children:[t.jsx($r,{className:"mr-3",size:24,style:{color:"var(--error-color)"}}),t.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Confirm Deletion"})]}),t.jsxs("p",{className:"mb-6 text-sm",style:{color:"var(--text-secondary)"},children:['Are you sure you want to delete "',b==null?void 0:b.name,'"? This action cannot be undone.']}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[" ",t.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 border",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),t.jsx("button",{onClick:S,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200",style:{backgroundColor:"var(--error-color)",color:"white",borderRadius:"var(--rounded-md)"},children:"Delete"})]})]})})," ",v&&t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:"p-6 rounded-lg shadow-xl max-w-md w-full border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"mb-4 flex items-center",children:[t.jsx($r,{className:"mr-3",size:24,style:{color:"var(--brand-primary)"}}),t.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Confirm Featured Status Change"})]}),t.jsx("p",{className:"mb-6 text-sm",style:{color:"var(--text-secondary)"},children:b!=null&&b.featured?`Are you sure you want to remove "${b==null?void 0:b.name}" from featured products?`:`Are you sure you want to add "${b==null?void 0:b.name}" to featured products?`}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[" ",t.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 border",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),t.jsx("button",{onClick:R,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:b!=null&&b.featured?"Remove Featured":"Make Featured"})]})]})})]})},vM=({onClose:e,onSave:r})=>{const[a,i]=w.useState(1),[o,c]=w.useState(!1),{uploadProductImage:d}=yr(),[m,h]=w.useState({name:"",description:"",brand:"",category:"",price:"",discount_price:"",discount:"",stock:"",images:[],specifications:{},attributes:{},features:[],variant:{colors:[],storage:[]},featured:!1,rating:0,reviews:0}),f=async O=>{const A=O.target.files[0];if(A){c(!0);try{const M=await d(A);M.success?(h(X=>({...X,images:[...X.images,M.imageUrl].slice(0,5)})),de.info("Image uploaded successfully.")):de.error("Failed to upload image: "+M.message)}catch(M){console.error("Error uploading image:",M),de.error("Failed to upload image: "+M.message)}finally{c(!1)}}},x=O=>{const{name:A,value:M,type:X,checked:I}=O.target;h({...m,[A]:X==="checkbox"?I:M})},g=(O,A)=>{h({...m,specifications:{...m.specifications,[O]:A}})},v=()=>{h({...m,specifications:{...m.specifications,"":""}})},j=O=>{const A={...m.specifications};delete A[O],h({...m,specifications:A})},b=(O,A)=>{h({...m,attributes:{...m.attributes,[O]:A}})},C=(O,A,M)=>{h(X=>{if(O===A)return X;const I={...X.attributes};return Object.prototype.hasOwnProperty.call(I,A)?(de.error(`Attribute key "${A}" already exists. Please use a unique key.`),X):(delete I[O],I[A]=M,{...X,attributes:I})})},k=()=>{h(O=>{const A=O.attributes;let M="",X=M,I=0;for(;Object.prototype.hasOwnProperty.call(A,X);)I++,X=`${M}${I}`;return{...O,attributes:{...A,[X]:""}}})},S=O=>{const A={...m.attributes};delete A[O],h({...m,attributes:A})},T=(O,A)=>{const M=[...m.features];M[O]=A,h({...m,features:M})},R=()=>{h({...m,features:[...m.features,""]})},E=O=>{const A=m.features.filter((M,X)=>X!==O);h({...m,features:A})},D=(O,A,M)=>{const X={...m.variant};X[O][A]=M,h({...m,variant:X})},F=O=>{const A={...m.variant};A[O]=[...A[O]||[],""],h({...m,variant:A})},V=(O,A)=>{const M={...m.variant};M[O]=M[O].filter((X,I)=>I!==A),h({...m,variant:M})},q=O=>{O.preventDefault();const A={...m,price:parseFloat(m.price)||0,discount_price:parseFloat(m.discount_price)||0,stock:parseInt(m.stock,10)||0,rating:parseFloat(m.rating)||0,reviews:parseInt(m.reviews,10)||0};r&&r(A),e()};return t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:a===1?"Add New Product - Basic Information":"Add New Product - Details & Media"}),t.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 transition-colors",children:t.jsx(Qe,{size:24})})]}),t.jsx("form",{onSubmit:q,children:a===1?t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Product Name *"}),t.jsx("input",{type:"text",id:"name",name:"name",value:m.name,onChange:x,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Brand *"}),t.jsx("input",{type:"text",id:"brand",name:"brand",value:m.brand,onChange:x,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Category *"}),t.jsxs("select",{id:"category",name:"category",value:m.category,onChange:x,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx("option",{value:"",children:"Select a category"}),t.jsx("option",{value:"Smartphone",children:"Smartphone"}),t.jsx("option",{value:"Laptop",children:"Laptop"}),t.jsx("option",{value:"Tablet",children:"Tablet"}),t.jsx("option",{value:"TV",children:"TV"}),t.jsx("option",{value:"Accessories",children:"Accessories"}),t.jsx("option",{value:"Audio",children:"Audio"}),t.jsx("option",{value:"Wearables",children:"Wearables"}),t.jsx("option",{value:"Gaming",children:"Gaming"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"MRP (₹) *"}),t.jsx("input",{type:"number",id:"price",name:"price",value:m.price,onChange:x,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"discount_price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Selling Price (₹) *"}),t.jsx("input",{type:"number",id:"discount_price",name:"discount_price",value:m.discount_price,onChange:x,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Discount %"}),t.jsx("input",{type:"text",id:"discount",name:"discount",value:m.discount,onChange:x,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Stock Quantity *"}),t.jsx("input",{type:"number",id:"stock",name:"stock",value:m.stock,onChange:x,required:!0,min:"0",step:"1",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Description *"}),t.jsx("textarea",{id:"description",name:"description",value:m.description,onChange:x,required:!0,rows:"4",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),t.jsx("div",{className:"flex justify-end pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),t.jsx("button",{type:"button",onClick:()=>i(2),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Next: Details & Images"})]})})]}):t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Key Features"}),t.jsxs("button",{type:"button",onClick:R,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(vt,{size:14,className:"mr-1"})," Add Feature"]})]}),m.features.map((O,A)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:O,onChange:M=>T(A,M.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Enter feature"}),t.jsx("button",{type:"button",onClick:()=>E(A),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(bt,{size:16})})]},A))]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Specifications"}),t.jsxs("button",{type:"button",onClick:v,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(vt,{size:14,className:"mr-1"})," Add Specification"]})]}),Object.entries(m.specifications).map(([O,A],M)=>t.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[t.jsx("input",{type:"text",value:O,onChange:X=>{const I={...m.specifications},ae=I[O];delete I[O],h({...m,specifications:{...I,[X.target.value]:ae}})},className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification name"}),t.jsx("input",{type:"text",value:A,onChange:X=>g(O,X.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification value"}),t.jsx("button",{type:"button",onClick:()=>j(O),className:"p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(bt,{size:16})})]},M))," "]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Attributes"}),t.jsxs("button",{type:"button",onClick:k,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(vt,{size:14,className:"mr-1"})," Add Attribute"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-semibold",style:{color:"var(--text-secondary)"},children:"Attributes"}),Object.entries(m.attributes).map(([O,A])=>t.jsx(bM,{initialKey:O,initialValue:A,onKeyCommit:C,onValueChange:b,onDelete:S,styleProps:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}},O)),t.jsxs("button",{type:"button",onClick:k,className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-700",children:[t.jsx(vt,{})," Add Attribute"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Available Colors"}),t.jsxs("button",{type:"button",onClick:()=>F("colors"),className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(vt,{size:14,className:"mr-1"})," Add Color"]})]}),m.variant.colors.map((O,A)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:O,onChange:M=>D("colors",A,M.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color name"}),t.jsx("button",{type:"button",onClick:()=>V("colors",A),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(bt,{size:16})})]},A))]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Storage Options"}),t.jsxs("button",{type:"button",onClick:()=>F("storage"),className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(vt,{size:14,className:"mr-1"})," Add Storage Option"]})]}),m.variant.storage.map((O,A)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:O,onChange:M=>D("storage",A,M.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage option"}),t.jsx("button",{type:"button",onClick:()=>V("storage",A),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(bt,{size:16})})]},A))]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Images"}),t.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-3",children:[m.images.map((O,A)=>t.jsxs("div",{className:"relative aspect-square border rounded-md overflow-hidden",style:{borderColor:"var(--border-primary)"},children:[t.jsx("img",{src:O,alt:`Product ${A+1}`,className:"w-full h-full object-cover"}),t.jsx("button",{type:"button",onClick:()=>{const M=[...m.images];M.splice(A,1),h({...m,images:M})},className:"absolute top-0 right-0 p-1 bg-black bg-opacity-50 text-white rounded-bl-md",children:t.jsx(Qe,{size:12})})]},A))," ",m.images.length<5&&t.jsxs("div",{className:"aspect-square border rounded-md flex items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-primary)",borderStyle:"dashed"},onClick:()=>document.getElementById("image-upload").click(),children:[t.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:f,className:"hidden"}),t.jsxs("div",{className:"flex flex-col items-center",children:[o?t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):t.jsx(pp,{size:20,style:{color:"var(--text-secondary)"}}),t.jsx("span",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:o?"Uploading...":"Add Image"})]})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:m.featured,onChange:x,className:"mr-2"}),t.jsx("label",{htmlFor:"featured",className:"text-sm",style:{color:"var(--text-primary)"},children:"Featured product (show on homepage)"})]})]}),t.jsxs("div",{className:"flex justify-between pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsx("button",{type:"button",onClick:()=>i(1),className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Back"}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Add Product"})]})]})]})})]})})},bM=({initialKey:e,initialValue:r,onKeyCommit:a,onValueChange:i,onDelete:o,styleProps:c})=>{const[d,m]=w.useState(e),[h,f]=w.useState(r);w.useEffect(()=>{m(e)},[e]),w.useEffect(()=>{f(r)},[r]);const x=b=>{m(b.target.value)},g=()=>{d!==e&&a(e,d,h)},v=b=>{f(b.target.value)},j=()=>{h!==r&&i(e,h)};return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",value:d,onChange:x,onBlur:g,placeholder:"Attribute Name",className:"w-1/2 p-2 border rounded-md text-sm",style:c}),t.jsx("input",{type:"text",value:h,onChange:v,onBlur:j,placeholder:"Attribute Value",className:"w-1/2 p-2 border rounded-md text-sm",style:c}),t.jsx("button",{type:"button",onClick:()=>o(e),className:"p-2 text-red-500 hover:text-red-700",children:t.jsx(bt,{})})]})},jM=({onClose:e})=>{const{isOpen:r,modalConfig:a,isLoading:i,showConfirm:o,hideConfirm:c,handleConfirm:d}=ji(),[m,h]=w.useState([{id:1,name:"Smartphones",slug:"smartphones",description:"Mobile phones and smartphones",productCount:28},{id:2,name:"Laptops",slug:"laptops",description:"Laptops and notebooks",productCount:15},{id:3,name:"Tablets",slug:"tablets",description:"Tablets and iPads",productCount:9},{id:4,name:"Accessories",slug:"accessories",description:"Mobile and laptop accessories",productCount:42},{id:5,name:"Audio",slug:"audio",description:"Headphones, earbuds, and speakers",productCount:23}]),[f,x]=w.useState(!1),[g,v]=w.useState({id:null,name:"",slug:"",description:""}),j=E=>E.toLowerCase().replace(/\s+/g,"-"),b=E=>{const D=E.target.value;v({...g,name:D,slug:j(D)})},C=E=>{v({...g,description:E.target.value})},k=()=>{if(g.name.trim()){if(f)h(m.map(E=>E.id===g.id?{...g,productCount:E.productCount}:E));else{const E=Math.max(...m.map(D=>D.id))+1;h([...m,{...g,id:E,productCount:0}])}v({id:null,name:"",slug:"",description:""}),x(!1)}},S=E=>{v(E),x(!0)},T=()=>{v({id:null,name:"",slug:"",description:""}),x(!1)},R=E=>{const D=m.find(F=>F.id===E);o({title:"Delete Category",message:`Are you sure you want to delete "${D==null?void 0:D.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{try{h(m.filter(F=>F.id!==E)),de.success("Category deleted successfully")}catch(F){console.error("Error deleting category:",F),de.error("Failed to delete category")}}})};return t.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",style:{backdropFilter:"blur(4px)"},children:[t.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Category Management"}),t.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 transition-colors",children:t.jsx(Qe,{size:24})})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-lg)"},children:[t.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:f?"Edit Category":"Add New Category"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"category-name",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Category Name"}),t.jsx("input",{type:"text",id:"category-name",value:g.name,onChange:b,className:"w-full p-2 border rounded-md",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"e.g. Smartphones"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"category-slug",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Slug (Auto-generated)"}),t.jsx("input",{type:"text",id:"category-slug",value:g.slug,readOnly:!0,className:"w-full p-2 border rounded-md bg-gray-50",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",backgroundColor:"var(--bg-secondary)"},placeholder:"e.g. smartphones"})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"category-description",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Description"}),t.jsx("textarea",{id:"category-description",value:g.description,onChange:C,className:"w-full p-2 border rounded-md",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"Brief description of the category",rows:"2"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[f&&t.jsx("button",{type:"button",onClick:T,className:"px-3 py-1.5 border rounded-md text-xs font-medium",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),t.jsxs("button",{type:"button",onClick:k,className:"px-4 py-1.5 rounded-md flex items-center text-xs font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[t.jsx(vt,{size:14,className:"mr-1"}),f?"Update Category":"Add Category"]})]})]}),t.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-lg)"},children:t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Products"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:m.map(E=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:E.name}),t.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:E.description})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:[E.productCount," products"]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{onClick:()=>S(E),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"Edit Category",children:t.jsx(ul,{size:16})}),t.jsx("button",{onClick:()=>R(E.id),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Category",disabled:E.productCount>0,children:t.jsx(bt,{size:16})})]})})]},E.id))})]})})]}),t.jsxs("div",{className:"p-6 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:[t.jsx("button",{onClick:e,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:"Close"})," "]})]}),t.jsx(nn,{isOpen:r,onClose:c,onConfirm:d,title:a.title,message:a.message,confirmText:a.confirmText,cancelText:a.cancelText,type:a.type,isLoading:i})]})},wM=({product:e,onClose:r,onEdit:a})=>{var i,o,c,d;return e?t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Product Details"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("button",{onClick:()=>a(e),className:"flex items-center px-3 py-1.5 rounded-md text-sm",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t.jsx(m2,{size:16,className:"mr-1"}),"Edit"]}),t.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",children:t.jsx(Qe,{size:24})})]})]}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("div",{className:"mb-3 aspect-square rounded-lg overflow-hidden",children:t.jsx("img",{src:((i=e.images)==null?void 0:i[0])||"https://via.placeholder.com/400",alt:e.name,className:"w-full h-full object-cover"})}),t.jsx("div",{className:"grid grid-cols-5 gap-2",children:(o=e.images)==null?void 0:o.slice(1).map((m,h)=>t.jsx("div",{className:"aspect-square rounded-md overflow-hidden",children:t.jsx("img",{src:m||"https://via.placeholder.com/80",alt:`${e.name} - ${h+2}`,className:"w-full h-full object-cover"})},h))})]}),t.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold mb-1",style:{color:"var(--text-primary)"},children:e.name}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsxs("span",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Brand: ",t.jsx("span",{className:"font-medium",children:e.brand})]}),t.jsx("span",{className:"mx-2",style:{color:"var(--border-primary)"},children:"|"}),t.jsxs("span",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Category:"," ",t.jsx("span",{className:"font-medium",children:e.category})]})]}),t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsxs("div",{className:"flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(Yr,{className:"fill-current"}),t.jsx("span",{className:"ml-1",children:e.rating})]}),t.jsxs("span",{className:"mx-2 text-sm",style:{color:"var(--text-secondary)"},children:[e.reviews," reviews"]})]}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsxs("span",{className:"text-2xl font-bold mr-3",style:{color:"var(--text-primary)"},children:["₹",(c=e.discount_price)==null?void 0:c.toLocaleString()]}),e.discount&&t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-lg line-through mr-2",style:{color:"var(--text-secondary)"},children:["₹",(d=e.price)==null?void 0:d.toLocaleString()]}),t.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:[e.discount," OFF"]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("span",{className:"text-sm font-medium mb-1 block",style:{color:"var(--text-secondary)"},children:"Stock:"}),t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"px-2 py-1 rounded text-sm font-medium",style:{backgroundColor:e.stock>0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:e.stock>0?"var(--success-color)":"var(--error-color)"},children:e.stock>0?`${e.stock} in stock`:"Out of stock"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Description"}),t.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:e.description})]}),e.features&&e.features.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Key Features"}),t.jsx("ul",{className:"list-disc pl-5 text-sm space-y-1",style:{color:"var(--text-secondary)"},children:e.features.map((m,h)=>t.jsx("li",{children:m},h))})]})," ",e.specifications&&Object.keys(e.specifications).length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Specifications"}),t.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(e.specifications).map(([m,h])=>t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"font-medium capitalize",style:{color:"var(--text-primary)"},children:[m.replace(/([A-Z])/g," $1").trim(),":"]}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:h})]},m))})]}),e.attributes&&Object.keys(e.attributes).length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Attributes"}),t.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(e.attributes).map(([m,h])=>t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"font-medium capitalize",style:{color:"var(--text-primary)"},children:[m.replace(/([A-Z])/g," $1").trim(),":"]}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:h})]},m))})]}),e.variant&&t.jsxs("div",{className:"space-y-4",children:[e.variant.colors&&e.variant.colors.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Available Colors"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.variant.colors.map(m=>t.jsx("span",{className:"px-3 py-1 text-xs rounded-full",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid",borderColor:"var(--border-primary)"},children:m},m))})]}),e.variant.storage&&e.variant.storage.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Available Storage Options"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.variant.storage.map(m=>t.jsx("span",{className:"px-3 py-1 text-xs rounded-full",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid",borderColor:"var(--border-primary)"},children:m},m))})]})]})]})]})})]})}):null},NM=({product:e,onClose:r,onSave:a})=>{const[i,o]=w.useState(1),[c,d]=w.useState(!1),{uploadProductImage:m}=yr(),[h,f]=w.useState({name:"",description:"",brand:"",category:"",price:"",discount_price:"",discount:"",stock:"",images:[],specifications:{},attributes:{},features:[],variant:{colors:[],storage:[]},featured:!1}),x=({initialKey:M,initialValue:X,onKeyCommit:I,onValueChange:ae,onDelete:ne,styleProps:$})=>{const[H,re]=w.useState(M),[ce,L]=w.useState(X);w.useEffect(()=>{re(M)},[M]),w.useEffect(()=>{L(X)},[X]);const se=fe=>{re(fe.target.value)},Q=()=>{H!==M&&I(M,H,ce)},B=fe=>{L(fe.target.value)},oe=()=>{ce!==X&&ae(M,ce)};return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",value:H,onChange:se,onBlur:Q,placeholder:"Attribute Name",className:"w-1/2 p-2 border rounded-md text-sm",style:$}),t.jsx("input",{type:"text",value:ce,onChange:B,onBlur:oe,placeholder:"Attribute Value",className:"w-1/2 p-2 border rounded-md text-sm",style:$}),t.jsx("button",{type:"button",onClick:()=>ne(M),className:"p-2 text-red-500 hover:text-red-700",children:t.jsx(bt,{})})]})};w.useEffect(()=>{if(e){const M=e.specifications||{},X=Array.isArray(e.features)?e.features:[],I=typeof e.price=="number"?e.price:parseFloat(e.price||0),ae=typeof e.discount_price=="number"?e.discount_price:parseFloat(e.discount_price||0),ne=typeof e.stock=="number"?e.stock:parseInt(e.stock||0,10);f({name:e.name||"",description:e.description||"",brand:e.brand||"",category:e.category||"",price:I,discount_price:ae,discount:e.discount||"",stock:ne,images:e.images||[],specifications:M,attributes:e.attributes||{},features:X,variant:e.variant||{colors:[],storage:[]},featured:e.featured||!1})}},[e]);const g=M=>{const{name:X,value:I,type:ae,checked:ne}=M.target;f({...h,[X]:ae==="checkbox"?ne:I})},v=(M,X)=>{f({...h,specifications:{...h.specifications,[M]:X}})},j=()=>{f({...h,specifications:{...h.specifications,"":""}})},b=M=>{const X={...h.specifications};delete X[M],f({...h,specifications:X})},C=(M,X)=>{f({...h,attributes:{...h.attributes,[M]:X}})},k=(M,X,I)=>{f(ae=>{if(M===X)return ae;const ne={...ae.attributes};return Object.prototype.hasOwnProperty.call(ne,X)?(de.error(`Attribute key "${X}" already exists. Please use a unique key.`),ae):(delete ne[M],ne[X]=I,{...ae,attributes:ne})})},S=()=>{f(M=>{const X=M.attributes;let I="",ae=I,ne=0;for(;Object.prototype.hasOwnProperty.call(X,ae);)ne++,ae=`${I}${ne}`;return{...M,attributes:{...X,[ae]:""}}})},T=M=>{const X={...h.attributes};delete X[M],f({...h,attributes:X})},R=(M,X)=>{const I=[...h.features];I[M]=X,f({...h,features:I})},E=()=>{f({...h,features:[...h.features,""]})},D=M=>{const X=h.features.filter((I,ae)=>ae!==M);f({...h,features:X})},F=(M,X,I)=>{const ae={...h.variant};ae[M][X]=I,f({...h,variant:ae})},V=M=>{const X={...h.variant};X[M]=[...X[M]||[],""],f({...h,variant:X})},q=(M,X)=>{const I={...h.variant};I[M]=I[M].filter((ae,ne)=>ne!==X),f({...h,variant:I})},O=async M=>{const X=M.target.files[0];if(X){d(!0);try{const I=await m(X);I.success?(f(ae=>({...ae,images:[...ae.images,I.imageUrl].slice(0,5)})),de.info("Image uploaded successfully.")):de.error("Failed to upload image: "+I.message)}catch(I){console.error("Error uploading image:",I),de.error("Failed to upload image: "+I.message)}finally{d(!1)}}},A=M=>{M.preventDefault(),a(h)};return t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:i===1?"Edit Product - Basic Information":"Edit Product - Details & Media"}),t.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",children:t.jsx(Qe,{size:24})})]}),t.jsx("form",{onSubmit:A,children:i===1?t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Product Name *"}),t.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:g,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Brand *"}),t.jsx("input",{type:"text",id:"brand",name:"brand",value:h.brand,onChange:g,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Category *"}),t.jsxs("select",{id:"category",name:"category",value:h.category,onChange:g,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx("option",{value:"",children:"Select a category"}),t.jsx("option",{value:"Smartphone",children:"Smartphone"}),t.jsx("option",{value:"Laptop",children:"Laptop"}),t.jsx("option",{value:"Tablet",children:"Tablet"}),t.jsx("option",{value:"TV",children:"TV"}),t.jsx("option",{value:"Accessories",children:"Accessories"}),t.jsx("option",{value:"Audio",children:"Audio"}),t.jsx("option",{value:"Wearables",children:"Wearables"}),t.jsx("option",{value:"Gaming",children:"Gaming"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"MRP (₹) *"}),t.jsx("input",{type:"number",id:"price",name:"price",value:h.price,onChange:g,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"discount_price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Selling Price (₹) *"}),t.jsx("input",{type:"number",id:"discount_price",name:"discount_price",value:h.discount_price,onChange:g,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Discount %"}),t.jsx("input",{type:"text",id:"discount",name:"discount",value:h.discount,onChange:g,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Stock Quantity *"}),t.jsx("input",{type:"number",id:"stock",name:"stock",value:h.stock,onChange:g,required:!0,min:"0",step:"1",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Description *"}),t.jsx("textarea",{id:"description",name:"description",value:h.description,onChange:g,required:!0,rows:"4",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),t.jsx("div",{className:"flex justify-end pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),t.jsx("button",{type:"button",onClick:()=>o(2),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Next: Details & Images"})]})})]}):t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Key Features"}),t.jsxs("button",{type:"button",onClick:E,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(vt,{size:14,className:"mr-1"})," Add Feature"]})]}),h.features.map((M,X)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:M,onChange:I=>R(X,I.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Enter feature"}),t.jsx("button",{type:"button",onClick:()=>D(X),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(bt,{size:16})})]},X))]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Specifications"}),t.jsxs("button",{type:"button",onClick:j,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(vt,{size:14,className:"mr-1"})," Add Specification"]})]}),Object.entries(h.specifications).map(([M,X],I)=>t.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[t.jsx("input",{type:"text",value:M,onChange:ae=>{const ne={...h.specifications},$=ne[M];delete ne[M],f({...h,specifications:{...ne,[ae.target.value]:$}})},className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification name"}),t.jsx("input",{type:"text",value:X,onChange:ae=>v(M,ae.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification value"}),t.jsx("button",{type:"button",onClick:()=>b(M),className:"p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(bt,{size:16})})]},I))," "]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Attributes"}),t.jsxs("button",{type:"button",onClick:S,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(vt,{size:14,className:"mr-1"})," Add Attribute"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-semibold",style:{color:"var(--text-secondary)"},children:"Attributes"}),Object.entries(h.attributes).map(([M,X])=>t.jsx(x,{initialKey:M,initialValue:X,onKeyCommit:k,onValueChange:C,onDelete:T,styleProps:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}},M)),t.jsxs("button",{type:"button",onClick:S,className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-700",children:[t.jsx(vt,{})," Add Attribute"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Available Colors"}),t.jsxs("button",{type:"button",onClick:()=>V("colors"),className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(vt,{size:14,className:"mr-1"})," Add Color"]})]}),h.variant.colors.map((M,X)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:M,onChange:I=>F("colors",X,I.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color name"}),t.jsx("button",{type:"button",onClick:()=>q("colors",X),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(bt,{size:16})})]},X))]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Storage Options"}),t.jsxs("button",{type:"button",onClick:()=>V("storage"),className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(vt,{size:14,className:"mr-1"})," Add Storage Option"]})]}),h.variant.storage.map((M,X)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:M,onChange:I=>F("storage",X,I.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage option"}),t.jsx("button",{type:"button",onClick:()=>q("storage",X),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(bt,{size:16})})]},X))]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Images"}),t.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-3",children:[h.images.map((M,X)=>t.jsxs("div",{className:"relative aspect-square border rounded-md overflow-hidden",style:{borderColor:"var(--border-primary)"},children:[t.jsx("img",{src:M,alt:`Product ${X+1}`,className:"w-full h-full object-cover"}),t.jsx("button",{type:"button",onClick:()=>{const I=[...h.images];I.splice(X,1),f({...h,images:I})},className:"absolute top-0 right-0 p-1 bg-black bg-opacity-50 text-white rounded-bl-md",children:t.jsx(Qe,{size:12})})]},X))," ",h.images.length<5&&t.jsxs("div",{className:"aspect-square border rounded-md flex items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors relative",style:{borderColor:"var(--border-primary)",borderStyle:"dashed"},onClick:()=>document.getElementById("image-upload-edit").click(),children:[t.jsx("input",{type:"file",id:"image-upload-edit",accept:"image/*",onChange:O,className:"hidden"}),t.jsxs("div",{className:"flex flex-col items-center",children:[c?t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):t.jsx(pp,{size:20,style:{color:"var(--text-secondary)"}}),t.jsx("span",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:c?"Uploading...":"Add Image"})]})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:h.featured,onChange:g,className:"mr-2"}),t.jsx("label",{htmlFor:"featured",className:"text-sm",style:{color:"var(--text-primary)"},children:"Featured product (show on homepage)"})]})]}),t.jsxs("div",{className:"flex justify-between pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsx("button",{type:"button",onClick:()=>o(1),className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Back"}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Save Changes"})]})]})]})})]})})},CM=()=>{const[e,r]=w.useState(!1),[a,i]=w.useState(!1),[o,c]=w.useState("all"),[d,m]=w.useState(""),[h,f]=w.useState("newest"),[x,g]=w.useState(null),[v,j]=w.useState(!1),[b,C]=w.useState(!1),{updateProduct:k,addProduct:S,filterAndSortProducts:T,fetchProducts:R}=yr();w.useEffect(()=>{R()},[R]),w.useEffect(()=>{T(o,d,h)},[o,d,h,T]);const E=A=>{f(A.target.value)},D=()=>{c("all"),m(""),f("newest")},F=A=>{g(A),j(!0)},V=A=>{j(!1),g(A),C(!0)},q=async A=>{try{const M=x.id,I=["name","brand","category","price","stock","description"].filter(ne=>!A[ne]);if(I.length>0){console.error(`Missing required fields: ${I.join(", ")}`);return}const ae=await k(M,A);ae.success?(C(!1),console.log(`Product updated successfully: ${M}`)):console.error(`Failed to update product: ${ae.message}`)}catch(M){console.error("Error in update product handler:",M)}},O=async A=>{try{const X=["name","brand","category","price","stock","description","images"].filter(ae=>!A[ae]);if(X.length>0){console.error(`Missing required fields: ${X.join(", ")}`);return}const I=await S(A);I.success?(r(!1),console.log(`Product added successfully with ID: ${I.product_id}`)):console.error(`Failed to add product: ${I.message}`)}catch(M){console.error("Error in add product handler:",M)}};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Product Management"}),t.jsx("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:t.jsxs("button",{onClick:()=>r(!0),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[t.jsx(vt,{className:"mr-2",size:16}),"Add New Product"]})})]}),t.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[t.jsx("div",{className:"flex-1 min-w-[240px]",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(br,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:A=>m(A.target.value),className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"}})]})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("select",{value:o,onChange:A=>c(A.target.value),className:"border rounded-md py-2 px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("option",{value:"all",children:"All Categories"}),t.jsx("option",{value:"Smartphone",children:"Smartphones"}),t.jsx("option",{value:"Laptop",children:"Laptops"}),t.jsx("option",{value:"Tablet",children:"Tablets"}),t.jsx("option",{value:"Accessory",children:"Accessories"})]}),t.jsxs("select",{value:h,onChange:E,className:"border rounded-md py-2 px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("option",{value:"newest",children:"Sort: Newest"}),t.jsx("option",{value:"price-asc",children:"Sort: Price (Low to High)"}),t.jsx("option",{value:"price-desc",children:"Sort: Price (High to Low)"}),t.jsx("option",{value:"name-asc",children:"Sort: Name (A-Z)"}),t.jsx("option",{value:"stock-asc",children:"Sort: Stock (Low to High)"})]}),t.jsx("button",{onClick:D,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-secondary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"Clear Filters"})]})]}),t.jsx(gM,{onViewProduct:F,onEditProduct:V}),e&&t.jsx(vM,{onClose:()=>r(!1),onSave:O}),a&&t.jsx(jM,{onClose:()=>i(!1)}),v&&x&&t.jsx(wM,{product:x,onClose:()=>j(!1),onEdit:V}),b&&x&&t.jsx(NM,{product:x,onClose:()=>C(!1),onSave:q})]})},rN=Kt(()=>({getFilteredInventory:(e,r,a)=>{let c=[...yr.getState().products.list];if(e&&e!=="all"&&(c=c.filter(d=>d.category.toLowerCase()===e.toLowerCase())),r&&r!=="all")switch(r){case"in-stock":c=c.filter(d=>d.stock>5);break;case"low-stock":c=c.filter(d=>d.stock<=5&&d.stock>0);break;case"out-of-stock":c=c.filter(d=>d.stock===0);break}if(a&&a.trim()){const d=a.toLowerCase().trim();c=c.filter(m=>m.name.toLowerCase().includes(d)||m.brand.toLowerCase().includes(d)||m.category.toLowerCase().includes(d))}return c},getLowStockProducts:()=>yr.getState().products.list.filter(a=>a.stock<=5),getOutOfStockProducts:()=>yr.getState().products.list.filter(a=>a.stock===0),updateProductStock:async(e,r)=>{const a=yr.getState();try{return await a.updateProduct(e,{stock:r})}catch(i){return console.error("Error updating product stock:",i),{success:!1,message:"Failed to update stock"}}},bulkUpdateStock:async e=>{const r=yr.getState(),a=[];for(const i of e)try{const o=await r.updateProduct(i.productId,{stock:i.newStock});a.push({...i,success:o.success,message:o.message})}catch{a.push({...i,success:!1,message:"Failed to update stock"})}return a},getInventoryStats:()=>{const r=yr.getState().products.list,a=r.length,i=r.filter(m=>m.stock>5).length,o=r.filter(m=>m.stock<=5&&m.stock>0).length,c=r.filter(m=>m.stock===0).length,d=r.reduce((m,h)=>m+h.stock*parseFloat(h.price||0),0);return{totalProducts:a,inStock:i,lowStock:o,outOfStock:c,totalStockValue:d}},generateSKU:e=>{if(e.sku)return e.sku;const r=e.brand.substring(0,3).toUpperCase(),a=e.name.substring(0,3).toUpperCase(),i=e.category.substring(0,2).toUpperCase();return`${r}-${a}-${i}-${e.id}`}})),SM=({categoryFilter:e,stockFilter:r,searchQuery:a})=>{const[i,o]=w.useState(null),[c,d]=w.useState(""),{products:m,fetchProducts:h}=yr(),{getFilteredInventory:f,updateProductStock:x,generateSKU:g}=rN();w.useEffect(()=>{m.list.length===0&&h()},[h,m.list.length]);const v=f(e,r,a),j=(S,T)=>{o(S),d(T.toString())},b=async S=>{const T=parseInt(c,10);if(!isNaN(T)&&T>=0){const R=await x(S,T);R.success?(o(null),d(""),h()):console.error("Failed to update stock:",R.message)}},C=()=>{o(null),d("")},k=(S,T=5)=>S===0?{text:"Out of Stock",bgColor:"#FEF2F2",textColor:"#DC2626",icon:t.jsx(ni,{size:14})}:S<=T?{text:"Low Stock",bgColor:"#FFFBEB",textColor:"#D97706",icon:t.jsx(ni,{size:14})}:{text:"In Stock",bgColor:"#F0FDF4",textColor:"#16A34A",icon:t.jsx(Mt,{size:14})};return m.loading?t.jsx("div",{className:"flex justify-center items-center p-8",children:t.jsx("div",{className:"text-lg",children:"Loading inventory data..."})}):m.error?t.jsx("div",{className:"flex justify-center items-center p-8",children:t.jsxs("div",{className:"text-red-600",children:["Error: ",m.error]})}):t.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"SKU"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Current Stock"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Price"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Category"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:v.map(S=>{const T=k(S.stock,5),R=g(S),E=S.images&&S.images.length>0?S.images[0]:"https://via.placeholder.com/50";return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:t.jsx("img",{src:E,alt:S.name,className:"w-full h-full object-cover",onError:D=>{D.target.src="https://via.placeholder.com/50"}})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:S.name}),t.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:S.brand})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:R})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:i===S.id?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("input",{type:"number",min:"0",value:c,onChange:D=>d(D.target.value),className:"w-16 text-center p-1 border rounded-md text-sm",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-sm)"},autoFocus:!0,onKeyPress:D=>{D.key==="Enter"?b(S.id):D.key==="Escape"&&C()}}),t.jsx("button",{onClick:()=>b(S.id),className:"ml-2 p-1 rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:t.jsx(Po,{size:16})}),t.jsx("button",{onClick:C,className:"ml-1 p-1 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:t.jsx(Qe,{size:16})})]}):t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"text-sm font-medium mr-2",style:{color:S.stock===0?"var(--error-color)":S.stock<=5?"var(--warning-color)":"var(--text-primary)"},children:S.stock}),t.jsx("button",{onClick:()=>j(S.id,S.stock),className:"p-1 rounded-md hover:bg-gray-100",title:"Edit stock level",children:t.jsx(ul,{size:14,style:{color:"var(--brand-primary)"}})})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"flex justify-center",children:t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:T.bgColor,color:T.textColor},children:[t.jsx("span",{className:"mr-1",children:T.icon}),T.text]})})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["₹",S.price?parseFloat(S.price).toLocaleString():"N/A"]}),S.discount_price&&t.jsxs("div",{className:"text-xs line-through",style:{color:"var(--text-secondary)"},children:["₹",parseFloat(S.discount_price).toLocaleString()]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:S.category})})]},S.id)})})]}),v.length===0&&t.jsx("div",{className:"p-8 text-center",style:{color:"var(--text-secondary)"},children:"No products matching your filters"}),t.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",v.length," products"]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Previous"}),t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"1"}),t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Next"})]})]})]})},kM=({products:e})=>!e||e.length===0?t.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full",style:{backgroundColor:"#F0FDF4"},children:t.jsx(an,{size:16,style:{color:"#16A34A"}})}),t.jsxs("div",{className:"ml-3",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"All Good!"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No products are currently low on stock."})]})]})}):t.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"#FFFBEB",borderColor:"#FDE68A"},children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(ni,{size:20,style:{color:"#D97706"}})}),t.jsxs("div",{className:"ml-3",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"#92400E"},children:"Low Stock Alert"}),t.jsxs("div",{className:"mt-2 text-sm",style:{color:"#B45309"},children:[t.jsxs("p",{children:[e.length," product",e.length>1?"s":""," running low on stock:"]}),t.jsxs("ul",{className:"mt-2 space-y-1",children:[e.slice(0,3).map(r=>t.jsxs("li",{className:"flex justify-between",children:[t.jsx("span",{children:r.name}),t.jsxs("span",{className:"font-medium",children:[r.stock," left"]})]},r.id)),e.length>3&&t.jsxs("li",{className:"font-medium",children:["...and ",e.length-3," more"]})]})]})]})]})}),_M=()=>{const[e,r]=w.useState("all"),[a,i]=w.useState("all"),[o,c]=w.useState(""),{products:d,fetchProducts:m}=yr(),{getLowStockProducts:h,getInventoryStats:f}=rN();w.useEffect(()=>{d.list.length===0&&m()},[m,d.list.length]);const x=h(),g=f(),v=()=>{const j=["Product Name","Brand","Category","Stock","Price","SKU"],b=d.list.map(R=>[R.name,R.brand,R.category,R.stock,R.price,`${R.brand.substring(0,3).toUpperCase()}-${R.name.substring(0,3).toUpperCase()}-${R.category.substring(0,2).toUpperCase()}-${R.id}`]),C=[j,...b].map(R=>R.map(E=>`"${E}"`).join(",")).join(`
`),k=new Blob([C],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a"),T=URL.createObjectURL(k);S.setAttribute("href",T),S.setAttribute("download",`inventory_${new Date().toISOString().split("T")[0]}.csv`),S.style.visibility="hidden",document.body.appendChild(S),S.click(),document.body.removeChild(S)};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Inventory Management"}),t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"Track, update and manage product stock levels"})]}),t.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[t.jsxs("button",{onClick:v,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx(bs,{className:"mr-2",size:16}),"Export CSV"]})," "]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Total Products"}),t.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:g.totalProducts})]})})}),t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"In Stock"}),t.jsx("p",{className:"text-2xl font-bold",style:{color:"#16A34A"},children:g.inStock})]})})}),t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Low Stock"}),t.jsx("p",{className:"text-2xl font-bold",style:{color:"#D97706"},children:g.lowStock})]})})}),t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Out of Stock"}),t.jsx("p",{className:"text-2xl font-bold",style:{color:"#DC2626"},children:g.outOfStock})]})})})]}),x.length>0&&t.jsx("div",{className:"mb-6",children:t.jsx(kM,{products:x})}),t.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"md:col-span-2",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(br,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:"text",placeholder:"Search products...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:o,onChange:j=>c(j.target.value)})]})}),t.jsx("div",{children:t.jsxs("div",{className:"flex items-center h-full",children:[t.jsx(pa,{className:"mr-2",style:{color:"var(--text-secondary)"}}),t.jsxs("select",{value:e,onChange:j=>r(j.target.value),className:"block w-full py-2 px-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("option",{value:"all",children:"All Categories"}),t.jsx("option",{value:"Smartphone",children:"Smartphones"}),t.jsx("option",{value:"Laptop",children:"Laptops"}),t.jsx("option",{value:"Tablet",children:"Tablets"}),t.jsx("option",{value:"Accessory",children:"Accessories"})]})]})}),t.jsx("div",{children:t.jsx("div",{className:"flex items-center h-full",children:t.jsxs("select",{value:a,onChange:j=>i(j.target.value),className:"block w-full py-2 px-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("option",{value:"all",children:"All Stock Levels"}),t.jsx("option",{value:"in-stock",children:"In Stock"}),t.jsx("option",{value:"low-stock",children:"Low Stock"}),t.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})})})]}),t.jsx(SM,{categoryFilter:e,stockFilter:a,searchQuery:o})]})},AM=({status:e})=>{const r={pending_payment:{bg:"var(--warning-color-light)",color:"var(--warning-color)",icon:t.jsx(Cs,{size:12,className:"mr-1"})},payment_successful:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:t.jsx(zt,{size:12,className:"mr-1"})},processing:{bg:"var(--info-color-light)",color:"var(--info-color)",icon:t.jsx(Me,{size:12,className:"mr-1"})},assigned:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)",icon:t.jsx(nr,{size:12,className:"mr-1"})},shipped:{bg:"var(--brand-primary-light)",color:"var(--brand-primary)",icon:t.jsx(lt,{size:12,className:"mr-1"})},delivered:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:t.jsx(zt,{size:12,className:"mr-1"})},cancelled:{bg:"var(--error-color-light)",color:"var(--error-color)",icon:t.jsx(Qe,{size:12,className:"mr-1"})}},a=r[e]||r.pending_payment;return t.jsxs("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:a.bg,color:a.color},children:[a.icon,e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)]})},EM=({userId:e})=>{const{getCachedUser:r}=Gr(),[a,i]=w.useState(null),[o,c]=w.useState(!0);if(w.useEffect(()=>{(async()=>{try{const h=await r(e);i(h)}catch(h){console.error("Error fetching user:",h),i(null)}finally{c(!1)}})()},[e,r]),o)return t.jsx(la,{className:"animate-spin",size:14});const d=a?`${a.first_name||""} ${a.last_name||""}`.trim()||a.email||a.username:`User-${e.substring(0,8)}`;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:d}),t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[e.substring(0,12),"..."]})]})},TM=e=>`User-${e.substring(0,8)}`,RM=e=>{try{return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},DM=({onSelectOrder:e,statusFilter:r,searchQuery:a})=>{const{orders:i}=Gr(),{list:o,loading:c}=i,d=w.useMemo(()=>o.filter(m=>{const h=r==="all"||m.status===r,f=TM(m.user_id),x=!a||m.order_id.toLowerCase().includes(a.toLowerCase())||f.toLowerCase().includes(a.toLowerCase())||m.user_id.toLowerCase().includes(a.toLowerCase());return h&&x}),[o,r,a]);return t.jsx("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:c?t.jsxs("div",{className:"p-8 text-center animate-pulse",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),t.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Order ID"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Customer"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Items"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Total"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Payment"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:d.length>0?d.map(m=>{var h,f,x,g,v,j;return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>e(m),children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[m.order_id.substring(0,8),"..."]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:RM(m.created_at)})})," ",t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx(EM,{userId:m.user_id})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:[((h=m.order_items)==null?void 0:h.length)||0," items"]}),((f=m.order_items)==null?void 0:f.length)>0&&t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[m.order_items[0].name,m.order_items.length>1&&` +${m.order_items.length-1} more`]})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["₹",((x=m.total_amount)==null?void 0:x.toLocaleString())||0]}),t.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:m.currency||"INR"})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx(AM,{status:m.status})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:((g=m.payment_details)==null?void 0:g.method)||"N/A"}),t.jsx("div",{className:"text-xs",style:{color:((v=m.payment_details)==null?void 0:v.status)==="captured"?"var(--success-color)":"var(--text-secondary)"},children:((j=m.payment_details)==null?void 0:j.status)||"Pending"})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:t.jsx("div",{className:"flex justify-end space-x-2",children:t.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View Order Details",onClick:b=>{b.stopPropagation(),e(m)},children:t.jsx(pi,{size:18})})})})]},m.order_id)}):t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:t.jsx("div",{style:{color:"var(--text-secondary)"},children:a||r!=="all"?"No orders match your filter criteria":"No orders found"})})})})]}),t.jsx("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",d.length," of ",o.length," orders"]})})]})})},OM=({order:e})=>{var A,M,X,I,ae,ne,$,H,re,ce,L,se;const[r,a]=w.useState(!1),[i,o]=w.useState({}),[c,d]=w.useState(!1),[m,h]=w.useState(""),[f,x]=w.useState(null),[g,v]=w.useState(!1),{editOrder:j,assignOrderToDeliveryPartner:b,deliveryPartners:C,fetchDeliveryPartners:k,getCachedUser:S}=Gr();w.useEffect(()=>{e&&o({status:e.status||"",estimated_delivery:e.estimated_delivery||""})},[e]),w.useEffect(()=>{e!=null&&e.user_id&&(v(!0),S(e.user_id).then(Q=>{x(Q)}).catch(Q=>{console.error("Failed to fetch customer data:",Q)}).finally(()=>{v(!1)}))},[e==null?void 0:e.user_id,S]),w.useEffect(()=>{c&&C.list.length===0&&k()},[c,C.list.length,k]);const T=async()=>{try{if(!e||!e.user_id||!e.order_id){Ue.error("Order details are incomplete.");return}await j(e.user_id,e.order_id,i),a(!1),Ue.success("Order updated successfully!")}catch(Q){Ue.error(Q.message||"Failed to update order")}},R=async()=>{if(!m){Ue.error("Please select a delivery partner");return}if(!e||!e.user_id||!e.order_id){Ue.error("Order details are incomplete for assignment.");return}try{await b(e.user_id,e.order_id,m),d(!1),h(""),Ue.success("Delivery partner assigned successfully!")}catch(Q){Ue.error(Q.message||"Failed to assign delivery partner")}};if(!e)return null;const E={pending_payment:{bg:"var(--warning-color-light)",color:"var(--warning-color)",icon:t.jsx(Ar,{size:14,className:"mr-1"})},payment_successful:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:t.jsx(zt,{size:14,className:"mr-1"})},assigned:{bg:"var(--info-color-light)",color:"var(--info-color)",icon:t.jsx(nr,{size:14,className:"mr-1"})},shipped:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)",icon:t.jsx(lt,{size:14,className:"mr-1"})},delivered:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:t.jsx(zt,{size:14,className:"mr-1"})},cancelled:{bg:"var(--error-color-light)",color:"var(--error-color)",icon:t.jsx(Qe,{size:14,className:"mr-1"})}},D=()=>{if(g)return"Loading...";if(!f)return`User ID: ${e.user_id.substring(0,8)}...`;const{first_name:Q="",last_name:B="",email:oe=""}=f;return Q||B?`${Q} ${B}`.trim():oe.split("@")[0]},F=Q=>Q?new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not set",V=()=>{if(!e.address)return"No address provided";const{street_address:Q,city:B,state:oe,postal_code:fe}=e.address;return`${Q}, ${B}, ${oe} ${fe}`},q=()=>{if(!e.payment_details)return"No payment info";const{method:Q,card_last4:B,card_network:oe}=e.payment_details;return Q==="upi"?"UPI Payment":Q==="card"&&B?`${oe||"Card"} ending in ${B}`:(Q==null?void 0:Q.toUpperCase())||"Unknown"},O=Q=>{const B=()=>{const pe=["pending_payment","payment_successful","assigned","shipped","delivered"],ft=pe.indexOf(e.status),Ye=pe.indexOf(Q);return e.status==="cancelled"?{iconClass:Q==="pending_payment"?"completed":"cancelled",textClass:Q==="pending_payment"?"completed":"cancelled"}:Ye<=ft?{iconClass:"completed",textClass:"completed"}:{iconClass:"pending",textClass:"pending"}},{iconClass:oe,textClass:fe}=B();return{icon:oe==="completed"?t.jsx("div",{className:"h-3 w-3 rounded-full ring-4",style:{backgroundColor:"var(--success-color)",boxShadow:"var(--shadow-sm)",borderColor:"var(--success-color-light)"}}):oe==="cancelled"?t.jsx("div",{className:"h-3 w-3 rounded-full ring-4",style:{backgroundColor:"var(--error-color)",boxShadow:"var(--shadow-sm)",borderColor:"var(--error-color-light)"}}):t.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:"var(--border-secondary)"}}),textStyle:{color:fe==="completed"?"var(--text-primary)":fe==="cancelled"?"var(--error-color)":"var(--text-secondary)",fontWeight:fe==="pending"?"normal":"medium"}}};return t.jsxs("div",{className:"h-full rounded-lg shadow-md overflow-hidden animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order #",e.order_id.substring(0,8),"..."]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:"px-3 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:((A=E[e.status])==null?void 0:A.bg)||E.pending_payment.bg,color:((M=E[e.status])==null?void 0:M.color)||E.pending_payment.color},children:[((X=E[e.status])==null?void 0:X.icon)||E.pending_payment.icon,e.status.replace("_"," ").split(" ").map(Q=>Q.charAt(0).toUpperCase()+Q.slice(1)).join(" ")]}),t.jsx(ue,{variant:"secondary",size:"sm",icon:t.jsx(m2,{size:14}),onClick:()=>a(!r),children:r?"Cancel":"Edit"})]})]})}),t.jsxs("div",{className:"p-6 space-y-5 overflow-auto",style:{maxHeight:"calc(100vh - 300px)"},children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(nr,{className:"mr-2",size:16}),"Customer Information"]}),t.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[t.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[t.jsx("strong",{children:"Name:"})," ",D()]}),(f==null?void 0:f.email)&&t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Email:"})," ",f.email]}),((I=e.address)==null?void 0:I.phone_number)&&t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Phone:"})," ",e.address.phone_number]})]})]}),r&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Order Status"}),t.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:t.jsxs("select",{value:i.status,onChange:Q=>o(B=>({...B,status:Q.target.value})),className:"w-full p-2 border rounded text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx("option",{value:"pending_payment",children:"Pending Payment"}),t.jsx("option",{value:"payment_successful",children:"Payment Successful"}),t.jsx("option",{value:"assigned",children:"Assigned"}),t.jsx("option",{value:"shipped",children:"Shipped"}),t.jsx("option",{value:"delivered",children:"Delivered"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Delivery Partner"}),!e.assigned_partner_id&&t.jsx(ue,{variant:"secondary",size:"sm",icon:t.jsx(nr,{size:14}),onClick:()=>d(!0),children:"Assign"})]}),t.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.assigned_partner_id?`Partner ID: ${e.assigned_partner_id}`:"Not assigned"})})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(ht,{className:"mr-2",size:16}),"Shipping Address"]}),t.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:V()}),((ae=e.address)==null?void 0:ae.type)&&t.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs rounded",style:{backgroundColor:"var(--info-color-light)",color:"var(--info-color)"},children:e.address.type})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(Cs,{className:"mr-2",size:16}),"Payment Information"]}),t.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[t.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[t.jsx("strong",{children:"Method:"})," ",q()]}),((ne=e.payment_details)==null?void 0:ne.status)&&t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Status:"})," ",e.payment_details.status.charAt(0).toUpperCase()+e.payment_details.status.slice(1)]}),(($=e.payment_details)==null?void 0:$.captured_at)&&t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Captured:"})," ",F(e.payment_details.captured_at)]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(js,{className:"mr-2",size:16}),"Order Items"]}),t.jsxs("div",{className:"rounded overflow-hidden",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("div",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:(H=e.order_items)==null?void 0:H.map((Q,B)=>{var oe,fe;return t.jsx("div",{className:"p-3",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:Q.name||"Product Name"}),Q.brand&&t.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:["Brand: ",Q.brand]}),Q.model&&t.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Model: ",Q.model]}),t.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:["Qty: ",Q.quantity," × ₹",(oe=Q.price_at_purchase)==null?void 0:oe.toLocaleString()]})]}),t.jsxs("p",{className:"text-sm font-medium ml-4",style:{color:"var(--text-primary)"},children:["₹",(fe=Q.total_item_price)==null?void 0:fe.toLocaleString()]})]})},`${Q.product_id}-${B}`)})}),t.jsxs("div",{className:"p-3 flex justify-between font-medium",style:{backgroundColor:"rgba(0, 0, 0, 0.03)",color:"var(--text-primary)"},children:[t.jsx("p",{children:"Total Amount"}),t.jsxs("p",{children:["₹",(re=e.total_amount)==null?void 0:re.toLocaleString()]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Order Timeline"}),t.jsx("div",{className:"space-y-4",children:((L=(ce=e.tracking_info)==null?void 0:ce.status_history)==null?void 0:L.length)>0?e.tracking_info.status_history.map((Q,B,oe)=>{const{icon:fe,textStyle:pe}=O(Q.status);return t.jsxs("div",{className:"flex",children:[t.jsxs("div",{className:"mr-3 relative",children:[fe,B<oe.length-1&&t.jsx("div",{className:"h-full w-0.5 absolute top-3 left-1.5",style:{backgroundColor:"var(--border-secondary)"}})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm",style:pe,children:Q.description||Q.status.replace("_"," ").split(" ").map(ft=>ft.charAt(0).toUpperCase()+ft.slice(1)).join(" ")}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:F(Q.timestamp)})]})]},`${Q.status}-${B}`)}):t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"mr-3",children:O("pending_payment").icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm",style:O("pending_payment").textStyle,children:"Order Created"}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:F(e.created_at)})]})]})})]}),((se=e.tracking_info)==null?void 0:se.tracking_number)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(Me,{className:"mr-2",size:16}),"Tracking Information"]}),t.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[t.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[t.jsx("strong",{children:"Tracking Number:"})," ",e.tracking_info.tracking_number]}),e.tracking_info.carrier&&t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Carrier:"})," ",e.tracking_info.carrier]})]})]}),e.estimated_delivery&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(lt,{className:"mr-2",size:16}),"Estimated Delivery"]}),t.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:r?t.jsx("input",{type:"datetime-local",value:i.estimated_delivery?new Date(i.estimated_delivery).toISOString().slice(0,16):"",onChange:Q=>o(B=>({...B,estimated_delivery:Q.target.value})),className:"w-full p-2 border rounded text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}):t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:F(e.estimated_delivery)})})]})]}),t.jsx("div",{className:"p-4 border-t flex justify-between space-x-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:r&&t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(ue,{variant:"secondary",size:"sm",icon:t.jsx(Bd,{size:16}),onClick:()=>a(!1),children:"Cancel"}),t.jsx(ue,{variant:"primary",size:"sm",icon:t.jsx(Po,{size:16}),onClick:T,children:"Save Changes"})]})}),c&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Assign Delivery Partner"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Select Delivery Partner"}),t.jsxs("select",{value:m,onChange:Q=>h(Q.target.value),className:"w-full p-2 border rounded",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx("option",{value:"",children:"Select a partner..."}),C.list.filter(Q=>Q.is_verified).map(Q=>t.jsxs("option",{value:Q.partner_id,children:[Q.name," - ",Q.email]},Q.partner_id))]})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(ue,{variant:"secondary",size:"sm",onClick:()=>{d(!1),h("")},children:"Cancel"}),t.jsx(ue,{variant:"primary",size:"sm",onClick:R,disabled:!m,children:"Assign Partner"})]})]})})]})},PM=()=>{const[e,r]=w.useState(null),[a,i]=w.useState(""),[o,c]=w.useState("all"),[d,m]=w.useState(!1),{orders:h,fetchOrders:f}=Gr(),{loading:x,statusCounts:g}=h;w.useEffect(()=>{f()},[f]);const v=b=>{r(b),m(!0)},j=()=>{m(!1)};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Order Management"}),t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"View and manage customer orders"})]}),t.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[t.jsx(ue,{variant:"secondary",size:"sm",fullWidth:!1,onClick:f,isLoading:x,icon:t.jsx(an,{size:16}),children:x?"Refreshing...":"Refresh"}),t.jsxs("button",{className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx(bs,{className:"mr-2",size:16}),"Export Orders"]})]})]})," ",t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6",children:Object.entries({all:{label:"All Orders",color:"var(--brand-primary)"},pending_payment:{label:"Pending Payment",color:"var(--warning-color)"},payment_successful:{label:"Payment Success",color:"var(--success-color)"},processing:{label:"Processing",color:"var(--info-color)"},assigned:{label:"Assigned",color:"var(--brand-secondary)"},shipped:{label:"Shipped",color:"var(--brand-primary)"},delivered:{label:"Delivered",color:"var(--success-color)"},cancelled:{label:"Cancelled",color:"var(--error-color)"}}).map(([b,{label:C,color:k}])=>t.jsxs("button",{className:`p-4 rounded-lg shadow-sm border transition-all ${o===b?"ring-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-sm)",ringColor:k},onClick:()=>c(b),children:[t.jsx("div",{className:"text-sm font-medium",style:{color:k},children:C}),t.jsx("div",{className:"text-2xl font-bold mt-2",style:{color:"var(--text-primary)"},children:b==="all"?h.list.length:g[b]||0})]},b))}),t.jsx("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:t.jsx("div",{className:"flex-1 min-w-[240px]",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(br,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:"text",placeholder:"Search orders by ID or customer...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:a,onChange:b=>i(b.target.value)})]})})}),t.jsx("div",{className:"w-full",children:t.jsx(DM,{onSelectOrder:v,statusFilter:o,searchQuery:a})}),d&&e&&t.jsx("div",{className:"fixed inset-0 bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-lg shadow-2xl max-h-[90vh] overflow-auto",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsx("div",{className:"sticky top-0 z-10",style:{backgroundColor:"var(--bg-primary)"},children:t.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Order Details"}),t.jsx("button",{onClick:j,className:"text-gray-500 hover:text-gray-700 transition-colors",style:{color:"var(--text-secondary)"},children:t.jsx(Qe,{size:24})})]})}),t.jsx(OM,{order:e})]})})]})},LM=({role:e})=>{const r={admin:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)"},customer:{bg:"var(--info-color-light)",color:"var(--info-color)"},moderator:{bg:"var(--success-color-light)",color:"var(--success-color)"}},a=r[e]||r.customer;return t.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:a.bg,color:a.color},children:e.charAt(0).toUpperCase()+e.slice(1)})},MM=({status:e})=>{const r={active:{bg:"var(--success-color-light)",color:"var(--success-color)"},inactive:{bg:"var(--border-secondary)",color:"var(--text-secondary)"},banned:{bg:"var(--error-color-light)",color:"var(--error-color)"}},a=r[e]||r.active;return t.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:a.bg,color:a.color},children:e.charAt(0).toUpperCase()+e.slice(1)})},zM=({onSelectUser:e,filterView:r,searchQuery:a})=>{const{users:i,updateUserStatus:o}=Gr(),{list:c,loading:d}=i,m=w.useMemo(()=>c.filter(h=>{const f=r==="all"||r==="customers"&&((h==null?void 0:h.role)==="customer"||!(h!=null&&h.role))||r==="banned"&&((h==null?void 0:h.is_banned)||(h==null?void 0:h.status)==="banned"),x=`${(h==null?void 0:h.first_name)||""} ${(h==null?void 0:h.last_name)||""}`.trim(),g=!a||x.toLowerCase().includes(a.toLowerCase())||(h==null?void 0:h.email.toLowerCase().includes(a.toLowerCase()));return f&&g}),[c,r,a]);return t.jsx("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:d?t.jsxs("div",{className:"p-8 text-center animate-pulse",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),t.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Email"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Orders"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:m.length>0?m.map(h=>{var f,x;return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>e(h),children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[" ",t.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-100 border flex-shrink-0",style:{borderColor:"var(--border-primary)"},children:h!=null&&h.avatar?t.jsx("img",{src:h==null?void 0:h.avatar,alt:`${h==null?void 0:h.first_name} ${h==null?void 0:h.last_name}`,className:"h-full w-full object-cover"}):t.jsx("div",{className:"h-full w-full flex items-center justify-center text-lg font-semibold",style:{color:"var(--text-primary)"},children:((f=h==null?void 0:h.first_name)==null?void 0:f.charAt(0).toUpperCase())||((x=h==null?void 0:h.email)==null?void 0:x.charAt(0).toUpperCase())})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:`${(h==null?void 0:h.first_name)||""} ${(h==null?void 0:h.last_name)||""}`.trim()||(h==null?void 0:h.email)}),t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Joined"," ",new Date(h==null?void 0:h.created_at).toLocaleDateString()||"N/A"]})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:h==null?void 0:h.email})})," ",t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx(LM,{role:(h==null?void 0:h.role)||"customer"})})," ",t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx(MM,{status:h!=null&&h.is_banned?"banned":(h==null?void 0:h.status)||"active"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[(h==null?void 0:h.orders)||0," orders"]}),t.jsxs("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["₹",((h==null?void 0:h.totalSpent)||0).toLocaleString()," total"]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:t.jsxs("div",{className:"flex justify-end space-x-2",onClick:g=>g.stopPropagation(),children:[t.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View User Details",onClick:()=>e(h),children:t.jsx(pi,{size:18})})," ",t.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:h!=null&&h.is_banned?"var(--success-color)":"var(--error-color)"},title:h!=null&&h.is_banned?"Unban User":"Ban User",onClick:()=>o(h==null?void 0:h.id),children:h!=null&&h.is_banned?t.jsx($o,{size:18}):t.jsx(Id,{size:18})})]})})]},h==null?void 0:h.id)}):t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:t.jsx("div",{style:{color:"var(--text-secondary)"},children:a||r!=="all"?"No users match your filter criteria":"No users found"})})})})]}),t.jsx("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",m.length," of ",c.length," users"]})})]})})},IM=({user:e})=>{var d,m;const{updateUserStatus:r,users:a}=Gr();if(!e)return null;const i=a.list.find(h=>h.id===e.id)||e,o=h=>{const f={admin:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)"},customer:{bg:"var(--info-color-light)",color:"var(--info-color)"}},x=f[h]||f.customer;return t.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:x.bg,color:x.color},children:h.charAt(0).toUpperCase()+h.slice(1)})},c=h=>{const f={active:{bg:"var(--success-color-light)",color:"var(--success-color)"},inactive:{bg:"var(--border-secondary)",color:"var(--text-secondary)"},banned:{bg:"var(--error-color-light)",color:"var(--error-color)"}},x=f[h]||f.active;return t.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:x.bg,color:x.color},children:h.charAt(0).toUpperCase()+h.slice(1)})};return t.jsxs("div",{className:"h-full rounded-lg shadow-md overflow-hidden animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[" ",t.jsxs("div",{className:"flex items-center",children:[" ",t.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden bg-gray-100 border-2 flex-shrink-0",style:{borderColor:"var(--border-primary)"},children:i!=null&&i.avatar?t.jsx("img",{src:i==null?void 0:i.avatar,alt:`${i==null?void 0:i.first_name} ${i==null?void 0:i.last_name}`,className:"h-full w-full object-cover"}):t.jsx("div",{className:"h-full w-full flex items-center justify-center text-2xl font-semibold",style:{color:"var(--text-primary)"},children:((d=i==null?void 0:i.first_name)==null?void 0:d.charAt(0).toUpperCase())||((m=i==null?void 0:i.email)==null?void 0:m.charAt(0).toUpperCase())})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:`${(i==null?void 0:i.first_name)||""} ${(i==null?void 0:i.last_name)||""}`.trim()||(i==null?void 0:i.email)}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:i==null?void 0:i.email})," ",t.jsxs("div",{className:"mt-2 flex space-x-2",children:[o((i==null?void 0:i.role)||"customer"),c(i!=null&&i.is_banned?"banned":(i==null?void 0:i.status)||"active")]})]})]})]}),t.jsx("div",{className:"p-6 space-y-5 overflow-auto",style:{maxHeight:"calc(100vh - 300px)"},children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Account Information"}),t.jsxs("div",{className:"rounded divide-y",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[" ",t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Registered"}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:i!=null&&i.created_at?new Date(i.created_at).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Phone Number"}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.phone_number)||"Not provided"})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Auth Provider"}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.auth_provider)||"Email"})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Orders"}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(i==null?void 0:i.orders)||0})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Spent"}),t.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["₹",((i==null?void 0:i.totalSpent)||0).toLocaleString()]})]})]})]})})," ",t.jsxs("div",{className:"p-4 border-t flex justify-end space-x-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[" ",i!=null&&i.is_banned?t.jsx(ue,{variant:"primary",size:"sm",icon:t.jsx($o,{size:16}),onClick:()=>r(i==null?void 0:i.id),children:"Unban User"}):t.jsx(ue,{variant:"danger",size:"sm",icon:t.jsx(Id,{size:16}),onClick:()=>r(i==null?void 0:i.id),children:"Ban User"})]})]})},BM=()=>{const[e,r]=w.useState(null),[a,i]=w.useState("all"),[o,c]=w.useState(""),{users:d,fetchUsers:m}=Gr(),{list:h,loading:f}=d;w.useEffect(()=>{m()},[m]);const x=[{name:"All Users",value:h.length||0,icon:t.jsx(gp,{size:20}),color:"var(--brand-primary)",view:"all"},{name:"Customers",value:h.filter(g=>g.role==="customer"||!g.role).length||0,icon:t.jsx($o,{size:20}),color:"var(--success-color)",view:"customers"},{name:"Banned Users",value:h.filter(g=>g.status==="banned").length||0,icon:t.jsx(Id,{size:20}),color:"var(--error-color)",view:"banned"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"User Management"}),t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"Manage customer and admin accounts"})]}),t.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[t.jsx(ue,{variant:"secondary",size:"sm",fullWidth:!1,onClick:m,isLoading:f,icon:t.jsx(an,{size:16}),children:f?"Refreshing...":"Refresh"}),t.jsxs("button",{className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx(bs,{className:"mr-2",size:16}),"Export Users"]})]})]})," ",t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:x.map((g,v)=>t.jsxs("button",{onClick:()=>i(g.view),className:`p-4 rounded-lg shadow-sm border transition-all ${a===g.view?"ring-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-sm)",ringColor:g.color,cursor:"pointer"},children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:`${g.color}20`,color:g.color},children:g.icon}),t.jsx("div",{className:"text-2xl font-bold",style:{color:a===g.view?g.color:"var(--text-primary)"},children:g.value})]}),t.jsx("div",{className:"text-sm font-medium mt-2",style:{color:"var(--text-secondary)"},children:g.name})]},v))}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative w-full md:w-80",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(br,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:"text",placeholder:"Search users by name or email...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:o,onChange:g=>c(g.target.value)})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsx(zM,{onSelectUser:r,filterView:a,searchQuery:o})}),t.jsx("div",{className:"lg:col-span-1",children:e?t.jsx(IM,{user:e}):t.jsx("div",{className:"rounded-lg shadow-md h-full flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:t.jsx("p",{children:"Select a user to view details"})})})]})]})},UM=[{id:"RET-001",orderId:"ORD-12345",customer:"John Smith",items:[{id:1,name:"Product 1",price:49.99,quantity:1,reason:"Defective item"}],requestDate:"2023-05-10",status:"pending",refundAmount:49.99,details:{reason:"Defective item",description:"The product arrived damaged with scratches on the surface.",images:["https://via.placeholder.com/150?text=Damage+Photo"],customerAddress:"123 Main St, New York, NY 10001"},timeline:[{date:"2023-05-10",status:"Return requested",comment:"Customer submitted return request"}]},{id:"RET-002",orderId:"ORD-12346",customer:"Jane Doe",items:[{id:3,name:"Product 3",price:89.99,quantity:1,reason:"Wrong item"}],requestDate:"2023-05-12",status:"approved",refundAmount:89.99,details:{reason:"Wrong item",description:"I ordered the blue version but received the red one.",images:["https://via.placeholder.com/150?text=Wrong+Item"],customerAddress:"456 Broadway, New York, NY 10002"},timeline:[{date:"2023-05-12",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-13",status:"Approved",comment:"Return request approved, shipping label sent"}]},{id:"RET-003",orderId:"ORD-12347",customer:"Mike Johnson",items:[{id:4,name:"Product 4",price:99.99,quantity:1,reason:"Changed mind"},{id:5,name:"Product 5",price:29.99,quantity:2,reason:"Changed mind"}],requestDate:"2023-05-15",status:"rejected",refundAmount:159.97,details:{reason:"Changed mind",description:"I found a better deal elsewhere.",images:[],customerAddress:"789 Park Ave, New York, NY 10003"},timeline:[{date:"2023-05-15",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-16",status:"Rejected",comment:"Return period exceeded (31 days since delivery)"}]},{id:"RET-004",orderId:"ORD-12348",customer:"Sarah Williams",items:[{id:6,name:"Product 6",price:149.95,quantity:1,reason:"Not as described"}],requestDate:"2023-05-17",status:"pending",refundAmount:149.95,details:{reason:"Not as described",description:"Item does not match the specifications listed on website.",images:["https://via.placeholder.com/150?text=Item+Photo"],customerAddress:"101 Lexington Ave, New York, NY 10004"},timeline:[{date:"2023-05-17",status:"Return requested",comment:"Customer submitted return request"}]},{id:"RET-005",orderId:"ORD-12349",customer:"Robert Brown",items:[{id:7,name:"Product 7",price:299.99,quantity:1,reason:"Defective item"}],requestDate:"2023-05-18",status:"approved",refundAmount:299.99,details:{reason:"Defective item",description:"The product is not working properly.",images:["https://via.placeholder.com/150?text=Defective+Item"],customerAddress:"202 5th Ave, New York, NY 10005"},timeline:[{date:"2023-05-18",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-19",status:"Approved",comment:"Return request approved, shipping label sent"}]}],FM=({status:e})=>{const r={pending:{bg:"bg-yellow-100",text:"text-yellow-800"},approved:{bg:"bg-green-100",text:"text-green-800"},rejected:{bg:"bg-red-100",text:"text-red-800"},completed:{bg:"bg-blue-100",text:"text-blue-800"}},{bg:a,text:i}=r[e]||r.pending;return t.jsx("span",{className:`px-3 py-1 uppercase text-xs font-bold rounded-full ${a} ${i}`,children:e})},VM=({onSelectReturn:e,filterStatus:r})=>{const[a,i]=w.useState(UM),o=(d,m)=>{i(a.map(h=>h.id===d?{...h,status:m,timeline:[...h.timeline,{date:new Date().toISOString().split("T")[0],status:m.charAt(0).toUpperCase()+m.slice(1),comment:`Return request ${m}`}]}:h))},c=a.filter(d=>r==="all"?!0:d.status===r);return t.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full whitespace-nowrap",children:[t.jsx("thead",{className:"bg-gray-100 text-gray-700 text-sm",children:t.jsxs("tr",{children:[t.jsx("th",{className:"py-3 px-4 text-left",children:"Return ID"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Order ID"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Customer"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Date"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Amount"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Status"}),t.jsx("th",{className:"py-3 px-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(d=>t.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(d),children:[t.jsx("td",{className:"py-3 px-4 text-sm",children:d.id}),t.jsx("td",{className:"py-3 px-4 text-sm",children:d.orderId}),t.jsx("td",{className:"py-3 px-4 text-sm",children:d.customer}),t.jsx("td",{className:"py-3 px-4 text-sm",children:d.requestDate}),t.jsxs("td",{className:"py-3 px-4 text-sm",children:["$",d.refundAmount.toFixed(2)]}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(FM,{status:d.status})}),t.jsx("td",{className:"py-3 px-4 text-right",children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(ue,{variant:"secondary",size:"sm",onClick:m=>{m.stopPropagation(),e(d)},children:"View"}),d.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(ue,{variant:"primary",size:"sm",onClick:m=>{m.stopPropagation(),o(d.id,"approved")},children:"Approve"}),t.jsx(ue,{variant:"danger",size:"sm",onClick:m=>{m.stopPropagation(),o(d.id,"rejected")},children:"Reject"})]}),d.status==="approved"&&t.jsx(ue,{variant:"primary",size:"sm",onClick:m=>{m.stopPropagation(),o(d.id,"completed")},children:"Mark Complete"})]})})]},d.id))})]})}),t.jsxs("div",{className:"py-3 px-4 bg-gray-50 text-gray-600 text-sm",children:["Showing ",c.length," returns"]})]})},HM=({return:e})=>{if(!e)return null;const r=a=>{const i={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"};return i[a]||i.pending};return t.jsxs("div",{className:"bg-white rounded-lg shadow-md h-full",children:[t.jsx("div",{className:"p-6 border-b",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Return Request"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Return #",e.id]})]}),t.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${r(e.status)}`,children:e.status})]})}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Request Information"}),t.jsxs("div",{className:"bg-gray-50 rounded divide-y divide-gray-200",children:[t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Order ID"}),t.jsx("span",{className:"text-sm font-medium",children:e.orderId})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Customer"}),t.jsx("span",{className:"text-sm font-medium",children:e.customer})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Request Date"}),t.jsx("span",{className:"text-sm font-medium",children:e.requestDate})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Refund Amount"}),t.jsxs("span",{className:"text-sm font-medium",children:["$",e.refundAmount.toFixed(2)]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Return Reason"}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[t.jsx("p",{className:"text-sm font-medium",children:e.details.reason}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:e.details.description})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Items to Return"}),t.jsx("div",{className:"bg-gray-50 rounded overflow-hidden divide-y divide-gray-200",children:e.items.map(a=>t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:a.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",a.quantity," | Reason: ",a.reason]})]}),t.jsxs("p",{className:"text-sm font-medium",children:["$",(a.price*a.quantity).toFixed(2)]})]},a.id))})]}),e.details.images&&e.details.images.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Images"}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.details.images.map((a,i)=>t.jsx("div",{className:"rounded overflow-hidden border border-gray-200",children:t.jsx("img",{src:a,alt:`Return image ${i+1}`,className:"w-full h-auto"})},i))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Return Timeline"}),t.jsx("div",{className:"space-y-3",children:e.timeline.map((a,i)=>t.jsxs("div",{className:"flex",children:[t.jsxs("div",{className:"mr-3 relative",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 ring-4 ring-blue-100"}),i<e.timeline.length-1&&t.jsx("div",{className:"h-full w-0.5 bg-gray-200 absolute top-3 left-1.5"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",children:a.status}),t.jsx("p",{className:"text-xs text-gray-500",children:a.comment}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a.date})]})]},i))})]})]}),t.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end space-x-3",children:[e.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(ue,{variant:"danger",children:"Reject Return"}),t.jsx(ue,{variant:"primary",children:"Approve Return"})]}),e.status==="approved"&&t.jsx(ue,{variant:"primary",children:"Mark as Completed"}),t.jsx(ue,{variant:"secondary",children:"Print Details"})]})]})},qM=()=>{const[e,r]=w.useState(null),[a,i]=w.useState("all");return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Return & Refund Requests"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search requests...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),t.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:a,onChange:o=>i(o.target.value),children:[t.jsx("option",{value:"all",children:"All Requests"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsx(VM,{onSelectReturn:r,filterStatus:a})}),t.jsx("div",{className:"lg:col-span-1",children:e?t.jsx(HM,{return:e}):t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md h-full flex items-center justify-center text-gray-500",children:t.jsx("p",{children:"Select a return request to view details"})})})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Return Policy"}),t.jsxs("div",{className:"prose max-w-none",children:[t.jsx("p",{children:"Current return policy allows customers to return items within 30 days of delivery for a full refund. Items must be unused and in original packaging."}),t.jsx("h3",{className:"text-md font-semibold mt-4",children:"Return Process:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[t.jsx("li",{children:"Customer submits a return request with reason"}),t.jsx("li",{children:"Admin reviews request and approves/rejects"}),t.jsx("li",{children:"If approved, customer receives return shipping label"}),t.jsx("li",{children:"Once item is received and inspected, refund is processed"}),t.jsx("li",{children:"Customer receives notification when refund is complete"})]})]})]})]})},sx=Kt(e=>({reviews:{list:[],loading:!1,error:null},reportedReviews:{list:[],loading:!1,error:null},selectedReview:null,pendingReviews:[],flaggedReviews:[],fetchReviews:async()=>{var r,a;e(i=>({reviews:{...i.reviews,loading:!0,error:null}}));try{const o=(await _e.get("/admin/reviews/")).data.reviews.map(m=>({...m,status:m.status||"approved"})),c=o.filter(m=>m.status==="pending"),d=o.filter(m=>m.reported_count>0);return e({reviews:{list:o,loading:!1,error:null},pendingReviews:c,flaggedReviews:d}),{success:!0,data:o}}catch(i){return e(o=>{var c,d;return{reviews:{...o.reviews,loading:!1,error:((d=(c=i.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to fetch reviews"}}}),{success:!1,error:((a=(r=i.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to fetch reviews"}}},fetchReportedReviews:async()=>{var r,a;e(i=>({reportedReviews:{...i.reportedReviews,loading:!0,error:null}}));try{const o=(await _e.get("/admin/reviews/reported/")).data.reported_reviews;return e({reportedReviews:{list:o,loading:!1,error:null},flaggedReviews:o}),{success:!0,data:o}}catch(i){return e(o=>{var c,d;return{reportedReviews:{...o.reportedReviews,loading:!1,error:((d=(c=i.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to fetch reported reviews"}}}),{success:!1,error:((a=(r=i.response)==null?void 0:r.data)==null?void 0:a.error)||"Failed to fetch reported reviews"}}},deleteReview:async(r,a)=>{var i,o;e(c=>({reviews:{...c.reviews,loading:!0,error:null}}));try{const c=await _e.delete(`/admin/reviews/${r}/${a}/delete/`);if(c.status===200)return e(d=>{const m=d.reviews.list.filter(x=>!(x.id===a&&x.product_id===r)),h=m.filter(x=>x.status==="pending"),f=m.filter(x=>x.reported_count>0);return{reviews:{...d.reviews,list:m,loading:!1,error:null},reportedReviews:{...d.reportedReviews,list:d.reportedReviews.list.filter(x=>!(x.id===a&&x.product_id===r))},pendingReviews:h,flaggedReviews:f}}),{success:!0,message:c.data.message,updated_rating:c.data.updated_rating,total_reviews:c.data.total_reviews}}catch(c){return e(d=>{var m,h;return{reviews:{...d.reviews,loading:!1,error:((h=(m=c.response)==null?void 0:m.data)==null?void 0:h.error)||"Failed to delete review"}}}),{success:!1,error:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to delete review"}}},updateReviewStatus:async(r,a,i)=>{var o,c;e(d=>({reviews:{...d.reviews,loading:!0,error:null}}));try{const d=await _e.patch(`/admin/reviews/${r}/${a}/status/`,{status:i});if(d.status===200)return e(m=>{const h=m.reviews.list.map(g=>g.id===a&&g.product_id===r?{...g,status:i}:g),f=h.filter(g=>g.status==="pending"),x=h.filter(g=>g.reported_count>0);return{reviews:{...m.reviews,list:h,loading:!1,error:null},pendingReviews:f,flaggedReviews:x}}),{success:!0,message:d.data.message||`Review ${i} successfully`}}catch(d){return e(m=>{var h,f;return{reviews:{...m.reviews,loading:!1,error:((f=(h=d.response)==null?void 0:h.data)==null?void 0:f.error)||"Failed to update review status"}}}),{success:!1,error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to update review status"}}},setSelectedReview:r=>{e({selectedReview:r})},clearSelectedReview:()=>{e({selectedReview:null})},toggleFlaggedStatus:async(r,a)=>{var i,o;e(c=>({reviews:{...c.reviews,loading:!0,error:null}}));try{const c=await _e.patch(`/admin/reviews/${r}/${a}/flag/`,{toggle:!0});if(c.status===200){const d=c.data.is_flagged;return e(m=>{const h=m.reviews.list.map(x=>x.id===a&&x.product_id===r?{...x,flagged:d,reported_count:d?x.reported_count||1:0}:x),f=h.filter(x=>x.reported_count>0||x.flagged);return{reviews:{...m.reviews,list:h,loading:!1,error:null},flaggedReviews:f,reportedReviews:{...m.reportedReviews,list:d?[...m.reportedReviews.list,h.find(x=>x.id===a&&x.product_id===r)]:m.reportedReviews.list.filter(x=>!(x.id===a&&x.product_id===r))}}}),{success:!0,message:d?"Review flagged successfully":"Review unflagged successfully",is_flagged:d}}}catch(c){return e(d=>{var m,h;return{reviews:{...d.reviews,loading:!1,error:((h=(m=c.response)==null?void 0:m.data)==null?void 0:h.error)||"Failed to toggle flag status"}}}),{success:!1,error:((o=(i=c.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to toggle flag status"}}}})),$M=({isOpen:e,onClose:r,review:a})=>{var g,v,j,b,C;const{updateReviewStatus:i,deleteReview:o,toggleFlaggedStatus:c}=sx();if(!a)return null;const d=new Date(a.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),m=async()=>{if(window.confirm("Are you sure you want to delete this review?"))try{const k=await o(a.product_id,a.id);k.success?(de.success(k.message||"Review deleted successfully"),r()):de.error(k.error||"Failed to delete review")}catch(k){console.error("Error deleting review:",k),de.error("Failed to delete review")}},h=async k=>{try{const S=await i(a.product_id,a.id,k);S.success?de.success(S.message||`Review ${k} successfully`):de.error(S.error||"Failed to update status")}catch(S){console.error("Error updating status:",S),de.error("Failed to update status")}},f=async()=>{try{const k=await c(a.product_id,a.id);k.success?de.success(k.message):de.error(k.error||"Failed to update flag status")}catch(k){console.error("Error updating flag status:",k),de.error("Failed to update flag status")}},x=k=>{const S=[];for(let T=0;T<5;T++)S.push(t.jsx(Yr,{size:16,className:T<k?"fill-current":"",style:{color:"var(--brand-primary)"}},T));return t.jsx("div",{className:"flex items-center",children:S})};return t.jsx(tx,{isOpen:e,onClose:r,title:"Review Details",size:"lg",actions:t.jsxs("div",{className:"flex space-x-2",children:[a.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>h("approved"),className:"px-4 py-2 rounded text-white text-sm font-medium",style:{backgroundColor:"var(--success-color)"},children:[t.jsx(zt,{className:"inline-block mr-1"})," Approve"]}),t.jsxs("button",{onClick:()=>h("rejected"),className:"px-4 py-2 rounded text-white text-sm font-medium",style:{backgroundColor:"var(--error-color)"},children:[t.jsx(Qe,{className:"inline-block mr-1"})," Reject"]})]})," ",t.jsxs("button",{onClick:f,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:a.reported_count>0?"var(--error-color)":"transparent",color:a.reported_count>0?"white":"var(--error-color)",border:a.reported_count>0?"none":"1px solid var(--error-color)"},children:[t.jsx(xp,{className:"inline-block mr-1"}),a.reported_count>0?"Remove Flag":"Flag Review"]}),t.jsxs("button",{onClick:m,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--error-color)",border:"1px solid var(--error-color)"},children:[t.jsx(bt,{className:"inline-block mr-1"})," Delete"]})]}),children:t.jsxs("div",{className:"p-4",children:[" ",t.jsxs("div",{className:"flex items-start mb-6",children:[t.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:t.jsx("img",{src:a.productImage||"/public/logo.jpg",alt:a.product_name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"ml-4 flex-grow",children:[t.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:a.product_name}),t.jsxs("div",{className:"flex items-center mt-1",children:[x(a.rating),t.jsxs("span",{className:"ml-2 text-sm",style:{color:"var(--text-secondary)"},children:[a.rating,"/5"]})]}),t.jsxs("div",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:["Product ID: ",a.product_id]})]})]}),t.jsxs("div",{className:"p-4 mb-6 rounded",style:{backgroundColor:"var(--bg-secondary)",borderLeft:"3px solid var(--brand-primary)"},children:[" ",t.jsx("h4",{className:"text-md font-semibold mb-2",style:{color:"var(--text-primary)"},children:a.title||"Review"}),t.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-primary)"},children:a.comment}),t.jsxs("div",{className:"flex items-center justify-between text-xs",style:{color:"var(--text-secondary)"},children:[t.jsxs("span",{children:[d,a.edited&&t.jsx("span",{className:"ml-2 italic",children:"(edited)"})]}),t.jsxs("span",{children:[((g=a.helpful_users)==null?void 0:g.length)||0," people found this helpful"]})]})]}),t.jsxs("div",{className:"border-t pt-4 mb-4",style:{borderColor:"var(--border-secondary)"},children:[t.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Reviewer Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[" ",t.jsxs("div",{children:[t.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Username"}),t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[((v=a.email)==null?void 0:v.split("@")[0])||"Unknown User",a.is_verified&&t.jsxs("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--success-color)",color:"white"},children:[t.jsx(zt,{size:10,className:"mr-1"}),"Verified"]})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Email"}),t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:a.email})]})]})]}),t.jsxs("div",{className:"border-t pt-4",style:{borderColor:"var(--border-secondary)"},children:[t.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Review Status"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("div",{children:t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:a.status==="approved"?"rgba(16, 185, 129, 0.1)":a.status==="pending"?"rgba(245, 158, 11, 0.1)":"rgba(239, 68, 68, 0.1)",color:a.status==="approved"?"var(--success-color)":a.status==="pending"?"var(--warning-color)":"var(--error-color)"},children:((b=(j=a==null?void 0:a.status)==null?void 0:j.charAt(0))==null?void 0:b.toUpperCase())+((C=a==null?void 0:a.status)==null?void 0:C.slice(1))})})]})," ",t.jsxs("div",{children:[t.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Flagged"}),t.jsx("div",{children:a.reported_count>0?t.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},children:["Yes (",a.reported_count," ",a.reported_count===1?"report":"reports",")"]}):t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:"No"})})]})]})]})]})})},YM=({activeTab:e="all"})=>{const{reviews:r,updateReviewStatus:a,deleteReview:i,fetchReviews:o}=sx(),{isOpen:c,modalConfig:d,isLoading:m,showConfirm:h,hideConfirm:f,handleConfirm:x}=ji(),[g,v]=w.useState(null),[j,b]=w.useState(!1),C=I=>{v(I),b(!0)},k=()=>{b(!1),v(null)};w.useEffect(()=>{r.list.length===0&&o(),e==="pending"?T("pending"):e==="flagged"?(E(!0),T("all")):(E(!1),T("all"))},[r.list.length,o,e]);const[S,T]=w.useState("all"),[R,E]=w.useState(!1),[D,F]=w.useState(!1),[V,q]=w.useState(0),O=(I,ae)=>{h({title:"Delete Review",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{try{const ne=await i(I,ae);ne.success?de.success(ne.message||"Review deleted successfully"):de.error(ne.error||"Failed to delete review")}catch(ne){console.error("Error deleting review:",ne),de.error("Failed to delete review")}}})},A=r.list.filter(I=>!(S!=="all"&&I.status!==S||R&&I.reported_count<=0||D&&!I.is_verified||V!==0&&I.rating!==V)),M=I=>{let ae={},ne="";switch(I){case"approved":ae={backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},ne="Approved";break;case"pending":ae={backgroundColor:"rgba(245, 158, 11, 0.1)",color:"var(--warning-color)"},ne="Pending";break;case"rejected":ae={backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},ne="Rejected";break;default:ae={backgroundColor:"rgba(107, 114, 128, 0.1)",color:"var(--text-secondary)"},ne="Unknown"}return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:ae,children:ne})},X=I=>{const ae=[];for(let ne=0;ne<5;ne++)ae.push(t.jsx(Yr,{size:12,className:ne<I?"fill-current":"",style:{color:"var(--brand-primary)"}},ne));return t.jsx("div",{className:"flex items-center",children:ae})};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"status-filter",className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsxs("select",{id:"status-filter",className:"rounded-md text-sm px-3 py-2 border",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},value:S,onChange:I=>T(I.target.value),children:[t.jsx("option",{value:"all",children:"All Statuses"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"rating-filter",className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Rating"}),t.jsxs("select",{id:"rating-filter",className:"rounded-md text-sm px-3 py-2 border",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},value:V,onChange:I=>q(parseInt(I.target.value)),children:[t.jsx("option",{value:"0",children:"All Ratings"}),t.jsx("option",{value:"5",children:"5 Stars"}),t.jsx("option",{value:"4",children:"4 Stars"}),t.jsx("option",{value:"3",children:"3 Stars"}),t.jsx("option",{value:"2",children:"2 Stars"}),t.jsx("option",{value:"1",children:"1 Star"})]})]}),t.jsxs("div",{className:"flex items-end space-x-4",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 mr-2",style:{color:"var(--brand-primary)"},checked:R,onChange:()=>E(!R)}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Flagged Reviews"})]}),t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 mr-2",style:{color:"var(--brand-primary)"},checked:D,onChange:()=>F(!D)}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Verified Purchases"})]})]})]}),t.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Rating"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Review"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:[" ",A.map(I=>{var ae,ne;return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",style:{backgroundColor:I.reported_count>0?"rgba(239, 68, 68, 0.05)":"transparent"},children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:t.jsx("img",{src:I.productImage||"/public/logo.jpg",alt:I.product_name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:I.product_name}),t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Product ID: ",I.product_id]})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[((ae=I.email)==null?void 0:ae.split("@")[0])||"Unknown User",I.is_verified&&t.jsxs("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--success-color)",color:"white"},children:[t.jsx(zt,{size:10,className:"mr-1"}),"Verified"]})]}),t.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:I.email})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:X(I.rating)})," ",t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:I.title||"No Title"}),t.jsx("div",{className:"text-xs line-clamp-2",style:{color:"var(--text-secondary)"},children:I.comment}),t.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"font-medium",style:{color:"var(--brand-primary)"},children:((ne=I.helpful_users)==null?void 0:ne.length)||0})," ","found helpful"]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:M(I.status)})," ",t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(I.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),t.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(I.created_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},title:"View Review",onClick:()=>C(I),children:t.jsx(pi,{size:16})})," ",I.status==="pending"&&t.jsxs(t.Fragment,{children:[" ",t.jsx("button",{onClick:()=>{h({title:"Approve Review",message:"Are you sure you want to approve this review?",confirmText:"Approve",cancelText:"Cancel",type:"success",onConfirm:async()=>{try{const $=await a(I.product_id,I.id,"approved");$.success?de.success($.message||"Review approved successfully"):de.error($.error||"Failed to approve review")}catch($){console.error("Error approving review:",$),de.error("Failed to approve review")}}})},className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--success-color)"},title:"Approve Review",children:t.jsx(zt,{size:16})}),t.jsx("button",{onClick:()=>{h({title:"Reject Review",message:"Are you sure you want to reject this review?",confirmText:"Reject",cancelText:"Cancel",type:"warning",onConfirm:async()=>{try{const $=await a(I.product_id,I.id,"rejected");$.success?de.success($.message||"Review rejected successfully"):de.error($.error||"Failed to reject review")}catch($){console.error("Error rejecting review:",$),de.error("Failed to reject review")}}})},className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Reject Review",children:t.jsx(Qe,{size:16})})]}),t.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Review",onClick:()=>O(I.product_id,I.id),children:t.jsx(bt,{size:16})})]})})]},I.id)}),A.length===0&&t.jsx("tr",{children:t.jsxs("td",{colSpan:"7",className:"px-6 py-10 text-center text-sm",style:{color:"var(--text-secondary)"},children:[t.jsx("div",{className:"font-medium mb-1",children:"No reviews found"}),t.jsx("div",{className:"text-xs",children:"Try adjusting your filters"})]})})]})]}),t.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[" ",t.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",A.length," of ",r.list.length," reviews"]}),t.jsx("div",{className:"flex space-x-1",children:[1,2,3].map(I=>t.jsx("button",{className:"px-3 py-1 text-sm rounded-md",style:{backgroundColor:I===1?"var(--brand-primary)":"var(--bg-secondary)",color:I===1?"var(--text-on-brand)":"var(--text-secondary)"},children:I},I))})," "]})]}),t.jsx(nn,{isOpen:c,onClose:f,onConfirm:x,title:d.title,message:d.message,confirmText:d.confirmText,cancelText:d.cancelText,type:d.type,isLoading:m}),t.jsx($M,{isOpen:j,onClose:k,review:g})]})},GM=()=>{const[e,r]=w.useState("all"),{reviews:a,pendingReviews:i,flaggedReviews:o,fetchReviews:c}=sx();w.useEffect(()=>{a.list.length===0&&c()},[a.list.length,c]);const d=a.list.filter(j=>j.status==="approved"),m=a.list.filter(j=>j.status==="rejected"),h=a.list.filter(j=>j.is_verified===!0),f=a.list.reduce((j,b)=>j+b.rating,0),x=a.list.length>0?(f/a.list.length).toFixed(1):0,g={total:a.list.length,pending:i.length,approved:d.length,rejected:m.length,flagged:o.length,averageRating:parseFloat(x),verifiedPurchases:h.length},v=[{title:"Total Reviews",value:g.total,icon:t.jsx(pf,{size:20}),color:"var(--brand-primary)"},{title:"Pending Reviews",value:g.pending,icon:t.jsx(pa,{size:20}),color:"var(--warning-color)"},{title:"Flagged Reviews",value:g.flagged,icon:t.jsx(xp,{size:20}),color:"var(--error-color)"},{title:"Avg. Rating",value:g.averageRating.toFixed(1),icon:t.jsx(Yr,{size:20}),color:"var(--success-color)"}];return t.jsxs("div",{className:"p-6 max-w-7xl mx-auto animate-fadeIn",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Review Management"}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Manage customer reviews, approve pending reviews, and address flagged content"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:v.map((j,b)=>t.jsxs("div",{className:"p-4 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)",border:"1px solid var(--border-primary)"},children:[t.jsx("div",{className:"rounded-full p-3 mr-4",style:{backgroundColor:`${j.color}15`,color:j.color},children:j.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:j.title}),t.jsx("div",{className:"text-xl font-bold mt-1",style:{color:"var(--text-primary)"},children:j.value})]})]},b))}),t.jsxs("div",{className:"mb-8 p-5 rounded-lg flex flex-wrap gap-6 justify-between",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-secondary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:t.jsx(Mt,{size:18})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Approved Reviews"}),t.jsxs("div",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[g.approved,t.jsxs("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",Math.round(g.approved/g.total*100),"%)"]})]})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:t.jsx(Mt,{size:18})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Verified Purchase Reviews"}),t.jsxs("div",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[g.verifiedPurchases,t.jsxs("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",Math.round(g.verifiedPurchases/g.total*100),"%)"]})]})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)",color:"var(--warning-color)"},children:t.jsx(pf,{size:18})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Rating Distribution"}),t.jsx("div",{className:"flex items-center mt-1",children:[5,4,3,2,1].map(j=>t.jsxs("div",{className:"flex flex-col items-center mx-1",children:[t.jsx("div",{className:"h-10 w-4 rounded-t-sm",style:{backgroundColor:j>3?"var(--success-color)":j>1?"var(--warning-color)":"var(--error-color)",opacity:.7,height:`${25+j*8}px`}}),t.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[j,"★"]})]},j))})]})]})]}),t.jsx("div",{className:"mb-6 border-b",style:{borderColor:"var(--border-secondary)"},children:t.jsxs("div",{className:"flex space-x-6",children:[t.jsx("button",{onClick:()=>r("all"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${e==="all"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--brand-primary)",color:e==="all"?"var(--brand-primary)":"var(--text-secondary)"},children:"All Reviews"}),t.jsxs("button",{onClick:()=>r("pending"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${e==="pending"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--warning-color)",color:e==="pending"?"var(--warning-color)":"var(--text-secondary)"},children:["Pending Reviews",t.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:e==="pending"?"var(--warning-color)":"rgba(245, 158, 11, 0.1)",color:e==="pending"?"white":"var(--warning-color)"},children:g.pending})]}),t.jsxs("button",{onClick:()=>r("flagged"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${e==="flagged"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--error-color)",color:e==="flagged"?"var(--error-color)":"var(--text-secondary)"},children:["Flagged Reviews",t.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:e==="flagged"?"var(--error-color)":"rgba(239, 68, 68, 0.1)",color:e==="flagged"?"white":"var(--error-color)"},children:g.flagged})]})]})})," ",t.jsx(YM,{activeTab:e})]})},WM=({positionOptions:e})=>{const{banners:r,loading:a,error:i,fetchBanners:o,addBanner:c,editBanner:d,deleteBanner:m,toggleBannerActive:h}=qd(),[f,x]=w.useState(null),[g,v]=w.useState(null),[j,b]=w.useState(!1),[C,k]=w.useState(!1),[S,T]=w.useState({title:"",subtitle:"",description:"",image:"",link:"",position:"hero",tag:"",cta:"",backgroundColor:"#ffffff",active:!0}),[R,E]=w.useState(null),[D,F]=w.useState(null),[V,q]=w.useState(null),[O,A]=w.useState(null),[M,X]=w.useState(!1);w.useEffect(()=>{o()},[o]);const I=B=>{const oe=B.target.files[0];if(oe){E(oe);const fe=new FileReader;fe.onload=pe=>F(pe.target.result),fe.readAsDataURL(oe)}},ae=B=>{const oe=B.target.files[0];if(oe){q(oe);const fe=new FileReader;fe.onload=pe=>A(pe.target.result),fe.readAsDataURL(oe)}},ne=()=>{T({title:"",subtitle:"",description:"",image:"",link:"",position:"hero",tag:"",cta:"",backgroundColor:"#ffffff",active:!0}),E(null),F(null)},$=()=>{x(null),q(null),A(null)},H=async B=>{await h(B)},re=B=>{x(B),A(B.image),X(!1)},ce=async()=>{const B=new FormData;Object.keys(f).forEach(oe=>{oe!=="id"&&f[oe]!==null&&f[oe]!==void 0&&B.append(oe,f[oe])}),V&&B.append("image_file",V),await d(f.id,B),$()},L=async()=>{if(!R){ge.info("Please select an image file");return}const B=new FormData;Object.keys(S).forEach(oe=>{oe!=="image"&&S[oe]!==null&&S[oe]!==void 0&&B.append(oe,S[oe])}),B.append("image_file",R),await c(B),ne(),X(!1)},se=B=>{v(B),b(!0)},Q=async()=>{try{k(!0),await m(g.id),b(!1)}catch(B){console.error("Error deleting banner:",B)}finally{k(!1)}};return t.jsxs("div",{className:"space-y-6",children:[a&&t.jsxs("div",{className:"text-center py-4",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),t.jsx("span",{className:"ml-2",children:"Loading banners..."})]}),i&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Manage Banners"})," ",t.jsx(ue,{variant:"primary",onClick:()=>{M?(ne(),X(!1)):(X(!0),$())},children:M?"Cancel":"Add New Banner"})]})," ",M&&t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Add New Banner"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:S.title,onChange:B=>T({...S,title:B.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:S.subtitle,onChange:B=>T({...S,subtitle:B.target.value})})]})," ",t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Upload"}),t.jsx("input",{type:"file",accept:"image/*",className:"w-full p-2 border border-gray-300 rounded-md",onChange:I,required:!0}),D&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:D,alt:"Preview",className:"h-24 w-48 object-cover rounded border"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:S.link,onChange:B=>T({...S,link:B.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),t.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:S.position,onChange:B=>T({...S,position:B.target.value}),children:e.map(B=>t.jsx("option",{value:B.value,children:B.label},B.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:S.tag,onChange:B=>T({...S,tag:B.target.value}),placeholder:"e.g., SALE, NEW, LIMITED"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call to Action"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:S.cta,onChange:B=>T({...S,cta:B.target.value}),placeholder:"e.g., Shop Now, Learn More"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),t.jsx("input",{type:"color",className:"w-full p-1 border border-gray-300 rounded-md h-10",value:S.backgroundColor,onChange:B=>T({...S,backgroundColor:B.target.value})})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:S.description,onChange:B=>T({...S,description:B.target.value}),rows:3})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:S.active,onChange:B=>T({...S,active:B.target.checked}),className:"mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(ue,{variant:"primary",onClick:L,children:"Add Banner"})})]})," ",f&&t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Edit Banner"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.title||"",onChange:B=>x({...f,title:B.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.subtitle||"",onChange:B=>x({...f,subtitle:B.target.value})})]})," ",t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Upload"}),t.jsx("input",{type:"file",accept:"image/*",className:"w-full p-2 border border-gray-300 rounded-md",onChange:ae}),O&&t.jsxs("div",{className:"mt-2",children:[t.jsx("img",{src:O,alt:"Current/Preview",className:"h-24 w-48 object-cover rounded border"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:V?"New image preview":"Current image"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.link||"",onChange:B=>x({...f,link:B.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),t.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:f.position||"hero",onChange:B=>x({...f,position:B.target.value}),children:e.map(B=>t.jsx("option",{value:B.value,children:B.label},B.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.tag||"",onChange:B=>x({...f,tag:B.target.value}),placeholder:"e.g., SALE, NEW, LIMITED"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call to Action"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.cta||"",onChange:B=>x({...f,cta:B.target.value}),placeholder:"e.g., Shop Now, Learn More"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),t.jsx("input",{type:"color",className:"w-full p-1 border border-gray-300 rounded-md h-10",value:f.backgroundColor||"#ffffff",onChange:B=>x({...f,backgroundColor:B.target.value})})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:f.description||"",onChange:B=>x({...f,description:B.target.value}),rows:3})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:f.active,onChange:B=>x({...f,active:B.target.checked}),className:"mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})})]})," ",t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(ue,{variant:"secondary",onClick:$,children:"Cancel"}),t.jsx(ue,{variant:"primary",onClick:ce,children:"Save Changes"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full whitespace-nowrap",children:[t.jsx("thead",{className:"bg-gray-100 text-gray-700 text-sm",children:t.jsxs("tr",{children:[t.jsx("th",{className:"py-3 px-4 text-left",children:"Banner"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Details"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Position"}),t.jsx("th",{className:"py-3 px-4 text-center",children:"Status"}),t.jsx("th",{className:"py-3 px-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(B=>{var oe;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsx("img",{src:B.image,alt:B.title,className:"h-24 w-48 object-cover rounded"})})," ",t.jsxs("td",{className:"py-3 px-4",children:[t.jsx("h3",{className:"font-medium",children:B.title}),B.subtitle&&t.jsx("p",{className:"text-sm text-gray-600",children:B.subtitle}),t.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:B.description}),B.link&&t.jsx("a",{href:B.link,className:"text-xs text-blue-500 hover:underline",target:"_blank",rel:"noopener noreferrer",children:B.link}),B.tag&&t.jsx("span",{className:"inline-block mt-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:B.tag})]}),t.jsx("td",{className:"py-3 px-4",children:((oe=e.find(fe=>fe.value===B.position))==null?void 0:oe.label)||B.position}),t.jsx("td",{className:"py-3 px-4 text-center",children:t.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${B.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:B.active?"Active":"Inactive"})}),t.jsx("td",{className:"py-3 px-4 text-right",children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(ue,{variant:"secondary",size:"sm",onClick:()=>re(B),children:"Edit"}),t.jsx(ue,{variant:B.active?"danger":"primary",size:"sm",onClick:()=>H(B.id),children:B.active?"Deactivate":"Activate"})," ",t.jsx(ue,{variant:"danger",size:"sm",onClick:()=>se(B),children:"Delete"})]})})]},B.id)})})]})})," ",r.length===0&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"No banners found. Add your first banner!"})}),t.jsx(nn,{isOpen:j,onClose:()=>b(!1),onConfirm:Q,title:"Delete Banner",message:g?`Are you sure you want to delete the banner "${g.title}"? This action cannot be undone.`:"Are you sure you want to delete this banner?",confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:C})]})},KM=[{value:"hero",label:"Hero Banner (Top)"},{value:"carousel",label:"Banner Carousel"},{value:"home-middle",label:"Home Middle Section"},{value:"home-bottom",label:"Home Bottom Section"},{value:"category-top",label:"Category Page Top"},{value:"sidebar",label:"Sidebar"}],XM=()=>{const[e,r]=w.useState("banners");return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Content Management"})}),t.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[t.jsx("div",{className:"flex border-b",children:t.jsx("button",{className:`px-6 py-3 font-medium ${e==="banners"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>r("banners"),children:"Banners"})}),t.jsx("div",{className:"p-6",children:e==="banners"&&t.jsx(WM,{positionOptions:KM})})]})]})},ZM=()=>{const e=Wt(),{adminLogin:r,error:a,clearError:i,isLoading:o}=rx(),[c,d]=w.useState({username:"",password:""}),[m,h]=w.useState({}),f=v=>{const{name:j,value:b}=v.target;d(C=>({...C,[j]:b})),m[j]&&h(C=>({...C,[j]:""})),a&&i()},x=()=>{const v={};return c.username.trim()||(v.username="Username is required"),c.password||(v.password="Password is required"),h(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),!!x())try{await r(c),e("/admin/dashboard")}catch(j){console.error("Admin login failed:",j)}};return t.jsxs(Br,{title:"Admin Portal Login",children:[t.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Sign in to manage the application."}),t.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[t.jsxs("div",{className:"rounded-md space-y-5",children:[t.jsx(Be,{label:"Username",type:"text",name:"username",value:c.username,onChange:f,required:!0,error:m.username,placeholder:"admin",icon:"user"}),t.jsx(Be,{label:"Password",type:"password",name:"password",value:c.password,onChange:f,required:!0,error:m.password,placeholder:"••••••••",icon:"lock"})]}),a&&t.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded-md",children:a}),t.jsx("div",{className:"pt-2",children:t.jsx(ue,{type:"submit",isLoading:o,variant:"primary",size:"lg",fullWidth:!0,children:o?"Signing in...":"Sign in"})}),t.jsx("div",{className:"text-sm text-center mt-4",children:t.jsx(he,{to:"/admin/register",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors duration-200",children:"Create an admin account"})})]})]})},QM=()=>{const e=Wt(),{adminRegister:r,error:a,clearError:i,isLoading:o}=rx(),[c,d]=w.useState({username:"",password:"",secretKey:""}),[m,h]=w.useState({}),f=v=>{const{name:j,value:b}=v.target;d(C=>({...C,[j]:b})),m[j]&&h(C=>({...C,[j]:""})),a&&i()},x=()=>{const v={};return c.username.trim()||(v.username="Username is required"),c.password?c.password.length<6&&(v.password="Password must be at least 6 characters"):v.password="Password is required",c.secretKey.trim()||(v.secretKey="Secret Key is required"),h(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),!!x())try{await r({username:c.username,password:c.password,secretKey:c.secretKey}),e("/admin/login")}catch(j){console.error("Admin registration failed:",j)}};return t.jsxs(Br,{title:"Create Admin Account",children:[t.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Register to gain administrative access."}),t.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[t.jsxs("div",{className:"rounded-md space-y-5",children:[t.jsx(Be,{label:"Username",type:"text",name:"username",value:c.username,onChange:f,required:!0,error:m.username,placeholder:"admin",icon:"user"}),t.jsx(Be,{label:"Password",type:"password",name:"password",value:c.password,onChange:f,required:!0,error:m.password,placeholder:"••••••••",icon:"lock"}),t.jsx(Be,{label:"Secret Key",type:"password",name:"secretKey",value:c.secretKey,onChange:f,required:!0,error:m.secretKey,placeholder:"Enter your secret key",icon:"key"})]}),a&&t.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded-md",children:a}),t.jsx("div",{className:"pt-2",children:t.jsx(ue,{type:"submit",isLoading:o,variant:"primary",size:"lg",fullWidth:!0,children:o?"Creating Account...":"Create Account"})}),t.jsxs("div",{className:"text-sm text-center mt-4",children:["Already have an admin account?"," ",t.jsx(he,{to:"/admin/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors duration-200",children:"Sign in"})]})]})]})},JM=()=>{const{deliveryPartners:e,fetchDeliveryPartners:r,verifyDeliveryPartner:a}=Gr(),[i,o]=w.useState(""),[c,d]=w.useState("all"),[m,h]=w.useState(!1),[f,x]=w.useState(null);w.useEffect(()=>{r().catch(b=>{Ue.error("Failed to load delivery partners"),console.error("Error fetching delivery partners:",b)})},[r]);const g=b=>{x(b),h(!0)},v=async()=>{f&&(Ue.promise(a(f.partner_id),{loading:`Verifying ${f.name}...`,success:`${f.name} has been verified successfully!`,error:`Failed to verify ${f.name}`}),h(!1))},j=e.list.filter(b=>{const C=b.name.toLowerCase().includes(i.toLowerCase())||b.email.toLowerCase().includes(i.toLowerCase())||b.phone.includes(i);return c==="all"?C:c==="verified"?C&&b.is_verified:c==="unverified"?C&&!b.is_verified:C});return t.jsxs("div",{className:"animate-fadeIn",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Delivery Partners"})," ",t.jsxs("button",{onClick:()=>{Ue.promise(r(),{loading:"Refreshing partners list...",success:"Partners list updated!",error:"Failed to refresh partners"})},className:"flex items-center bg-brand-primary text-white px-4 py-2 rounded-md hover:bg-opacity-90 transition-all duration-200",children:[t.jsx(an,{className:"mr-2"}),"Refresh"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[t.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 rounded-full bg-blue-100 mr-4",children:t.jsx(nr,{className:"text-blue-500",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Partners"}),t.jsx("p",{className:"text-2xl font-bold",children:e.list.length})]})]})}),t.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 rounded-full bg-green-100 mr-4",children:t.jsx(zt,{className:"text-green-500",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Verified Partners"}),t.jsx("p",{className:"text-2xl font-bold",children:e.list.filter(b=>b.is_verified).length})]})]})}),t.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 rounded-full bg-yellow-100 mr-4",children:t.jsx(Qe,{className:"text-yellow-500",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Pending Verification"}),t.jsx("p",{className:"text-2xl font-bold",children:e.list.filter(b=>!b.is_verified).length})]})]})})]}),t.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[t.jsx("div",{className:"flex-1 min-w-[200px]",children:t.jsxs("div",{className:"relative",children:[t.jsx(br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search partners...",value:i,onChange:b=>o(b.target.value),className:"pl-10 p-2 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]})}),t.jsx("div",{className:"w-auto",children:t.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-300 rounded-md px-3",children:[t.jsx(pa,{className:"text-gray-400"}),t.jsxs("select",{value:c,onChange:b=>d(b.target.value),className:"bg-transparent py-2 focus:outline-none",children:[t.jsx("option",{value:"all",children:"All Partners"}),t.jsx("option",{value:"verified",children:"Verified"}),t.jsx("option",{value:"unverified",children:"Unverified"})]})]})})]}),e.loading?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"})}):e.error?t.jsxs("div",{className:"bg-red-50 p-4 rounded-md text-red-500 flex items-center",children:[t.jsx(ni,{className:"mr-2",size:20}),t.jsx("span",{children:e.error})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:t.jsxs("table",{className:"w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 text-left",children:[t.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),t.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),t.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-200",children:[" ",j.length>0?j.map(b=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"font-medium text-gray-900",children:b.name})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:b.email}),t.jsx("div",{className:"text-sm text-gray-500",children:b.phone})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.is_verified?t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Verified"}):t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending Verification"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(b.created_at).toLocaleDateString()}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[!b.is_verified&&t.jsx("button",{onClick:()=>g(b),className:"text-brand-primary hover:text-brand-primary-dark mr-3",children:"Verify"})," ",t.jsxs("button",{className:"text-gray-600 hover:text-gray-900",onClick:()=>{Ue.info(`Viewing details for ${b.name} - This feature is coming soon!`)},children:[t.jsx(nr,{className:"inline mr-1"}),"Details"]})]})]},b.partner_id)):t.jsx("tr",{children:t.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No delivery partners found."})})]})]})})," ",m&&f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 transform transition-all duration-200 scale-100",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)"},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start mb-4",children:[t.jsx("div",{className:"flex-shrink-0 mr-4 mt-1",children:t.jsx(zt,{className:"text-green-500",size:24})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Verify Delivery Partner"}),t.jsxs("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:["Are you sure you want to verify"," ",t.jsx("span",{className:"font-semibold",children:f.name})," ","as a delivery partner?"]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[t.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 border rounded-md hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-color)",color:"var(--text-secondary)",backgroundColor:"transparent"},children:"Cancel"}),t.jsx("button",{onClick:v,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Verify Partner"})]})]})})})]})]})},e8=()=>{const e=[{id:1,name:"Smartphones",path:"/category/smartphones"},{id:2,name:"Laptops",path:"/category/laptops"},{id:3,name:"Tablets",path:"/category/tablets"},{id:4,name:"Mobile Accessories",path:"/category/mobile-accessories"},{id:5,name:"Laptop Accessories",path:"/category/laptop-accessories"},{id:6,name:"Audio Devices",path:"/category/audio"}];return t.jsxs(t.Fragment,{children:[t.jsx(ZL,{categories:e}),t.jsx(Wf,{}),t.jsx(JL,{})]})},t8=()=>{const{isAuthenticated:e,checkAuthStatus:r}=Le(),{isAuthenticated:a,checkAdminAuthStatus:i}=rx();return Oe.useEffect(()=>{(async()=>{r(),i();const{useProductStore:c}=await IS(async()=>{const{useProductStore:d}=await Promise.resolve().then(()=>lL);return{useProductStore:d}},[]);c.getState().fetchProducts()})()},[r,i]),t.jsxs(r4,{children:[t.jsx(r_,{position:"top-right",toastOptions:{duration:3e3}}),t.jsxs(Rk,{children:[t.jsx(Se,{path:"/signup",element:e?t.jsx(Ot,{to:"/"}):t.jsx(cR,{})}),t.jsx(Se,{path:"/login",element:e?t.jsx(Ot,{to:"/"}):t.jsx(dR,{})}),t.jsxs(Se,{path:"/delivery",children:[t.jsx(Se,{path:"login",element:t.jsx(oM,{})}),t.jsx(Se,{path:"register",element:t.jsx(lM,{})}),t.jsx(Se,{path:"admin-verify",element:t.jsx(Sj,{})}),t.jsx(Se,{path:"dashboard",element:t.jsx(Yn,{children:t.jsx(uM,{})})}),t.jsx(Se,{path:"assignments",element:t.jsx(Yn,{children:t.jsx(cM,{})})}),t.jsx(Se,{path:"update/:id",element:t.jsx(Yn,{children:t.jsx(kj,{})})}),t.jsx(Se,{path:"status-update",element:t.jsx(Yn,{children:t.jsx(kj,{})})}),t.jsx(Se,{path:"history",element:t.jsx(Yn,{children:t.jsx(dM,{})})}),t.jsx(Se,{path:"settings",element:t.jsx(Yn,{children:t.jsx(mM,{})})}),t.jsx(Se,{path:"verification",element:a?t.jsx(Sj,{}):t.jsx(Ot,{to:"/admin/login"})})]}),t.jsxs(Se,{element:t.jsx(e8,{}),children:[t.jsx(Se,{path:"/",element:t.jsx(pL,{})}),t.jsx(Se,{path:"/products",element:t.jsx(wj,{})}),t.jsx(Se,{path:"/products/:id",element:t.jsx(SL,{})}),t.jsx(Se,{path:"/category/:category",element:t.jsx(wj,{})}),t.jsx(Se,{path:"/cart",element:t.jsx(DL,{})}),t.jsx(Se,{path:"/wishlist",element:t.jsx(OL,{})}),t.jsx(Se,{path:"/orders",element:t.jsx(BL,{})}),t.jsx(Se,{path:"/order-tracking",element:t.jsx(FL,{})}),t.jsx(Se,{path:"/order-tracking/:id",element:t.jsx(VL,{})}),t.jsx(Se,{path:"/search",element:t.jsx(kL,{})})," ",t.jsx(Se,{path:"/profile",element:t.jsx(Nj,{})}),t.jsx(Se,{path:"/profile/:section",element:t.jsx(Nj,{})})]})," ",t.jsx(Se,{path:"/admin/login",element:a?t.jsx(Ot,{to:"/admin/dashboard"}):t.jsx(ZM,{})}),t.jsx(Se,{path:"/admin/register",element:a?t.jsx(Ot,{to:"/admin/dashboard"}):t.jsx(QM,{})})," ",t.jsxs(Se,{element:t.jsx(eM,{}),children:[" ",t.jsx(Se,{path:"/admin/dashboard",element:a?t.jsx(yM,{}):t.jsx(Ot,{to:"/admin/login"})}),t.jsx(Se,{path:"/admin/products",element:a?t.jsx(CM,{}):t.jsx(Ot,{to:"/admin/login"})}),t.jsx(Se,{path:"/admin/inventory",element:a?t.jsx(_M,{}):t.jsx(Ot,{to:"/admin/login"})}),t.jsx(Se,{path:"/admin/orders",element:a?t.jsx(PM,{}):t.jsx(Ot,{to:"/admin/login"})}),t.jsx(Se,{path:"/admin/users",element:a?t.jsx(BM,{}):t.jsx(Ot,{to:"/admin/login"})}),t.jsx(Se,{path:"/admin/returns",element:a?t.jsx(qM,{}):t.jsx(Ot,{to:"/admin/login"})})," ",t.jsx(Se,{path:"/admin/content",element:a?t.jsx(XM,{}):t.jsx(Ot,{to:"/admin/login"})}),t.jsx(Se,{path:"/admin/reviews",element:a?t.jsx(GM,{}):t.jsx(Ot,{to:"/admin/login"})}),t.jsx(Se,{path:"/admin/delivery-partners",element:a?t.jsx(JM,{}):t.jsx(Ot,{to:"/admin/login"})})]})]})]})};LS.createRoot(document.getElementById("root")).render(t.jsx(Oe.StrictMode,{children:t.jsx(t8,{})}));
