(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function M1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ph={exports:{}},wo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function OS(){if(tb)return wo;tb=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(n,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var u in o)u!=="key"&&(c[u]=o[u])}else c=o;return o=c.ref,{$$typeof:e,type:n,key:d,ref:o!==void 0?o:null,props:c}}return wo.Fragment=r,wo.jsx=s,wo.jsxs=s,wo}var rb;function PS(){return rb||(rb=1,ph.exports=OS()),ph.exports}var t=PS(),xh={exports:{}},No={},yh={exports:{}},gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function LS(){return sb||(sb=1,function(e){function r(D,O){var F=D.length;D.push(O);e:for(;0<F;){var le=F-1>>>1,z=D[le];if(0<o(z,O))D[le]=O,D[F]=z,F=le;else break e}}function s(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var O=D[0],F=D.pop();if(F!==O){D[0]=F;e:for(var le=0,z=D.length,re=z>>>1;le<re;){var J=2*(le+1)-1,$=D[J],ce=J+1,xe=D[ce];if(0>o($,F))ce<z&&0>o(xe,$)?(D[le]=xe,D[ce]=F,le=ce):(D[le]=$,D[J]=F,le=J);else if(ce<z&&0>o(xe,F))D[le]=xe,D[ce]=F,le=ce;else break e}}return O}function o(D,O){var F=D.sortIndex-O.sortIndex;return F!==0?F:D.id-O.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,u=d.now();e.unstable_now=function(){return d.now()-u}}var h=[],f=[],x=1,g=null,v=3,b=!1,j=!1,k=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function S(D){for(var O=s(f);O!==null;){if(O.callback===null)n(f);else if(O.startTime<=D)n(f),O.sortIndex=O.expirationTime,r(h,O);else break;O=s(f)}}function T(D){if(k=!1,S(D),!j)if(s(h)!==null)j=!0,P||(P=!0,ne());else{var O=s(f);O!==null&&B(T,O.startTime-D)}}var P=!1,q=-1,U=5,V=-1;function M(){return _?!0:!(e.unstable_now()-V<U)}function ae(){if(_=!1,P){var D=e.unstable_now();V=D;var O=!0;try{e:{j=!1,k&&(k=!1,A(q),q=-1),b=!0;var F=v;try{t:{for(S(D),g=s(h);g!==null&&!(g.expirationTime>D&&M());){var le=g.callback;if(typeof le=="function"){g.callback=null,v=g.priorityLevel;var z=le(g.expirationTime<=D);if(D=e.unstable_now(),typeof z=="function"){g.callback=z,S(D),O=!0;break t}g===s(h)&&n(h),S(D)}else n(h);g=s(h)}if(g!==null)O=!0;else{var re=s(f);re!==null&&B(T,re.startTime-D),O=!1}}break e}finally{g=null,v=F,b=!1}O=void 0}}finally{O?ne():P=!1}}}var ne;if(typeof R=="function")ne=function(){R(ae)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Y=L.port2;L.port1.onmessage=ae,ne=function(){Y.postMessage(null)}}else ne=function(){C(ae,0)};function B(D,O){q=C(function(){D(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var F=v;v=O;try{return D()}finally{v=F}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(D,O){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=v;v=D;try{return O()}finally{v=F}},e.unstable_scheduleCallback=function(D,O,F){var le=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?le+F:le):F=le,D){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,D={id:x++,callback:O,priorityLevel:D,startTime:F,expirationTime:z,sortIndex:-1},F>le?(D.sortIndex=F,r(f,D),s(h)===null&&D===s(f)&&(k?(A(q),q=-1):k=!0,B(T,F-le))):(D.sortIndex=z,r(h,D),j||b||(j=!0,P||(P=!0,ne()))),D},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(D){var O=v;return function(){var F=v;v=O;try{return D.apply(this,arguments)}finally{v=F}}}}(gh)),gh}var ab;function MS(){return ab||(ab=1,yh.exports=LS()),yh.exports}var vh={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function zS(){if(nb)return ke;nb=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),g=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,k={};function _(z,re,J){this.props=z,this.context=re,this.refs=k,this.updater=J||b}_.prototype.isReactComponent={},_.prototype.setState=function(z,re){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,re,"setState")},_.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=_.prototype;function A(z,re,J){this.props=z,this.context=re,this.refs=k,this.updater=J||b}var R=A.prototype=new C;R.constructor=A,j(R,_.prototype),R.isPureReactComponent=!0;var S=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function q(z,re,J,$,ce,xe){return J=xe.ref,{$$typeof:e,type:z,key:re,ref:J!==void 0?J:null,props:xe}}function U(z,re){return q(z.type,re,void 0,void 0,void 0,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function M(z){var re={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(J){return re[J]})}var ae=/\/+/g;function ne(z,re){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):re.toString(36)}function L(){}function Y(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(L,L):(z.status="pending",z.then(function(re){z.status==="pending"&&(z.status="fulfilled",z.value=re)},function(re){z.status==="pending"&&(z.status="rejected",z.reason=re)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function B(z,re,J,$,ce){var xe=typeof z;(xe==="undefined"||xe==="boolean")&&(z=null);var he=!1;if(z===null)he=!0;else switch(xe){case"bigint":case"string":case"number":he=!0;break;case"object":switch(z.$$typeof){case e:case r:he=!0;break;case x:return he=z._init,B(he(z._payload),re,J,$,ce)}}if(he)return ce=ce(z),he=$===""?"."+ne(z,0):$,S(ce)?(J="",he!=null&&(J=he.replace(ae,"$&/")+"/"),B(ce,re,J,"",function(xt){return xt})):ce!=null&&(V(ce)&&(ce=U(ce,J+(ce.key==null||z&&z.key===ce.key?"":(""+ce.key).replace(ae,"$&/")+"/")+he)),re.push(ce)),1;he=0;var ie=$===""?".":$+":";if(S(z))for(var Ce=0;Ce<z.length;Ce++)$=z[Ce],xe=ie+ne($,Ce),he+=B($,re,J,xe,ce);else if(Ce=v(z),typeof Ce=="function")for(z=Ce.call(z),Ce=0;!($=z.next()).done;)$=$.value,xe=ie+ne($,Ce++),he+=B($,re,J,xe,ce);else if(xe==="object"){if(typeof z.then=="function")return B(Y(z),re,J,$,ce);throw re=String(z),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return he}function D(z,re,J){if(z==null)return z;var $=[],ce=0;return B(z,$,"","",function(xe){return re.call(J,xe,ce++)}),$}function O(z){if(z._status===-1){var re=z._result;re=re(),re.then(function(J){(z._status===0||z._status===-1)&&(z._status=1,z._result=J)},function(J){(z._status===0||z._status===-1)&&(z._status=2,z._result=J)}),z._status===-1&&(z._status=0,z._result=re)}if(z._status===1)return z._result.default;throw z._result}var F=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function le(){}return ke.Children={map:D,forEach:function(z,re,J){D(z,function(){re.apply(this,arguments)},J)},count:function(z){var re=0;return D(z,function(){re++}),re},toArray:function(z){return D(z,function(re){return re})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ke.Component=_,ke.Fragment=s,ke.Profiler=o,ke.PureComponent=A,ke.StrictMode=n,ke.Suspense=h,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,ke.__COMPILER_RUNTIME={__proto__:null,c:function(z){return T.H.useMemoCache(z)}},ke.cache=function(z){return function(){return z.apply(null,arguments)}},ke.cloneElement=function(z,re,J){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var $=j({},z.props),ce=z.key,xe=void 0;if(re!=null)for(he in re.ref!==void 0&&(xe=void 0),re.key!==void 0&&(ce=""+re.key),re)!P.call(re,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&re.ref===void 0||($[he]=re[he]);var he=arguments.length-2;if(he===1)$.children=J;else if(1<he){for(var ie=Array(he),Ce=0;Ce<he;Ce++)ie[Ce]=arguments[Ce+2];$.children=ie}return q(z.type,ce,void 0,void 0,xe,$)},ke.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},ke.createElement=function(z,re,J){var $,ce={},xe=null;if(re!=null)for($ in re.key!==void 0&&(xe=""+re.key),re)P.call(re,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ce[$]=re[$]);var he=arguments.length-2;if(he===1)ce.children=J;else if(1<he){for(var ie=Array(he),Ce=0;Ce<he;Ce++)ie[Ce]=arguments[Ce+2];ce.children=ie}if(z&&z.defaultProps)for($ in he=z.defaultProps,he)ce[$]===void 0&&(ce[$]=he[$]);return q(z,xe,void 0,void 0,null,ce)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(z){return{$$typeof:u,render:z}},ke.isValidElement=V,ke.lazy=function(z){return{$$typeof:x,_payload:{_status:-1,_result:z},_init:O}},ke.memo=function(z,re){return{$$typeof:f,type:z,compare:re===void 0?null:re}},ke.startTransition=function(z){var re=T.T,J={};T.T=J;try{var $=z(),ce=T.S;ce!==null&&ce(J,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(le,F)}catch(xe){F(xe)}finally{T.T=re}},ke.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},ke.use=function(z){return T.H.use(z)},ke.useActionState=function(z,re,J){return T.H.useActionState(z,re,J)},ke.useCallback=function(z,re){return T.H.useCallback(z,re)},ke.useContext=function(z){return T.H.useContext(z)},ke.useDebugValue=function(){},ke.useDeferredValue=function(z,re){return T.H.useDeferredValue(z,re)},ke.useEffect=function(z,re,J){var $=T.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(z,re)},ke.useId=function(){return T.H.useId()},ke.useImperativeHandle=function(z,re,J){return T.H.useImperativeHandle(z,re,J)},ke.useInsertionEffect=function(z,re){return T.H.useInsertionEffect(z,re)},ke.useLayoutEffect=function(z,re){return T.H.useLayoutEffect(z,re)},ke.useMemo=function(z,re){return T.H.useMemo(z,re)},ke.useOptimistic=function(z,re){return T.H.useOptimistic(z,re)},ke.useReducer=function(z,re,J){return T.H.useReducer(z,re,J)},ke.useRef=function(z){return T.H.useRef(z)},ke.useState=function(z){return T.H.useState(z)},ke.useSyncExternalStore=function(z,re,J){return T.H.useSyncExternalStore(z,re,J)},ke.useTransition=function(){return T.H.useTransition()},ke.version="19.1.0",ke}var ib;function Yf(){return ib||(ib=1,vh.exports=zS()),vh.exports}var bh={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function IS(){if(ob)return Tt;ob=1;var e=Yf();function r(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)f+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(h,f,x){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:h,containerInfo:f,implementation:x}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Tt.createPortal=function(h,f){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(r(299));return c(h,f,null,x)},Tt.flushSync=function(h){var f=d.T,x=n.p;try{if(d.T=null,n.p=2,h)return h()}finally{d.T=f,n.p=x,n.d.f()}},Tt.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(h,f))},Tt.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Tt.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var x=f.as,g=u(x,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;x==="style"?n.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):x==="script"&&n.d.X(h,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Tt.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var x=u(f.as,f.crossOrigin);n.d.M(h,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(h)},Tt.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var x=f.as,g=u(x,f.crossOrigin);n.d.L(h,x,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Tt.preloadModule=function(h,f){if(typeof h=="string")if(f){var x=u(f.as,f.crossOrigin);n.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(h)},Tt.requestFormReset=function(h){n.d.r(h)},Tt.unstable_batchedUpdates=function(h,f){return h(f)},Tt.useFormState=function(h,f,x){return d.H.useFormState(h,f,x)},Tt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Tt.version="19.1.0",Tt}var lb;function BS(){if(lb)return bh.exports;lb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),bh.exports=IS(),bh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function US(){if(cb)return No;cb=1;var e=MS(),r=Yf(),s=BS();function n(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function c(a){var i=a,l=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(l=i.return),a=i.return;while(a)}return i.tag===3?l:null}function d(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function u(a){if(c(a)!==a)throw Error(n(188))}function h(a){var i=a.alternate;if(!i){if(i=c(a),i===null)throw Error(n(188));return i!==a?null:a}for(var l=a,m=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(m=p.return,m!==null){l=m;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return u(p),a;if(y===m)return u(p),i;y=y.sibling}throw Error(n(188))}if(l.return!==m.return)l=p,m=y;else{for(var N=!1,E=p.child;E;){if(E===l){N=!0,l=p,m=y;break}if(E===m){N=!0,m=p,l=y;break}E=E.sibling}if(!N){for(E=y.child;E;){if(E===l){N=!0,l=y,m=p;break}if(E===m){N=!0,m=y,l=p;break}E=E.sibling}if(!N)throw Error(n(189))}}if(l.alternate!==m)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?a:i}function f(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=f(a),i!==null)return i;a=a.sibling}return null}var x=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),R=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=ae&&a[ae]||a["@@iterator"],typeof a=="function"?a:null)}var L=Symbol.for("react.client.reference");function Y(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===L?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case _:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case V:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case R:return(a.displayName||"Context")+".Provider";case A:return(a._context.displayName||"Context")+".Consumer";case S:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case q:return i=a.displayName||null,i!==null?i:Y(a.type)||"Memo";case U:i=a._payload,a=a._init;try{return Y(a(i))}catch{}}return null}var B=Array.isArray,D=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},le=[],z=-1;function re(a){return{current:a}}function J(a){0>z||(a.current=le[z],le[z]=null,z--)}function $(a,i){z++,le[z]=a.current,a.current=i}var ce=re(null),xe=re(null),he=re(null),ie=re(null);function Ce(a,i){switch($(he,i),$(xe,a),$(ce,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?Ev(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=Ev(i),a=Tv(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}J(ce),$(ce,a)}function xt(){J(ce),J(xe),J(he)}function eu(a){a.memoizedState!==null&&$(ie,a);var i=ce.current,l=Tv(i,a.type);i!==l&&($(xe,a),$(ce,l))}function vl(a){xe.current===a&&(J(ce),J(xe)),ie.current===a&&(J(ie),yo._currentValue=F)}var tu=Object.prototype.hasOwnProperty,ru=e.unstable_scheduleCallback,su=e.unstable_cancelCallback,uN=e.unstable_shouldYield,mN=e.unstable_requestPaint,Pr=e.unstable_now,hN=e.unstable_getCurrentPriorityLevel,cx=e.unstable_ImmediatePriority,dx=e.unstable_UserBlockingPriority,bl=e.unstable_NormalPriority,fN=e.unstable_LowPriority,ux=e.unstable_IdlePriority,pN=e.log,xN=e.unstable_setDisableYieldValue,Ci=null,Qt=null;function Rs(a){if(typeof pN=="function"&&xN(a),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Ci,a)}catch{}}var Jt=Math.clz32?Math.clz32:vN,yN=Math.log,gN=Math.LN2;function vN(a){return a>>>=0,a===0?32:31-(yN(a)/gN|0)|0}var jl=256,wl=4194304;function Na(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Nl(a,i,l){var m=a.pendingLanes;if(m===0)return 0;var p=0,y=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var E=m&134217727;return E!==0?(m=E&~y,m!==0?p=Na(m):(N&=E,N!==0?p=Na(N):l||(l=E&~a,l!==0&&(p=Na(l))))):(E=m&~y,E!==0?p=Na(E):N!==0?p=Na(N):l||(l=m&~a,l!==0&&(p=Na(l)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:p}function Si(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function bN(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mx(){var a=jl;return jl<<=1,(jl&4194048)===0&&(jl=256),a}function hx(){var a=wl;return wl<<=1,(wl&62914560)===0&&(wl=4194304),a}function au(a){for(var i=[],l=0;31>l;l++)i.push(a);return i}function ki(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function jN(a,i,l,m,p,y){var N=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var E=a.entanglements,I=a.expirationTimes,K=a.hiddenUpdates;for(l=N&~l;0<l;){var ee=31-Jt(l),se=1<<ee;E[ee]=0,I[ee]=-1;var X=K[ee];if(X!==null)for(K[ee]=null,ee=0;ee<X.length;ee++){var Z=X[ee];Z!==null&&(Z.lane&=-536870913)}l&=~se}m!==0&&fx(a,m,0),y!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=y&~(N&~i))}function fx(a,i,l){a.pendingLanes|=i,a.suspendedLanes&=~i;var m=31-Jt(i);a.entangledLanes|=i,a.entanglements[m]=a.entanglements[m]|1073741824|l&4194090}function px(a,i){var l=a.entangledLanes|=i;for(a=a.entanglements;l;){var m=31-Jt(l),p=1<<m;p&i|a[m]&i&&(a[m]|=i),l&=~p}}function nu(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function iu(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function xx(){var a=O.p;return a!==0?a:(a=window.event,a===void 0?32:Kv(a.type))}function wN(a,i){var l=O.p;try{return O.p=a,i()}finally{O.p=l}}var Ds=Math.random().toString(36).slice(2),At="__reactFiber$"+Ds,Ht="__reactProps$"+Ds,cn="__reactContainer$"+Ds,ou="__reactEvents$"+Ds,NN="__reactListeners$"+Ds,CN="__reactHandles$"+Ds,yx="__reactResources$"+Ds,_i="__reactMarker$"+Ds;function lu(a){delete a[At],delete a[Ht],delete a[ou],delete a[NN],delete a[CN]}function dn(a){var i=a[At];if(i)return i;for(var l=a.parentNode;l;){if(i=l[cn]||l[At]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(a=Pv(a);a!==null;){if(l=a[At])return l;a=Pv(a)}return i}a=l,l=a.parentNode}return null}function un(a){if(a=a[At]||a[cn]){var i=a.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return a}return null}function Ai(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(n(33))}function mn(a){var i=a[yx];return i||(i=a[yx]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function yt(a){a[_i]=!0}var gx=new Set,vx={};function Ca(a,i){hn(a,i),hn(a+"Capture",i)}function hn(a,i){for(vx[a]=i,a=0;a<i.length;a++)gx.add(i[a])}var SN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bx={},jx={};function kN(a){return tu.call(jx,a)?!0:tu.call(bx,a)?!1:SN.test(a)?jx[a]=!0:(bx[a]=!0,!1)}function Cl(a,i,l){if(kN(i))if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var m=i.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+l)}}function Sl(a,i,l){if(l===null)a.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+l)}}function Xr(a,i,l,m){if(m===null)a.removeAttribute(l);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(i,l,""+m)}}var cu,wx;function fn(a){if(cu===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);cu=i&&i[1]||"",wx=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cu+a+wx}var du=!1;function uu(a,i){if(!a||du)return"";du=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var X=Z}Reflect.construct(a,[],se)}else{try{se.call()}catch(Z){X=Z}a.call(se.prototype)}}else{try{throw Error()}catch(Z){X=Z}(se=a())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=m.DetermineComponentFrameRoot(),N=y[0],E=y[1];if(N&&E){var I=N.split(`
`),K=E.split(`
`);for(p=m=0;m<I.length&&!I[m].includes("DetermineComponentFrameRoot");)m++;for(;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;if(m===I.length||p===K.length)for(m=I.length-1,p=K.length-1;1<=m&&0<=p&&I[m]!==K[p];)p--;for(;1<=m&&0<=p;m--,p--)if(I[m]!==K[p]){if(m!==1||p!==1)do if(m--,p--,0>p||I[m]!==K[p]){var ee=`
`+I[m].replace(" at new "," at ");return a.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",a.displayName)),ee}while(1<=m&&0<=p);break}}}finally{du=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?fn(l):""}function _N(a){switch(a.tag){case 26:case 27:case 5:return fn(a.type);case 16:return fn("Lazy");case 13:return fn("Suspense");case 19:return fn("SuspenseList");case 0:case 15:return uu(a.type,!1);case 11:return uu(a.type.render,!1);case 1:return uu(a.type,!0);case 31:return fn("Activity");default:return""}}function Nx(a){try{var i="";do i+=_N(a),a=a.return;while(a);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function lr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Cx(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function AN(a){var i=Cx(a)?"checked":"value",l=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),m=""+a[i];if(!a.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return p.call(this)},set:function(N){m=""+N,y.call(this,N)}}),Object.defineProperty(a,i,{enumerable:l.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function kl(a){a._valueTracker||(a._valueTracker=AN(a))}function Sx(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var l=i.getValue(),m="";return a&&(m=Cx(a)?a.checked?"true":"false":a.value),a=m,a!==l?(i.setValue(a),!0):!1}function _l(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var EN=/[\n"\\]/g;function cr(a){return a.replace(EN,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mu(a,i,l,m,p,y,N,E){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),i!=null?N==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+lr(i)):a.value!==""+lr(i)&&(a.value=""+lr(i)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),i!=null?hu(a,N,lr(i)):l!=null?hu(a,N,lr(l)):m!=null&&a.removeAttribute("value"),p==null&&y!=null&&(a.defaultChecked=!!y),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.name=""+lr(E):a.removeAttribute("name")}function kx(a,i,l,m,p,y,N,E){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;l=l!=null?""+lr(l):"",i=i!=null?""+lr(i):l,E||i===a.value||(a.value=i),a.defaultValue=i}m=m??p,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=E?a.checked:!!m,a.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N)}function hu(a,i,l){i==="number"&&_l(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function pn(a,i,l,m){if(a=a.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<a.length;l++)p=i.hasOwnProperty("$"+a[l].value),a[l].selected!==p&&(a[l].selected=p),p&&m&&(a[l].defaultSelected=!0)}else{for(l=""+lr(l),i=null,p=0;p<a.length;p++){if(a[p].value===l){a[p].selected=!0,m&&(a[p].defaultSelected=!0);return}i!==null||a[p].disabled||(i=a[p])}i!==null&&(i.selected=!0)}}function _x(a,i,l){if(i!=null&&(i=""+lr(i),i!==a.value&&(a.value=i),l==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=l!=null?""+lr(l):""}function Ax(a,i,l,m){if(i==null){if(m!=null){if(l!=null)throw Error(n(92));if(B(m)){if(1<m.length)throw Error(n(93));m=m[0]}l=m}l==null&&(l=""),i=l}l=lr(i),a.defaultValue=l,m=a.textContent,m===l&&m!==""&&m!==null&&(a.value=m)}function xn(a,i){if(i){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=i;return}}a.textContent=i}var TN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ex(a,i,l){var m=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?m?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":m?a.setProperty(i,l):typeof l!="number"||l===0||TN.has(i)?i==="float"?a.cssFloat=l:a[i]=(""+l).trim():a[i]=l+"px"}function Tx(a,i,l){if(i!=null&&typeof i!="object")throw Error(n(62));if(a=a.style,l!=null){for(var m in l)!l.hasOwnProperty(m)||i!=null&&i.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var p in i)m=i[p],i.hasOwnProperty(p)&&l[p]!==m&&Ex(a,p,m)}else for(var y in i)i.hasOwnProperty(y)&&Ex(a,y,i[y])}function fu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(a){return DN.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var pu=null;function xu(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yn=null,gn=null;function Rx(a){var i=un(a);if(i&&(a=i.stateNode)){var l=a[Ht]||null;e:switch(a=i.stateNode,i.type){case"input":if(mu(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+cr(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var m=l[i];if(m!==a&&m.form===a.form){var p=m[Ht]||null;if(!p)throw Error(n(90));mu(m,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)m=l[i],m.form===a.form&&Sx(m)}break e;case"textarea":_x(a,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&pn(a,!!l.multiple,i,!1)}}}var yu=!1;function Dx(a,i,l){if(yu)return a(i,l);yu=!0;try{var m=a(i);return m}finally{if(yu=!1,(yn!==null||gn!==null)&&(hc(),yn&&(i=yn,a=gn,gn=yn=null,Rx(i),a)))for(i=0;i<a.length;i++)Rx(a[i])}}function Ei(a,i){var l=a.stateNode;if(l===null)return null;var m=l[Ht]||null;if(m===null)return null;l=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gu=!1;if(Zr)try{var Ti={};Object.defineProperty(Ti,"passive",{get:function(){gu=!0}}),window.addEventListener("test",Ti,Ti),window.removeEventListener("test",Ti,Ti)}catch{gu=!1}var Os=null,vu=null,El=null;function Ox(){if(El)return El;var a,i=vu,l=i.length,m,p="value"in Os?Os.value:Os.textContent,y=p.length;for(a=0;a<l&&i[a]===p[a];a++);var N=l-a;for(m=1;m<=N&&i[l-m]===p[y-m];m++);return El=p.slice(a,1<m?1-m:void 0)}function Tl(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Rl(){return!0}function Px(){return!1}function qt(a){function i(l,m,p,y,N){this._reactName=l,this._targetInst=p,this.type=m,this.nativeEvent=y,this.target=N,this.currentTarget=null;for(var E in a)a.hasOwnProperty(E)&&(l=a[E],this[E]=l?l(y):y[E]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Rl:Px,this.isPropagationStopped=Px,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),i}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=qt(Sa),Ri=x({},Sa,{view:0,detail:0}),ON=qt(Ri),bu,ju,Di,Ol=x({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nu,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Di&&(Di&&a.type==="mousemove"?(bu=a.screenX-Di.screenX,ju=a.screenY-Di.screenY):ju=bu=0,Di=a),bu)},movementY:function(a){return"movementY"in a?a.movementY:ju}}),Lx=qt(Ol),PN=x({},Ol,{dataTransfer:0}),LN=qt(PN),MN=x({},Ri,{relatedTarget:0}),wu=qt(MN),zN=x({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),IN=qt(zN),BN=x({},Sa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),UN=qt(BN),FN=x({},Sa,{data:0}),Mx=qt(FN),VN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $N(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=qN[a])?!!i[a]:!1}function Nu(){return $N}var GN=x({},Ri,{key:function(a){if(a.key){var i=VN[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Tl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?HN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nu,charCode:function(a){return a.type==="keypress"?Tl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Tl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),YN=qt(GN),WN=x({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zx=qt(WN),KN=x({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nu}),XN=qt(KN),ZN=x({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),QN=qt(ZN),JN=x({},Ol,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),eC=qt(JN),tC=x({},Sa,{newState:0,oldState:0}),rC=qt(tC),sC=[9,13,27,32],Cu=Zr&&"CompositionEvent"in window,Oi=null;Zr&&"documentMode"in document&&(Oi=document.documentMode);var aC=Zr&&"TextEvent"in window&&!Oi,Ix=Zr&&(!Cu||Oi&&8<Oi&&11>=Oi),Bx=" ",Ux=!1;function Fx(a,i){switch(a){case"keyup":return sC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var vn=!1;function nC(a,i){switch(a){case"compositionend":return Vx(i);case"keypress":return i.which!==32?null:(Ux=!0,Bx);case"textInput":return a=i.data,a===Bx&&Ux?null:a;default:return null}}function iC(a,i){if(vn)return a==="compositionend"||!Cu&&Fx(a,i)?(a=Ox(),El=vu=Os=null,vn=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ix&&i.locale!=="ko"?null:i.data;default:return null}}var oC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hx(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!oC[a.type]:i==="textarea"}function qx(a,i,l,m){yn?gn?gn.push(m):gn=[m]:yn=m,i=vc(i,"onChange"),0<i.length&&(l=new Dl("onChange","change",null,l,m),a.push({event:l,listeners:i}))}var Pi=null,Li=null;function lC(a){Cv(a,0)}function Pl(a){var i=Ai(a);if(Sx(i))return a}function $x(a,i){if(a==="change")return i}var Gx=!1;if(Zr){var Su;if(Zr){var ku="oninput"in document;if(!ku){var Yx=document.createElement("div");Yx.setAttribute("oninput","return;"),ku=typeof Yx.oninput=="function"}Su=ku}else Su=!1;Gx=Su&&(!document.documentMode||9<document.documentMode)}function Wx(){Pi&&(Pi.detachEvent("onpropertychange",Kx),Li=Pi=null)}function Kx(a){if(a.propertyName==="value"&&Pl(Li)){var i=[];qx(i,Li,a,xu(a)),Dx(lC,i)}}function cC(a,i,l){a==="focusin"?(Wx(),Pi=i,Li=l,Pi.attachEvent("onpropertychange",Kx)):a==="focusout"&&Wx()}function dC(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Pl(Li)}function uC(a,i){if(a==="click")return Pl(i)}function mC(a,i){if(a==="input"||a==="change")return Pl(i)}function hC(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var er=typeof Object.is=="function"?Object.is:hC;function Mi(a,i){if(er(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var l=Object.keys(a),m=Object.keys(i);if(l.length!==m.length)return!1;for(m=0;m<l.length;m++){var p=l[m];if(!tu.call(i,p)||!er(a[p],i[p]))return!1}return!0}function Xx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Zx(a,i){var l=Xx(a);a=0;for(var m;l;){if(l.nodeType===3){if(m=a+l.textContent.length,a<=i&&m>=i)return{node:l,offset:i-a};a=m}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xx(l)}}function Qx(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Qx(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function Jx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=_l(a.document);i instanceof a.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)a=i.contentWindow;else break;i=_l(a.document)}return i}function _u(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var fC=Zr&&"documentMode"in document&&11>=document.documentMode,bn=null,Au=null,zi=null,Eu=!1;function ey(a,i,l){var m=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Eu||bn==null||bn!==_l(m)||(m=bn,"selectionStart"in m&&_u(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),zi&&Mi(zi,m)||(zi=m,m=vc(Au,"onSelect"),0<m.length&&(i=new Dl("onSelect","select",null,i,l),a.push({event:i,listeners:m}),i.target=bn)))}function ka(a,i){var l={};return l[a.toLowerCase()]=i.toLowerCase(),l["Webkit"+a]="webkit"+i,l["Moz"+a]="moz"+i,l}var jn={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},Tu={},ty={};Zr&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function _a(a){if(Tu[a])return Tu[a];if(!jn[a])return a;var i=jn[a],l;for(l in i)if(i.hasOwnProperty(l)&&l in ty)return Tu[a]=i[l];return a}var ry=_a("animationend"),sy=_a("animationiteration"),ay=_a("animationstart"),pC=_a("transitionrun"),xC=_a("transitionstart"),yC=_a("transitioncancel"),ny=_a("transitionend"),iy=new Map,Ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ru.push("scrollEnd");function Cr(a,i){iy.set(a,i),Ca(i,[a])}var oy=new WeakMap;function dr(a,i){if(typeof a=="object"&&a!==null){var l=oy.get(a);return l!==void 0?l:(i={value:a,source:i,stack:Nx(i)},oy.set(a,i),i)}return{value:a,source:i,stack:Nx(i)}}var ur=[],wn=0,Du=0;function Ll(){for(var a=wn,i=Du=wn=0;i<a;){var l=ur[i];ur[i++]=null;var m=ur[i];ur[i++]=null;var p=ur[i];ur[i++]=null;var y=ur[i];if(ur[i++]=null,m!==null&&p!==null){var N=m.pending;N===null?p.next=p:(p.next=N.next,N.next=p),m.pending=p}y!==0&&ly(l,p,y)}}function Ml(a,i,l,m){ur[wn++]=a,ur[wn++]=i,ur[wn++]=l,ur[wn++]=m,Du|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Ou(a,i,l,m){return Ml(a,i,l,m),zl(a)}function Nn(a,i){return Ml(a,null,null,i),zl(a)}function ly(a,i,l){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l);for(var p=!1,y=a.return;y!==null;)y.childLanes|=l,m=y.alternate,m!==null&&(m.childLanes|=l),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(p=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,p&&i!==null&&(p=31-Jt(l),a=y.hiddenUpdates,m=a[p],m===null?a[p]=[i]:m.push(i),i.lane=l|536870912),y):null}function zl(a){if(50<lo)throw lo=0,Bm=null,Error(n(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var Cn={};function gC(a,i,l,m){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(a,i,l,m){return new gC(a,i,l,m)}function Pu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qr(a,i){var l=a.alternate;return l===null?(l=tr(a.tag,i,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=i,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,i=a.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function cy(a,i){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,i=l.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function Il(a,i,l,m,p,y){var N=0;if(m=a,typeof a=="function")Pu(a)&&(N=1);else if(typeof a=="string")N=bS(a,l,ce.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case V:return a=tr(31,l,i,p),a.elementType=V,a.lanes=y,a;case j:return Aa(l.children,p,y,i);case k:N=8,p|=24;break;case _:return a=tr(12,l,i,p|2),a.elementType=_,a.lanes=y,a;case T:return a=tr(13,l,i,p),a.elementType=T,a.lanes=y,a;case P:return a=tr(19,l,i,p),a.elementType=P,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:case R:N=10;break e;case A:N=9;break e;case S:N=11;break e;case q:N=14;break e;case U:N=16,m=null;break e}N=29,l=Error(n(130,a===null?"null":typeof a,"")),m=null}return i=tr(N,l,i,p),i.elementType=a,i.type=m,i.lanes=y,i}function Aa(a,i,l,m){return a=tr(7,a,m,i),a.lanes=l,a}function Lu(a,i,l){return a=tr(6,a,null,i),a.lanes=l,a}function Mu(a,i,l){return i=tr(4,a.children!==null?a.children:[],a.key,i),i.lanes=l,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var Sn=[],kn=0,Bl=null,Ul=0,mr=[],hr=0,Ea=null,Jr=1,es="";function Ta(a,i){Sn[kn++]=Ul,Sn[kn++]=Bl,Bl=a,Ul=i}function dy(a,i,l){mr[hr++]=Jr,mr[hr++]=es,mr[hr++]=Ea,Ea=a;var m=Jr;a=es;var p=32-Jt(m)-1;m&=~(1<<p),l+=1;var y=32-Jt(i)+p;if(30<y){var N=p-p%5;y=(m&(1<<N)-1).toString(32),m>>=N,p-=N,Jr=1<<32-Jt(i)+p|l<<p|m,es=y+a}else Jr=1<<y|l<<p|m,es=a}function zu(a){a.return!==null&&(Ta(a,1),dy(a,1,0))}function Iu(a){for(;a===Bl;)Bl=Sn[--kn],Sn[kn]=null,Ul=Sn[--kn],Sn[kn]=null;for(;a===Ea;)Ea=mr[--hr],mr[hr]=null,es=mr[--hr],mr[hr]=null,Jr=mr[--hr],mr[hr]=null}var Mt=null,st=null,ze=!1,Ra=null,Lr=!1,Bu=Error(n(519));function Da(a){var i=Error(n(418,""));throw Ui(dr(i,a)),Bu}function uy(a){var i=a.stateNode,l=a.type,m=a.memoizedProps;switch(i[At]=a,i[Ht]=m,l){case"dialog":Re("cancel",i),Re("close",i);break;case"iframe":case"object":case"embed":Re("load",i);break;case"video":case"audio":for(l=0;l<uo.length;l++)Re(uo[l],i);break;case"source":Re("error",i);break;case"img":case"image":case"link":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"input":Re("invalid",i),kx(i,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),kl(i);break;case"select":Re("invalid",i);break;case"textarea":Re("invalid",i),Ax(i,m.value,m.defaultValue,m.children),kl(i)}l=m.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||m.suppressHydrationWarning===!0||Av(i.textContent,l)?(m.popover!=null&&(Re("beforetoggle",i),Re("toggle",i)),m.onScroll!=null&&Re("scroll",i),m.onScrollEnd!=null&&Re("scrollend",i),m.onClick!=null&&(i.onclick=bc),i=!0):i=!1,i||Da(a)}function my(a){for(Mt=a.return;Mt;)switch(Mt.tag){case 5:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:Mt=Mt.return}}function Ii(a){if(a!==Mt)return!1;if(!ze)return my(a),ze=!0,!1;var i=a.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||th(a.type,a.memoizedProps)),l=!l),l&&st&&Da(a),my(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8)if(l=a.data,l==="/$"){if(i===0){st=kr(a.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;a=a.nextSibling}st=null}}else i===27?(i=st,Ks(a.type)?(a=nh,nh=null,st=a):st=i):st=Mt?kr(a.stateNode.nextSibling):null;return!0}function Bi(){st=Mt=null,ze=!1}function hy(){var a=Ra;return a!==null&&(Yt===null?Yt=a:Yt.push.apply(Yt,a),Ra=null),a}function Ui(a){Ra===null?Ra=[a]:Ra.push(a)}var Uu=re(null),Oa=null,ts=null;function Ps(a,i,l){$(Uu,i._currentValue),i._currentValue=l}function rs(a){a._currentValue=Uu.current,J(Uu)}function Fu(a,i,l){for(;a!==null;){var m=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),a===l)break;a=a.return}}function Vu(a,i,l,m){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var y=p.dependencies;if(y!==null){var N=p.child;y=y.firstContext;e:for(;y!==null;){var E=y;y=p;for(var I=0;I<i.length;I++)if(E.context===i[I]){y.lanes|=l,E=y.alternate,E!==null&&(E.lanes|=l),Fu(y.return,l,a),m||(N=null);break e}y=E.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(n(341));N.lanes|=l,y=N.alternate,y!==null&&(y.lanes|=l),Fu(N,l,a),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===a){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function Fi(a,i,l,m){a=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(n(387));if(N=N.memoizedProps,N!==null){var E=p.type;er(p.pendingProps.value,N.value)||(a!==null?a.push(E):a=[E])}}else if(p===ie.current){if(N=p.alternate,N===null)throw Error(n(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(yo):a=[yo])}p=p.return}a!==null&&Vu(i,a,l,m),i.flags|=262144}function Fl(a){for(a=a.firstContext;a!==null;){if(!er(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Pa(a){Oa=a,ts=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Et(a){return fy(Oa,a)}function Vl(a,i){return Oa===null&&Pa(a),fy(a,i)}function fy(a,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ts===null){if(a===null)throw Error(n(308));ts=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else ts=ts.next=i;return l}var vC=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(l,m){a.push(m)}};this.abort=function(){i.aborted=!0,a.forEach(function(l){return l()})}},bC=e.unstable_scheduleCallback,jC=e.unstable_NormalPriority,ft={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hu(){return{controller:new vC,data:new Map,refCount:0}}function Vi(a){a.refCount--,a.refCount===0&&bC(jC,function(){a.controller.abort()})}var Hi=null,qu=0,_n=0,An=null;function wC(a,i){if(Hi===null){var l=Hi=[];qu=0,_n=Gm(),An={status:"pending",value:void 0,then:function(m){l.push(m)}}}return qu++,i.then(py,py),i}function py(){if(--qu===0&&Hi!==null){An!==null&&(An.status="fulfilled");var a=Hi;Hi=null,_n=0,An=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function NC(a,i){var l=[],m={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return a.then(function(){m.status="fulfilled",m.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(m.status="rejected",m.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),m}var xy=D.S;D.S=function(a,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&wC(a,i),xy!==null&&xy(a,i)};var La=re(null);function $u(){var a=La.current;return a!==null?a:We.pooledCache}function Hl(a,i){i===null?$(La,La.current):$(La,i.pool)}function yy(){var a=$u();return a===null?null:{parent:ft._currentValue,pool:a}}var qi=Error(n(460)),gy=Error(n(474)),ql=Error(n(542)),Gu={then:function(){}};function vy(a){return a=a.status,a==="fulfilled"||a==="rejected"}function $l(){}function by(a,i,l){switch(l=a[l],l===void 0?a.push(i):l!==i&&(i.then($l,$l),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,wy(a),a;default:if(typeof i.status=="string")i.then($l,$l);else{if(a=We,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=i,a.status="pending",a.then(function(m){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=m}},function(m){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=m}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,wy(a),a}throw $i=i,qi}}var $i=null;function jy(){if($i===null)throw Error(n(459));var a=$i;return $i=null,a}function wy(a){if(a===qi||a===ql)throw Error(n(483))}var Ls=!1;function Yu(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wu(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ms(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function zs(a,i,l){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Be&2)!==0){var p=m.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),m.pending=i,i=zl(a),ly(a,null,l),i}return Ml(a,m,i,l),zl(a)}function Gi(a,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var m=i.lanes;m&=a.pendingLanes,l|=m,i.lanes=l,px(a,l)}}function Ku(a,i){var l=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,l===m)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var N={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=N:y=y.next=N,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:m.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:m.shared,callbacks:m.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=i:a.next=i,l.lastBaseUpdate=i}var Xu=!1;function Yi(){if(Xu){var a=An;if(a!==null)throw a}}function Wi(a,i,l,m){Xu=!1;var p=a.updateQueue;Ls=!1;var y=p.firstBaseUpdate,N=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var I=E,K=I.next;I.next=null,N===null?y=K:N.next=K,N=I;var ee=a.alternate;ee!==null&&(ee=ee.updateQueue,E=ee.lastBaseUpdate,E!==N&&(E===null?ee.firstBaseUpdate=K:E.next=K,ee.lastBaseUpdate=I))}if(y!==null){var se=p.baseState;N=0,ee=K=I=null,E=y;do{var X=E.lane&-536870913,Z=X!==E.lane;if(Z?(Oe&X)===X:(m&X)===X){X!==0&&X===_n&&(Xu=!0),ee!==null&&(ee=ee.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var je=a,ge=E;X=i;var $e=l;switch(ge.tag){case 1:if(je=ge.payload,typeof je=="function"){se=je.call($e,se,X);break e}se=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=ge.payload,X=typeof je=="function"?je.call($e,se,X):je,X==null)break e;se=x({},se,X);break e;case 2:Ls=!0}}X=E.callback,X!==null&&(a.flags|=64,Z&&(a.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ee===null?(K=ee=Z,I=se):ee=ee.next=Z,N|=X;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;Z=E,E=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);ee===null&&(I=se),p.baseState=I,p.firstBaseUpdate=K,p.lastBaseUpdate=ee,y===null&&(p.shared.lanes=0),$s|=N,a.lanes=N,a.memoizedState=se}}function Ny(a,i){if(typeof a!="function")throw Error(n(191,a));a.call(i)}function Cy(a,i){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)Ny(l[a],i)}var En=re(null),Gl=re(0);function Sy(a,i){a=cs,$(Gl,a),$(En,i),cs=a|i.baseLanes}function Zu(){$(Gl,cs),$(En,En.current)}function Qu(){cs=Gl.current,J(En),J(Gl)}var Is=0,Ae=null,He=null,dt=null,Yl=!1,Tn=!1,Ma=!1,Wl=0,Ki=0,Rn=null,CC=0;function it(){throw Error(n(321))}function Ju(a,i){if(i===null)return!1;for(var l=0;l<i.length&&l<a.length;l++)if(!er(a[l],i[l]))return!1;return!0}function em(a,i,l,m,p,y){return Is=y,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,D.H=a===null||a.memoizedState===null?lg:cg,Ma=!1,y=l(m,p),Ma=!1,Tn&&(y=_y(i,l,m,p)),ky(a),y}function ky(a){D.H=ec;var i=He!==null&&He.next!==null;if(Is=0,dt=He=Ae=null,Yl=!1,Ki=0,Rn=null,i)throw Error(n(300));a===null||gt||(a=a.dependencies,a!==null&&Fl(a)&&(gt=!0))}function _y(a,i,l,m){Ae=a;var p=0;do{if(Tn&&(Rn=null),Ki=0,Tn=!1,25<=p)throw Error(n(301));if(p+=1,dt=He=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}D.H=RC,y=i(l,m)}while(Tn);return y}function SC(){var a=D.H,i=a.useState()[0];return i=typeof i.then=="function"?Xi(i):i,a=a.useState()[0],(He!==null?He.memoizedState:null)!==a&&(Ae.flags|=1024),i}function tm(){var a=Wl!==0;return Wl=0,a}function rm(a,i,l){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~l}function sm(a){if(Yl){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}Yl=!1}Is=0,dt=He=Ae=null,Tn=!1,Ki=Wl=0,Rn=null}function $t(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ae.memoizedState=dt=a:dt=dt.next=a,dt}function ut(){if(He===null){var a=Ae.alternate;a=a!==null?a.memoizedState:null}else a=He.next;var i=dt===null?Ae.memoizedState:dt.next;if(i!==null)dt=i,He=a;else{if(a===null)throw Ae.alternate===null?Error(n(467)):Error(n(310));He=a,a={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},dt===null?Ae.memoizedState=dt=a:dt=dt.next=a}return dt}function am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xi(a){var i=Ki;return Ki+=1,Rn===null&&(Rn=[]),a=by(Rn,a,i),i=Ae,(dt===null?i.memoizedState:dt.next)===null&&(i=i.alternate,D.H=i===null||i.memoizedState===null?lg:cg),a}function Kl(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Xi(a);if(a.$$typeof===R)return Et(a)}throw Error(n(438,String(a)))}function nm(a){var i=null,l=Ae.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var m=Ae.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(i={data:m.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=am(),Ae.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(a),m=0;m<a;m++)l[m]=M;return i.index++,l}function ss(a,i){return typeof i=="function"?i(a):i}function Xl(a){var i=ut();return im(i,He,a)}function im(a,i,l){var m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=l;var p=a.baseQueue,y=m.pending;if(y!==null){if(p!==null){var N=p.next;p.next=y.next,y.next=N}i.baseQueue=p=y,m.pending=null}if(y=a.baseState,p===null)a.memoizedState=y;else{i=p.next;var E=N=null,I=null,K=i,ee=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(Oe&se)===se:(Is&se)===se){var X=K.revertLane;if(X===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===_n&&(ee=!0);else if((Is&X)===X){K=K.next,X===_n&&(ee=!0);continue}else se={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},I===null?(E=I=se,N=y):I=I.next=se,Ae.lanes|=X,$s|=X;se=K.action,Ma&&l(y,se),y=K.hasEagerState?K.eagerState:l(y,se)}else X={lane:se,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},I===null?(E=I=X,N=y):I=I.next=X,Ae.lanes|=se,$s|=se;K=K.next}while(K!==null&&K!==i);if(I===null?N=y:I.next=E,!er(y,a.memoizedState)&&(gt=!0,ee&&(l=An,l!==null)))throw l;a.memoizedState=y,a.baseState=N,a.baseQueue=I,m.lastRenderedState=y}return p===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function om(a){var i=ut(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=a;var m=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var N=p=p.next;do y=a(y,N.action),N=N.next;while(N!==p);er(y,i.memoizedState)||(gt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,m]}function Ay(a,i,l){var m=Ae,p=ut(),y=ze;if(y){if(l===void 0)throw Error(n(407));l=l()}else l=i();var N=!er((He||p).memoizedState,l);N&&(p.memoizedState=l,gt=!0),p=p.queue;var E=Ry.bind(null,m,p,a);if(Zi(2048,8,E,[a]),p.getSnapshot!==i||N||dt!==null&&dt.memoizedState.tag&1){if(m.flags|=2048,Dn(9,Zl(),Ty.bind(null,m,p,l,i),null),We===null)throw Error(n(349));y||(Is&124)!==0||Ey(m,i,l)}return l}function Ey(a,i,l){a.flags|=16384,a={getSnapshot:i,value:l},i=Ae.updateQueue,i===null?(i=am(),Ae.updateQueue=i,i.stores=[a]):(l=i.stores,l===null?i.stores=[a]:l.push(a))}function Ty(a,i,l,m){i.value=l,i.getSnapshot=m,Dy(i)&&Oy(a)}function Ry(a,i,l){return l(function(){Dy(i)&&Oy(a)})}function Dy(a){var i=a.getSnapshot;a=a.value;try{var l=i();return!er(a,l)}catch{return!0}}function Oy(a){var i=Nn(a,2);i!==null&&ir(i,a,2)}function lm(a){var i=$t();if(typeof a=="function"){var l=a;if(a=l(),Ma){Rs(!0);try{l()}finally{Rs(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:a},i}function Py(a,i,l,m){return a.baseState=l,im(a,He,typeof m=="function"?m:ss)}function kC(a,i,l,m,p){if(Jl(a))throw Error(n(485));if(a=i.action,a!==null){var y={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){y.listeners.push(N)}};D.T!==null?l(!0):y.isTransition=!1,m(y),l=i.pending,l===null?(y.next=i.pending=y,Ly(i,y)):(y.next=l.next,i.pending=l.next=y)}}function Ly(a,i){var l=i.action,m=i.payload,p=a.state;if(i.isTransition){var y=D.T,N={};D.T=N;try{var E=l(p,m),I=D.S;I!==null&&I(N,E),My(a,i,E)}catch(K){cm(a,i,K)}finally{D.T=y}}else try{y=l(p,m),My(a,i,y)}catch(K){cm(a,i,K)}}function My(a,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(m){zy(a,i,m)},function(m){return cm(a,i,m)}):zy(a,i,l)}function zy(a,i,l){i.status="fulfilled",i.value=l,Iy(i),a.state=l,i=a.pending,i!==null&&(l=i.next,l===i?a.pending=null:(l=l.next,i.next=l,Ly(a,l)))}function cm(a,i,l){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do i.status="rejected",i.reason=l,Iy(i),i=i.next;while(i!==m)}a.action=null}function Iy(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function By(a,i){return i}function Uy(a,i){if(ze){var l=We.formState;if(l!==null){e:{var m=Ae;if(ze){if(st){t:{for(var p=st,y=Lr;p.nodeType!==8;){if(!y){p=null;break t}if(p=kr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){st=kr(p.nextSibling),m=p.data==="F!";break e}}Da(m)}m=!1}m&&(i=l[0])}}return l=$t(),l.memoizedState=l.baseState=i,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:i},l.queue=m,l=ng.bind(null,Ae,m),m.dispatch=l,m=lm(!1),y=fm.bind(null,Ae,!1,m.queue),m=$t(),p={state:i,dispatch:null,action:a,pending:null},m.queue=p,l=kC.bind(null,Ae,p,y,l),p.dispatch=l,m.memoizedState=a,[i,l,!1]}function Fy(a){var i=ut();return Vy(i,He,a)}function Vy(a,i,l){if(i=im(a,i,By)[0],a=Xl(ss)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var m=Xi(i)}catch(N){throw N===qi?ql:N}else m=i;i=ut();var p=i.queue,y=p.dispatch;return l!==i.memoizedState&&(Ae.flags|=2048,Dn(9,Zl(),_C.bind(null,p,l),null)),[m,y,a]}function _C(a,i){a.action=i}function Hy(a){var i=ut(),l=He;if(l!==null)return Vy(i,l,a);ut(),i=i.memoizedState,l=ut();var m=l.queue.dispatch;return l.memoizedState=a,[i,m,!1]}function Dn(a,i,l,m){return a={tag:a,create:l,deps:m,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=am(),Ae.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=a.next=a:(m=l.next,l.next=a,a.next=m,i.lastEffect=a),a}function Zl(){return{destroy:void 0,resource:void 0}}function qy(){return ut().memoizedState}function Ql(a,i,l,m){var p=$t();m=m===void 0?null:m,Ae.flags|=a,p.memoizedState=Dn(1|i,Zl(),l,m)}function Zi(a,i,l,m){var p=ut();m=m===void 0?null:m;var y=p.memoizedState.inst;He!==null&&m!==null&&Ju(m,He.memoizedState.deps)?p.memoizedState=Dn(i,y,l,m):(Ae.flags|=a,p.memoizedState=Dn(1|i,y,l,m))}function $y(a,i){Ql(8390656,8,a,i)}function Gy(a,i){Zi(2048,8,a,i)}function Yy(a,i){return Zi(4,2,a,i)}function Wy(a,i){return Zi(4,4,a,i)}function Ky(a,i){if(typeof i=="function"){a=a();var l=i(a);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Xy(a,i,l){l=l!=null?l.concat([a]):null,Zi(4,4,Ky.bind(null,i,a),l)}function dm(){}function Zy(a,i){var l=ut();i=i===void 0?null:i;var m=l.memoizedState;return i!==null&&Ju(i,m[1])?m[0]:(l.memoizedState=[a,i],a)}function Qy(a,i){var l=ut();i=i===void 0?null:i;var m=l.memoizedState;if(i!==null&&Ju(i,m[1]))return m[0];if(m=a(),Ma){Rs(!0);try{a()}finally{Rs(!1)}}return l.memoizedState=[m,i],m}function um(a,i,l){return l===void 0||(Is&1073741824)!==0?a.memoizedState=i:(a.memoizedState=l,a=tv(),Ae.lanes|=a,$s|=a,l)}function Jy(a,i,l,m){return er(l,i)?l:En.current!==null?(a=um(a,l,m),er(a,i)||(gt=!0),a):(Is&42)===0?(gt=!0,a.memoizedState=l):(a=tv(),Ae.lanes|=a,$s|=a,i)}function eg(a,i,l,m,p){var y=O.p;O.p=y!==0&&8>y?y:8;var N=D.T,E={};D.T=E,fm(a,!1,i,l);try{var I=p(),K=D.S;if(K!==null&&K(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ee=NC(I,m);Qi(a,i,ee,nr(a))}else Qi(a,i,m,nr(a))}catch(se){Qi(a,i,{then:function(){},status:"rejected",reason:se},nr())}finally{O.p=y,D.T=N}}function AC(){}function mm(a,i,l,m){if(a.tag!==5)throw Error(n(476));var p=tg(a).queue;eg(a,p,i,F,l===null?AC:function(){return rg(a),l(m)})}function tg(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:F},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:l},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function rg(a){var i=tg(a).next.queue;Qi(a,i,{},nr())}function hm(){return Et(yo)}function sg(){return ut().memoizedState}function ag(){return ut().memoizedState}function EC(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var l=nr();a=Ms(l);var m=zs(i,a,l);m!==null&&(ir(m,i,l),Gi(m,i,l)),i={cache:Hu()},a.payload=i;return}i=i.return}}function TC(a,i,l){var m=nr();l={lane:m,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Jl(a)?ig(i,l):(l=Ou(a,i,l,m),l!==null&&(ir(l,a,m),og(l,i,m)))}function ng(a,i,l){var m=nr();Qi(a,i,l,m)}function Qi(a,i,l,m){var p={lane:m,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jl(a))ig(i,p);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var N=i.lastRenderedState,E=y(N,l);if(p.hasEagerState=!0,p.eagerState=E,er(E,N))return Ml(a,i,p,0),We===null&&Ll(),!1}catch{}finally{}if(l=Ou(a,i,p,m),l!==null)return ir(l,a,m),og(l,i,m),!0}return!1}function fm(a,i,l,m){if(m={lane:2,revertLane:Gm(),action:m,hasEagerState:!1,eagerState:null,next:null},Jl(a)){if(i)throw Error(n(479))}else i=Ou(a,l,m,2),i!==null&&ir(i,a,2)}function Jl(a){var i=a.alternate;return a===Ae||i!==null&&i===Ae}function ig(a,i){Tn=Yl=!0;var l=a.pending;l===null?i.next=i:(i.next=l.next,l.next=i),a.pending=i}function og(a,i,l){if((l&4194048)!==0){var m=i.lanes;m&=a.pendingLanes,l|=m,i.lanes=l,px(a,l)}}var ec={readContext:Et,use:Kl,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it},lg={readContext:Et,use:Kl,useCallback:function(a,i){return $t().memoizedState=[a,i===void 0?null:i],a},useContext:Et,useEffect:$y,useImperativeHandle:function(a,i,l){l=l!=null?l.concat([a]):null,Ql(4194308,4,Ky.bind(null,i,a),l)},useLayoutEffect:function(a,i){return Ql(4194308,4,a,i)},useInsertionEffect:function(a,i){Ql(4,2,a,i)},useMemo:function(a,i){var l=$t();i=i===void 0?null:i;var m=a();if(Ma){Rs(!0);try{a()}finally{Rs(!1)}}return l.memoizedState=[m,i],m},useReducer:function(a,i,l){var m=$t();if(l!==void 0){var p=l(i);if(Ma){Rs(!0);try{l(i)}finally{Rs(!1)}}}else p=i;return m.memoizedState=m.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},m.queue=a,a=a.dispatch=TC.bind(null,Ae,a),[m.memoizedState,a]},useRef:function(a){var i=$t();return a={current:a},i.memoizedState=a},useState:function(a){a=lm(a);var i=a.queue,l=ng.bind(null,Ae,i);return i.dispatch=l,[a.memoizedState,l]},useDebugValue:dm,useDeferredValue:function(a,i){var l=$t();return um(l,a,i)},useTransition:function(){var a=lm(!1);return a=eg.bind(null,Ae,a.queue,!0,!1),$t().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,l){var m=Ae,p=$t();if(ze){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),We===null)throw Error(n(349));(Oe&124)!==0||Ey(m,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,$y(Ry.bind(null,m,y,a),[a]),m.flags|=2048,Dn(9,Zl(),Ty.bind(null,m,y,l,i),null),l},useId:function(){var a=$t(),i=We.identifierPrefix;if(ze){var l=es,m=Jr;l=(m&~(1<<32-Jt(m)-1)).toString(32)+l,i="«"+i+"R"+l,l=Wl++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=CC++,i="«"+i+"r"+l.toString(32)+"»";return a.memoizedState=i},useHostTransitionStatus:hm,useFormState:Uy,useActionState:Uy,useOptimistic:function(a){var i=$t();i.memoizedState=i.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=fm.bind(null,Ae,!0,l),l.dispatch=i,[a,i]},useMemoCache:nm,useCacheRefresh:function(){return $t().memoizedState=EC.bind(null,Ae)}},cg={readContext:Et,use:Kl,useCallback:Zy,useContext:Et,useEffect:Gy,useImperativeHandle:Xy,useInsertionEffect:Yy,useLayoutEffect:Wy,useMemo:Qy,useReducer:Xl,useRef:qy,useState:function(){return Xl(ss)},useDebugValue:dm,useDeferredValue:function(a,i){var l=ut();return Jy(l,He.memoizedState,a,i)},useTransition:function(){var a=Xl(ss)[0],i=ut().memoizedState;return[typeof a=="boolean"?a:Xi(a),i]},useSyncExternalStore:Ay,useId:sg,useHostTransitionStatus:hm,useFormState:Fy,useActionState:Fy,useOptimistic:function(a,i){var l=ut();return Py(l,He,a,i)},useMemoCache:nm,useCacheRefresh:ag},RC={readContext:Et,use:Kl,useCallback:Zy,useContext:Et,useEffect:Gy,useImperativeHandle:Xy,useInsertionEffect:Yy,useLayoutEffect:Wy,useMemo:Qy,useReducer:om,useRef:qy,useState:function(){return om(ss)},useDebugValue:dm,useDeferredValue:function(a,i){var l=ut();return He===null?um(l,a,i):Jy(l,He.memoizedState,a,i)},useTransition:function(){var a=om(ss)[0],i=ut().memoizedState;return[typeof a=="boolean"?a:Xi(a),i]},useSyncExternalStore:Ay,useId:sg,useHostTransitionStatus:hm,useFormState:Hy,useActionState:Hy,useOptimistic:function(a,i){var l=ut();return He!==null?Py(l,He,a,i):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:nm,useCacheRefresh:ag},On=null,Ji=0;function tc(a){var i=Ji;return Ji+=1,On===null&&(On=[]),by(On,a,i)}function eo(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function rc(a,i){throw i.$$typeof===g?Error(n(525)):(a=Object.prototype.toString.call(i),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function dg(a){var i=a._init;return i(a._payload)}function ug(a){function i(G,H){if(a){var W=G.deletions;W===null?(G.deletions=[H],G.flags|=16):W.push(H)}}function l(G,H){if(!a)return null;for(;H!==null;)i(G,H),H=H.sibling;return null}function m(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function p(G,H){return G=Qr(G,H),G.index=0,G.sibling=null,G}function y(G,H,W){return G.index=W,a?(W=G.alternate,W!==null?(W=W.index,W<H?(G.flags|=67108866,H):W):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function N(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function E(G,H,W,te){return H===null||H.tag!==6?(H=Lu(W,G.mode,te),H.return=G,H):(H=p(H,W),H.return=G,H)}function I(G,H,W,te){var ue=W.type;return ue===j?ee(G,H,W.props.children,te,W.key):H!==null&&(H.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===U&&dg(ue)===H.type)?(H=p(H,W.props),eo(H,W),H.return=G,H):(H=Il(W.type,W.key,W.props,null,G.mode,te),eo(H,W),H.return=G,H)}function K(G,H,W,te){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Mu(W,G.mode,te),H.return=G,H):(H=p(H,W.children||[]),H.return=G,H)}function ee(G,H,W,te,ue){return H===null||H.tag!==7?(H=Aa(W,G.mode,te,ue),H.return=G,H):(H=p(H,W),H.return=G,H)}function se(G,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Lu(""+H,G.mode,W),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return W=Il(H.type,H.key,H.props,null,G.mode,W),eo(W,H),W.return=G,W;case b:return H=Mu(H,G.mode,W),H.return=G,H;case U:var te=H._init;return H=te(H._payload),se(G,H,W)}if(B(H)||ne(H))return H=Aa(H,G.mode,W,null),H.return=G,H;if(typeof H.then=="function")return se(G,tc(H),W);if(H.$$typeof===R)return se(G,Vl(G,H),W);rc(G,H)}return null}function X(G,H,W,te){var ue=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ue!==null?null:E(G,H,""+W,te);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return W.key===ue?I(G,H,W,te):null;case b:return W.key===ue?K(G,H,W,te):null;case U:return ue=W._init,W=ue(W._payload),X(G,H,W,te)}if(B(W)||ne(W))return ue!==null?null:ee(G,H,W,te,null);if(typeof W.then=="function")return X(G,H,tc(W),te);if(W.$$typeof===R)return X(G,H,Vl(G,W),te);rc(G,W)}return null}function Z(G,H,W,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return G=G.get(W)||null,E(H,G,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return G=G.get(te.key===null?W:te.key)||null,I(H,G,te,ue);case b:return G=G.get(te.key===null?W:te.key)||null,K(H,G,te,ue);case U:var Ee=te._init;return te=Ee(te._payload),Z(G,H,W,te,ue)}if(B(te)||ne(te))return G=G.get(W)||null,ee(H,G,te,ue,null);if(typeof te.then=="function")return Z(G,H,W,tc(te),ue);if(te.$$typeof===R)return Z(G,H,W,Vl(H,te),ue);rc(H,te)}return null}function je(G,H,W,te){for(var ue=null,Ee=null,fe=H,ve=H=0,bt=null;fe!==null&&ve<W.length;ve++){fe.index>ve?(bt=fe,fe=null):bt=fe.sibling;var Le=X(G,fe,W[ve],te);if(Le===null){fe===null&&(fe=bt);break}a&&fe&&Le.alternate===null&&i(G,fe),H=y(Le,H,ve),Ee===null?ue=Le:Ee.sibling=Le,Ee=Le,fe=bt}if(ve===W.length)return l(G,fe),ze&&Ta(G,ve),ue;if(fe===null){for(;ve<W.length;ve++)fe=se(G,W[ve],te),fe!==null&&(H=y(fe,H,ve),Ee===null?ue=fe:Ee.sibling=fe,Ee=fe);return ze&&Ta(G,ve),ue}for(fe=m(fe);ve<W.length;ve++)bt=Z(fe,G,ve,W[ve],te),bt!==null&&(a&&bt.alternate!==null&&fe.delete(bt.key===null?ve:bt.key),H=y(bt,H,ve),Ee===null?ue=bt:Ee.sibling=bt,Ee=bt);return a&&fe.forEach(function(ea){return i(G,ea)}),ze&&Ta(G,ve),ue}function ge(G,H,W,te){if(W==null)throw Error(n(151));for(var ue=null,Ee=null,fe=H,ve=H=0,bt=null,Le=W.next();fe!==null&&!Le.done;ve++,Le=W.next()){fe.index>ve?(bt=fe,fe=null):bt=fe.sibling;var ea=X(G,fe,Le.value,te);if(ea===null){fe===null&&(fe=bt);break}a&&fe&&ea.alternate===null&&i(G,fe),H=y(ea,H,ve),Ee===null?ue=ea:Ee.sibling=ea,Ee=ea,fe=bt}if(Le.done)return l(G,fe),ze&&Ta(G,ve),ue;if(fe===null){for(;!Le.done;ve++,Le=W.next())Le=se(G,Le.value,te),Le!==null&&(H=y(Le,H,ve),Ee===null?ue=Le:Ee.sibling=Le,Ee=Le);return ze&&Ta(G,ve),ue}for(fe=m(fe);!Le.done;ve++,Le=W.next())Le=Z(fe,G,ve,Le.value,te),Le!==null&&(a&&Le.alternate!==null&&fe.delete(Le.key===null?ve:Le.key),H=y(Le,H,ve),Ee===null?ue=Le:Ee.sibling=Le,Ee=Le);return a&&fe.forEach(function(DS){return i(G,DS)}),ze&&Ta(G,ve),ue}function $e(G,H,W,te){if(typeof W=="object"&&W!==null&&W.type===j&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case v:e:{for(var ue=W.key;H!==null;){if(H.key===ue){if(ue=W.type,ue===j){if(H.tag===7){l(G,H.sibling),te=p(H,W.props.children),te.return=G,G=te;break e}}else if(H.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===U&&dg(ue)===H.type){l(G,H.sibling),te=p(H,W.props),eo(te,W),te.return=G,G=te;break e}l(G,H);break}else i(G,H);H=H.sibling}W.type===j?(te=Aa(W.props.children,G.mode,te,W.key),te.return=G,G=te):(te=Il(W.type,W.key,W.props,null,G.mode,te),eo(te,W),te.return=G,G=te)}return N(G);case b:e:{for(ue=W.key;H!==null;){if(H.key===ue)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){l(G,H.sibling),te=p(H,W.children||[]),te.return=G,G=te;break e}else{l(G,H);break}else i(G,H);H=H.sibling}te=Mu(W,G.mode,te),te.return=G,G=te}return N(G);case U:return ue=W._init,W=ue(W._payload),$e(G,H,W,te)}if(B(W))return je(G,H,W,te);if(ne(W)){if(ue=ne(W),typeof ue!="function")throw Error(n(150));return W=ue.call(W),ge(G,H,W,te)}if(typeof W.then=="function")return $e(G,H,tc(W),te);if(W.$$typeof===R)return $e(G,H,Vl(G,W),te);rc(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(l(G,H.sibling),te=p(H,W),te.return=G,G=te):(l(G,H),te=Lu(W,G.mode,te),te.return=G,G=te),N(G)):l(G,H)}return function(G,H,W,te){try{Ji=0;var ue=$e(G,H,W,te);return On=null,ue}catch(fe){if(fe===qi||fe===ql)throw fe;var Ee=tr(29,fe,null,G.mode);return Ee.lanes=te,Ee.return=G,Ee}finally{}}}var Pn=ug(!0),mg=ug(!1),fr=re(null),Mr=null;function Bs(a){var i=a.alternate;$(pt,pt.current&1),$(fr,a),Mr===null&&(i===null||En.current!==null||i.memoizedState!==null)&&(Mr=a)}function hg(a){if(a.tag===22){if($(pt,pt.current),$(fr,a),Mr===null){var i=a.alternate;i!==null&&i.memoizedState!==null&&(Mr=a)}}else Us()}function Us(){$(pt,pt.current),$(fr,fr.current)}function as(a){J(fr),Mr===a&&(Mr=null),J(pt)}var pt=re(0);function sc(a){for(var i=a;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||ah(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function pm(a,i,l,m){i=a.memoizedState,l=l(m,i),l=l==null?i:x({},i,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var xm={enqueueSetState:function(a,i,l){a=a._reactInternals;var m=nr(),p=Ms(m);p.payload=i,l!=null&&(p.callback=l),i=zs(a,p,m),i!==null&&(ir(i,a,m),Gi(i,a,m))},enqueueReplaceState:function(a,i,l){a=a._reactInternals;var m=nr(),p=Ms(m);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=zs(a,p,m),i!==null&&(ir(i,a,m),Gi(i,a,m))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var l=nr(),m=Ms(l);m.tag=2,i!=null&&(m.callback=i),i=zs(a,m,l),i!==null&&(ir(i,a,l),Gi(i,a,l))}};function fg(a,i,l,m,p,y,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,y,N):i.prototype&&i.prototype.isPureReactComponent?!Mi(l,m)||!Mi(p,y):!0}function pg(a,i,l,m){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,m),i.state!==a&&xm.enqueueReplaceState(i,i.state,null)}function za(a,i){var l=i;if("ref"in i){l={};for(var m in i)m!=="ref"&&(l[m]=i[m])}if(a=a.defaultProps){l===i&&(l=x({},l));for(var p in a)l[p]===void 0&&(l[p]=a[p])}return l}var ac=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function xg(a){ac(a)}function yg(a){console.error(a)}function gg(a){ac(a)}function nc(a,i){try{var l=a.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(m){setTimeout(function(){throw m})}}function vg(a,i,l){try{var m=a.onCaughtError;m(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ym(a,i,l){return l=Ms(l),l.tag=3,l.payload={element:null},l.callback=function(){nc(a,i)},l}function bg(a){return a=Ms(a),a.tag=3,a}function jg(a,i,l,m){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=m.value;a.payload=function(){return p(y)},a.callback=function(){vg(i,l,m)}}var N=l.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){vg(i,l,m),typeof p!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var E=m.stack;this.componentDidCatch(m.value,{componentStack:E!==null?E:""})})}function DC(a,i,l,m,p){if(l.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(i=l.alternate,i!==null&&Fi(i,l,p,!0),l=fr.current,l!==null){switch(l.tag){case 13:return Mr===null?Fm():l.alternate===null&&at===0&&(at=3),l.flags&=-257,l.flags|=65536,l.lanes=p,m===Gu?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([m]):i.add(m),Hm(a,m,p)),!1;case 22:return l.flags|=65536,m===Gu?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([m])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([m]):l.add(m)),Hm(a,m,p)),!1}throw Error(n(435,l.tag))}return Hm(a,m,p),Fm(),!1}if(ze)return i=fr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,m!==Bu&&(a=Error(n(422),{cause:m}),Ui(dr(a,l)))):(m!==Bu&&(i=Error(n(423),{cause:m}),Ui(dr(i,l))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,m=dr(m,l),p=ym(a.stateNode,m,p),Ku(a,p),at!==4&&(at=2)),!1;var y=Error(n(520),{cause:m});if(y=dr(y,l),oo===null?oo=[y]:oo.push(y),at!==4&&(at=2),i===null)return!0;m=dr(m,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,a=p&-p,l.lanes|=a,a=ym(l.stateNode,m,a),Ku(l,a),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gs===null||!Gs.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=bg(p),jg(p,a,l,m),Ku(l,p),!1}l=l.return}while(l!==null);return!1}var wg=Error(n(461)),gt=!1;function Nt(a,i,l,m){i.child=a===null?mg(i,null,l,m):Pn(i,a.child,l,m)}function Ng(a,i,l,m,p){l=l.render;var y=i.ref;if("ref"in m){var N={};for(var E in m)E!=="ref"&&(N[E]=m[E])}else N=m;return Pa(i),m=em(a,i,l,N,y,p),E=tm(),a!==null&&!gt?(rm(a,i,p),ns(a,i,p)):(ze&&E&&zu(i),i.flags|=1,Nt(a,i,m,p),i.child)}function Cg(a,i,l,m,p){if(a===null){var y=l.type;return typeof y=="function"&&!Pu(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,Sg(a,i,y,m,p)):(a=Il(l.type,null,m,i,i.mode,p),a.ref=i.ref,a.return=i,i.child=a)}if(y=a.child,!Sm(a,p)){var N=y.memoizedProps;if(l=l.compare,l=l!==null?l:Mi,l(N,m)&&a.ref===i.ref)return ns(a,i,p)}return i.flags|=1,a=Qr(y,m),a.ref=i.ref,a.return=i,i.child=a}function Sg(a,i,l,m,p){if(a!==null){var y=a.memoizedProps;if(Mi(y,m)&&a.ref===i.ref)if(gt=!1,i.pendingProps=m=y,Sm(a,p))(a.flags&131072)!==0&&(gt=!0);else return i.lanes=a.lanes,ns(a,i,p)}return gm(a,i,l,m,p)}function kg(a,i,l){var m=i.pendingProps,p=m.children,y=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((i.flags&128)!==0){if(m=y!==null?y.baseLanes|l:l,a!==null){for(p=i.child=a.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;i.childLanes=y&~m}else i.childLanes=0,i.child=null;return _g(a,i,m,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&Hl(i,y!==null?y.cachePool:null),y!==null?Sy(i,y):Zu(),hg(i);else return i.lanes=i.childLanes=536870912,_g(a,i,y!==null?y.baseLanes|l:l,l)}else y!==null?(Hl(i,y.cachePool),Sy(i,y),Us(),i.memoizedState=null):(a!==null&&Hl(i,null),Zu(),Us());return Nt(a,i,p,l),i.child}function _g(a,i,l,m){var p=$u();return p=p===null?null:{parent:ft._currentValue,pool:p},i.memoizedState={baseLanes:l,cachePool:p},a!==null&&Hl(i,null),Zu(),hg(i),a!==null&&Fi(a,i,m,!0),null}function ic(a,i){var l=i.ref;if(l===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(a===null||a.ref!==l)&&(i.flags|=4194816)}}function gm(a,i,l,m,p){return Pa(i),l=em(a,i,l,m,void 0,p),m=tm(),a!==null&&!gt?(rm(a,i,p),ns(a,i,p)):(ze&&m&&zu(i),i.flags|=1,Nt(a,i,l,p),i.child)}function Ag(a,i,l,m,p,y){return Pa(i),i.updateQueue=null,l=_y(i,m,l,p),ky(a),m=tm(),a!==null&&!gt?(rm(a,i,y),ns(a,i,y)):(ze&&m&&zu(i),i.flags|=1,Nt(a,i,l,y),i.child)}function Eg(a,i,l,m,p){if(Pa(i),i.stateNode===null){var y=Cn,N=l.contextType;typeof N=="object"&&N!==null&&(y=Et(N)),y=new l(m,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=xm,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=m,y.state=i.memoizedState,y.refs={},Yu(i),N=l.contextType,y.context=typeof N=="object"&&N!==null?Et(N):Cn,y.state=i.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(pm(i,l,N,m),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(N=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),N!==y.state&&xm.enqueueReplaceState(y,y.state,null),Wi(i,m,y,p),Yi(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),m=!0}else if(a===null){y=i.stateNode;var E=i.memoizedProps,I=za(l,E);y.props=I;var K=y.context,ee=l.contextType;N=Cn,typeof ee=="object"&&ee!==null&&(N=Et(ee));var se=l.getDerivedStateFromProps;ee=typeof se=="function"||typeof y.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,ee||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E||K!==N)&&pg(i,y,m,N),Ls=!1;var X=i.memoizedState;y.state=X,Wi(i,m,y,p),Yi(),K=i.memoizedState,E||X!==K||Ls?(typeof se=="function"&&(pm(i,l,se,m),K=i.memoizedState),(I=Ls||fg(i,l,I,m,X,K,N))?(ee||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=K),y.props=m,y.state=K,y.context=N,m=I):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{y=i.stateNode,Wu(a,i),N=i.memoizedProps,ee=za(l,N),y.props=ee,se=i.pendingProps,X=y.context,K=l.contextType,I=Cn,typeof K=="object"&&K!==null&&(I=Et(K)),E=l.getDerivedStateFromProps,(K=typeof E=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N!==se||X!==I)&&pg(i,y,m,I),Ls=!1,X=i.memoizedState,y.state=X,Wi(i,m,y,p),Yi();var Z=i.memoizedState;N!==se||X!==Z||Ls||a!==null&&a.dependencies!==null&&Fl(a.dependencies)?(typeof E=="function"&&(pm(i,l,E,m),Z=i.memoizedState),(ee=Ls||fg(i,l,ee,m,X,Z,I)||a!==null&&a.dependencies!==null&&Fl(a.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(m,Z,I),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(m,Z,I)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=Z),y.props=m,y.state=Z,y.context=I,m=ee):(typeof y.componentDidUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(i.flags|=1024),m=!1)}return y=m,ic(a,i),m=(i.flags&128)!==0,y||m?(y=i.stateNode,l=m&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,a!==null&&m?(i.child=Pn(i,a.child,null,p),i.child=Pn(i,null,l,p)):Nt(a,i,l,p),i.memoizedState=y.state,a=i.child):a=ns(a,i,p),a}function Tg(a,i,l,m){return Bi(),i.flags|=256,Nt(a,i,l,m),i.child}var vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bm(a){return{baseLanes:a,cachePool:yy()}}function jm(a,i,l){return a=a!==null?a.childLanes&~l:0,i&&(a|=pr),a}function Rg(a,i,l){var m=i.pendingProps,p=!1,y=(i.flags&128)!==0,N;if((N=y)||(N=a!==null&&a.memoizedState===null?!1:(pt.current&2)!==0),N&&(p=!0,i.flags&=-129),N=(i.flags&32)!==0,i.flags&=-33,a===null){if(ze){if(p?Bs(i):Us(),ze){var E=st,I;if(I=E){e:{for(I=E,E=Lr;I.nodeType!==8;){if(!E){E=null;break e}if(I=kr(I.nextSibling),I===null){E=null;break e}}E=I}E!==null?(i.memoizedState={dehydrated:E,treeContext:Ea!==null?{id:Jr,overflow:es}:null,retryLane:536870912,hydrationErrors:null},I=tr(18,null,null,0),I.stateNode=E,I.return=i,i.child=I,Mt=i,st=null,I=!0):I=!1}I||Da(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ah(E)?i.lanes=32:i.lanes=536870912,null;as(i)}return E=m.children,m=m.fallback,p?(Us(),p=i.mode,E=oc({mode:"hidden",children:E},p),m=Aa(m,p,l,null),E.return=i,m.return=i,E.sibling=m,i.child=E,p=i.child,p.memoizedState=bm(l),p.childLanes=jm(a,N,l),i.memoizedState=vm,m):(Bs(i),wm(i,E))}if(I=a.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(y)i.flags&256?(Bs(i),i.flags&=-257,i=Nm(a,i,l)):i.memoizedState!==null?(Us(),i.child=a.child,i.flags|=128,i=null):(Us(),p=m.fallback,E=i.mode,m=oc({mode:"visible",children:m.children},E),p=Aa(p,E,l,null),p.flags|=2,m.return=i,p.return=i,m.sibling=p,i.child=m,Pn(i,a.child,null,l),m=i.child,m.memoizedState=bm(l),m.childLanes=jm(a,N,l),i.memoizedState=vm,i=p);else if(Bs(i),ah(E)){if(N=E.nextSibling&&E.nextSibling.dataset,N)var K=N.dgst;N=K,m=Error(n(419)),m.stack="",m.digest=N,Ui({value:m,source:null,stack:null}),i=Nm(a,i,l)}else if(gt||Fi(a,i,l,!1),N=(l&a.childLanes)!==0,gt||N){if(N=We,N!==null&&(m=l&-l,m=(m&42)!==0?1:nu(m),m=(m&(N.suspendedLanes|l))!==0?0:m,m!==0&&m!==I.retryLane))throw I.retryLane=m,Nn(a,m),ir(N,a,m),wg;E.data==="$?"||Fm(),i=Nm(a,i,l)}else E.data==="$?"?(i.flags|=192,i.child=a.child,i=null):(a=I.treeContext,st=kr(E.nextSibling),Mt=i,ze=!0,Ra=null,Lr=!1,a!==null&&(mr[hr++]=Jr,mr[hr++]=es,mr[hr++]=Ea,Jr=a.id,es=a.overflow,Ea=i),i=wm(i,m.children),i.flags|=4096);return i}return p?(Us(),p=m.fallback,E=i.mode,I=a.child,K=I.sibling,m=Qr(I,{mode:"hidden",children:m.children}),m.subtreeFlags=I.subtreeFlags&65011712,K!==null?p=Qr(K,p):(p=Aa(p,E,l,null),p.flags|=2),p.return=i,m.return=i,m.sibling=p,i.child=m,m=p,p=i.child,E=a.child.memoizedState,E===null?E=bm(l):(I=E.cachePool,I!==null?(K=ft._currentValue,I=I.parent!==K?{parent:K,pool:K}:I):I=yy(),E={baseLanes:E.baseLanes|l,cachePool:I}),p.memoizedState=E,p.childLanes=jm(a,N,l),i.memoizedState=vm,m):(Bs(i),l=a.child,a=l.sibling,l=Qr(l,{mode:"visible",children:m.children}),l.return=i,l.sibling=null,a!==null&&(N=i.deletions,N===null?(i.deletions=[a],i.flags|=16):N.push(a)),i.child=l,i.memoizedState=null,l)}function wm(a,i){return i=oc({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function oc(a,i){return a=tr(22,a,null,i),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Nm(a,i,l){return Pn(i,a.child,null,l),a=wm(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function Dg(a,i,l){a.lanes|=i;var m=a.alternate;m!==null&&(m.lanes|=i),Fu(a.return,i,l)}function Cm(a,i,l,m,p){var y=a.memoizedState;y===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=m,y.tail=l,y.tailMode=p)}function Og(a,i,l){var m=i.pendingProps,p=m.revealOrder,y=m.tail;if(Nt(a,i,m.children,l),m=pt.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Dg(a,l,i);else if(a.tag===19)Dg(a,l,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch($(pt,m),p){case"forwards":for(l=i.child,p=null;l!==null;)a=l.alternate,a!==null&&sc(a)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Cm(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(a=p.alternate,a!==null&&sc(a)===null){i.child=p;break}a=p.sibling,p.sibling=l,l=p,p=a}Cm(i,!0,l,null,y);break;case"together":Cm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ns(a,i,l){if(a!==null&&(i.dependencies=a.dependencies),$s|=i.lanes,(l&i.childLanes)===0)if(a!==null){if(Fi(a,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(n(153));if(i.child!==null){for(a=i.child,l=Qr(a,a.pendingProps),i.child=l,l.return=i;a.sibling!==null;)a=a.sibling,l=l.sibling=Qr(a,a.pendingProps),l.return=i;l.sibling=null}return i.child}function Sm(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&Fl(a)))}function OC(a,i,l){switch(i.tag){case 3:Ce(i,i.stateNode.containerInfo),Ps(i,ft,a.memoizedState.cache),Bi();break;case 27:case 5:eu(i);break;case 4:Ce(i,i.stateNode.containerInfo);break;case 10:Ps(i,i.type,i.memoizedProps.value);break;case 13:var m=i.memoizedState;if(m!==null)return m.dehydrated!==null?(Bs(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Rg(a,i,l):(Bs(i),a=ns(a,i,l),a!==null?a.sibling:null);Bs(i);break;case 19:var p=(a.flags&128)!==0;if(m=(l&i.childLanes)!==0,m||(Fi(a,i,l,!1),m=(l&i.childLanes)!==0),p){if(m)return Og(a,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),$(pt,pt.current),m)break;return null;case 22:case 23:return i.lanes=0,kg(a,i,l);case 24:Ps(i,ft,a.memoizedState.cache)}return ns(a,i,l)}function Pg(a,i,l){if(a!==null)if(a.memoizedProps!==i.pendingProps)gt=!0;else{if(!Sm(a,l)&&(i.flags&128)===0)return gt=!1,OC(a,i,l);gt=(a.flags&131072)!==0}else gt=!1,ze&&(i.flags&1048576)!==0&&dy(i,Ul,i.index);switch(i.lanes=0,i.tag){case 16:e:{a=i.pendingProps;var m=i.elementType,p=m._init;if(m=p(m._payload),i.type=m,typeof m=="function")Pu(m)?(a=za(m,a),i.tag=1,i=Eg(null,i,m,a,l)):(i.tag=0,i=gm(null,i,m,a,l));else{if(m!=null){if(p=m.$$typeof,p===S){i.tag=11,i=Ng(null,i,m,a,l);break e}else if(p===q){i.tag=14,i=Cg(null,i,m,a,l);break e}}throw i=Y(m)||m,Error(n(306,i,""))}}return i;case 0:return gm(a,i,i.type,i.pendingProps,l);case 1:return m=i.type,p=za(m,i.pendingProps),Eg(a,i,m,p,l);case 3:e:{if(Ce(i,i.stateNode.containerInfo),a===null)throw Error(n(387));m=i.pendingProps;var y=i.memoizedState;p=y.element,Wu(a,i),Wi(i,m,null,l);var N=i.memoizedState;if(m=N.cache,Ps(i,ft,m),m!==y.cache&&Vu(i,[ft],l,!0),Yi(),m=N.element,y.isDehydrated)if(y={element:m,isDehydrated:!1,cache:N.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Tg(a,i,m,l);break e}else if(m!==p){p=dr(Error(n(424)),i),Ui(p),i=Tg(a,i,m,l);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(st=kr(a.firstChild),Mt=i,ze=!0,Ra=null,Lr=!0,l=mg(i,null,m,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Bi(),m===p){i=ns(a,i,l);break e}Nt(a,i,m,l)}i=i.child}return i;case 26:return ic(a,i),a===null?(l=Iv(i.type,null,i.pendingProps,null))?i.memoizedState=l:ze||(l=i.type,a=i.pendingProps,m=jc(he.current).createElement(l),m[At]=i,m[Ht]=a,St(m,l,a),yt(m),i.stateNode=m):i.memoizedState=Iv(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return eu(i),a===null&&ze&&(m=i.stateNode=Lv(i.type,i.pendingProps,he.current),Mt=i,Lr=!0,p=st,Ks(i.type)?(nh=p,st=kr(m.firstChild)):st=p),Nt(a,i,i.pendingProps.children,l),ic(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&ze&&((p=m=st)&&(m=oS(m,i.type,i.pendingProps,Lr),m!==null?(i.stateNode=m,Mt=i,st=kr(m.firstChild),Lr=!1,p=!0):p=!1),p||Da(i)),eu(i),p=i.type,y=i.pendingProps,N=a!==null?a.memoizedProps:null,m=y.children,th(p,y)?m=null:N!==null&&th(p,N)&&(i.flags|=32),i.memoizedState!==null&&(p=em(a,i,SC,null,null,l),yo._currentValue=p),ic(a,i),Nt(a,i,m,l),i.child;case 6:return a===null&&ze&&((a=l=st)&&(l=lS(l,i.pendingProps,Lr),l!==null?(i.stateNode=l,Mt=i,st=null,a=!0):a=!1),a||Da(i)),null;case 13:return Rg(a,i,l);case 4:return Ce(i,i.stateNode.containerInfo),m=i.pendingProps,a===null?i.child=Pn(i,null,m,l):Nt(a,i,m,l),i.child;case 11:return Ng(a,i,i.type,i.pendingProps,l);case 7:return Nt(a,i,i.pendingProps,l),i.child;case 8:return Nt(a,i,i.pendingProps.children,l),i.child;case 12:return Nt(a,i,i.pendingProps.children,l),i.child;case 10:return m=i.pendingProps,Ps(i,i.type,m.value),Nt(a,i,m.children,l),i.child;case 9:return p=i.type._context,m=i.pendingProps.children,Pa(i),p=Et(p),m=m(p),i.flags|=1,Nt(a,i,m,l),i.child;case 14:return Cg(a,i,i.type,i.pendingProps,l);case 15:return Sg(a,i,i.type,i.pendingProps,l);case 19:return Og(a,i,l);case 31:return m=i.pendingProps,l=i.mode,m={mode:m.mode,children:m.children},a===null?(l=oc(m,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=Qr(a.child,m),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return kg(a,i,l);case 24:return Pa(i),m=Et(ft),a===null?(p=$u(),p===null&&(p=We,y=Hu(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),i.memoizedState={parent:m,cache:p},Yu(i),Ps(i,ft,p)):((a.lanes&l)!==0&&(Wu(a,i),Wi(i,null,null,l),Yi()),p=a.memoizedState,y=i.memoizedState,p.parent!==m?(p={parent:m,cache:m},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Ps(i,ft,m)):(m=y.cache,Ps(i,ft,m),m!==p.cache&&Vu(i,[ft],l,!0))),Nt(a,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function is(a){a.flags|=4}function Lg(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Hv(i)){if(i=fr.current,i!==null&&((Oe&4194048)===Oe?Mr!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||i!==Mr))throw $i=Gu,gy;a.flags|=8192}}function lc(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?hx():536870912,a.lanes|=i,In|=i)}function to(a,i){if(!ze)switch(a.tailMode){case"hidden":i=a.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Qe(a){var i=a.alternate!==null&&a.alternate.child===a.child,l=0,m=0;if(i)for(var p=a.child;p!==null;)l|=p.lanes|p.childLanes,m|=p.subtreeFlags&65011712,m|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)l|=p.lanes|p.childLanes,m|=p.subtreeFlags,m|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=m,a.childLanes=l,i}function PC(a,i,l){var m=i.pendingProps;switch(Iu(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(i),null;case 1:return Qe(i),null;case 3:return l=i.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),i.memoizedState.cache!==m&&(i.flags|=2048),rs(ft),xt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Ii(i)?is(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hy())),Qe(i),null;case 26:return l=i.memoizedState,a===null?(is(i),l!==null?(Qe(i),Lg(i,l)):(Qe(i),i.flags&=-16777217)):l?l!==a.memoizedState?(is(i),Qe(i),Lg(i,l)):(Qe(i),i.flags&=-16777217):(a.memoizedProps!==m&&is(i),Qe(i),i.flags&=-16777217),null;case 27:vl(i),l=he.current;var p=i.type;if(a!==null&&i.stateNode!=null)a.memoizedProps!==m&&is(i);else{if(!m){if(i.stateNode===null)throw Error(n(166));return Qe(i),null}a=ce.current,Ii(i)?uy(i):(a=Lv(p,m,l),i.stateNode=a,is(i))}return Qe(i),null;case 5:if(vl(i),l=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==m&&is(i);else{if(!m){if(i.stateNode===null)throw Error(n(166));return Qe(i),null}if(a=ce.current,Ii(i))uy(i);else{switch(p=jc(he.current),a){case 1:a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=p.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?p.createElement("select",{is:m.is}):p.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?p.createElement(l,{is:m.is}):p.createElement(l)}}a[At]=i,a[Ht]=m;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=a;e:switch(St(a,l,m),l){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&is(i)}}return Qe(i),i.flags&=-16777217,null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==m&&is(i);else{if(typeof m!="string"&&i.stateNode===null)throw Error(n(166));if(a=he.current,Ii(i)){if(a=i.stateNode,l=i.memoizedProps,m=null,p=Mt,p!==null)switch(p.tag){case 27:case 5:m=p.memoizedProps}a[At]=i,a=!!(a.nodeValue===l||m!==null&&m.suppressHydrationWarning===!0||Av(a.nodeValue,l)),a||Da(i)}else a=jc(a).createTextNode(m),a[At]=i,i.stateNode=a}return Qe(i),null;case 13:if(m=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=Ii(i),m!==null&&m.dehydrated!==null){if(a===null){if(!p)throw Error(n(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[At]=i}else Bi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qe(i),p=!1}else p=hy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(as(i),i):(as(i),null)}if(as(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=m!==null,a=a!==null&&a.memoizedState!==null,l){m=i.child,p=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(p=m.alternate.memoizedState.cachePool.pool);var y=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(y=m.memoizedState.cachePool.pool),y!==p&&(m.flags|=2048)}return l!==a&&l&&(i.child.flags|=8192),lc(i,i.updateQueue),Qe(i),null;case 4:return xt(),a===null&&Xm(i.stateNode.containerInfo),Qe(i),null;case 10:return rs(i.type),Qe(i),null;case 19:if(J(pt),p=i.memoizedState,p===null)return Qe(i),null;if(m=(i.flags&128)!==0,y=p.rendering,y===null)if(m)to(p,!1);else{if(at!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(y=sc(a),y!==null){for(i.flags|=128,to(p,!1),a=y.updateQueue,i.updateQueue=a,lc(i,a),i.subtreeFlags=0,a=l,l=i.child;l!==null;)cy(l,a),l=l.sibling;return $(pt,pt.current&1|2),i.child}a=a.sibling}p.tail!==null&&Pr()>uc&&(i.flags|=128,m=!0,to(p,!1),i.lanes=4194304)}else{if(!m)if(a=sc(y),a!==null){if(i.flags|=128,m=!0,a=a.updateQueue,i.updateQueue=a,lc(i,a),to(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!ze)return Qe(i),null}else 2*Pr()-p.renderingStartTime>uc&&l!==536870912&&(i.flags|=128,m=!0,to(p,!1),i.lanes=4194304);p.isBackwards?(y.sibling=i.child,i.child=y):(a=p.last,a!==null?a.sibling=y:i.child=y,p.last=y)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Pr(),i.sibling=null,a=pt.current,$(pt,m?a&1|2:a&1),i):(Qe(i),null);case 22:case 23:return as(i),Qu(),m=i.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(i.flags|=8192):m&&(i.flags|=8192),m?(l&536870912)!==0&&(i.flags&128)===0&&(Qe(i),i.subtreeFlags&6&&(i.flags|=8192)):Qe(i),l=i.updateQueue,l!==null&&lc(i,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),m=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(m=i.memoizedState.cachePool.pool),m!==l&&(i.flags|=2048),a!==null&&J(La),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),rs(ft),Qe(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function LC(a,i){switch(Iu(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return rs(ft),xt(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return vl(i),null;case 13:if(as(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Bi()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return J(pt),null;case 4:return xt(),null;case 10:return rs(i.type),null;case 22:case 23:return as(i),Qu(),a!==null&&J(La),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return rs(ft),null;case 25:return null;default:return null}}function Mg(a,i){switch(Iu(i),i.tag){case 3:rs(ft),xt();break;case 26:case 27:case 5:vl(i);break;case 4:xt();break;case 13:as(i);break;case 19:J(pt);break;case 10:rs(i.type);break;case 22:case 23:as(i),Qu(),a!==null&&J(La);break;case 24:rs(ft)}}function ro(a,i){try{var l=i.updateQueue,m=l!==null?l.lastEffect:null;if(m!==null){var p=m.next;l=p;do{if((l.tag&a)===a){m=void 0;var y=l.create,N=l.inst;m=y(),N.destroy=m}l=l.next}while(l!==p)}}catch(E){Ge(i,i.return,E)}}function Fs(a,i,l){try{var m=i.updateQueue,p=m!==null?m.lastEffect:null;if(p!==null){var y=p.next;m=y;do{if((m.tag&a)===a){var N=m.inst,E=N.destroy;if(E!==void 0){N.destroy=void 0,p=i;var I=l,K=E;try{K()}catch(ee){Ge(p,I,ee)}}}m=m.next}while(m!==y)}}catch(ee){Ge(i,i.return,ee)}}function zg(a){var i=a.updateQueue;if(i!==null){var l=a.stateNode;try{Cy(i,l)}catch(m){Ge(a,a.return,m)}}}function Ig(a,i,l){l.props=za(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(m){Ge(a,i,m)}}function so(a,i){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof l=="function"?a.refCleanup=l(m):l.current=m}}catch(p){Ge(a,i,p)}}function zr(a,i){var l=a.ref,m=a.refCleanup;if(l!==null)if(typeof m=="function")try{m()}catch(p){Ge(a,i,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ge(a,i,p)}else l.current=null}function Bg(a){var i=a.type,l=a.memoizedProps,m=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&m.focus();break e;case"img":l.src?m.src=l.src:l.srcSet&&(m.srcset=l.srcSet)}}catch(p){Ge(a,a.return,p)}}function km(a,i,l){try{var m=a.stateNode;rS(m,a.type,l,i),m[Ht]=i}catch(p){Ge(a,a.return,p)}}function Ug(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ks(a.type)||a.tag===4}function _m(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ug(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ks(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Am(a,i,l){var m=a.tag;if(m===5||m===6)a=a.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(a),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=bc));else if(m!==4&&(m===27&&Ks(a.type)&&(l=a.stateNode,i=null),a=a.child,a!==null))for(Am(a,i,l),a=a.sibling;a!==null;)Am(a,i,l),a=a.sibling}function cc(a,i,l){var m=a.tag;if(m===5||m===6)a=a.stateNode,i?l.insertBefore(a,i):l.appendChild(a);else if(m!==4&&(m===27&&Ks(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(cc(a,i,l),a=a.sibling;a!==null;)cc(a,i,l),a=a.sibling}function Fg(a){var i=a.stateNode,l=a.memoizedProps;try{for(var m=a.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);St(i,m,l),i[At]=a,i[Ht]=l}catch(y){Ge(a,a.return,y)}}var os=!1,ot=!1,Em=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,vt=null;function MC(a,i){if(a=a.containerInfo,Jm=_c,a=Jx(a),_u(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var m=l.getSelection&&l.getSelection();if(m&&m.rangeCount!==0){l=m.anchorNode;var p=m.anchorOffset,y=m.focusNode;m=m.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var N=0,E=-1,I=-1,K=0,ee=0,se=a,X=null;t:for(;;){for(var Z;se!==l||p!==0&&se.nodeType!==3||(E=N+p),se!==y||m!==0&&se.nodeType!==3||(I=N+m),se.nodeType===3&&(N+=se.nodeValue.length),(Z=se.firstChild)!==null;)X=se,se=Z;for(;;){if(se===a)break t;if(X===l&&++K===p&&(E=N),X===y&&++ee===m&&(I=N),(Z=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=Z}l=E===-1||I===-1?null:{start:E,end:I}}else l=null}l=l||{start:0,end:0}}else l=null;for(eh={focusedElem:a,selectionRange:l},_c=!1,vt=i;vt!==null;)if(i=vt,a=i.child,(i.subtreeFlags&1024)!==0&&a!==null)a.return=i,vt=a;else for(;vt!==null;){switch(i=vt,y=i.alternate,a=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,l=i,p=y.memoizedProps,y=y.memoizedState,m=l.stateNode;try{var je=za(l.type,p,l.elementType===l.type);a=m.getSnapshotBeforeUpdate(je,y),m.__reactInternalSnapshotBeforeUpdate=a}catch(ge){Ge(l,l.return,ge)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,l=a.nodeType,l===9)sh(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":sh(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=i.sibling,a!==null){a.return=i.return,vt=a;break}vt=i.return}}function Hg(a,i,l){var m=l.flags;switch(l.tag){case 0:case 11:case 15:Vs(a,l),m&4&&ro(5,l);break;case 1:if(Vs(a,l),m&4)if(a=l.stateNode,i===null)try{a.componentDidMount()}catch(N){Ge(l,l.return,N)}else{var p=za(l.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(p,i,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Ge(l,l.return,N)}}m&64&&zg(l),m&512&&so(l,l.return);break;case 3:if(Vs(a,l),m&64&&(a=l.updateQueue,a!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Cy(a,i)}catch(N){Ge(l,l.return,N)}}break;case 27:i===null&&m&4&&Fg(l);case 26:case 5:Vs(a,l),i===null&&m&4&&Bg(l),m&512&&so(l,l.return);break;case 12:Vs(a,l);break;case 13:Vs(a,l),m&4&&Gg(a,l),m&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=$C.bind(null,l),cS(a,l))));break;case 22:if(m=l.memoizedState!==null||os,!m){i=i!==null&&i.memoizedState!==null||ot,p=os;var y=ot;os=m,(ot=i)&&!y?Hs(a,l,(l.subtreeFlags&8772)!==0):Vs(a,l),os=p,ot=y}break;case 30:break;default:Vs(a,l)}}function qg(a){var i=a.alternate;i!==null&&(a.alternate=null,qg(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&lu(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ke=null,Gt=!1;function ls(a,i,l){for(l=l.child;l!==null;)$g(a,i,l),l=l.sibling}function $g(a,i,l){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Ci,l)}catch{}switch(l.tag){case 26:ot||zr(l,i),ls(a,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ot||zr(l,i);var m=Ke,p=Gt;Ks(l.type)&&(Ke=l.stateNode,Gt=!1),ls(a,i,l),ho(l.stateNode),Ke=m,Gt=p;break;case 5:ot||zr(l,i);case 6:if(m=Ke,p=Gt,Ke=null,ls(a,i,l),Ke=m,Gt=p,Ke!==null)if(Gt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(l.stateNode)}catch(y){Ge(l,i,y)}else try{Ke.removeChild(l.stateNode)}catch(y){Ge(l,i,y)}break;case 18:Ke!==null&&(Gt?(a=Ke,Ov(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),jo(a)):Ov(Ke,l.stateNode));break;case 4:m=Ke,p=Gt,Ke=l.stateNode.containerInfo,Gt=!0,ls(a,i,l),Ke=m,Gt=p;break;case 0:case 11:case 14:case 15:ot||Fs(2,l,i),ot||Fs(4,l,i),ls(a,i,l);break;case 1:ot||(zr(l,i),m=l.stateNode,typeof m.componentWillUnmount=="function"&&Ig(l,i,m)),ls(a,i,l);break;case 21:ls(a,i,l);break;case 22:ot=(m=ot)||l.memoizedState!==null,ls(a,i,l),ot=m;break;default:ls(a,i,l)}}function Gg(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{jo(a)}catch(l){Ge(i,i.return,l)}}function zC(a){switch(a.tag){case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new Vg),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new Vg),i;default:throw Error(n(435,a.tag))}}function Tm(a,i){var l=zC(a);i.forEach(function(m){var p=GC.bind(null,a,m);l.has(m)||(l.add(m),m.then(p,p))})}function rr(a,i){var l=i.deletions;if(l!==null)for(var m=0;m<l.length;m++){var p=l[m],y=a,N=i,E=N;e:for(;E!==null;){switch(E.tag){case 27:if(Ks(E.type)){Ke=E.stateNode,Gt=!1;break e}break;case 5:Ke=E.stateNode,Gt=!1;break e;case 3:case 4:Ke=E.stateNode.containerInfo,Gt=!0;break e}E=E.return}if(Ke===null)throw Error(n(160));$g(y,N,p),Ke=null,Gt=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Yg(i,a),i=i.sibling}var Sr=null;function Yg(a,i){var l=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:rr(i,a),sr(a),m&4&&(Fs(3,a,a.return),ro(3,a),Fs(5,a,a.return));break;case 1:rr(i,a),sr(a),m&512&&(ot||l===null||zr(l,l.return)),m&64&&os&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?m:l.concat(m))));break;case 26:var p=Sr;if(rr(i,a),sr(a),m&512&&(ot||l===null||zr(l,l.return)),m&4){var y=l!==null?l.memoizedState:null;if(m=a.memoizedState,l===null)if(m===null)if(a.stateNode===null){e:{m=a.type,l=a.memoizedProps,p=p.ownerDocument||p;t:switch(m){case"title":y=p.getElementsByTagName("title")[0],(!y||y[_i]||y[At]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(m),p.head.insertBefore(y,p.querySelector("head > title"))),St(y,m,l),y[At]=a,yt(y),m=y;break e;case"link":var N=Fv("link","href",p).get(m+(l.href||""));if(N){for(var E=0;E<N.length;E++)if(y=N[E],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){N.splice(E,1);break t}}y=p.createElement(m),St(y,m,l),p.head.appendChild(y);break;case"meta":if(N=Fv("meta","content",p).get(m+(l.content||""))){for(E=0;E<N.length;E++)if(y=N[E],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){N.splice(E,1);break t}}y=p.createElement(m),St(y,m,l),p.head.appendChild(y);break;default:throw Error(n(468,m))}y[At]=a,yt(y),m=y}a.stateNode=m}else Vv(p,a.type,a.stateNode);else a.stateNode=Uv(p,m,a.memoizedProps);else y!==m?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,m===null?Vv(p,a.type,a.stateNode):Uv(p,m,a.memoizedProps)):m===null&&a.stateNode!==null&&km(a,a.memoizedProps,l.memoizedProps)}break;case 27:rr(i,a),sr(a),m&512&&(ot||l===null||zr(l,l.return)),l!==null&&m&4&&km(a,a.memoizedProps,l.memoizedProps);break;case 5:if(rr(i,a),sr(a),m&512&&(ot||l===null||zr(l,l.return)),a.flags&32){p=a.stateNode;try{xn(p,"")}catch(Z){Ge(a,a.return,Z)}}m&4&&a.stateNode!=null&&(p=a.memoizedProps,km(a,p,l!==null?l.memoizedProps:p)),m&1024&&(Em=!0);break;case 6:if(rr(i,a),sr(a),m&4){if(a.stateNode===null)throw Error(n(162));m=a.memoizedProps,l=a.stateNode;try{l.nodeValue=m}catch(Z){Ge(a,a.return,Z)}}break;case 3:if(Cc=null,p=Sr,Sr=wc(i.containerInfo),rr(i,a),Sr=p,sr(a),m&4&&l!==null&&l.memoizedState.isDehydrated)try{jo(i.containerInfo)}catch(Z){Ge(a,a.return,Z)}Em&&(Em=!1,Wg(a));break;case 4:m=Sr,Sr=wc(a.stateNode.containerInfo),rr(i,a),sr(a),Sr=m;break;case 12:rr(i,a),sr(a);break;case 13:rr(i,a),sr(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Mm=Pr()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Tm(a,m)));break;case 22:p=a.memoizedState!==null;var I=l!==null&&l.memoizedState!==null,K=os,ee=ot;if(os=K||p,ot=ee||I,rr(i,a),ot=ee,os=K,sr(a),m&8192)e:for(i=a.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||I||os||ot||Ia(a)),l=null,i=a;;){if(i.tag===5||i.tag===26){if(l===null){I=l=i;try{if(y=I.stateNode,p)N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{E=I.stateNode;var se=I.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;E.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){Ge(I,I.return,Z)}}}else if(i.tag===6){if(l===null){I=i;try{I.stateNode.nodeValue=p?"":I.memoizedProps}catch(Z){Ge(I,I.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}m&4&&(m=a.updateQueue,m!==null&&(l=m.retryQueue,l!==null&&(m.retryQueue=null,Tm(a,l))));break;case 19:rr(i,a),sr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Tm(a,m)));break;case 30:break;case 21:break;default:rr(i,a),sr(a)}}function sr(a){var i=a.flags;if(i&2){try{for(var l,m=a.return;m!==null;){if(Ug(m)){l=m;break}m=m.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,y=_m(a);cc(a,y,p);break;case 5:var N=l.stateNode;l.flags&32&&(xn(N,""),l.flags&=-33);var E=_m(a);cc(a,E,N);break;case 3:case 4:var I=l.stateNode.containerInfo,K=_m(a);Am(a,K,I);break;default:throw Error(n(161))}}catch(ee){Ge(a,a.return,ee)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Wg(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;Wg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function Vs(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hg(a,i.alternate,i),i=i.sibling}function Ia(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:Fs(4,i,i.return),Ia(i);break;case 1:zr(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Ig(i,i.return,l),Ia(i);break;case 27:ho(i.stateNode);case 26:case 5:zr(i,i.return),Ia(i);break;case 22:i.memoizedState===null&&Ia(i);break;case 30:Ia(i);break;default:Ia(i)}a=a.sibling}}function Hs(a,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var m=i.alternate,p=a,y=i,N=y.flags;switch(y.tag){case 0:case 11:case 15:Hs(p,y,l),ro(4,y);break;case 1:if(Hs(p,y,l),m=y,p=m.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(K){Ge(m,m.return,K)}if(m=y,p=m.updateQueue,p!==null){var E=m.stateNode;try{var I=p.shared.hiddenCallbacks;if(I!==null)for(p.shared.hiddenCallbacks=null,p=0;p<I.length;p++)Ny(I[p],E)}catch(K){Ge(m,m.return,K)}}l&&N&64&&zg(y),so(y,y.return);break;case 27:Fg(y);case 26:case 5:Hs(p,y,l),l&&m===null&&N&4&&Bg(y),so(y,y.return);break;case 12:Hs(p,y,l);break;case 13:Hs(p,y,l),l&&N&4&&Gg(p,y);break;case 22:y.memoizedState===null&&Hs(p,y,l),so(y,y.return);break;case 30:break;default:Hs(p,y,l)}i=i.sibling}}function Rm(a,i){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&Vi(l))}function Dm(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Vi(a))}function Ir(a,i,l,m){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Kg(a,i,l,m),i=i.sibling}function Kg(a,i,l,m){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Ir(a,i,l,m),p&2048&&ro(9,i);break;case 1:Ir(a,i,l,m);break;case 3:Ir(a,i,l,m),p&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Vi(a)));break;case 12:if(p&2048){Ir(a,i,l,m),a=i.stateNode;try{var y=i.memoizedProps,N=y.id,E=y.onPostCommit;typeof E=="function"&&E(N,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(I){Ge(i,i.return,I)}}else Ir(a,i,l,m);break;case 13:Ir(a,i,l,m);break;case 23:break;case 22:y=i.stateNode,N=i.alternate,i.memoizedState!==null?y._visibility&2?Ir(a,i,l,m):ao(a,i):y._visibility&2?Ir(a,i,l,m):(y._visibility|=2,Ln(a,i,l,m,(i.subtreeFlags&10256)!==0)),p&2048&&Rm(N,i);break;case 24:Ir(a,i,l,m),p&2048&&Dm(i.alternate,i);break;default:Ir(a,i,l,m)}}function Ln(a,i,l,m,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=a,N=i,E=l,I=m,K=N.flags;switch(N.tag){case 0:case 11:case 15:Ln(y,N,E,I,p),ro(8,N);break;case 23:break;case 22:var ee=N.stateNode;N.memoizedState!==null?ee._visibility&2?Ln(y,N,E,I,p):ao(y,N):(ee._visibility|=2,Ln(y,N,E,I,p)),p&&K&2048&&Rm(N.alternate,N);break;case 24:Ln(y,N,E,I,p),p&&K&2048&&Dm(N.alternate,N);break;default:Ln(y,N,E,I,p)}i=i.sibling}}function ao(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=a,m=i,p=m.flags;switch(m.tag){case 22:ao(l,m),p&2048&&Rm(m.alternate,m);break;case 24:ao(l,m),p&2048&&Dm(m.alternate,m);break;default:ao(l,m)}i=i.sibling}}var no=8192;function Mn(a){if(a.subtreeFlags&no)for(a=a.child;a!==null;)Xg(a),a=a.sibling}function Xg(a){switch(a.tag){case 26:Mn(a),a.flags&no&&a.memoizedState!==null&&wS(Sr,a.memoizedState,a.memoizedProps);break;case 5:Mn(a);break;case 3:case 4:var i=Sr;Sr=wc(a.stateNode.containerInfo),Mn(a),Sr=i;break;case 22:a.memoizedState===null&&(i=a.alternate,i!==null&&i.memoizedState!==null?(i=no,no=16777216,Mn(a),no=i):Mn(a));break;default:Mn(a)}}function Zg(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function io(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var m=i[l];vt=m,Jg(m,a)}Zg(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Qg(a),a=a.sibling}function Qg(a){switch(a.tag){case 0:case 11:case 15:io(a),a.flags&2048&&Fs(9,a,a.return);break;case 3:io(a);break;case 12:io(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,dc(a)):io(a);break;default:io(a)}}function dc(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var m=i[l];vt=m,Jg(m,a)}Zg(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:Fs(8,i,i.return),dc(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,dc(i));break;default:dc(i)}a=a.sibling}}function Jg(a,i){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:Fs(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var m=l.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Vi(l.memoizedState.cache)}if(m=l.child,m!==null)m.return=l,vt=m;else e:for(l=a;vt!==null;){m=vt;var p=m.sibling,y=m.return;if(qg(m),m===l){vt=null;break e}if(p!==null){p.return=y,vt=p;break e}vt=y}}}var IC={getCacheForType:function(a){var i=Et(ft),l=i.data.get(a);return l===void 0&&(l=a(),i.data.set(a,l)),l}},BC=typeof WeakMap=="function"?WeakMap:Map,Be=0,We=null,Te=null,Oe=0,Ue=0,ar=null,qs=!1,zn=!1,Om=!1,cs=0,at=0,$s=0,Ba=0,Pm=0,pr=0,In=0,oo=null,Yt=null,Lm=!1,Mm=0,uc=1/0,mc=null,Gs=null,Ct=0,Ys=null,Bn=null,Un=0,zm=0,Im=null,ev=null,lo=0,Bm=null;function nr(){if((Be&2)!==0&&Oe!==0)return Oe&-Oe;if(D.T!==null){var a=_n;return a!==0?a:Gm()}return xx()}function tv(){pr===0&&(pr=(Oe&536870912)===0||ze?mx():536870912);var a=fr.current;return a!==null&&(a.flags|=32),pr}function ir(a,i,l){(a===We&&(Ue===2||Ue===9)||a.cancelPendingCommit!==null)&&(Fn(a,0),Ws(a,Oe,pr,!1)),ki(a,l),((Be&2)===0||a!==We)&&(a===We&&((Be&2)===0&&(Ba|=l),at===4&&Ws(a,Oe,pr,!1)),Br(a))}function rv(a,i,l){if((Be&6)!==0)throw Error(n(327));var m=!l&&(i&124)===0&&(i&a.expiredLanes)===0||Si(a,i),p=m?VC(a,i):Vm(a,i,!0),y=m;do{if(p===0){zn&&!m&&Ws(a,i,0,!1);break}else{if(l=a.current.alternate,y&&!UC(l)){p=Vm(a,i,!1),y=!1;continue}if(p===2){if(y=i,a.errorRecoveryDisabledLanes&y)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){i=N;e:{var E=a;p=oo;var I=E.current.memoizedState.isDehydrated;if(I&&(Fn(E,N).flags|=256),N=Vm(E,N,!1),N!==2){if(Om&&!I){E.errorRecoveryDisabledLanes|=y,Ba|=y,p=4;break e}y=Yt,Yt=p,y!==null&&(Yt===null?Yt=y:Yt.push.apply(Yt,y))}p=N}if(y=!1,p!==2)continue}}if(p===1){Fn(a,0),Ws(a,i,0,!0);break}e:{switch(m=a,y=p,y){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Ws(m,i,pr,!qs);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(p=Mm+300-Pr(),10<p)){if(Ws(m,i,pr,!qs),Nl(m,0,!0)!==0)break e;m.timeoutHandle=Rv(sv.bind(null,m,l,Yt,mc,Lm,i,pr,Ba,In,qs,y,2,-0,0),p);break e}sv(m,l,Yt,mc,Lm,i,pr,Ba,In,qs,y,0,-0,0)}}break}while(!0);Br(a)}function sv(a,i,l,m,p,y,N,E,I,K,ee,se,X,Z){if(a.timeoutHandle=-1,se=i.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(xo={stylesheets:null,count:0,unsuspend:jS},Xg(i),se=NS(),se!==null)){a.cancelPendingCommit=se(dv.bind(null,a,i,y,l,m,p,N,E,I,ee,1,X,Z)),Ws(a,y,N,!K);return}dv(a,i,y,l,m,p,N,E,I)}function UC(a){for(var i=a;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var m=0;m<l.length;m++){var p=l[m],y=p.getSnapshot;p=p.value;try{if(!er(y(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ws(a,i,l,m){i&=~Pm,i&=~Ba,a.suspendedLanes|=i,a.pingedLanes&=~i,m&&(a.warmLanes|=i),m=a.expirationTimes;for(var p=i;0<p;){var y=31-Jt(p),N=1<<y;m[y]=-1,p&=~N}l!==0&&fx(a,l,i)}function hc(){return(Be&6)===0?(co(0),!1):!0}function Um(){if(Te!==null){if(Ue===0)var a=Te.return;else a=Te,ts=Oa=null,sm(a),On=null,Ji=0,a=Te;for(;a!==null;)Mg(a.alternate,a),a=a.return;Te=null}}function Fn(a,i){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,aS(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),Um(),We=a,Te=l=Qr(a.current,null),Oe=i,Ue=0,ar=null,qs=!1,zn=Si(a,i),Om=!1,In=pr=Pm=Ba=$s=at=0,Yt=oo=null,Lm=!1,(i&8)!==0&&(i|=i&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=i;0<m;){var p=31-Jt(m),y=1<<p;i|=a[p],m&=~y}return cs=i,Ll(),l}function av(a,i){Ae=null,D.H=ec,i===qi||i===ql?(i=jy(),Ue=3):i===gy?(i=jy(),Ue=4):Ue=i===wg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ar=i,Te===null&&(at=1,nc(a,dr(i,a.current)))}function nv(){var a=D.H;return D.H=ec,a===null?ec:a}function iv(){var a=D.A;return D.A=IC,a}function Fm(){at=4,qs||(Oe&4194048)!==Oe&&fr.current!==null||(zn=!0),($s&134217727)===0&&(Ba&134217727)===0||We===null||Ws(We,Oe,pr,!1)}function Vm(a,i,l){var m=Be;Be|=2;var p=nv(),y=iv();(We!==a||Oe!==i)&&(mc=null,Fn(a,i)),i=!1;var N=at;e:do try{if(Ue!==0&&Te!==null){var E=Te,I=ar;switch(Ue){case 8:Um(),N=6;break e;case 3:case 2:case 9:case 6:fr.current===null&&(i=!0);var K=Ue;if(Ue=0,ar=null,Vn(a,E,I,K),l&&zn){N=0;break e}break;default:K=Ue,Ue=0,ar=null,Vn(a,E,I,K)}}FC(),N=at;break}catch(ee){av(a,ee)}while(!0);return i&&a.shellSuspendCounter++,ts=Oa=null,Be=m,D.H=p,D.A=y,Te===null&&(We=null,Oe=0,Ll()),N}function FC(){for(;Te!==null;)ov(Te)}function VC(a,i){var l=Be;Be|=2;var m=nv(),p=iv();We!==a||Oe!==i?(mc=null,uc=Pr()+500,Fn(a,i)):zn=Si(a,i);e:do try{if(Ue!==0&&Te!==null){i=Te;var y=ar;t:switch(Ue){case 1:Ue=0,ar=null,Vn(a,i,y,1);break;case 2:case 9:if(vy(y)){Ue=0,ar=null,lv(i);break}i=function(){Ue!==2&&Ue!==9||We!==a||(Ue=7),Br(a)},y.then(i,i);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:vy(y)?(Ue=0,ar=null,lv(i)):(Ue=0,ar=null,Vn(a,i,y,7));break;case 5:var N=null;switch(Te.tag){case 26:N=Te.memoizedState;case 5:case 27:var E=Te;if(!N||Hv(N)){Ue=0,ar=null;var I=E.sibling;if(I!==null)Te=I;else{var K=E.return;K!==null?(Te=K,fc(K)):Te=null}break t}}Ue=0,ar=null,Vn(a,i,y,5);break;case 6:Ue=0,ar=null,Vn(a,i,y,6);break;case 8:Um(),at=6;break e;default:throw Error(n(462))}}HC();break}catch(ee){av(a,ee)}while(!0);return ts=Oa=null,D.H=m,D.A=p,Be=l,Te!==null?0:(We=null,Oe=0,Ll(),at)}function HC(){for(;Te!==null&&!uN();)ov(Te)}function ov(a){var i=Pg(a.alternate,a,cs);a.memoizedProps=a.pendingProps,i===null?fc(a):Te=i}function lv(a){var i=a,l=i.alternate;switch(i.tag){case 15:case 0:i=Ag(l,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=Ag(l,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:sm(i);default:Mg(l,i),i=Te=cy(i,cs),i=Pg(l,i,cs)}a.memoizedProps=a.pendingProps,i===null?fc(a):Te=i}function Vn(a,i,l,m){ts=Oa=null,sm(i),On=null,Ji=0;var p=i.return;try{if(DC(a,p,i,l,Oe)){at=1,nc(a,dr(l,a.current)),Te=null;return}}catch(y){if(p!==null)throw Te=p,y;at=1,nc(a,dr(l,a.current)),Te=null;return}i.flags&32768?(ze||m===1?a=!0:zn||(Oe&536870912)!==0?a=!1:(qs=a=!0,(m===2||m===9||m===3||m===6)&&(m=fr.current,m!==null&&m.tag===13&&(m.flags|=16384))),cv(i,a)):fc(i)}function fc(a){var i=a;do{if((i.flags&32768)!==0){cv(i,qs);return}a=i.return;var l=PC(i.alternate,i,cs);if(l!==null){Te=l;return}if(i=i.sibling,i!==null){Te=i;return}Te=i=a}while(i!==null);at===0&&(at=5)}function cv(a,i){do{var l=LC(a.alternate,a);if(l!==null){l.flags&=32767,Te=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(a=a.sibling,a!==null)){Te=a;return}Te=a=l}while(a!==null);at=6,Te=null}function dv(a,i,l,m,p,y,N,E,I){a.cancelPendingCommit=null;do pc();while(Ct!==0);if((Be&6)!==0)throw Error(n(327));if(i!==null){if(i===a.current)throw Error(n(177));if(y=i.lanes|i.childLanes,y|=Du,jN(a,l,y,N,E,I),a===We&&(Te=We=null,Oe=0),Bn=i,Ys=a,Un=l,zm=y,Im=p,ev=m,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,YC(bl,function(){return pv(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||m){m=D.T,D.T=null,p=O.p,O.p=2,N=Be,Be|=4;try{MC(a,i,l)}finally{Be=N,O.p=p,D.T=m}}Ct=1,uv(),mv(),hv()}}function uv(){if(Ct===1){Ct=0;var a=Ys,i=Bn,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=D.T,D.T=null;var m=O.p;O.p=2;var p=Be;Be|=4;try{Yg(i,a);var y=eh,N=Jx(a.containerInfo),E=y.focusedElem,I=y.selectionRange;if(N!==E&&E&&E.ownerDocument&&Qx(E.ownerDocument.documentElement,E)){if(I!==null&&_u(E)){var K=I.start,ee=I.end;if(ee===void 0&&(ee=K),"selectionStart"in E)E.selectionStart=K,E.selectionEnd=Math.min(ee,E.value.length);else{var se=E.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var Z=X.getSelection(),je=E.textContent.length,ge=Math.min(I.start,je),$e=I.end===void 0?ge:Math.min(I.end,je);!Z.extend&&ge>$e&&(N=$e,$e=ge,ge=N);var G=Zx(E,ge),H=Zx(E,$e);if(G&&H&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var W=se.createRange();W.setStart(G.node,G.offset),Z.removeAllRanges(),ge>$e?(Z.addRange(W),Z.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),Z.addRange(W))}}}}for(se=[],Z=E;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<se.length;E++){var te=se[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}_c=!!Jm,eh=Jm=null}finally{Be=p,O.p=m,D.T=l}}a.current=i,Ct=2}}function mv(){if(Ct===2){Ct=0;var a=Ys,i=Bn,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=D.T,D.T=null;var m=O.p;O.p=2;var p=Be;Be|=4;try{Hg(a,i.alternate,i)}finally{Be=p,O.p=m,D.T=l}}Ct=3}}function hv(){if(Ct===4||Ct===3){Ct=0,mN();var a=Ys,i=Bn,l=Un,m=ev;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ct=5:(Ct=0,Bn=Ys=null,fv(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(Gs=null),iu(l),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Ci,i,void 0,(i.current.flags&128)===128)}catch{}if(m!==null){i=D.T,p=O.p,O.p=2,D.T=null;try{for(var y=a.onRecoverableError,N=0;N<m.length;N++){var E=m[N];y(E.value,{componentStack:E.stack})}}finally{D.T=i,O.p=p}}(Un&3)!==0&&pc(),Br(a),p=a.pendingLanes,(l&4194090)!==0&&(p&42)!==0?a===Bm?lo++:(lo=0,Bm=a):lo=0,co(0)}}function fv(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,Vi(i)))}function pc(a){return uv(),mv(),hv(),pv()}function pv(){if(Ct!==5)return!1;var a=Ys,i=zm;zm=0;var l=iu(Un),m=D.T,p=O.p;try{O.p=32>l?32:l,D.T=null,l=Im,Im=null;var y=Ys,N=Un;if(Ct=0,Bn=Ys=null,Un=0,(Be&6)!==0)throw Error(n(331));var E=Be;if(Be|=4,Qg(y.current),Kg(y,y.current,N,l),Be=E,co(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Ci,y)}catch{}return!0}finally{O.p=p,D.T=m,fv(a,i)}}function xv(a,i,l){i=dr(l,i),i=ym(a.stateNode,i,2),a=zs(a,i,2),a!==null&&(ki(a,2),Br(a))}function Ge(a,i,l){if(a.tag===3)xv(a,a,l);else for(;i!==null;){if(i.tag===3){xv(i,a,l);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Gs===null||!Gs.has(m))){a=dr(l,a),l=bg(2),m=zs(i,l,2),m!==null&&(jg(l,m,i,a),ki(m,2),Br(m));break}}i=i.return}}function Hm(a,i,l){var m=a.pingCache;if(m===null){m=a.pingCache=new BC;var p=new Set;m.set(i,p)}else p=m.get(i),p===void 0&&(p=new Set,m.set(i,p));p.has(l)||(Om=!0,p.add(l),a=qC.bind(null,a,i,l),i.then(a,a))}function qC(a,i,l){var m=a.pingCache;m!==null&&m.delete(i),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,We===a&&(Oe&l)===l&&(at===4||at===3&&(Oe&62914560)===Oe&&300>Pr()-Mm?(Be&2)===0&&Fn(a,0):Pm|=l,In===Oe&&(In=0)),Br(a)}function yv(a,i){i===0&&(i=hx()),a=Nn(a,i),a!==null&&(ki(a,i),Br(a))}function $C(a){var i=a.memoizedState,l=0;i!==null&&(l=i.retryLane),yv(a,l)}function GC(a,i){var l=0;switch(a.tag){case 13:var m=a.stateNode,p=a.memoizedState;p!==null&&(l=p.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(i),yv(a,l)}function YC(a,i){return ru(a,i)}var xc=null,Hn=null,qm=!1,yc=!1,$m=!1,Ua=0;function Br(a){a!==Hn&&a.next===null&&(Hn===null?xc=Hn=a:Hn=Hn.next=a),yc=!0,qm||(qm=!0,KC())}function co(a,i){if(!$m&&yc){$m=!0;do for(var l=!1,m=xc;m!==null;){if(a!==0){var p=m.pendingLanes;if(p===0)var y=0;else{var N=m.suspendedLanes,E=m.pingedLanes;y=(1<<31-Jt(42|a)+1)-1,y&=p&~(N&~E),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,jv(m,y))}else y=Oe,y=Nl(m,m===We?y:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(y&3)===0||Si(m,y)||(l=!0,jv(m,y));m=m.next}while(l);$m=!1}}function WC(){gv()}function gv(){yc=qm=!1;var a=0;Ua!==0&&(sS()&&(a=Ua),Ua=0);for(var i=Pr(),l=null,m=xc;m!==null;){var p=m.next,y=vv(m,i);y===0?(m.next=null,l===null?xc=p:l.next=p,p===null&&(Hn=l)):(l=m,(a!==0||(y&3)!==0)&&(yc=!0)),m=p}co(a)}function vv(a,i){for(var l=a.suspendedLanes,m=a.pingedLanes,p=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var N=31-Jt(y),E=1<<N,I=p[N];I===-1?((E&l)===0||(E&m)!==0)&&(p[N]=bN(E,i)):I<=i&&(a.expiredLanes|=E),y&=~E}if(i=We,l=Oe,l=Nl(a,a===i?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,l===0||a===i&&(Ue===2||Ue===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&su(m),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Si(a,l)){if(i=l&-l,i===a.callbackPriority)return i;switch(m!==null&&su(m),iu(l)){case 2:case 8:l=dx;break;case 32:l=bl;break;case 268435456:l=ux;break;default:l=bl}return m=bv.bind(null,a),l=ru(l,m),a.callbackPriority=i,a.callbackNode=l,i}return m!==null&&m!==null&&su(m),a.callbackPriority=2,a.callbackNode=null,2}function bv(a,i){if(Ct!==0&&Ct!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(pc()&&a.callbackNode!==l)return null;var m=Oe;return m=Nl(a,a===We?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(rv(a,m,i),vv(a,Pr()),a.callbackNode!=null&&a.callbackNode===l?bv.bind(null,a):null)}function jv(a,i){if(pc())return null;rv(a,i,!0)}function KC(){nS(function(){(Be&6)!==0?ru(cx,WC):gv()})}function Gm(){return Ua===0&&(Ua=mx()),Ua}function wv(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Al(""+a)}function Nv(a,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,a.id&&l.setAttribute("form",a.id),i.parentNode.insertBefore(l,i),a=new FormData(a),l.parentNode.removeChild(l),a}function XC(a,i,l,m,p){if(i==="submit"&&l&&l.stateNode===p){var y=wv((p[Ht]||null).action),N=m.submitter;N&&(i=(i=N[Ht]||null)?wv(i.formAction):N.getAttribute("formAction"),i!==null&&(y=i,N=null));var E=new Dl("action","action",null,m,p);a.push({event:E,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ua!==0){var I=N?Nv(p,N):new FormData(p);mm(l,{pending:!0,data:I,method:p.method,action:y},null,I)}}else typeof y=="function"&&(E.preventDefault(),I=N?Nv(p,N):new FormData(p),mm(l,{pending:!0,data:I,method:p.method,action:y},y,I))},currentTarget:p}]})}}for(var Ym=0;Ym<Ru.length;Ym++){var Wm=Ru[Ym],ZC=Wm.toLowerCase(),QC=Wm[0].toUpperCase()+Wm.slice(1);Cr(ZC,"on"+QC)}Cr(ry,"onAnimationEnd"),Cr(sy,"onAnimationIteration"),Cr(ay,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(pC,"onTransitionRun"),Cr(xC,"onTransitionStart"),Cr(yC,"onTransitionCancel"),Cr(ny,"onTransitionEnd"),hn("onMouseEnter",["mouseout","mouseover"]),hn("onMouseLeave",["mouseout","mouseover"]),hn("onPointerEnter",["pointerout","pointerover"]),hn("onPointerLeave",["pointerout","pointerover"]),Ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function Cv(a,i){i=(i&4)!==0;for(var l=0;l<a.length;l++){var m=a[l],p=m.event;m=m.listeners;e:{var y=void 0;if(i)for(var N=m.length-1;0<=N;N--){var E=m[N],I=E.instance,K=E.currentTarget;if(E=E.listener,I!==y&&p.isPropagationStopped())break e;y=E,p.currentTarget=K;try{y(p)}catch(ee){ac(ee)}p.currentTarget=null,y=I}else for(N=0;N<m.length;N++){if(E=m[N],I=E.instance,K=E.currentTarget,E=E.listener,I!==y&&p.isPropagationStopped())break e;y=E,p.currentTarget=K;try{y(p)}catch(ee){ac(ee)}p.currentTarget=null,y=I}}}}function Re(a,i){var l=i[ou];l===void 0&&(l=i[ou]=new Set);var m=a+"__bubble";l.has(m)||(Sv(i,a,2,!1),l.add(m))}function Km(a,i,l){var m=0;i&&(m|=4),Sv(l,a,m,i)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Xm(a){if(!a[gc]){a[gc]=!0,gx.forEach(function(l){l!=="selectionchange"&&(JC.has(l)||Km(l,!1,a),Km(l,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[gc]||(i[gc]=!0,Km("selectionchange",!1,i))}}function Sv(a,i,l,m){switch(Kv(i)){case 2:var p=kS;break;case 8:p=_S;break;default:p=dh}l=p.bind(null,i,l,a),p=void 0,!gu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),m?p!==void 0?a.addEventListener(i,l,{capture:!0,passive:p}):a.addEventListener(i,l,!0):p!==void 0?a.addEventListener(i,l,{passive:p}):a.addEventListener(i,l,!1)}function Zm(a,i,l,m,p){var y=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var E=m.stateNode.containerInfo;if(E===p)break;if(N===4)for(N=m.return;N!==null;){var I=N.tag;if((I===3||I===4)&&N.stateNode.containerInfo===p)return;N=N.return}for(;E!==null;){if(N=dn(E),N===null)return;if(I=N.tag,I===5||I===6||I===26||I===27){m=y=N;continue e}E=E.parentNode}}m=m.return}Dx(function(){var K=y,ee=xu(l),se=[];e:{var X=iy.get(a);if(X!==void 0){var Z=Dl,je=a;switch(a){case"keypress":if(Tl(l)===0)break e;case"keydown":case"keyup":Z=YN;break;case"focusin":je="focus",Z=wu;break;case"focusout":je="blur",Z=wu;break;case"beforeblur":case"afterblur":Z=wu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Lx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=LN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=XN;break;case ry:case sy:case ay:Z=IN;break;case ny:Z=QN;break;case"scroll":case"scrollend":Z=ON;break;case"wheel":Z=eC;break;case"copy":case"cut":case"paste":Z=UN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=zx;break;case"toggle":case"beforetoggle":Z=rC}var ge=(i&4)!==0,$e=!ge&&(a==="scroll"||a==="scrollend"),G=ge?X!==null?X+"Capture":null:X;ge=[];for(var H=K,W;H!==null;){var te=H;if(W=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||W===null||G===null||(te=Ei(H,G),te!=null&&ge.push(mo(H,te,W))),$e)break;H=H.return}0<ge.length&&(X=new Z(X,je,null,l,ee),se.push({event:X,listeners:ge}))}}if((i&7)===0){e:{if(X=a==="mouseover"||a==="pointerover",Z=a==="mouseout"||a==="pointerout",X&&l!==pu&&(je=l.relatedTarget||l.fromElement)&&(dn(je)||je[cn]))break e;if((Z||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(je=l.relatedTarget||l.toElement,Z=K,je=je?dn(je):null,je!==null&&($e=c(je),ge=je.tag,je!==$e||ge!==5&&ge!==27&&ge!==6)&&(je=null)):(Z=null,je=K),Z!==je)){if(ge=Lx,te="onMouseLeave",G="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(ge=zx,te="onPointerLeave",G="onPointerEnter",H="pointer"),$e=Z==null?X:Ai(Z),W=je==null?X:Ai(je),X=new ge(te,H+"leave",Z,l,ee),X.target=$e,X.relatedTarget=W,te=null,dn(ee)===K&&(ge=new ge(G,H+"enter",je,l,ee),ge.target=W,ge.relatedTarget=$e,te=ge),$e=te,Z&&je)t:{for(ge=Z,G=je,H=0,W=ge;W;W=qn(W))H++;for(W=0,te=G;te;te=qn(te))W++;for(;0<H-W;)ge=qn(ge),H--;for(;0<W-H;)G=qn(G),W--;for(;H--;){if(ge===G||G!==null&&ge===G.alternate)break t;ge=qn(ge),G=qn(G)}ge=null}else ge=null;Z!==null&&kv(se,X,Z,ge,!1),je!==null&&$e!==null&&kv(se,$e,je,ge,!0)}}e:{if(X=K?Ai(K):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var ue=$x;else if(Hx(X))if(Gx)ue=mC;else{ue=dC;var Ee=cC}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&fu(K.elementType)&&(ue=$x):ue=uC;if(ue&&(ue=ue(a,K))){qx(se,ue,l,ee);break e}Ee&&Ee(a,X,K),a==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&hu(X,"number",X.value)}switch(Ee=K?Ai(K):window,a){case"focusin":(Hx(Ee)||Ee.contentEditable==="true")&&(bn=Ee,Au=K,zi=null);break;case"focusout":zi=Au=bn=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,ey(se,l,ee);break;case"selectionchange":if(fC)break;case"keydown":case"keyup":ey(se,l,ee)}var fe;if(Cu)e:{switch(a){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else vn?Fx(a,l)&&(ve="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(ve="onCompositionStart");ve&&(Ix&&l.locale!=="ko"&&(vn||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&vn&&(fe=Ox()):(Os=ee,vu="value"in Os?Os.value:Os.textContent,vn=!0)),Ee=vc(K,ve),0<Ee.length&&(ve=new Mx(ve,a,null,l,ee),se.push({event:ve,listeners:Ee}),fe?ve.data=fe:(fe=Vx(l),fe!==null&&(ve.data=fe)))),(fe=aC?nC(a,l):iC(a,l))&&(ve=vc(K,"onBeforeInput"),0<ve.length&&(Ee=new Mx("onBeforeInput","beforeinput",null,l,ee),se.push({event:Ee,listeners:ve}),Ee.data=fe)),XC(se,a,K,l,ee)}Cv(se,i)})}function mo(a,i,l){return{instance:a,listener:i,currentTarget:l}}function vc(a,i){for(var l=i+"Capture",m=[];a!==null;){var p=a,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Ei(a,l),p!=null&&m.unshift(mo(a,p,y)),p=Ei(a,i),p!=null&&m.push(mo(a,p,y))),a.tag===3)return m;a=a.return}return[]}function qn(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function kv(a,i,l,m,p){for(var y=i._reactName,N=[];l!==null&&l!==m;){var E=l,I=E.alternate,K=E.stateNode;if(E=E.tag,I!==null&&I===m)break;E!==5&&E!==26&&E!==27||K===null||(I=K,p?(K=Ei(l,y),K!=null&&N.unshift(mo(l,K,I))):p||(K=Ei(l,y),K!=null&&N.push(mo(l,K,I)))),l=l.return}N.length!==0&&a.push({event:i,listeners:N})}var eS=/\r\n?/g,tS=/\u0000|\uFFFD/g;function _v(a){return(typeof a=="string"?a:""+a).replace(eS,`
`).replace(tS,"")}function Av(a,i){return i=_v(i),_v(a)===i}function bc(){}function qe(a,i,l,m,p,y){switch(l){case"children":typeof m=="string"?i==="body"||i==="textarea"&&m===""||xn(a,m):(typeof m=="number"||typeof m=="bigint")&&i!=="body"&&xn(a,""+m);break;case"className":Sl(a,"class",m);break;case"tabIndex":Sl(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(a,l,m);break;case"style":Tx(a,m,y);break;case"data":if(i!=="object"){Sl(a,"data",m);break}case"src":case"href":if(m===""&&(i!=="a"||l!=="href")){a.removeAttribute(l);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(l);break}m=Al(""+m),a.setAttribute(l,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&qe(a,i,"name",p.name,p,null),qe(a,i,"formEncType",p.formEncType,p,null),qe(a,i,"formMethod",p.formMethod,p,null),qe(a,i,"formTarget",p.formTarget,p,null)):(qe(a,i,"encType",p.encType,p,null),qe(a,i,"method",p.method,p,null),qe(a,i,"target",p.target,p,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(l);break}m=Al(""+m),a.setAttribute(l,m);break;case"onClick":m!=null&&(a.onclick=bc);break;case"onScroll":m!=null&&Re("scroll",a);break;case"onScrollEnd":m!=null&&Re("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(l=m.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}l=Al(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(l,""+m):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":m===!0?a.setAttribute(l,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(l,m):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(l,m):a.removeAttribute(l);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(l):a.setAttribute(l,m);break;case"popover":Re("beforetoggle",a),Re("toggle",a),Cl(a,"popover",m);break;case"xlinkActuate":Xr(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Xr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Xr(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Xr(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Xr(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Xr(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Xr(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Xr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Xr(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Cl(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=RN.get(l)||l,Cl(a,l,m))}}function Qm(a,i,l,m,p,y){switch(l){case"style":Tx(a,m,y);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(l=m.__html,l!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=l}}break;case"children":typeof m=="string"?xn(a,m):(typeof m=="number"||typeof m=="bigint")&&xn(a,""+m);break;case"onScroll":m!=null&&Re("scroll",a);break;case"onScrollEnd":m!=null&&Re("scrollend",a);break;case"onClick":m!=null&&(a.onclick=bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vx.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),y=a[Ht]||null,y=y!=null?y[l]:null,typeof y=="function"&&a.removeEventListener(i,y,p),typeof m=="function")){typeof y!="function"&&y!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(i,m,p);break e}l in a?a[l]=m:m===!0?a.setAttribute(l,""):Cl(a,l,m)}}}function St(a,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",a),Re("load",a);var m=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var N=l[y];if(N!=null)switch(y){case"src":m=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:qe(a,i,y,N,l,null)}}p&&qe(a,i,"srcSet",l.srcSet,l,null),m&&qe(a,i,"src",l.src,l,null);return;case"input":Re("invalid",a);var E=y=N=p=null,I=null,K=null;for(m in l)if(l.hasOwnProperty(m)){var ee=l[m];if(ee!=null)switch(m){case"name":p=ee;break;case"type":N=ee;break;case"checked":I=ee;break;case"defaultChecked":K=ee;break;case"value":y=ee;break;case"defaultValue":E=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(137,i));break;default:qe(a,i,m,ee,l,null)}}kx(a,y,E,I,K,N,p,!1),kl(a);return;case"select":Re("invalid",a),m=N=y=null;for(p in l)if(l.hasOwnProperty(p)&&(E=l[p],E!=null))switch(p){case"value":y=E;break;case"defaultValue":N=E;break;case"multiple":m=E;default:qe(a,i,p,E,l,null)}i=y,l=N,a.multiple=!!m,i!=null?pn(a,!!m,i,!1):l!=null&&pn(a,!!m,l,!0);return;case"textarea":Re("invalid",a),y=p=m=null;for(N in l)if(l.hasOwnProperty(N)&&(E=l[N],E!=null))switch(N){case"value":m=E;break;case"defaultValue":p=E;break;case"children":y=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:qe(a,i,N,E,l,null)}Ax(a,m,p,y),kl(a);return;case"option":for(I in l)if(l.hasOwnProperty(I)&&(m=l[I],m!=null))switch(I){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:qe(a,i,I,m,l,null)}return;case"dialog":Re("beforetoggle",a),Re("toggle",a),Re("cancel",a),Re("close",a);break;case"iframe":case"object":Re("load",a);break;case"video":case"audio":for(m=0;m<uo.length;m++)Re(uo[m],a);break;case"image":Re("error",a),Re("load",a);break;case"details":Re("toggle",a);break;case"embed":case"source":case"link":Re("error",a),Re("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(m=l[K],m!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:qe(a,i,K,m,l,null)}return;default:if(fu(i)){for(ee in l)l.hasOwnProperty(ee)&&(m=l[ee],m!==void 0&&Qm(a,i,ee,m,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(m=l[E],m!=null&&qe(a,i,E,m,l,null))}function rS(a,i,l,m){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,N=null,E=null,I=null,K=null,ee=null;for(Z in l){var se=l[Z];if(l.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":I=se;default:m.hasOwnProperty(Z)||qe(a,i,Z,null,m,se)}}for(var X in m){var Z=m[X];if(se=l[X],m.hasOwnProperty(X)&&(Z!=null||se!=null))switch(X){case"type":y=Z;break;case"name":p=Z;break;case"checked":K=Z;break;case"defaultChecked":ee=Z;break;case"value":N=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,i));break;default:Z!==se&&qe(a,i,X,Z,m,se)}}mu(a,N,E,I,K,ee,y,p);return;case"select":Z=N=E=X=null;for(y in l)if(I=l[y],l.hasOwnProperty(y)&&I!=null)switch(y){case"value":break;case"multiple":Z=I;default:m.hasOwnProperty(y)||qe(a,i,y,null,m,I)}for(p in m)if(y=m[p],I=l[p],m.hasOwnProperty(p)&&(y!=null||I!=null))switch(p){case"value":X=y;break;case"defaultValue":E=y;break;case"multiple":N=y;default:y!==I&&qe(a,i,p,y,m,I)}i=E,l=N,m=Z,X!=null?pn(a,!!l,X,!1):!!m!=!!l&&(i!=null?pn(a,!!l,i,!0):pn(a,!!l,l?[]:"",!1));return;case"textarea":Z=X=null;for(E in l)if(p=l[E],l.hasOwnProperty(E)&&p!=null&&!m.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:qe(a,i,E,null,m,p)}for(N in m)if(p=m[N],y=l[N],m.hasOwnProperty(N)&&(p!=null||y!=null))switch(N){case"value":X=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==y&&qe(a,i,N,p,m,y)}_x(a,X,Z);return;case"option":for(var je in l)if(X=l[je],l.hasOwnProperty(je)&&X!=null&&!m.hasOwnProperty(je))switch(je){case"selected":a.selected=!1;break;default:qe(a,i,je,null,m,X)}for(I in m)if(X=m[I],Z=l[I],m.hasOwnProperty(I)&&X!==Z&&(X!=null||Z!=null))switch(I){case"selected":a.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:qe(a,i,I,X,m,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in l)X=l[ge],l.hasOwnProperty(ge)&&X!=null&&!m.hasOwnProperty(ge)&&qe(a,i,ge,null,m,X);for(K in m)if(X=m[K],Z=l[K],m.hasOwnProperty(K)&&X!==Z&&(X!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(137,i));break;default:qe(a,i,K,X,m,Z)}return;default:if(fu(i)){for(var $e in l)X=l[$e],l.hasOwnProperty($e)&&X!==void 0&&!m.hasOwnProperty($e)&&Qm(a,i,$e,void 0,m,X);for(ee in m)X=m[ee],Z=l[ee],!m.hasOwnProperty(ee)||X===Z||X===void 0&&Z===void 0||Qm(a,i,ee,X,m,Z);return}}for(var G in l)X=l[G],l.hasOwnProperty(G)&&X!=null&&!m.hasOwnProperty(G)&&qe(a,i,G,null,m,X);for(se in m)X=m[se],Z=l[se],!m.hasOwnProperty(se)||X===Z||X==null&&Z==null||qe(a,i,se,X,m,Z)}var Jm=null,eh=null;function jc(a){return a.nodeType===9?a:a.ownerDocument}function Ev(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tv(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function th(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rh=null;function sS(){var a=window.event;return a&&a.type==="popstate"?a===rh?!1:(rh=a,!0):(rh=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,aS=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,nS=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(a){return Dv.resolve(null).then(a).catch(iS)}:Rv;function iS(a){setTimeout(function(){throw a})}function Ks(a){return a==="head"}function Ov(a,i){var l=i,m=0,p=0;do{var y=l.nextSibling;if(a.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<m&&8>m){l=m;var N=a.ownerDocument;if(l&1&&ho(N.documentElement),l&2&&ho(N.body),l&4)for(l=N.head,ho(l),N=l.firstChild;N;){var E=N.nextSibling,I=N.nodeName;N[_i]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&N.rel.toLowerCase()==="stylesheet"||l.removeChild(N),N=E}}if(p===0){a.removeChild(y),jo(i);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:m=l.charCodeAt(0)-48;else m=0;l=y}while(l);jo(i)}function sh(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":sh(l),lu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function oS(a,i,l,m){for(;a.nodeType===1;){var p=l;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[_i])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=kr(a.nextSibling),a===null)break}return null}function lS(a,i,l){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=kr(a.nextSibling),a===null))return null;return a}function ah(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function cS(a,i){var l=a.ownerDocument;if(a.data!=="$?"||l.readyState==="complete")i();else{var m=function(){i(),l.removeEventListener("DOMContentLoaded",m)};l.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function kr(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return a}var nh=null;function Pv(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return a;i--}else l==="/$"&&i++}a=a.previousSibling}return null}function Lv(a,i,l){switch(i=jc(l),a){case"html":if(a=i.documentElement,!a)throw Error(n(452));return a;case"head":if(a=i.head,!a)throw Error(n(453));return a;case"body":if(a=i.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function ho(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);lu(a)}var xr=new Map,Mv=new Set;function wc(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ds=O.d;O.d={f:dS,r:uS,D:mS,C:hS,L:fS,m:pS,X:yS,S:xS,M:gS};function dS(){var a=ds.f(),i=hc();return a||i}function uS(a){var i=un(a);i!==null&&i.tag===5&&i.type==="form"?rg(i):ds.r(a)}var $n=typeof document>"u"?null:document;function zv(a,i,l){var m=$n;if(m&&typeof i=="string"&&i){var p=cr(i);p='link[rel="'+a+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Mv.has(p)||(Mv.add(p),a={rel:a,crossOrigin:l,href:i},m.querySelector(p)===null&&(i=m.createElement("link"),St(i,"link",a),yt(i),m.head.appendChild(i)))}}function mS(a){ds.D(a),zv("dns-prefetch",a,null)}function hS(a,i){ds.C(a,i),zv("preconnect",a,i)}function fS(a,i,l){ds.L(a,i,l);var m=$n;if(m&&a&&i){var p='link[rel="preload"][as="'+cr(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+cr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+cr(l.imageSizes)+'"]')):p+='[href="'+cr(a)+'"]';var y=p;switch(i){case"style":y=Gn(a);break;case"script":y=Yn(a)}xr.has(y)||(a=x({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:a,as:i},l),xr.set(y,a),m.querySelector(p)!==null||i==="style"&&m.querySelector(fo(y))||i==="script"&&m.querySelector(po(y))||(i=m.createElement("link"),St(i,"link",a),yt(i),m.head.appendChild(i)))}}function pS(a,i){ds.m(a,i);var l=$n;if(l&&a){var m=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+cr(m)+'"][href="'+cr(a)+'"]',y=p;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Yn(a)}if(!xr.has(y)&&(a=x({rel:"modulepreload",href:a},i),xr.set(y,a),l.querySelector(p)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(po(y)))return}m=l.createElement("link"),St(m,"link",a),yt(m),l.head.appendChild(m)}}}function xS(a,i,l){ds.S(a,i,l);var m=$n;if(m&&a){var p=mn(m).hoistableStyles,y=Gn(a);i=i||"default";var N=p.get(y);if(!N){var E={loading:0,preload:null};if(N=m.querySelector(fo(y)))E.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":i},l),(l=xr.get(y))&&ih(a,l);var I=N=m.createElement("link");yt(I),St(I,"link",a),I._p=new Promise(function(K,ee){I.onload=K,I.onerror=ee}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nc(N,i,m)}N={type:"stylesheet",instance:N,count:1,state:E},p.set(y,N)}}}function yS(a,i){ds.X(a,i);var l=$n;if(l&&a){var m=mn(l).hoistableScripts,p=Yn(a),y=m.get(p);y||(y=l.querySelector(po(p)),y||(a=x({src:a,async:!0},i),(i=xr.get(p))&&oh(a,i),y=l.createElement("script"),yt(y),St(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},m.set(p,y))}}function gS(a,i){ds.M(a,i);var l=$n;if(l&&a){var m=mn(l).hoistableScripts,p=Yn(a),y=m.get(p);y||(y=l.querySelector(po(p)),y||(a=x({src:a,async:!0,type:"module"},i),(i=xr.get(p))&&oh(a,i),y=l.createElement("script"),yt(y),St(y,"link",a),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},m.set(p,y))}}function Iv(a,i,l,m){var p=(p=he.current)?wc(p):null;if(!p)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Gn(l.href),l=mn(p).hoistableStyles,m=l.get(i),m||(m={type:"style",instance:null,count:0,state:null},l.set(i,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=Gn(l.href);var y=mn(p).hoistableStyles,N=y.get(a);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,N),(y=p.querySelector(fo(a)))&&!y._p&&(N.instance=y,N.state.loading=5),xr.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},xr.set(a,l),y||vS(p,a,l,N.state))),i&&m===null)throw Error(n(528,""));return N}if(i&&m!==null)throw Error(n(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Yn(l),l=mn(p).hoistableScripts,m=l.get(i),m||(m={type:"script",instance:null,count:0,state:null},l.set(i,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Gn(a){return'href="'+cr(a)+'"'}function fo(a){return'link[rel="stylesheet"]['+a+"]"}function Bv(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function vS(a,i,l,m){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?m.loading=1:(i=a.createElement("link"),m.preload=i,i.addEventListener("load",function(){return m.loading|=1}),i.addEventListener("error",function(){return m.loading|=2}),St(i,"link",l),yt(i),a.head.appendChild(i))}function Yn(a){return'[src="'+cr(a)+'"]'}function po(a){return"script[async]"+a}function Uv(a,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var m=a.querySelector('style[data-href~="'+cr(l.href)+'"]');if(m)return i.instance=m,yt(m),m;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),yt(m),St(m,"style",p),Nc(m,l.precedence,a),i.instance=m;case"stylesheet":p=Gn(l.href);var y=a.querySelector(fo(p));if(y)return i.state.loading|=4,i.instance=y,yt(y),y;m=Bv(l),(p=xr.get(p))&&ih(m,p),y=(a.ownerDocument||a).createElement("link"),yt(y);var N=y;return N._p=new Promise(function(E,I){N.onload=E,N.onerror=I}),St(y,"link",m),i.state.loading|=4,Nc(y,l.precedence,a),i.instance=y;case"script":return y=Yn(l.src),(p=a.querySelector(po(y)))?(i.instance=p,yt(p),p):(m=l,(p=xr.get(y))&&(m=x({},l),oh(m,p)),a=a.ownerDocument||a,p=a.createElement("script"),yt(p),St(p,"link",m),a.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(m=i.instance,i.state.loading|=4,Nc(m,l.precedence,a));return i.instance}function Nc(a,i,l){for(var m=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=m.length?m[m.length-1]:null,y=p,N=0;N<m.length;N++){var E=m[N];if(E.dataset.precedence===i)y=E;else if(y!==p)break}y?y.parentNode.insertBefore(a,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(a,i.firstChild))}function ih(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function oh(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var Cc=null;function Fv(a,i,l){if(Cc===null){var m=new Map,p=Cc=new Map;p.set(l,m)}else p=Cc,m=p.get(l),m||(m=new Map,p.set(l,m));if(m.has(a))return m;for(m.set(a,null),l=l.getElementsByTagName(a),p=0;p<l.length;p++){var y=l[p];if(!(y[_i]||y[At]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var N=y.getAttribute(i)||"";N=a+N;var E=m.get(N);E?E.push(y):m.set(N,[y])}}return m}function Vv(a,i,l){a=a.ownerDocument||a,a.head.insertBefore(l,i==="title"?a.querySelector("head > title"):null)}function bS(a,i,l){if(l===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Hv(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var xo=null;function jS(){}function wS(a,i,l){if(xo===null)throw Error(n(475));var m=xo;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=Gn(l.href),y=a.querySelector(fo(p));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=Sc.bind(m),a.then(m,m)),i.state.loading|=4,i.instance=y,yt(y);return}y=a.ownerDocument||a,l=Bv(l),(p=xr.get(p))&&ih(l,p),y=y.createElement("link"),yt(y);var N=y;N._p=new Promise(function(E,I){N.onload=E,N.onerror=I}),St(y,"link",l),i.instance=y}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(i,a),(a=i.state.preload)&&(i.state.loading&3)===0&&(m.count++,i=Sc.bind(m),a.addEventListener("load",i),a.addEventListener("error",i))}}function NS(){if(xo===null)throw Error(n(475));var a=xo;return a.stylesheets&&a.count===0&&lh(a,a.stylesheets),0<a.count?function(i){var l=setTimeout(function(){if(a.stylesheets&&lh(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=i,function(){a.unsuspend=null,clearTimeout(l)}}:null}function Sc(){if(this.count--,this.count===0){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var kc=null;function lh(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,kc=new Map,i.forEach(CS,a),kc=null,Sc.call(a))}function CS(a,i){if(!(i.state.loading&4)){var l=kc.get(a);if(l)var m=l.get(null);else{l=new Map,kc.set(a,l);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var N=p[y];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(l.set(N.dataset.precedence,N),m=N)}m&&l.set(null,m)}p=i.instance,N=p.getAttribute("data-precedence"),y=l.get(N)||m,y===m&&l.set(null,p),l.set(N,p),this.count++,m=Sc.bind(this),p.addEventListener("load",m),p.addEventListener("error",m),y?y.parentNode.insertBefore(p,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),i.state.loading|=4}}var yo={$$typeof:R,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function SS(a,i,l,m,p,y,N,E){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=au(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=au(0),this.hiddenUpdates=au(null),this.identifierPrefix=m,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function qv(a,i,l,m,p,y,N,E,I,K,ee,se){return a=new SS(a,i,l,N,E,I,K,se),i=1,y===!0&&(i|=24),y=tr(3,null,null,i),a.current=y,y.stateNode=a,i=Hu(),i.refCount++,a.pooledCache=i,i.refCount++,y.memoizedState={element:m,isDehydrated:l,cache:i},Yu(y),a}function $v(a){return a?(a=Cn,a):Cn}function Gv(a,i,l,m,p,y){p=$v(p),m.context===null?m.context=p:m.pendingContext=p,m=Ms(i),m.payload={element:l},y=y===void 0?null:y,y!==null&&(m.callback=y),l=zs(a,m,i),l!==null&&(ir(l,a,i),Gi(l,a,i))}function Yv(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<i?l:i}}function ch(a,i){Yv(a,i),(a=a.alternate)&&Yv(a,i)}function Wv(a){if(a.tag===13){var i=Nn(a,67108864);i!==null&&ir(i,a,67108864),ch(a,67108864)}}var _c=!0;function kS(a,i,l,m){var p=D.T;D.T=null;var y=O.p;try{O.p=2,dh(a,i,l,m)}finally{O.p=y,D.T=p}}function _S(a,i,l,m){var p=D.T;D.T=null;var y=O.p;try{O.p=8,dh(a,i,l,m)}finally{O.p=y,D.T=p}}function dh(a,i,l,m){if(_c){var p=uh(m);if(p===null)Zm(a,i,m,Ac,l),Xv(a,m);else if(ES(p,a,i,l,m))m.stopPropagation();else if(Xv(a,m),i&4&&-1<AS.indexOf(a)){for(;p!==null;){var y=un(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var N=Na(y.pendingLanes);if(N!==0){var E=y;for(E.pendingLanes|=2,E.entangledLanes|=2;N;){var I=1<<31-Jt(N);E.entanglements[1]|=I,N&=~I}Br(y),(Be&6)===0&&(uc=Pr()+500,co(0))}}break;case 13:E=Nn(y,2),E!==null&&ir(E,y,2),hc(),ch(y,2)}if(y=uh(m),y===null&&Zm(a,i,m,Ac,l),y===p)break;p=y}p!==null&&m.stopPropagation()}else Zm(a,i,m,null,l)}}function uh(a){return a=xu(a),mh(a)}var Ac=null;function mh(a){if(Ac=null,a=dn(a),a!==null){var i=c(a);if(i===null)a=null;else{var l=i.tag;if(l===13){if(a=d(i),a!==null)return a;a=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Ac=a,null}function Kv(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hN()){case cx:return 2;case dx:return 8;case bl:case fN:return 32;case ux:return 268435456;default:return 32}default:return 32}}var hh=!1,Xs=null,Zs=null,Qs=null,go=new Map,vo=new Map,Js=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xv(a,i){switch(a){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":go.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(i.pointerId)}}function bo(a,i,l,m,p,y){return a===null||a.nativeEvent!==y?(a={blockedOn:i,domEventName:l,eventSystemFlags:m,nativeEvent:y,targetContainers:[p]},i!==null&&(i=un(i),i!==null&&Wv(i)),a):(a.eventSystemFlags|=m,i=a.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),a)}function ES(a,i,l,m,p){switch(i){case"focusin":return Xs=bo(Xs,a,i,l,m,p),!0;case"dragenter":return Zs=bo(Zs,a,i,l,m,p),!0;case"mouseover":return Qs=bo(Qs,a,i,l,m,p),!0;case"pointerover":var y=p.pointerId;return go.set(y,bo(go.get(y)||null,a,i,l,m,p)),!0;case"gotpointercapture":return y=p.pointerId,vo.set(y,bo(vo.get(y)||null,a,i,l,m,p)),!0}return!1}function Zv(a){var i=dn(a.target);if(i!==null){var l=c(i);if(l!==null){if(i=l.tag,i===13){if(i=d(l),i!==null){a.blockedOn=i,wN(a.priority,function(){if(l.tag===13){var m=nr();m=nu(m);var p=Nn(l,m);p!==null&&ir(p,l,m),ch(l,m)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ec(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var l=uh(a.nativeEvent);if(l===null){l=a.nativeEvent;var m=new l.constructor(l.type,l);pu=m,l.target.dispatchEvent(m),pu=null}else return i=un(l),i!==null&&Wv(i),a.blockedOn=l,!1;i.shift()}return!0}function Qv(a,i,l){Ec(a)&&l.delete(i)}function TS(){hh=!1,Xs!==null&&Ec(Xs)&&(Xs=null),Zs!==null&&Ec(Zs)&&(Zs=null),Qs!==null&&Ec(Qs)&&(Qs=null),go.forEach(Qv),vo.forEach(Qv)}function Tc(a,i){a.blockedOn===i&&(a.blockedOn=null,hh||(hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,TS)))}var Rc=null;function Jv(a){Rc!==a&&(Rc=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Rc===a&&(Rc=null);for(var i=0;i<a.length;i+=3){var l=a[i],m=a[i+1],p=a[i+2];if(typeof m!="function"){if(mh(m||l)===null)continue;break}var y=un(l);y!==null&&(a.splice(i,3),i-=3,mm(y,{pending:!0,data:p,method:l.method,action:m},m,p))}}))}function jo(a){function i(I){return Tc(I,a)}Xs!==null&&Tc(Xs,a),Zs!==null&&Tc(Zs,a),Qs!==null&&Tc(Qs,a),go.forEach(i),vo.forEach(i);for(var l=0;l<Js.length;l++){var m=Js[l];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Js.length&&(l=Js[0],l.blockedOn===null);)Zv(l),l.blockedOn===null&&Js.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(m=0;m<l.length;m+=3){var p=l[m],y=l[m+1],N=p[Ht]||null;if(typeof y=="function")N||Jv(l);else if(N){var E=null;if(y&&y.hasAttribute("formAction")){if(p=y,N=y[Ht]||null)E=N.formAction;else if(mh(p)!==null)continue}else E=N.action;typeof E=="function"?l[m+1]=E:(l.splice(m,3),m-=3),Jv(l)}}}function fh(a){this._internalRoot=a}Dc.prototype.render=fh.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(n(409));var l=i.current,m=nr();Gv(l,m,a,i,null,null)},Dc.prototype.unmount=fh.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;Gv(a.current,2,null,a,null,null),hc(),i[cn]=null}};function Dc(a){this._internalRoot=a}Dc.prototype.unstable_scheduleHydration=function(a){if(a){var i=xx();a={blockedOn:null,target:a,priority:i};for(var l=0;l<Js.length&&i!==0&&i<Js[l].priority;l++);Js.splice(l,0,a),l===0&&Zv(a)}};var eb=r.version;if(eb!=="19.1.0")throw Error(n(527,eb,"19.1.0"));O.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(i),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var RS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Ci=Oc.inject(RS),Qt=Oc}catch{}}return No.createRoot=function(a,i){if(!o(a))throw Error(n(299));var l=!1,m="",p=xg,y=yg,N=gg,E=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=qv(a,1,!1,null,null,l,m,p,y,N,E,null),a[cn]=i.current,Xm(a),new fh(i)},No.hydrateRoot=function(a,i,l){if(!o(a))throw Error(n(299));var m=!1,p="",y=xg,N=yg,E=gg,I=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(I=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),i=qv(a,1,!0,i,l??null,m,p,y,N,E,I,K),i.context=$v(null),l=i.current,m=nr(),m=nu(m),p=Ms(m),p.callback=null,zs(l,p,m),l=m,i.current.lanes=l,ki(i,l),Br(i),a[cn]=i.current,Xm(a),new Dc(i)},No.version="19.1.0",No}var db;function FS(){if(db)return xh.exports;db=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),xh.exports=US(),xh.exports}var VS=FS();const HS=M1(VS),qS="modulepreload",$S=function(e){return"/"+e},ub={},GS=function(r,s,n){let o=Promise.resolve();if(s&&s.length>0){let d=function(f){return Promise.all(f.map(x=>Promise.resolve(x).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=d(s.map(f=>{if(f=$S(f),f in ub)return;ub[f]=!0;const x=f.endsWith(".css"),g=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=x?"stylesheet":qS,x||(v.as="script"),v.crossOrigin="",v.href=f,h&&v.setAttribute("nonce",h),document.head.appendChild(v),x)return new Promise((b,j)=>{v.addEventListener("load",b),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${f}`)))})}))}function c(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return o.then(d=>{for(const u of d||[])u.status==="rejected"&&c(u.reason);return r().catch(c)})};var w=Yf();const Me=M1(w);var Co={},mb;function YS(){if(mb)return Co;mb=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.parse=d,Co.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function d(v,b){const j=new c,k=v.length;if(k<2)return j;const _=(b==null?void 0:b.decode)||x;let C=0;do{const A=v.indexOf("=",C);if(A===-1)break;const R=v.indexOf(";",C),S=R===-1?k:R;if(A>S){C=v.lastIndexOf(";",A-1)+1;continue}const T=u(v,C,A),P=h(v,A,T),q=v.slice(T,P);if(j[q]===void 0){let U=u(v,A+1,S),V=h(v,S,U);const M=_(v.slice(U,V));j[q]=M}C=S+1}while(C<k);return j}function u(v,b,j){do{const k=v.charCodeAt(b);if(k!==32&&k!==9)return b}while(++b<j);return j}function h(v,b,j){for(;b>j;){const k=v.charCodeAt(--b);if(k!==32&&k!==9)return b+1}return j}function f(v,b,j){const k=(j==null?void 0:j.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const _=k(b);if(!r.test(_))throw new TypeError(`argument val is invalid: ${b}`);let C=v+"="+_;if(!j)return C;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);C+="; Max-Age="+j.maxAge}if(j.domain){if(!s.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);C+="; Domain="+j.domain}if(j.path){if(!n.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);C+="; Path="+j.path}if(j.expires){if(!g(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);C+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(C+="; HttpOnly"),j.secure&&(C+="; Secure"),j.partitioned&&(C+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return C}function x(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return o.call(v)==="[object Date]"}return Co}YS();var hb="popstate";function WS(e={}){function r(n,o){let{pathname:c,search:d,hash:u}=n.location;return Jh("",{pathname:c,search:d,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(n,o){return typeof o=="string"?o:Uo(o)}return XS(r,s,null,e)}function Xe(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function jr(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function KS(){return Math.random().toString(36).substring(2,10)}function fb(e,r){return{usr:e.state,key:e.key,idx:r}}function Jh(e,r,s=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?di(r):r,state:s,key:r&&r.key||n||KS()}}function Uo({pathname:e="/",search:r="",hash:s=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function di(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substring(s),e=e.substring(0,s));let n=e.indexOf("?");n>=0&&(r.search=e.substring(n),e=e.substring(0,n)),e&&(r.pathname=e)}return r}function XS(e,r,s,n={}){let{window:o=document.defaultView,v5Compat:c=!1}=n,d=o.history,u="POP",h=null,f=x();f==null&&(f=0,d.replaceState({...d.state,idx:f},""));function x(){return(d.state||{idx:null}).idx}function g(){u="POP";let _=x(),C=_==null?null:_-f;f=_,h&&h({action:u,location:k.location,delta:C})}function v(_,C){u="PUSH";let A=Jh(k.location,_,C);f=x()+1;let R=fb(A,f),S=k.createHref(A);try{d.pushState(R,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;o.location.assign(S)}c&&h&&h({action:u,location:k.location,delta:1})}function b(_,C){u="REPLACE";let A=Jh(k.location,_,C);f=x();let R=fb(A,f),S=k.createHref(A);d.replaceState(R,"",S),c&&h&&h({action:u,location:k.location,delta:0})}function j(_){return ZS(_)}let k={get action(){return u},get location(){return e(o,d)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(hb,g),h=_,()=>{o.removeEventListener(hb,g),h=null}},createHref(_){return r(o,_)},createURL:j,encodeLocation(_){let C=j(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:b,go(_){return d.go(_)}};return k}function ZS(e,r=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(s,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Uo(e);return n=n.replace(/ $/,"%20"),!r&&n.startsWith("//")&&(n=s+n),new URL(n,s)}function z1(e,r,s="/"){return QS(e,r,s,!1)}function QS(e,r,s,n){let o=typeof r=="string"?di(r):r,c=bs(o.pathname||"/",s);if(c==null)return null;let d=I1(e);JS(d);let u=null;for(let h=0;u==null&&h<d.length;++h){let f=d4(c);u=l4(d[h],f,n)}return u}function I1(e,r=[],s=[],n=""){let o=(c,d,u)=>{let h={relativePath:u===void 0?c.path||"":u,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};h.relativePath.startsWith("/")&&(Xe(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let f=ys([n,h.relativePath]),x=s.concat(h);c.children&&c.children.length>0&&(Xe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),I1(c.children,r,x,f)),!(c.path==null&&!c.index)&&r.push({path:f,score:i4(f,c.index),routesMeta:x})};return e.forEach((c,d)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))o(c,d);else for(let h of B1(c.path))o(c,d,h)}),r}function B1(e){let r=e.split("/");if(r.length===0)return[];let[s,...n]=r,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(n.length===0)return o?[c,""]:[c];let d=B1(n.join("/")),u=[];return u.push(...d.map(h=>h===""?c:[c,h].join("/"))),o&&u.push(...d),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function JS(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:o4(r.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var e4=/^:[\w-]+$/,t4=3,r4=2,s4=1,a4=10,n4=-2,pb=e=>e==="*";function i4(e,r){let s=e.split("/"),n=s.length;return s.some(pb)&&(n+=n4),r&&(n+=r4),s.filter(o=>!pb(o)).reduce((o,c)=>o+(e4.test(c)?t4:c===""?s4:a4),n)}function o4(e,r){return e.length===r.length&&e.slice(0,-1).every((n,o)=>n===r[o])?e[e.length-1]-r[r.length-1]:0}function l4(e,r,s=!1){let{routesMeta:n}=e,o={},c="/",d=[];for(let u=0;u<n.length;++u){let h=n[u],f=u===n.length-1,x=c==="/"?r:r.slice(c.length)||"/",g=nd({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},x),v=h.route;if(!g&&f&&s&&!n[n.length-1].route.index&&(g=nd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},x)),!g)return null;Object.assign(o,g.params),d.push({params:o,pathname:ys([c,g.pathname]),pathnameBase:f4(ys([c,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(c=ys([c,g.pathnameBase]))}return d}function nd(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=c4(e.path,e.caseSensitive,e.end),o=r.match(s);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:n.reduce((f,{paramName:x,isOptional:g},v)=>{if(x==="*"){let j=u[v]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const b=u[v];return g&&!b?f[x]=void 0:f[x]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:c,pathnameBase:d,pattern:e}}function c4(e,r=!1,s=!0){jr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),n]}function d4(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return jr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function bs(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function u4(e,r="/"){let{pathname:s,search:n="",hash:o=""}=typeof e=="string"?di(e):e;return{pathname:s?s.startsWith("/")?s:m4(s,r):r,search:p4(n),hash:x4(o)}}function m4(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function jh(e,r,s,n){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h4(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function Wf(e){let r=h4(e);return r.map((s,n)=>n===r.length-1?s.pathname:s.pathnameBase)}function Kf(e,r,s,n=!1){let o;typeof e=="string"?o=di(e):(o={...e},Xe(!o.pathname||!o.pathname.includes("?"),jh("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),jh("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),jh("#","search","hash",o)));let c=e===""||o.pathname==="",d=c?"/":o.pathname,u;if(d==null)u=s;else{let g=r.length-1;if(!n&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),g-=1;o.pathname=v.join("/")}u=g>=0?r[g]:"/"}let h=u4(o,u),f=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(f||x)&&(h.pathname+="/"),h}var ys=e=>e.join("/").replace(/\/\/+/g,"/"),f4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function y4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var U1=["POST","PUT","PATCH","DELETE"];new Set(U1);var g4=["GET",...U1];new Set(g4);var ui=w.createContext(null);ui.displayName="DataRouter";var _d=w.createContext(null);_d.displayName="DataRouterState";var F1=w.createContext({isTransitioning:!1});F1.displayName="ViewTransition";var v4=w.createContext(new Map);v4.displayName="Fetchers";var b4=w.createContext(null);b4.displayName="Await";var Dr=w.createContext(null);Dr.displayName="Navigation";var Jo=w.createContext(null);Jo.displayName="Location";var Nr=w.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Xf=w.createContext(null);Xf.displayName="RouteError";function j4(e,{relative:r}={}){Xe(mi(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=w.useContext(Dr),{hash:o,pathname:c,search:d}=tl(e,{relative:r}),u=c;return s!=="/"&&(u=c==="/"?s:ys([s,c])),n.createHref({pathname:u,search:d,hash:o})}function mi(){return w.useContext(Jo)!=null}function Vt(){return Xe(mi(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Jo).location}var V1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H1(e){w.useContext(Dr).static||w.useLayoutEffect(e)}function Zt(){let{isDataRoute:e}=w.useContext(Nr);return e?M4():w4()}function w4(){Xe(mi(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(ui),{basename:r,navigator:s}=w.useContext(Dr),{matches:n}=w.useContext(Nr),{pathname:o}=Vt(),c=JSON.stringify(Wf(n)),d=w.useRef(!1);return H1(()=>{d.current=!0}),w.useCallback((h,f={})=>{if(jr(d.current,V1),!d.current)return;if(typeof h=="number"){s.go(h);return}let x=Kf(h,JSON.parse(c),o,f.relative==="path");e==null&&r!=="/"&&(x.pathname=x.pathname==="/"?r:ys([r,x.pathname])),(f.replace?s.replace:s.push)(x,f.state,f)},[r,s,c,o,e])}var N4=w.createContext(null);function C4(e){let r=w.useContext(Nr).outlet;return r&&w.createElement(N4.Provider,{value:e},r)}function el(){let{matches:e}=w.useContext(Nr),r=e[e.length-1];return r?r.params:{}}function tl(e,{relative:r}={}){let{matches:s}=w.useContext(Nr),{pathname:n}=Vt(),o=JSON.stringify(Wf(s));return w.useMemo(()=>Kf(e,JSON.parse(o),n,r==="path"),[e,o,n,r])}function S4(e,r){return q1(e,r)}function q1(e,r,s,n){var A;Xe(mi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=w.useContext(Dr),{matches:d}=w.useContext(Nr),u=d[d.length-1],h=u?u.params:{},f=u?u.pathname:"/",x=u?u.pathnameBase:"/",g=u&&u.route;{let R=g&&g.path||"";$1(f,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=Vt(),b;if(r){let R=typeof r=="string"?di(r):r;Xe(x==="/"||((A=R.pathname)==null?void 0:A.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${R.pathname}" was given in the \`location\` prop.`),b=R}else b=v;let j=b.pathname||"/",k=j;if(x!=="/"){let R=x.replace(/^\//,"").split("/");k="/"+j.replace(/^\//,"").split("/").slice(R.length).join("/")}let _=!c&&s&&s.matches&&s.matches.length>0?s.matches:z1(e,{pathname:k});jr(g||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),jr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=T4(_&&_.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:ys([x,o.encodeLocation?o.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?x:ys([x,o.encodeLocation?o.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),d,s,n);return r&&C?w.createElement(Jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function k4(){let e=L4(),r=y4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},c={padding:"2px 4px",backgroundColor:n},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:c},"ErrorBoundary")," or"," ",w.createElement("code",{style:c},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},r),s?w.createElement("pre",{style:o},s):null,d)}var _4=w.createElement(k4,null),A4=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Nr.Provider,{value:this.props.routeContext},w.createElement(Xf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E4({routeContext:e,match:r,children:s}){let n=w.useContext(ui);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Nr.Provider,{value:e},s)}function T4(e,r=[],s=null,n=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,c=s==null?void 0:s.errors;if(c!=null){let h=o.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);Xe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,u=-1;if(s)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:x,errors:g}=s,v=f.route.loader&&!x.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,x)=>{let g,v=!1,b=null,j=null;s&&(g=c&&f.route.id?c[f.route.id]:void 0,b=f.route.errorElement||_4,d&&(u<0&&x===0?($1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,j=null):u===x&&(v=!0,j=f.route.hydrateFallbackElement||null)));let k=r.concat(o.slice(0,x+1)),_=()=>{let C;return g?C=b:v?C=j:f.route.Component?C=w.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=h,w.createElement(E4,{match:f,routeContext:{outlet:h,matches:k,isDataRoute:s!=null},children:C})};return s&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?w.createElement(A4,{location:s.location,revalidation:s.revalidation,component:b,error:g,children:_(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):_()},null)}function Zf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R4(e){let r=w.useContext(ui);return Xe(r,Zf(e)),r}function D4(e){let r=w.useContext(_d);return Xe(r,Zf(e)),r}function O4(e){let r=w.useContext(Nr);return Xe(r,Zf(e)),r}function Qf(e){let r=O4(e),s=r.matches[r.matches.length-1];return Xe(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function P4(){return Qf("useRouteId")}function L4(){var n;let e=w.useContext(Xf),r=D4("useRouteError"),s=Qf("useRouteError");return e!==void 0?e:(n=r.errors)==null?void 0:n[s]}function M4(){let{router:e}=R4("useNavigate"),r=Qf("useNavigate"),s=w.useRef(!1);return H1(()=>{s.current=!0}),w.useCallback(async(o,c={})=>{jr(s.current,V1),s.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:r,...c}))},[e,r])}var xb={};function $1(e,r,s){!r&&!xb[e]&&(xb[e]=!0,jr(!1,s))}w.memo(z4);function z4({routes:e,future:r,state:s}){return q1(e,void 0,s,r)}function Rt({to:e,replace:r,state:s,relative:n}){Xe(mi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(Dr);jr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=w.useContext(Nr),{pathname:d}=Vt(),u=Zt(),h=Kf(e,Wf(c),d,n==="path"),f=JSON.stringify(h);return w.useEffect(()=>{u(JSON.parse(f),{replace:r,state:s,relative:n})},[u,f,n,r,s]),null}function Jf(e){return C4(e.context)}function _e(e){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function I4({basename:e="/",children:r=null,location:s,navigationType:n="POP",navigator:o,static:c=!1}){Xe(!mi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof s=="string"&&(s=di(s));let{pathname:h="/",search:f="",hash:x="",state:g=null,key:v="default"}=s,b=w.useMemo(()=>{let j=bs(h,d);return j==null?null:{location:{pathname:j,search:f,hash:x,state:g,key:v},navigationType:n}},[d,h,f,x,g,v,n]);return jr(b!=null,`<Router basename="${d}"> is not able to match the URL "${h}${f}${x}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:w.createElement(Dr.Provider,{value:u},w.createElement(Jo.Provider,{children:r,value:b}))}function B4({children:e,location:r}){return S4(ef(e),r)}function ef(e,r=[]){let s=[];return w.Children.forEach(e,(n,o)=>{if(!w.isValidElement(n))return;let c=[...r,o];if(n.type===w.Fragment){s.push.apply(s,ef(n.props.children,c));return}Xe(n.type===_e,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let d={id:n.props.id||c.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(d.children=ef(n.props.children,c)),s.push(d)}),s}var $c="get",Gc="application/x-www-form-urlencoded";function Ad(e){return e!=null&&typeof e.tagName=="string"}function U4(e){return Ad(e)&&e.tagName.toLowerCase()==="button"}function F4(e){return Ad(e)&&e.tagName.toLowerCase()==="form"}function V4(e){return Ad(e)&&e.tagName.toLowerCase()==="input"}function H4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function q4(e,r){return e.button===0&&(!r||r==="_self")&&!H4(e)}function tf(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,s)=>{let n=e[s];return r.concat(Array.isArray(n)?n.map(o=>[s,o]):[[s,n]])},[]))}function $4(e,r){let s=tf(e);return r&&r.forEach((n,o)=>{s.has(o)||r.getAll(o).forEach(c=>{s.append(o,c)})}),s}var Pc=null;function G4(){if(Pc===null)try{new FormData(document.createElement("form"),0),Pc=!1}catch{Pc=!0}return Pc}var Y4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wh(e){return e!=null&&!Y4.has(e)?(jr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gc}"`),null):e}function W4(e,r){let s,n,o,c,d;if(F4(e)){let u=e.getAttribute("action");n=u?bs(u,r):null,s=e.getAttribute("method")||$c,o=wh(e.getAttribute("enctype"))||Gc,c=new FormData(e)}else if(U4(e)||V4(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||u.getAttribute("action");if(n=h?bs(h,r):null,s=e.getAttribute("formmethod")||u.getAttribute("method")||$c,o=wh(e.getAttribute("formenctype"))||wh(u.getAttribute("enctype"))||Gc,c=new FormData(u,e),!G4()){let{name:f,type:x,value:g}=e;if(x==="image"){let v=f?`${f}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else f&&c.append(f,g)}}else{if(Ad(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=$c,n=null,o=Gc,d=e}return c&&o==="text/plain"&&(d=c,c=void 0),{action:n,method:s.toLowerCase(),encType:o,formData:c,body:d}}function ep(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}async function K4(e,r){if(e.id in r)return r[e.id];try{let s=await import(e.module);return r[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Z4(e,r,s){let n=await Promise.all(e.map(async o=>{let c=r.routes[o.route.id];if(c){let d=await K4(c,s);return d.links?d.links():[]}return[]}));return tk(n.flat(1).filter(X4).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yb(e,r,s,n,o,c){let d=(h,f)=>s[f]?h.route.id!==s[f].route.id:!0,u=(h,f)=>{var x;return s[f].pathname!==h.pathname||((x=s[f].route.path)==null?void 0:x.endsWith("*"))&&s[f].params["*"]!==h.params["*"]};return c==="assets"?r.filter((h,f)=>d(h,f)||u(h,f)):c==="data"?r.filter((h,f)=>{var g;let x=n.routes[h.route.id];if(!x||!x.hasLoader)return!1;if(d(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((g=s[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Q4(e,r,{includeHydrateFallback:s}={}){return J4(e.map(n=>{let o=r.routes[n.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function J4(e){return[...new Set(e)]}function ek(e){let r={},s=Object.keys(e).sort();for(let n of s)r[n]=e[n];return r}function tk(e,r){let s=new Set;return new Set(r),e.reduce((n,o)=>{let c=JSON.stringify(ek(o));return s.has(c)||(s.add(c),n.push({key:c,link:o})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rk=new Set([100,101,204,205]);function sk(e,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname="_root.data":r&&bs(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function G1(){let e=w.useContext(ui);return ep(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ak(){let e=w.useContext(_d);return ep(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tp=w.createContext(void 0);tp.displayName="FrameworkContext";function Y1(){let e=w.useContext(tp);return ep(e,"You must render this element inside a <HydratedRouter> element"),e}function nk(e,r){let s=w.useContext(tp),[n,o]=w.useState(!1),[c,d]=w.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:x,onTouchStart:g}=r,v=w.useRef(null);w.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let k=C=>{C.forEach(A=>{d(A.isIntersecting)})},_=new IntersectionObserver(k,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[e]),w.useEffect(()=>{if(n){let k=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(k)}}},[n]);let b=()=>{o(!0)},j=()=>{o(!1),d(!1)};return s?e!=="intent"?[c,v,{}]:[c,v,{onFocus:So(u,b),onBlur:So(h,j),onMouseEnter:So(f,b),onMouseLeave:So(x,j),onTouchStart:So(g,b)}]:[!1,v,{}]}function So(e,r){return s=>{e&&e(s),s.defaultPrevented||r(s)}}function ik({page:e,...r}){let{router:s}=G1(),n=w.useMemo(()=>z1(s.routes,e,s.basename),[s.routes,e,s.basename]);return n?w.createElement(lk,{page:e,matches:n,...r}):null}function ok(e){let{manifest:r,routeModules:s}=Y1(),[n,o]=w.useState([]);return w.useEffect(()=>{let c=!1;return Z4(e,r,s).then(d=>{c||o(d)}),()=>{c=!0}},[e,r,s]),n}function lk({page:e,matches:r,...s}){let n=Vt(),{manifest:o,routeModules:c}=Y1(),{basename:d}=G1(),{loaderData:u,matches:h}=ak(),f=w.useMemo(()=>yb(e,r,h,o,n,"data"),[e,r,h,o,n]),x=w.useMemo(()=>yb(e,r,h,o,n,"assets"),[e,r,h,o,n]),g=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let j=new Set,k=!1;if(r.forEach(C=>{var R;let A=o.routes[C.route.id];!A||!A.hasLoader||(!f.some(S=>S.route.id===C.route.id)&&C.route.id in u&&((R=c[C.route.id])!=null&&R.shouldRevalidate)||A.hasClientLoader?k=!0:j.add(C.route.id))}),j.size===0)return[];let _=sk(e,d);return k&&j.size>0&&_.searchParams.set("_routes",r.filter(C=>j.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[d,u,n,o,f,r,e,c]),v=w.useMemo(()=>Q4(x,o),[x,o]),b=ok(x);return w.createElement(w.Fragment,null,g.map(j=>w.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),v.map(j=>w.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),b.map(({key:j,link:k})=>w.createElement("link",{key:j,...k})))}function ck(...e){return r=>{e.forEach(s=>{typeof s=="function"?s(r):s!=null&&(s.current=r)})}}var W1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W1&&(window.__reactRouterVersion="7.6.0")}catch{}function dk({basename:e,children:r,window:s}){let n=w.useRef();n.current==null&&(n.current=WS({window:s,v5Compat:!0}));let o=n.current,[c,d]=w.useState({action:o.action,location:o.location}),u=w.useCallback(h=>{w.startTransition(()=>d(h))},[d]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.createElement(I4,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:o})}var K1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pe=w.forwardRef(function({onClick:r,discover:s="render",prefetch:n="none",relative:o,reloadDocument:c,replace:d,state:u,target:h,to:f,preventScrollReset:x,viewTransition:g,...v},b){let{basename:j}=w.useContext(Dr),k=typeof f=="string"&&K1.test(f),_,C=!1;if(typeof f=="string"&&k&&(_=f,W1))try{let V=new URL(window.location.href),M=f.startsWith("//")?new URL(V.protocol+f):new URL(f),ae=bs(M.pathname,j);M.origin===V.origin&&ae!=null?f=ae+M.search+M.hash:C=!0}catch{jr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=j4(f,{relative:o}),[R,S,T]=nk(n,v),P=fk(f,{replace:d,state:u,target:h,preventScrollReset:x,relative:o,viewTransition:g});function q(V){r&&r(V),V.defaultPrevented||P(V)}let U=w.createElement("a",{...v,...T,href:_||A,onClick:C||c?r:q,ref:ck(b,S),target:h,"data-discover":!k&&s==="render"?"true":void 0});return R&&!k?w.createElement(w.Fragment,null,U,w.createElement(ik,{page:A})):U});pe.displayName="Link";var uk=w.forwardRef(function({"aria-current":r="page",caseSensitive:s=!1,className:n="",end:o=!1,style:c,to:d,viewTransition:u,children:h,...f},x){let g=tl(d,{relative:f.relative}),v=Vt(),b=w.useContext(_d),{navigator:j,basename:k}=w.useContext(Dr),_=b!=null&&bk(g)&&u===!0,C=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,A=v.pathname,R=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(A=A.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&k&&(R=bs(R,k)||R);const S=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=A===C||!o&&A.startsWith(C)&&A.charAt(S)==="/",P=R!=null&&(R===C||!o&&R.startsWith(C)&&R.charAt(C.length)==="/"),q={isActive:T,isPending:P,isTransitioning:_},U=T?r:void 0,V;typeof n=="function"?V=n(q):V=[n,T?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(q):c;return w.createElement(pe,{...f,"aria-current":U,className:V,ref:x,style:M,to:d,viewTransition:u},typeof h=="function"?h(q):h)});uk.displayName="NavLink";var mk=w.forwardRef(({discover:e="render",fetcherKey:r,navigate:s,reloadDocument:n,replace:o,state:c,method:d=$c,action:u,onSubmit:h,relative:f,preventScrollReset:x,viewTransition:g,...v},b)=>{let j=gk(),k=vk(u,{relative:f}),_=d.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&K1.test(u),A=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let S=R.nativeEvent.submitter,T=(S==null?void 0:S.getAttribute("formmethod"))||d;j(S||R.currentTarget,{fetcherKey:r,method:T,navigate:s,replace:o,state:c,relative:f,preventScrollReset:x,viewTransition:g})};return w.createElement("form",{ref:b,method:_,action:k,onSubmit:n?h:A,...v,"data-discover":!C&&e==="render"?"true":void 0})});mk.displayName="Form";function hk(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X1(e){let r=w.useContext(ui);return Xe(r,hk(e)),r}function fk(e,{target:r,replace:s,state:n,preventScrollReset:o,relative:c,viewTransition:d}={}){let u=Zt(),h=Vt(),f=tl(e,{relative:c});return w.useCallback(x=>{if(q4(x,r)){x.preventDefault();let g=s!==void 0?s:Uo(h)===Uo(f);u(e,{replace:g,state:n,preventScrollReset:o,relative:c,viewTransition:d})}},[h,u,f,s,n,r,e,o,c,d])}function pk(e){jr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=w.useRef(tf(e)),s=w.useRef(!1),n=Vt(),o=w.useMemo(()=>$4(n.search,s.current?null:r.current),[n.search]),c=Zt(),d=w.useCallback((u,h)=>{const f=tf(typeof u=="function"?u(o):u);s.current=!0,c("?"+f,h)},[c,o]);return[o,d]}var xk=0,yk=()=>`__${String(++xk)}__`;function gk(){let{router:e}=X1("useSubmit"),{basename:r}=w.useContext(Dr),s=P4();return w.useCallback(async(n,o={})=>{let{action:c,method:d,encType:u,formData:h,body:f}=W4(n,r);if(o.navigate===!1){let x=o.fetcherKey||yk();await e.fetch(x,s,o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||d,formEncType:o.encType||u,flushSync:o.flushSync})}else await e.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||d,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,r,s])}function vk(e,{relative:r}={}){let{basename:s}=w.useContext(Dr),n=w.useContext(Nr);Xe(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),c={...tl(e||".",{relative:r})},d=Vt();if(e==null){c.search=d.search;let u=new URLSearchParams(c.search),h=u.getAll("index");if(h.some(x=>x==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let x=u.toString();c.search=x?`?${x}`:""}}return(!e||e===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:ys([s,c.pathname])),Uo(c)}function bk(e,r={}){let s=w.useContext(F1);Xe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=X1("useViewTransitionState"),o=tl(e,{relative:r.relative});if(!s.isTransitioning)return!1;let c=bs(s.currentLocation.pathname,n)||s.currentLocation.pathname,d=bs(s.nextLocation.pathname,n)||s.nextLocation.pathname;return nd(o.pathname,d)!=null||nd(o.pathname,c)!=null}[...rk];let jk={data:""},wk=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||jk,Nk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ck=/\/\*[^]*?\*\/|  +/g,gb=/\n+/g,ia=(e,r)=>{let s="",n="",o="";for(let c in e){let d=e[c];c[0]=="@"?c[1]=="i"?s=c+" "+d+";":n+=c[1]=="f"?ia(d,c):c+"{"+ia(d,c[1]=="k"?"":r)+"}":typeof d=="object"?n+=ia(d,r?r.replace(/([^,])+/g,u=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):c):d!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ia.p?ia.p(c,d):c+":"+d+";")}return s+(r&&o?r+"{"+o+"}":o)+n},us={},Z1=e=>{if(typeof e=="object"){let r="";for(let s in e)r+=s+Z1(e[s]);return r}return e},Sk=(e,r,s,n,o)=>{let c=Z1(e),d=us[c]||(us[c]=(h=>{let f=0,x=11;for(;f<h.length;)x=101*x+h.charCodeAt(f++)>>>0;return"go"+x})(c));if(!us[d]){let h=c!==e?e:(f=>{let x,g,v=[{}];for(;x=Nk.exec(f.replace(Ck,""));)x[4]?v.shift():x[3]?(g=x[3].replace(gb," ").trim(),v.unshift(v[0][g]=v[0][g]||{})):v[0][x[1]]=x[2].replace(gb," ").trim();return v[0]})(e);us[d]=ia(o?{["@keyframes "+d]:h}:h,s?"":"."+d)}let u=s&&us.g?us.g:null;return s&&(us.g=us[d]),((h,f,x,g)=>{g?f.data=f.data.replace(g,h):f.data.indexOf(h)===-1&&(f.data=x?h+f.data:f.data+h)})(us[d],r,n,u),d},kk=(e,r,s)=>e.reduce((n,o,c)=>{let d=r[c];if(d&&d.call){let u=d(s),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;d=h?"."+h:u&&typeof u=="object"?u.props?"":ia(u,""):u===!1?"":u}return n+o+(d??"")},"");function Ed(e){let r=this||{},s=e.call?e(r.p):e;return Sk(s.unshift?s.raw?kk(s,[].slice.call(arguments,1),r.p):s.reduce((n,o)=>Object.assign(n,o&&o.call?o(r.p):o),{}):s,wk(r.target),r.g,r.o,r.k)}let Q1,rf,sf;Ed.bind({g:1});let js=Ed.bind({k:1});function _k(e,r,s,n){ia.p=r,Q1=e,rf=s,sf=n}function ya(e,r){let s=this||{};return function(){let n=arguments;function o(c,d){let u=Object.assign({},c),h=u.className||o.className;s.p=Object.assign({theme:rf&&rf()},u),s.o=/ *go\d+/.test(h),u.className=Ed.apply(s,n)+(h?" "+h:"");let f=e;return e[0]&&(f=u.as||e,delete u.as),sf&&f[0]&&sf(u),Q1(f,u)}return o}}var Ak=e=>typeof e=="function",id=(e,r)=>Ak(e)?e(r):e,Ek=(()=>{let e=0;return()=>(++e).toString()})(),J1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");e=!r||r.matches}return e}})(),Tk=20,ej=(e,r)=>{switch(r.type){case 0:return{...e,toasts:[r.toast,...e.toasts].slice(0,Tk)};case 1:return{...e,toasts:e.toasts.map(c=>c.id===r.toast.id?{...c,...r.toast}:c)};case 2:let{toast:s}=r;return ej(e,{type:e.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=r;return{...e,toasts:e.toasts.map(c=>c.id===n||n===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(c=>c.id!==r.toastId)};case 5:return{...e,pausedAt:r.time};case 6:let o=r.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+o}))}}},Yc=[],$a={toasts:[],pausedAt:void 0},on=e=>{$a=ej($a,e),Yc.forEach(r=>{r($a)})},Rk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Dk=(e={})=>{let[r,s]=w.useState($a),n=w.useRef($a);w.useEffect(()=>(n.current!==$a&&s($a),Yc.push(s),()=>{let c=Yc.indexOf(s);c>-1&&Yc.splice(c,1)}),[]);let o=r.toasts.map(c=>{var d,u,h;return{...e,...e[c.type],...c,removeDelay:c.removeDelay||((d=e[c.type])==null?void 0:d.removeDelay)||(e==null?void 0:e.removeDelay),duration:c.duration||((u=e[c.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||Rk[c.type],style:{...e.style,...(h=e[c.type])==null?void 0:h.style,...c.style}}});return{...r,toasts:o}},Ok=(e,r="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Ek()}),rl=e=>(r,s)=>{let n=Ok(r,e,s);return on({type:2,toast:n}),n.id},Ve=(e,r)=>rl("blank")(e,r);Ve.error=rl("error");Ve.success=rl("success");Ve.loading=rl("loading");Ve.custom=rl("custom");Ve.dismiss=e=>{on({type:3,toastId:e})};Ve.remove=e=>on({type:4,toastId:e});Ve.promise=(e,r,s)=>{let n=Ve.loading(r.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let c=r.success?id(r.success,o):void 0;return c?Ve.success(c,{id:n,...s,...s==null?void 0:s.success}):Ve.dismiss(n),o}).catch(o=>{let c=r.error?id(r.error,o):void 0;c?Ve.error(c,{id:n,...s,...s==null?void 0:s.error}):Ve.dismiss(n)}),e};var Pk=(e,r)=>{on({type:1,toast:{id:e,height:r}})},Lk=()=>{on({type:5,time:Date.now()})},Ro=new Map,Mk=1e3,zk=(e,r=Mk)=>{if(Ro.has(e))return;let s=setTimeout(()=>{Ro.delete(e),on({type:4,toastId:e})},r);Ro.set(e,s)},Ik=e=>{let{toasts:r,pausedAt:s}=Dk(e);w.useEffect(()=>{if(s)return;let c=Date.now(),d=r.map(u=>{if(u.duration===1/0)return;let h=(u.duration||0)+u.pauseDuration-(c-u.createdAt);if(h<0){u.visible&&Ve.dismiss(u.id);return}return setTimeout(()=>Ve.dismiss(u.id),h)});return()=>{d.forEach(u=>u&&clearTimeout(u))}},[r,s]);let n=w.useCallback(()=>{s&&on({type:6,time:Date.now()})},[s]),o=w.useCallback((c,d)=>{let{reverseOrder:u=!1,gutter:h=8,defaultPosition:f}=d||{},x=r.filter(b=>(b.position||f)===(c.position||f)&&b.height),g=x.findIndex(b=>b.id===c.id),v=x.filter((b,j)=>j<g&&b.visible).length;return x.filter(b=>b.visible).slice(...u?[v+1]:[0,v]).reduce((b,j)=>b+(j.height||0)+h,0)},[r]);return w.useEffect(()=>{r.forEach(c=>{if(c.dismissed)zk(c.id,c.removeDelay);else{let d=Ro.get(c.id);d&&(clearTimeout(d),Ro.delete(c.id))}})},[r]),{toasts:r,handlers:{updateHeight:Pk,startPause:Lk,endPause:n,calculateOffset:o}}},Bk=js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Uk=js`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Fk=js`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Vk=ya("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Bk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Uk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Fk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Hk=js`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qk=ya("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Hk} 1s linear infinite;
`,$k=js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Gk=js`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Yk=ya("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$k} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Gk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Wk=ya("div")`
  position: absolute;
`,Kk=ya("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Xk=js`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Zk=ya("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Xk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Qk=({toast:e})=>{let{icon:r,type:s,iconTheme:n}=e;return r!==void 0?typeof r=="string"?w.createElement(Zk,null,r):r:s==="blank"?null:w.createElement(Kk,null,w.createElement(qk,{...n}),s!=="loading"&&w.createElement(Wk,null,s==="error"?w.createElement(Vk,{...n}):w.createElement(Yk,{...n})))},Jk=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,e3=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,t3="0%{opacity:0;} 100%{opacity:1;}",r3="0%{opacity:1;} 100%{opacity:0;}",s3=ya("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,a3=ya("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,n3=(e,r)=>{let s=e.includes("top")?1:-1,[n,o]=J1()?[t3,r3]:[Jk(s),e3(s)];return{animation:r?`${js(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${js(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},i3=w.memo(({toast:e,position:r,style:s,children:n})=>{let o=e.height?n3(e.position||r||"top-center",e.visible):{opacity:0},c=w.createElement(Qk,{toast:e}),d=w.createElement(a3,{...e.ariaProps},id(e.message,e));return w.createElement(s3,{className:e.className,style:{...o,...s,...e.style}},typeof n=="function"?n({icon:c,message:d}):w.createElement(w.Fragment,null,c,d))});_k(w.createElement);var o3=({id:e,className:r,style:s,onHeightUpdate:n,children:o})=>{let c=w.useCallback(d=>{if(d){let u=()=>{let h=d.getBoundingClientRect().height;n(e,h)};u(),new MutationObserver(u).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return w.createElement("div",{ref:c,className:r,style:s},o)},l3=(e,r)=>{let s=e.includes("top"),n=s?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:J1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(s?1:-1)}px)`,...n,...o}},c3=Ed`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lc=16,d3=({reverseOrder:e,position:r="top-center",toastOptions:s,gutter:n,children:o,containerStyle:c,containerClassName:d})=>{let{toasts:u,handlers:h}=Ik(s);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Lc,left:Lc,right:Lc,bottom:Lc,pointerEvents:"none",...c},className:d,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(f=>{let x=f.position||r,g=h.calculateOffset(f,{reverseOrder:e,gutter:n,defaultPosition:r}),v=l3(x,g);return w.createElement(o3,{id:f.id,key:f.id,onHeightUpdate:h.updateHeight,className:f.visible?c3:"",style:v},f.type==="custom"?id(f.message,f):o?o(f):w.createElement(i3,{toast:f,position:x}))}))},ye=Ve;const vb=e=>{let r;const s=new Set,n=(f,x)=>{const g=typeof f=="function"?f(r):f;if(!Object.is(g,r)){const v=r;r=x??(typeof g!="object"||g===null)?g:Object.assign({},r,g),s.forEach(b=>b(r,v))}},o=()=>r,u={setState:n,getState:o,getInitialState:()=>h,subscribe:f=>(s.add(f),()=>s.delete(f))},h=r=e(n,o,u);return u},u3=e=>e?vb(e):vb,m3=e=>e;function h3(e,r=m3){const s=Me.useSyncExternalStore(e.subscribe,()=>r(e.getState()),()=>r(e.getInitialState()));return Me.useDebugValue(s),s}const bb=e=>{const r=u3(e),s=n=>h3(r,n);return Object.assign(s,r),s},_t=e=>e?bb(e):bb,jb={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},af=new Map,Mc=e=>{const r=af.get(e);return r?Object.fromEntries(Object.entries(r.stores).map(([s,n])=>[s,n.getState()])):{}},f3=(e,r,s)=>{if(e===void 0)return{type:"untracked",connection:r.connect(s)};const n=af.get(s.name);if(n)return{type:"tracked",store:e,...n};const o={connection:r.connect(s),stores:{}};return af.set(s.name,o),{type:"tracked",store:e,...o}},p3=(e,r={})=>(s,n,o)=>{const{enabled:c,anonymousActionType:d,store:u,...h}=r;let f;try{f=(c??(jb?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!f)return e(s,n,o);const{connection:x,...g}=f3(u,f,h);let v=!0;o.setState=(k,_,C)=>{const A=s(k,_);if(!v)return A;const R=C===void 0?{type:d||"anonymous"}:typeof C=="string"?{type:C}:C;return u===void 0?(x==null||x.send(R,n()),A):(x==null||x.send({...R,type:`${u}/${R.type}`},{...Mc(h.name),[u]:o.getState()}),A)};const b=(...k)=>{const _=v;v=!1,s(...k),v=_},j=e(o.setState,n,o);if(g.type==="untracked"?x==null||x.init(j):(g.stores[g.store]=o,x==null||x.init(Object.fromEntries(Object.entries(g.stores).map(([k,_])=>[k,k===g.store?j:_.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let k=!1;const _=o.dispatch;o.dispatch=(...C)=>{(jb?"production":void 0)!=="production"&&C[0].type==="__setState"&&!k&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),k=!0),_(...C)}}return x.subscribe(k=>{var _;switch(k.type){case"ACTION":if(typeof k.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Nh(k.payload,C=>{if(C.type==="__setState"){if(u===void 0){b(C.state);return}Object.keys(C.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const A=C.state[u];if(A==null)return;JSON.stringify(o.getState())!==JSON.stringify(A)&&b(A);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(C)});case"DISPATCH":switch(k.payload.type){case"RESET":return b(j),u===void 0?x==null?void 0:x.init(o.getState()):x==null?void 0:x.init(Mc(h.name));case"COMMIT":if(u===void 0){x==null||x.init(o.getState());return}return x==null?void 0:x.init(Mc(h.name));case"ROLLBACK":return Nh(k.state,C=>{if(u===void 0){b(C),x==null||x.init(o.getState());return}b(C[u]),x==null||x.init(Mc(h.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Nh(k.state,C=>{if(u===void 0){b(C);return}JSON.stringify(o.getState())!==JSON.stringify(C[u])&&b(C[u])});case"IMPORT_STATE":{const{nextLiftedState:C}=k.payload,A=(_=C.computedStates.slice(-1)[0])==null?void 0:_.state;if(!A)return;b(u===void 0?A:A[u]),x==null||x.send(null,C);return}case"PAUSE_RECORDING":return v=!v}return}}),j},Td=p3,Nh=(e,r)=>{let s;try{s=JSON.parse(e)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}s!==void 0&&r(s)};function x3(e,r){let s;try{s=e()}catch{return}return{getItem:o=>{var c;const d=h=>h===null?null:JSON.parse(h,void 0),u=(c=s.getItem(o))!=null?c:null;return u instanceof Promise?u.then(d):d(u)},setItem:(o,c)=>s.setItem(o,JSON.stringify(c,void 0)),removeItem:o=>s.removeItem(o)}}const nf=e=>r=>{try{const s=e(r);return s instanceof Promise?s:{then(n){return nf(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return nf(n)(s)}}}},y3=(e,r)=>(s,n,o)=>{let c={storage:x3(()=>localStorage),partialize:k=>k,version:0,merge:(k,_)=>({..._,...k}),...r},d=!1;const u=new Set,h=new Set;let f=c.storage;if(!f)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),s(...k)},n,o);const x=()=>{const k=c.partialize({...n()});return f.setItem(c.name,{state:k,version:c.version})},g=o.setState;o.setState=(k,_)=>{g(k,_),x()};const v=e((...k)=>{s(...k),x()},n,o);o.getInitialState=()=>v;let b;const j=()=>{var k,_;if(!f)return;d=!1,u.forEach(A=>{var R;return A((R=n())!=null?R:v)});const C=((_=c.onRehydrateStorage)==null?void 0:_.call(c,(k=n())!=null?k:v))||void 0;return nf(f.getItem.bind(f))(c.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==c.version){if(c.migrate){const R=c.migrate(A.state,A.version);return R instanceof Promise?R.then(S=>[!0,S]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var R;const[S,T]=A;if(b=c.merge(T,(R=n())!=null?R:v),s(b,!0),S)return x()}).then(()=>{C==null||C(b,void 0),b=n(),d=!0,h.forEach(A=>A(b))}).catch(A=>{C==null||C(void 0,A)})};return o.persist={setOptions:k=>{c={...c,...k},k.storage&&(f=k.storage)},clearStorage:()=>{f==null||f.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>j(),hasHydrated:()=>d,onHydrate:k=>(u.add(k),()=>{u.delete(k)}),onFinishHydration:k=>(h.add(k),()=>{h.delete(k)})},c.skipHydration||j(),b||v},tj=y3;function rj(e,r){return function(){return e.apply(r,arguments)}}const{toString:g3}=Object.prototype,{getPrototypeOf:rp}=Object,{iterator:Rd,toStringTag:sj}=Symbol,Dd=(e=>r=>{const s=g3.call(r);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Or=e=>(e=e.toLowerCase(),r=>Dd(r)===e),Od=e=>r=>typeof r===e,{isArray:hi}=Array,Fo=Od("undefined");function v3(e){return e!==null&&!Fo(e)&&e.constructor!==null&&!Fo(e.constructor)&&Kt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const aj=Or("ArrayBuffer");function b3(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&aj(e.buffer),r}const j3=Od("string"),Kt=Od("function"),nj=Od("number"),Pd=e=>e!==null&&typeof e=="object",w3=e=>e===!0||e===!1,Wc=e=>{if(Dd(e)!=="object")return!1;const r=rp(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(sj in e)&&!(Rd in e)},N3=Or("Date"),C3=Or("File"),S3=Or("Blob"),k3=Or("FileList"),_3=e=>Pd(e)&&Kt(e.pipe),A3=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Kt(e.append)&&((r=Dd(e))==="formdata"||r==="object"&&Kt(e.toString)&&e.toString()==="[object FormData]"))},E3=Or("URLSearchParams"),[T3,R3,D3,O3]=["ReadableStream","Request","Response","Headers"].map(Or),P3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sl(e,r,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),hi(e))for(n=0,o=e.length;n<o;n++)r.call(null,e[n],n,e);else{const c=s?Object.getOwnPropertyNames(e):Object.keys(e),d=c.length;let u;for(n=0;n<d;n++)u=c[n],r.call(null,e[u],u,e)}}function ij(e,r){r=r.toLowerCase();const s=Object.keys(e);let n=s.length,o;for(;n-- >0;)if(o=s[n],r===o.toLowerCase())return o;return null}const Ga=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oj=e=>!Fo(e)&&e!==Ga;function of(){const{caseless:e}=oj(this)&&this||{},r={},s=(n,o)=>{const c=e&&ij(r,o)||o;Wc(r[c])&&Wc(n)?r[c]=of(r[c],n):Wc(n)?r[c]=of({},n):hi(n)?r[c]=n.slice():r[c]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&sl(arguments[n],s);return r}const L3=(e,r,s,{allOwnKeys:n}={})=>(sl(r,(o,c)=>{s&&Kt(o)?e[c]=rj(o,s):e[c]=o},{allOwnKeys:n}),e),M3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),z3=(e,r,s,n)=>{e.prototype=Object.create(r.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),s&&Object.assign(e.prototype,s)},I3=(e,r,s,n)=>{let o,c,d;const u={};if(r=r||{},e==null)return r;do{for(o=Object.getOwnPropertyNames(e),c=o.length;c-- >0;)d=o[c],(!n||n(d,e,r))&&!u[d]&&(r[d]=e[d],u[d]=!0);e=s!==!1&&rp(e)}while(e&&(!s||s(e,r))&&e!==Object.prototype);return r},B3=(e,r,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=r.length;const n=e.indexOf(r,s);return n!==-1&&n===s},U3=e=>{if(!e)return null;if(hi(e))return e;let r=e.length;if(!nj(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=e[r];return s},F3=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&rp(Uint8Array)),V3=(e,r)=>{const n=(e&&e[Rd]).call(e);let o;for(;(o=n.next())&&!o.done;){const c=o.value;r.call(e,c[0],c[1])}},H3=(e,r)=>{let s;const n=[];for(;(s=e.exec(r))!==null;)n.push(s);return n},q3=Or("HTMLFormElement"),$3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,o){return n.toUpperCase()+o}),wb=(({hasOwnProperty:e})=>(r,s)=>e.call(r,s))(Object.prototype),G3=Or("RegExp"),lj=(e,r)=>{const s=Object.getOwnPropertyDescriptors(e),n={};sl(s,(o,c)=>{let d;(d=r(o,c,e))!==!1&&(n[c]=d||o)}),Object.defineProperties(e,n)},Y3=e=>{lj(e,(r,s)=>{if(Kt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(Kt(n)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},W3=(e,r)=>{const s={},n=o=>{o.forEach(c=>{s[c]=!0})};return hi(e)?n(e):n(String(e).split(r)),s},K3=()=>{},X3=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function Z3(e){return!!(e&&Kt(e.append)&&e[sj]==="FormData"&&e[Rd])}const Q3=e=>{const r=new Array(10),s=(n,o)=>{if(Pd(n)){if(r.indexOf(n)>=0)return;if(!("toJSON"in n)){r[o]=n;const c=hi(n)?[]:{};return sl(n,(d,u)=>{const h=s(d,o+1);!Fo(h)&&(c[u]=h)}),r[o]=void 0,c}}return n};return s(e,0)},J3=Or("AsyncFunction"),e_=e=>e&&(Pd(e)||Kt(e))&&Kt(e.then)&&Kt(e.catch),cj=((e,r)=>e?setImmediate:r?((s,n)=>(Ga.addEventListener("message",({source:o,data:c})=>{o===Ga&&c===s&&n.length&&n.shift()()},!1),o=>{n.push(o),Ga.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Kt(Ga.postMessage)),t_=typeof queueMicrotask<"u"?queueMicrotask.bind(Ga):typeof process<"u"&&process.nextTick||cj,r_=e=>e!=null&&Kt(e[Rd]),Q={isArray:hi,isArrayBuffer:aj,isBuffer:v3,isFormData:A3,isArrayBufferView:b3,isString:j3,isNumber:nj,isBoolean:w3,isObject:Pd,isPlainObject:Wc,isReadableStream:T3,isRequest:R3,isResponse:D3,isHeaders:O3,isUndefined:Fo,isDate:N3,isFile:C3,isBlob:S3,isRegExp:G3,isFunction:Kt,isStream:_3,isURLSearchParams:E3,isTypedArray:F3,isFileList:k3,forEach:sl,merge:of,extend:L3,trim:P3,stripBOM:M3,inherits:z3,toFlatObject:I3,kindOf:Dd,kindOfTest:Or,endsWith:B3,toArray:U3,forEachEntry:V3,matchAll:H3,isHTMLForm:q3,hasOwnProperty:wb,hasOwnProp:wb,reduceDescriptors:lj,freezeMethods:Y3,toObjectSet:W3,toCamelCase:$3,noop:K3,toFiniteNumber:X3,findKey:ij,global:Ga,isContextDefined:oj,isSpecCompliantForm:Z3,toJSONObject:Q3,isAsyncFn:J3,isThenable:e_,setImmediate:cj,asap:t_,isIterable:r_};function Se(e,r,s,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const dj=Se.prototype,uj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{uj[e]={value:e}});Object.defineProperties(Se,uj);Object.defineProperty(dj,"isAxiosError",{value:!0});Se.from=(e,r,s,n,o,c)=>{const d=Object.create(dj);return Q.toFlatObject(e,d,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),Se.call(d,e.message,r,s,n,o),d.cause=e,d.name=e.name,c&&Object.assign(d,c),d};const s_=null;function lf(e){return Q.isPlainObject(e)||Q.isArray(e)}function mj(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function Nb(e,r,s){return e?e.concat(r).map(function(o,c){return o=mj(o),!s&&c?"["+o+"]":o}).join(s?".":""):r}function a_(e){return Q.isArray(e)&&!e.some(lf)}const n_=Q.toFlatObject(Q,{},null,function(r){return/^is[A-Z]/.test(r)});function Ld(e,r,s){if(!Q.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,s=Q.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,_){return!Q.isUndefined(_[k])});const n=s.metaTokens,o=s.visitor||x,c=s.dots,d=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(r);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function f(j){if(j===null)return"";if(Q.isDate(j))return j.toISOString();if(!h&&Q.isBlob(j))throw new Se("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(j)||Q.isTypedArray(j)?h&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function x(j,k,_){let C=j;if(j&&!_&&typeof j=="object"){if(Q.endsWith(k,"{}"))k=n?k:k.slice(0,-2),j=JSON.stringify(j);else if(Q.isArray(j)&&a_(j)||(Q.isFileList(j)||Q.endsWith(k,"[]"))&&(C=Q.toArray(j)))return k=mj(k),C.forEach(function(R,S){!(Q.isUndefined(R)||R===null)&&r.append(d===!0?Nb([k],S,c):d===null?k:k+"[]",f(R))}),!1}return lf(j)?!0:(r.append(Nb(_,k,c),f(j)),!1)}const g=[],v=Object.assign(n_,{defaultVisitor:x,convertValue:f,isVisitable:lf});function b(j,k){if(!Q.isUndefined(j)){if(g.indexOf(j)!==-1)throw Error("Circular reference detected in "+k.join("."));g.push(j),Q.forEach(j,function(C,A){(!(Q.isUndefined(C)||C===null)&&o.call(r,C,Q.isString(A)?A.trim():A,k,v))===!0&&b(C,k?k.concat(A):[A])}),g.pop()}}if(!Q.isObject(e))throw new TypeError("data must be an object");return b(e),r}function Cb(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return r[n]})}function sp(e,r){this._pairs=[],e&&Ld(e,this,r)}const hj=sp.prototype;hj.append=function(r,s){this._pairs.push([r,s])};hj.toString=function(r){const s=r?function(n){return r.call(this,n,Cb)}:Cb;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function i_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fj(e,r,s){if(!r)return e;const n=s&&s.encode||i_;Q.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let c;if(o?c=o(r,s):c=Q.isURLSearchParams(r)?r.toString():new sp(r,s).toString(n),c){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class Sb{constructor(){this.handlers=[]}use(r,s,n){return this.handlers.push({fulfilled:r,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Q.forEach(this.handlers,function(n){n!==null&&r(n)})}}const pj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},o_=typeof URLSearchParams<"u"?URLSearchParams:sp,l_=typeof FormData<"u"?FormData:null,c_=typeof Blob<"u"?Blob:null,d_={isBrowser:!0,classes:{URLSearchParams:o_,FormData:l_,Blob:c_},protocols:["http","https","file","blob","url","data"]},ap=typeof window<"u"&&typeof document<"u",cf=typeof navigator=="object"&&navigator||void 0,u_=ap&&(!cf||["ReactNative","NativeScript","NS"].indexOf(cf.product)<0),m_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",h_=ap&&window.location.href||"http://localhost",f_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ap,hasStandardBrowserEnv:u_,hasStandardBrowserWebWorkerEnv:m_,navigator:cf,origin:h_},Symbol.toStringTag,{value:"Module"})),Pt={...f_,...d_};function p_(e,r){return Ld(e,new Pt.classes.URLSearchParams,Object.assign({visitor:function(s,n,o,c){return Pt.isNode&&Q.isBuffer(s)?(this.append(n,s.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},r))}function x_(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function y_(e){const r={},s=Object.keys(e);let n;const o=s.length;let c;for(n=0;n<o;n++)c=s[n],r[c]=e[c];return r}function xj(e){function r(s,n,o,c){let d=s[c++];if(d==="__proto__")return!0;const u=Number.isFinite(+d),h=c>=s.length;return d=!d&&Q.isArray(o)?o.length:d,h?(Q.hasOwnProp(o,d)?o[d]=[o[d],n]:o[d]=n,!u):((!o[d]||!Q.isObject(o[d]))&&(o[d]=[]),r(s,n,o[d],c)&&Q.isArray(o[d])&&(o[d]=y_(o[d])),!u)}if(Q.isFormData(e)&&Q.isFunction(e.entries)){const s={};return Q.forEachEntry(e,(n,o)=>{r(x_(n),o,s,0)}),s}return null}function g_(e,r,s){if(Q.isString(e))try{return(r||JSON.parse)(e),Q.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const al={transitional:pj,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const n=s.getContentType()||"",o=n.indexOf("application/json")>-1,c=Q.isObject(r);if(c&&Q.isHTMLForm(r)&&(r=new FormData(r)),Q.isFormData(r))return o?JSON.stringify(xj(r)):r;if(Q.isArrayBuffer(r)||Q.isBuffer(r)||Q.isStream(r)||Q.isFile(r)||Q.isBlob(r)||Q.isReadableStream(r))return r;if(Q.isArrayBufferView(r))return r.buffer;if(Q.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let u;if(c){if(n.indexOf("application/x-www-form-urlencoded")>-1)return p_(r,this.formSerializer).toString();if((u=Q.isFileList(r))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Ld(u?{"files[]":r}:r,h&&new h,this.formSerializer)}}return c||o?(s.setContentType("application/json",!1),g_(r)):r}],transformResponse:[function(r){const s=this.transitional||al.transitional,n=s&&s.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(r)||Q.isReadableStream(r))return r;if(r&&Q.isString(r)&&(n&&!this.responseType||o)){const d=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(r)}catch(u){if(d)throw u.name==="SyntaxError"?Se.from(u,Se.ERR_BAD_RESPONSE,this,null,this.response):u}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pt.classes.FormData,Blob:Pt.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],e=>{al.headers[e]={}});const v_=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),b_=e=>{const r={};let s,n,o;return e&&e.split(`
`).forEach(function(d){o=d.indexOf(":"),s=d.substring(0,o).trim().toLowerCase(),n=d.substring(o+1).trim(),!(!s||r[s]&&v_[s])&&(s==="set-cookie"?r[s]?r[s].push(n):r[s]=[n]:r[s]=r[s]?r[s]+", "+n:n)}),r},kb=Symbol("internals");function ko(e){return e&&String(e).trim().toLowerCase()}function Kc(e){return e===!1||e==null?e:Q.isArray(e)?e.map(Kc):String(e)}function j_(e){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)r[n[1]]=n[2];return r}const w_=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ch(e,r,s,n,o){if(Q.isFunction(n))return n.call(this,r,s);if(o&&(r=s),!!Q.isString(r)){if(Q.isString(n))return r.indexOf(n)!==-1;if(Q.isRegExp(n))return n.test(r)}}function N_(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,n)=>s.toUpperCase()+n)}function C_(e,r){const s=Q.toCamelCase(" "+r);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(o,c,d){return this[n].call(this,r,o,c,d)},configurable:!0})})}let Xt=class{constructor(r){r&&this.set(r)}set(r,s,n){const o=this;function c(u,h,f){const x=ko(h);if(!x)throw new Error("header name must be a non-empty string");const g=Q.findKey(o,x);(!g||o[g]===void 0||f===!0||f===void 0&&o[g]!==!1)&&(o[g||h]=Kc(u))}const d=(u,h)=>Q.forEach(u,(f,x)=>c(f,x,h));if(Q.isPlainObject(r)||r instanceof this.constructor)d(r,s);else if(Q.isString(r)&&(r=r.trim())&&!w_(r))d(b_(r),s);else if(Q.isObject(r)&&Q.isIterable(r)){let u={},h,f;for(const x of r){if(!Q.isArray(x))throw TypeError("Object iterator must return a key-value pair");u[f=x[0]]=(h=u[f])?Q.isArray(h)?[...h,x[1]]:[h,x[1]]:x[1]}d(u,s)}else r!=null&&c(s,r,n);return this}get(r,s){if(r=ko(r),r){const n=Q.findKey(this,r);if(n){const o=this[n];if(!s)return o;if(s===!0)return j_(o);if(Q.isFunction(s))return s.call(this,o,n);if(Q.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=ko(r),r){const n=Q.findKey(this,r);return!!(n&&this[n]!==void 0&&(!s||Ch(this,this[n],n,s)))}return!1}delete(r,s){const n=this;let o=!1;function c(d){if(d=ko(d),d){const u=Q.findKey(n,d);u&&(!s||Ch(n,n[u],u,s))&&(delete n[u],o=!0)}}return Q.isArray(r)?r.forEach(c):c(r),o}clear(r){const s=Object.keys(this);let n=s.length,o=!1;for(;n--;){const c=s[n];(!r||Ch(this,this[c],c,r,!0))&&(delete this[c],o=!0)}return o}normalize(r){const s=this,n={};return Q.forEach(this,(o,c)=>{const d=Q.findKey(n,c);if(d){s[d]=Kc(o),delete s[c];return}const u=r?N_(c):String(c).trim();u!==c&&delete s[c],s[u]=Kc(o),n[u]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return Q.forEach(this,(n,o)=>{n!=null&&n!==!1&&(s[o]=r&&Q.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const n=new this(r);return s.forEach(o=>n.set(o)),n}static accessor(r){const n=(this[kb]=this[kb]={accessors:{}}).accessors,o=this.prototype;function c(d){const u=ko(d);n[u]||(C_(o,d),n[u]=!0)}return Q.isArray(r)?r.forEach(c):c(r),this}};Xt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(Xt.prototype,({value:e},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(n){this[s]=n}}});Q.freezeMethods(Xt);function Sh(e,r){const s=this||al,n=r||s,o=Xt.from(n.headers);let c=n.data;return Q.forEach(e,function(u){c=u.call(s,c,o.normalize(),r?r.status:void 0)}),o.normalize(),c}function yj(e){return!!(e&&e.__CANCEL__)}function fi(e,r,s){Se.call(this,e??"canceled",Se.ERR_CANCELED,r,s),this.name="CanceledError"}Q.inherits(fi,Se,{__CANCEL__:!0});function gj(e,r,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):r(new Se("Request failed with status code "+s.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function S_(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function k_(e,r){e=e||10;const s=new Array(e),n=new Array(e);let o=0,c=0,d;return r=r!==void 0?r:1e3,function(h){const f=Date.now(),x=n[c];d||(d=f),s[o]=h,n[o]=f;let g=c,v=0;for(;g!==o;)v+=s[g++],g=g%e;if(o=(o+1)%e,o===c&&(c=(c+1)%e),f-d<r)return;const b=x&&f-x;return b?Math.round(v*1e3/b):void 0}}function __(e,r){let s=0,n=1e3/r,o,c;const d=(f,x=Date.now())=>{s=x,o=null,c&&(clearTimeout(c),c=null),e.apply(null,f)};return[(...f)=>{const x=Date.now(),g=x-s;g>=n?d(f,x):(o=f,c||(c=setTimeout(()=>{c=null,d(o)},n-g)))},()=>o&&d(o)]}const od=(e,r,s=3)=>{let n=0;const o=k_(50,250);return __(c=>{const d=c.loaded,u=c.lengthComputable?c.total:void 0,h=d-n,f=o(h),x=d<=u;n=d;const g={loaded:d,total:u,progress:u?d/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&x?(u-d)/f:void 0,event:c,lengthComputable:u!=null,[r?"download":"upload"]:!0};e(g)},s)},_b=(e,r)=>{const s=e!=null;return[n=>r[0]({lengthComputable:s,total:e,loaded:n}),r[1]]},Ab=e=>(...r)=>Q.asap(()=>e(...r)),A_=Pt.hasStandardBrowserEnv?((e,r)=>s=>(s=new URL(s,Pt.origin),e.protocol===s.protocol&&e.host===s.host&&(r||e.port===s.port)))(new URL(Pt.origin),Pt.navigator&&/(msie|trident)/i.test(Pt.navigator.userAgent)):()=>!0,E_=Pt.hasStandardBrowserEnv?{write(e,r,s,n,o,c){const d=[e+"="+encodeURIComponent(r)];Q.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),Q.isString(n)&&d.push("path="+n),Q.isString(o)&&d.push("domain="+o),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function T_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function R_(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function vj(e,r,s){let n=!T_(r);return e&&(n||s==!1)?R_(e,r):r}const Eb=e=>e instanceof Xt?{...e}:e;function sn(e,r){r=r||{};const s={};function n(f,x,g,v){return Q.isPlainObject(f)&&Q.isPlainObject(x)?Q.merge.call({caseless:v},f,x):Q.isPlainObject(x)?Q.merge({},x):Q.isArray(x)?x.slice():x}function o(f,x,g,v){if(Q.isUndefined(x)){if(!Q.isUndefined(f))return n(void 0,f,g,v)}else return n(f,x,g,v)}function c(f,x){if(!Q.isUndefined(x))return n(void 0,x)}function d(f,x){if(Q.isUndefined(x)){if(!Q.isUndefined(f))return n(void 0,f)}else return n(void 0,x)}function u(f,x,g){if(g in r)return n(f,x);if(g in e)return n(void 0,f)}const h={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:u,headers:(f,x,g)=>o(Eb(f),Eb(x),g,!0)};return Q.forEach(Object.keys(Object.assign({},e,r)),function(x){const g=h[x]||o,v=g(e[x],r[x],x);Q.isUndefined(v)&&g!==u||(s[x]=v)}),s}const bj=e=>{const r=sn({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:c,headers:d,auth:u}=r;r.headers=d=Xt.from(d),r.url=fj(vj(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&d.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(Q.isFormData(s)){if(Pt.hasStandardBrowserEnv||Pt.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((h=d.getContentType())!==!1){const[f,...x]=h?h.split(";").map(g=>g.trim()).filter(Boolean):[];d.setContentType([f||"multipart/form-data",...x].join("; "))}}if(Pt.hasStandardBrowserEnv&&(n&&Q.isFunction(n)&&(n=n(r)),n||n!==!1&&A_(r.url))){const f=o&&c&&E_.read(c);f&&d.set(o,f)}return r},D_=typeof XMLHttpRequest<"u",O_=D_&&function(e){return new Promise(function(s,n){const o=bj(e);let c=o.data;const d=Xt.from(o.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:f}=o,x,g,v,b,j;function k(){b&&b(),j&&j(),o.cancelToken&&o.cancelToken.unsubscribe(x),o.signal&&o.signal.removeEventListener("abort",x)}let _=new XMLHttpRequest;_.open(o.method.toUpperCase(),o.url,!0),_.timeout=o.timeout;function C(){if(!_)return;const R=Xt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),T={data:!u||u==="text"||u==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:R,config:e,request:_};gj(function(q){s(q),k()},function(q){n(q),k()},T),_=null}"onloadend"in _?_.onloadend=C:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(C)},_.onabort=function(){_&&(n(new Se("Request aborted",Se.ECONNABORTED,e,_)),_=null)},_.onerror=function(){n(new Se("Network Error",Se.ERR_NETWORK,e,_)),_=null},_.ontimeout=function(){let S=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const T=o.transitional||pj;o.timeoutErrorMessage&&(S=o.timeoutErrorMessage),n(new Se(S,T.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,e,_)),_=null},c===void 0&&d.setContentType(null),"setRequestHeader"in _&&Q.forEach(d.toJSON(),function(S,T){_.setRequestHeader(T,S)}),Q.isUndefined(o.withCredentials)||(_.withCredentials=!!o.withCredentials),u&&u!=="json"&&(_.responseType=o.responseType),f&&([v,j]=od(f,!0),_.addEventListener("progress",v)),h&&_.upload&&([g,b]=od(h),_.upload.addEventListener("progress",g),_.upload.addEventListener("loadend",b)),(o.cancelToken||o.signal)&&(x=R=>{_&&(n(!R||R.type?new fi(null,e,_):R),_.abort(),_=null)},o.cancelToken&&o.cancelToken.subscribe(x),o.signal&&(o.signal.aborted?x():o.signal.addEventListener("abort",x)));const A=S_(o.url);if(A&&Pt.protocols.indexOf(A)===-1){n(new Se("Unsupported protocol "+A+":",Se.ERR_BAD_REQUEST,e));return}_.send(c||null)})},P_=(e,r)=>{const{length:s}=e=e?e.filter(Boolean):[];if(r||s){let n=new AbortController,o;const c=function(f){if(!o){o=!0,u();const x=f instanceof Error?f:this.reason;n.abort(x instanceof Se?x:new fi(x instanceof Error?x.message:x))}};let d=r&&setTimeout(()=>{d=null,c(new Se(`timeout ${r} of ms exceeded`,Se.ETIMEDOUT))},r);const u=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(c):f.removeEventListener("abort",c)}),e=null)};e.forEach(f=>f.addEventListener("abort",c));const{signal:h}=n;return h.unsubscribe=()=>Q.asap(u),h}},L_=function*(e,r){let s=e.byteLength;if(s<r){yield e;return}let n=0,o;for(;n<s;)o=n+r,yield e.slice(n,o),n=o},M_=async function*(e,r){for await(const s of z_(e))yield*L_(s,r)},z_=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:s,value:n}=await r.read();if(s)break;yield n}}finally{await r.cancel()}},Tb=(e,r,s,n)=>{const o=M_(e,r);let c=0,d,u=h=>{d||(d=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:f,value:x}=await o.next();if(f){u(),h.close();return}let g=x.byteLength;if(s){let v=c+=g;s(v)}h.enqueue(new Uint8Array(x))}catch(f){throw u(f),f}},cancel(h){return u(h),o.return()}},{highWaterMark:2})},Md=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jj=Md&&typeof ReadableStream=="function",I_=Md&&(typeof TextEncoder=="function"?(e=>r=>e.encode(r))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),wj=(e,...r)=>{try{return!!e(...r)}catch{return!1}},B_=jj&&wj(()=>{let e=!1;const r=new Request(Pt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!r}),Rb=64*1024,df=jj&&wj(()=>Q.isReadableStream(new Response("").body)),ld={stream:df&&(e=>e.body)};Md&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!ld[r]&&(ld[r]=Q.isFunction(e[r])?s=>s[r]():(s,n)=>{throw new Se(`Response type '${r}' is not supported`,Se.ERR_NOT_SUPPORT,n)})})})(new Response);const U_=async e=>{if(e==null)return 0;if(Q.isBlob(e))return e.size;if(Q.isSpecCompliantForm(e))return(await new Request(Pt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(e)||Q.isArrayBuffer(e))return e.byteLength;if(Q.isURLSearchParams(e)&&(e=e+""),Q.isString(e))return(await I_(e)).byteLength},F_=async(e,r)=>{const s=Q.toFiniteNumber(e.getContentLength());return s??U_(r)},V_=Md&&(async e=>{let{url:r,method:s,data:n,signal:o,cancelToken:c,timeout:d,onDownloadProgress:u,onUploadProgress:h,responseType:f,headers:x,withCredentials:g="same-origin",fetchOptions:v}=bj(e);f=f?(f+"").toLowerCase():"text";let b=P_([o,c&&c.toAbortSignal()],d),j;const k=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let _;try{if(h&&B_&&s!=="get"&&s!=="head"&&(_=await F_(x,n))!==0){let T=new Request(r,{method:"POST",body:n,duplex:"half"}),P;if(Q.isFormData(n)&&(P=T.headers.get("content-type"))&&x.setContentType(P),T.body){const[q,U]=_b(_,od(Ab(h)));n=Tb(T.body,Rb,q,U)}}Q.isString(g)||(g=g?"include":"omit");const C="credentials"in Request.prototype;j=new Request(r,{...v,signal:b,method:s.toUpperCase(),headers:x.normalize().toJSON(),body:n,duplex:"half",credentials:C?g:void 0});let A=await fetch(j);const R=df&&(f==="stream"||f==="response");if(df&&(u||R&&k)){const T={};["status","statusText","headers"].forEach(V=>{T[V]=A[V]});const P=Q.toFiniteNumber(A.headers.get("content-length")),[q,U]=u&&_b(P,od(Ab(u),!0))||[];A=new Response(Tb(A.body,Rb,q,()=>{U&&U(),k&&k()}),T)}f=f||"text";let S=await ld[Q.findKey(ld,f)||"text"](A,e);return!R&&k&&k(),await new Promise((T,P)=>{gj(T,P,{data:S,headers:Xt.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:j})})}catch(C){throw k&&k(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,e,j),{cause:C.cause||C}):Se.from(C,C&&C.code,e,j)}}),uf={http:s_,xhr:O_,fetch:V_};Q.forEach(uf,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const Db=e=>`- ${e}`,H_=e=>Q.isFunction(e)||e===null||e===!1,Nj={getAdapter:e=>{e=Q.isArray(e)?e:[e];const{length:r}=e;let s,n;const o={};for(let c=0;c<r;c++){s=e[c];let d;if(n=s,!H_(s)&&(n=uf[(d=String(s)).toLowerCase()],n===void 0))throw new Se(`Unknown adapter '${d}'`);if(n)break;o[d||"#"+c]=n}if(!n){const c=Object.entries(o).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=r?c.length>1?`since :
`+c.map(Db).join(`
`):" "+Db(c[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return n},adapters:uf};function kh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fi(null,e)}function Ob(e){return kh(e),e.headers=Xt.from(e.headers),e.data=Sh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nj.getAdapter(e.adapter||al.adapter)(e).then(function(n){return kh(e),n.data=Sh.call(e,e.transformResponse,n),n.headers=Xt.from(n.headers),n},function(n){return yj(n)||(kh(e),n&&n.response&&(n.response.data=Sh.call(e,e.transformResponse,n.response),n.response.headers=Xt.from(n.response.headers))),Promise.reject(n)})}const Cj="1.9.0",zd={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{zd[e]=function(n){return typeof n===e||"a"+(r<1?"n ":" ")+e}});const Pb={};zd.transitional=function(r,s,n){function o(c,d){return"[Axios v"+Cj+"] Transitional option '"+c+"'"+d+(n?". "+n:"")}return(c,d,u)=>{if(r===!1)throw new Se(o(d," has been removed"+(s?" in "+s:"")),Se.ERR_DEPRECATED);return s&&!Pb[d]&&(Pb[d]=!0,console.warn(o(d," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(c,d,u):!0}};zd.spelling=function(r){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${r}`),!0)};function q_(e,r,s){if(typeof e!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const c=n[o],d=r[c];if(d){const u=e[c],h=u===void 0||d(u,c,e);if(h!==!0)throw new Se("option "+c+" must be "+h,Se.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Se("Unknown option "+c,Se.ERR_BAD_OPTION)}}const Xc={assertOptions:q_,validators:zd},Ur=Xc.validators;let Qa=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Sb,response:new Sb}}async request(r,s){try{return await this._request(r,s)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?c&&!String(n.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+c):n.stack=c}catch{}}throw n}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=sn(this.defaults,s);const{transitional:n,paramsSerializer:o,headers:c}=s;n!==void 0&&Xc.assertOptions(n,{silentJSONParsing:Ur.transitional(Ur.boolean),forcedJSONParsing:Ur.transitional(Ur.boolean),clarifyTimeoutError:Ur.transitional(Ur.boolean)},!1),o!=null&&(Q.isFunction(o)?s.paramsSerializer={serialize:o}:Xc.assertOptions(o,{encode:Ur.function,serialize:Ur.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Xc.assertOptions(s,{baseUrl:Ur.spelling("baseURL"),withXsrfToken:Ur.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let d=c&&Q.merge(c.common,c[s.method]);c&&Q.forEach(["delete","get","head","post","put","patch","common"],j=>{delete c[j]}),s.headers=Xt.concat(d,c);const u=[];let h=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(s)===!1||(h=h&&k.synchronous,u.unshift(k.fulfilled,k.rejected))});const f=[];this.interceptors.response.forEach(function(k){f.push(k.fulfilled,k.rejected)});let x,g=0,v;if(!h){const j=[Ob.bind(this),void 0];for(j.unshift.apply(j,u),j.push.apply(j,f),v=j.length,x=Promise.resolve(s);g<v;)x=x.then(j[g++],j[g++]);return x}v=u.length;let b=s;for(g=0;g<v;){const j=u[g++],k=u[g++];try{b=j(b)}catch(_){k.call(this,_);break}}try{x=Ob.call(this,b)}catch(j){return Promise.reject(j)}for(g=0,v=f.length;g<v;)x=x.then(f[g++],f[g++]);return x}getUri(r){r=sn(this.defaults,r);const s=vj(r.baseURL,r.url,r.allowAbsoluteUrls);return fj(s,r.params,r.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(r){Qa.prototype[r]=function(s,n){return this.request(sn(n||{},{method:r,url:s,data:(n||{}).data}))}});Q.forEach(["post","put","patch"],function(r){function s(n){return function(c,d,u){return this.request(sn(u||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}Qa.prototype[r]=s(),Qa.prototype[r+"Form"]=s(!0)});let $_=class Sj{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(c){s=c});const n=this;this.promise.then(o=>{if(!n._listeners)return;let c=n._listeners.length;for(;c-- >0;)n._listeners[c](o);n._listeners=null}),this.promise.then=o=>{let c;const d=new Promise(u=>{n.subscribe(u),c=u}).then(o);return d.cancel=function(){n.unsubscribe(c)},d},r(function(c,d,u){n.reason||(n.reason=new fi(c,d,u),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=n=>{r.abort(n)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new Sj(function(o){r=o}),cancel:r}}};function G_(e){return function(s){return e.apply(null,s)}}function Y_(e){return Q.isObject(e)&&e.isAxiosError===!0}const mf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mf).forEach(([e,r])=>{mf[r]=e});function kj(e){const r=new Qa(e),s=rj(Qa.prototype.request,r);return Q.extend(s,Qa.prototype,r,{allOwnKeys:!0}),Q.extend(s,r,null,{allOwnKeys:!0}),s.create=function(o){return kj(sn(e,o))},s}const rt=kj(al);rt.Axios=Qa;rt.CanceledError=fi;rt.CancelToken=$_;rt.isCancel=yj;rt.VERSION=Cj;rt.toFormData=Ld;rt.AxiosError=Se;rt.Cancel=rt.CanceledError;rt.all=function(r){return Promise.all(r)};rt.spread=G_;rt.isAxiosError=Y_;rt.mergeConfig=sn;rt.AxiosHeaders=Xt;rt.formToJSON=e=>xj(Q.isHTMLForm(e)?new FormData(e):e);rt.getAdapter=Nj.getAdapter;rt.HttpStatusCode=mf;rt.default=rt;const{Axios:NM,AxiosError:CM,CanceledError:SM,isCancel:kM,CancelToken:_M,VERSION:AM,all:EM,Cancel:TM,isAxiosError:RM,spread:DM,toFormData:OM,AxiosHeaders:PM,HttpStatusCode:LM,formToJSON:MM,getAdapter:zM,mergeConfig:IM}=rt,Ya="http://127.0.0.1:8000/api",an="anand_mobiles_token",hs="anand_mobiles_user",Do="delivery_partner_token",ct={HOME:"/",LOGIN:"/login",PRODUCTS:"/products",CART:"/cart",ORDERS:"/orders",WISHLIST:"/wishlist",ABOUT:"/about",CONTACT:"/contact",TRACK_ORDER:"/track-order",BULK_ORDER:"/bulk-order"},De=rt.create({baseURL:Ya,headers:{"Content-Type":"application/json"}});De.interceptors.request.use(e=>{const r=localStorage.getItem(an);return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));De.interceptors.response.use(e=>e,e=>{var r;return((r=e.response)==null?void 0:r.status)===401&&(localStorage.removeItem(an),localStorage.removeItem(hs)),Promise.reject(e)});const be=rt.create({baseURL:Ya,headers:{"Content-Type":"application/json"}});be.interceptors.request.use(e=>{const r=localStorage.getItem("admin_token");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));be.interceptors.response.use(e=>e,e=>{var r;return((r=e.response)==null?void 0:r.status)===401&&localStorage.removeItem("admin_token"),Promise.reject(e)});const qa=rt.create({baseURL:Ya,headers:{"Content-Type":"application/json"}});qa.interceptors.request.use(e=>{const r=localStorage.getItem(Do);return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));qa.interceptors.response.use(e=>e,e=>{var r;return((r=e.response)==null?void 0:r.status)===401&&localStorage.removeItem(Do),Promise.reject(e)});const _j=_t(Td(e=>({logo:null,loading:!1,error:null,setLogo:r=>e({logo:r}),setLoading:r=>e({loading:r}),setError:r=>e({error:r}),fetchLogo:async()=>{var r,s;e({loading:!0,error:null});try{const n=await be.get("/admin/content/logo");if(n.status===200)return e({logo:n.data.logo_url,loading:!1}),n.data.logo_url}catch(n){throw console.error("Error fetching logo:",n),e({error:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.error)||"Failed to fetch logo",loading:!1}),n}},uploadLogo:async r=>{var s,n;e({loading:!0,error:null});try{const o=await be.post("/admin/content/logo/upload",r,{headers:{"Content-Type":"multipart/form-data"}});if(o.status===200)return e({logo:o.data.logo_url,loading:!1}),o.data}catch(o){throw console.error("Error uploading logo:",o),e({error:((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||"Failed to upload logo",loading:!1}),o}},deleteLogo:async()=>{var r,s;e({loading:!0,error:null});try{const n=await be.delete("/admin/content/logo");if(n.status===200)return e({logo:null,loading:!1}),n.data}catch(n){throw console.error("Error deleting logo:",n),e({error:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.error)||"Failed to delete logo",loading:!1}),n}},clearError:()=>e({error:null})}))),cd=({size:e="medium",linkWrapper:r=!0,titleColor:s})=>{const{logo:n,fetchLogo:o}=_j();w.useEffect(()=>{o()},[o]);const c={small:"h-8 w-auto",medium:"h-12 w-auto",large:"h-16 w-auto"},d=s||"var(--brand-primary)",u=t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"relative",children:t.jsx("img",{src:n||"/logo.jpg",alt:"Anand Mobiles",className:`${c[e]} rounded-md transition-transform duration-300 hover:scale-105`,style:{borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)"}})}),t.jsxs("span",{className:"ml-2.5 text-xl font-bold hidden sm:inline-block transition-colors duration-300",style:{color:d},children:[t.jsx("span",{children:"Anand"})," Mobiles"]})]});return r?t.jsx(pe,{to:"/",className:"flex items-center hover:opacity-90 transition-opacity duration-300","aria-label":"Anand Mobiles Home",children:u}):t.jsx("div",{className:"flex items-center",children:u})},ws=({children:e,title:r,titleColor:s})=>t.jsxs("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden",style:{background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 rounded-full opacity-10 transform translate-x-1/3 -translate-y-1/3",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("div",{className:"absolute bottom-0 left-0 w-80 h-80 rounded-full opacity-10 transform -translate-x-1/3 translate-y-1/3",style:{backgroundColor:"var(--brand-secondary)"}}),t.jsxs("div",{className:"max-w-md w-full space-y-7 p-8 rounded-xl animate-fadeIn relative z-10",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-large)",borderRadius:"var(--rounded-xl)",border:"1px solid var(--border-primary)"},children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(cd,{size:"large",titleColor:s}),t.jsx("h2",{className:"mt-6 text-center text-2xl font-bold",style:{color:"var(--text-primary)"},children:r}),t.jsx("div",{className:"h-1.5 w-20 mt-4 rounded-full",style:{background:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"}})]}),t.jsx("div",{className:"mt-8 relative",children:e})]})]});var Aj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lb=Me.createContext&&Me.createContext(Aj),W_=["attr","size","title"];function K_(e,r){if(e==null)return{};var s=X_(e,r),n,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function X_(e,r){if(e==null)return{};var s={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;s[n]=e[n]}return s}function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},dd.apply(this,arguments)}function Mb(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),s.push.apply(s,n)}return s}function ud(e){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Mb(Object(s),!0).forEach(function(n){Z_(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Mb(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function Z_(e,r,s){return r=Q_(r),r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function Q_(e){var r=J_(e,"string");return typeof r=="symbol"?r:r+""}function J_(e,r){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,r);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ej(e){return e&&e.map((r,s)=>Me.createElement(r.tag,ud({key:s},r.attr),Ej(r.child)))}function oe(e){return r=>Me.createElement(e5,dd({attr:ud({},e.attr)},r),Ej(e.child))}function e5(e){var r=s=>{var{attr:n,size:o,title:c}=e,d=K_(e,W_),u=o||s.size||"1em",h;return s.className&&(h=s.className),e.className&&(h=(h?h+" ":"")+e.className),Me.createElement("svg",dd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,d,{className:h,style:ud(ud({color:e.color||s.color},s.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&Me.createElement("title",null,c),e.children)};return Lb!==void 0?Me.createElement(Lb.Consumer,null,s=>r(s)):r(Aj)}function t5(e){return oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(e)}function r5(e){return oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(e)}function s5(e){return oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(e)}function a5(e){return oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(e)}function n5(e){return oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},child:[]}]})(e)}function i5(e){return oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(e)}function o5(e){return oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2H0c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2h-4zM4 5h16v11H4V5zm8 14c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"},child:[]}]})(e)}function l5(e){return oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 1.99-.9 1.99-2L23 6c0-1.1-.9-2-2-2zm-2 14H5V6h14v12z"},child:[]}]})(e)}function c5(e){return oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(e)}const Fe=({label:e,type:r="text",name:s,value:n,onChange:o,required:c=!1,error:d,placeholder:u,icon:h=null})=>{const f=b=>{const j={color:"var(--text-secondary)"};switch(b){case"email":return t.jsx(s5,{style:j,className:"h-5 w-5"});case"lock":return t.jsx(t5,{style:j,className:"h-5 w-5"});case"user":return t.jsx(c5,{style:j,className:"h-5 w-5"});case"phone":return t.jsx(a5,{style:j,className:"h-5 w-5"});default:return null}},x={borderRadius:"var(--rounded-md)",backgroundColor:"var(--bg-primary)",borderColor:d?"var(--error-color)":"var(--border-primary)",transition:"all 0.3s ease-in-out"},g={color:"var(--text-primary)"},v={color:"var(--error-color)"};return t.jsxs("div",{className:"mb-4 group",children:[t.jsxs("label",{htmlFor:s,className:"block text-sm font-medium mb-1.5 transition-colors duration-200",style:g,children:[e," ",c&&t.jsx("span",{style:v,children:"*"})]}),t.jsxs("div",{className:"relative rounded-md",children:[h&&t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none transition-all duration-200",children:typeof h=="string"?f(h):Me.cloneElement(h,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:r,name:s,id:s,value:n,onChange:o,required:c,placeholder:u,className:`block w-full ${h?"pl-10":"px-4"} py-3 border shadow-sm focus:outline-none focus:ring-2 sm:text-sm transition-all duration-300 ${d?"focus:ring-red-500 border-red-300":"focus:ring-opacity-50 focus:border-transparent focus:ring-opacity-50 group-hover:border-opacity-70"}`,style:{...x,boxShadow:d?"0 0 0 1px var(--error-color)":"var(--shadow-small)",...d?{}:{focusBorderColor:"var(--brand-primary)",focusRing:"var(--brand-primary)"}}}),t.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 transform scale-x-0 transition-transform duration-300 ease-out ${d?"bg-red-500":""}`,style:{backgroundColor:d?"var(--error-color)":"var(--brand-primary)",transformOrigin:"left",width:"100%"}})]}),d&&t.jsxs("p",{className:"mt-2 text-sm flex items-center animate-fadeIn",style:v,children:[t.jsx(r5,{className:"h-4 w-4 mr-1.5"}),d]})]})},me=({children:e,type:r="button",onClick:s,disabled:n=!1,className:o="",variant:c="primary",isLoading:d=!1,fullWidth:u=!0,size:h="md",icon:f=null})=>{const x="flex justify-center items-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-300 ",g={primary:"text-white bg-teal-600 hover:bg-teal-700 focus:ring-teal-500 border-transparent",secondary:"text-teal-700 bg-white hover:bg-gray-50 focus:ring-teal-500 border border-teal-600",outline:"text-gray-700 bg-white hover:bg-gray-50 border border-gray-300 focus:ring-teal-500",danger:"text-white bg-red-600 hover:bg-red-700 focus:ring-red-500 border-transparent"},v={primary:"text-white hover:shadow-lg focus:ring-offset-1",secondary:"hover:shadow-md focus:ring-offset-1 border",outline:"hover:shadow-md focus:ring-offset-1 border",danger:"text-white hover:shadow-md focus:ring-offset-1"},b={sm:"py-2 px-4 text-xs",md:"py-2.5 px-5 text-sm",lg:"py-3.5 px-7 text-base"},j=u?"w-full":"",k=()=>{switch(c){case"primary":return{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:n||d?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"secondary":return{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",borderColor:"var(--brand-primary)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:n||d?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"outline":return{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:n||d?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};case"danger":return{backgroundColor:"var(--error-color)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",boxShadow:"var(--shadow-small)",transform:n||d?"none":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease"};default:return{}}},_=()=>t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});return t.jsxs("button",{type:r,onClick:s,disabled:n||d,className:`${x} ${g[c]} ${v[c]} ${b[h]} ${j} ${o} ${n||d?"opacity-60 cursor-not-allowed":""} transform hover:-translate-y-1 active:translate-y-0 relative overflow-hidden group`,style:k(),children:[t.jsx("span",{className:"absolute inset-0 overflow-hidden rounded-md",children:t.jsx("span",{className:"absolute -inset-[100%] bg-white/20 transform rotate-45 transition-all origin-left scale-0 group-hover:scale-100 duration-500 group-active:duration-100"})}),t.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[d&&t.jsx(_,{}),f&&!d&&t.jsx("span",{className:"mr-2 flex items-center justify-center",children:f}),e]})]})},d5=()=>{};var zb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=function(e){const r=[];let s=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<128?r[s++]=o:o<2048?(r[s++]=o>>6|192,r[s++]=o&63|128):(o&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++n)&1023),r[s++]=o>>18|240,r[s++]=o>>12&63|128,r[s++]=o>>6&63|128,r[s++]=o&63|128):(r[s++]=o>>12|224,r[s++]=o>>6&63|128,r[s++]=o&63|128)}return r},u5=function(e){const r=[];let s=0,n=0;for(;s<e.length;){const o=e[s++];if(o<128)r[n++]=String.fromCharCode(o);else if(o>191&&o<224){const c=e[s++];r[n++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=e[s++],d=e[s++],u=e[s++],h=((o&7)<<18|(c&63)<<12|(d&63)<<6|u&63)-65536;r[n++]=String.fromCharCode(55296+(h>>10)),r[n++]=String.fromCharCode(56320+(h&1023))}else{const c=e[s++],d=e[s++];r[n++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return r.join("")},Rj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,r){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<e.length;o+=3){const c=e[o],d=o+1<e.length,u=d?e[o+1]:0,h=o+2<e.length,f=h?e[o+2]:0,x=c>>2,g=(c&3)<<4|u>>4;let v=(u&15)<<2|f>>6,b=f&63;h||(b=64,d||(v=64)),n.push(s[x],s[g],s[v],s[b])}return n.join("")},encodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(e):this.encodeByteArray(Tj(e),r)},decodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(e):u5(this.decodeStringToByteArray(e,r))},decodeStringToByteArray(e,r){this.init_();const s=r?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<e.length;){const c=s[e.charAt(o++)],u=o<e.length?s[e.charAt(o)]:0;++o;const f=o<e.length?s[e.charAt(o)]:64;++o;const g=o<e.length?s[e.charAt(o)]:64;if(++o,c==null||u==null||f==null||g==null)throw new m5;const v=c<<2|u>>4;if(n.push(v),f!==64){const b=u<<4&240|f>>2;if(n.push(b),g!==64){const j=f<<6&192|g;n.push(j)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class m5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h5=function(e){const r=Tj(e);return Rj.encodeByteArray(r,!0)},Dj=function(e){return h5(e).replace(/\./g,"")},Oj=function(e){try{return Rj.decodeString(e,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=()=>f5().__FIREBASE_DEFAULTS__,x5=()=>{if(typeof process>"u"||typeof zb>"u")return;const e=zb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},y5=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=e&&Oj(e[1]);return r&&JSON.parse(r)},np=()=>{try{return d5()||p5()||x5()||y5()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},g5=e=>{var r,s;return(s=(r=np())===null||r===void 0?void 0:r.emulatorHosts)===null||s===void 0?void 0:s[e]},Pj=()=>{var e;return(e=np())===null||e===void 0?void 0:e.config},Lj=e=>{var r;return(r=np())===null||r===void 0?void 0:r[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}wrapCallback(r){return(s,n)=>{s?this.reject(s):this.resolve(n),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(s):r(s,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(e){return e.endsWith(".cloudworkstations.dev")}async function b5(e){return(await fetch(e,{credentials:"include"})).ok}const Oo={};function j5(){const e={prod:[],emulator:[]};for(const r of Object.keys(Oo))Oo[r]?e.emulator.push(r):e.prod.push(r);return e}function w5(e){let r=document.getElementById(e),s=!1;return r||(r=document.createElement("div"),r.setAttribute("id",e),s=!0),{created:s,element:r}}let Ib=!1;function Mj(e,r){if(typeof window>"u"||typeof document>"u"||!ip(window.location.host)||Oo[e]===r||Oo[e]||Ib)return;Oo[e]=r;function s(v){return`__firebase__banner__${v}`}const n="__firebase__banner",c=j5().prod.length>0;function d(){const v=document.getElementById(n);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Ib=!0,d()},v}function x(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=w5(n),b=s("text"),j=document.getElementById(b)||document.createElement("span"),k=s("learnmore"),_=document.getElementById(k)||document.createElement("a"),C=s("preprendIcon"),A=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const R=v.element;u(R),x(_,k);const S=f();h(A,C),R.append(A,j,_,S),document.body.appendChild(R)}c?(j.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function C5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S5(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function k5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _5(){const e=Ft();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A5(){try{return typeof indexedDB=="object"}catch{return!1}}function E5(){return new Promise((e,r)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(n),e(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var c;r(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(s){r(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="FirebaseError";class ga extends Error{constructor(r,s,n){super(s),this.code=r,this.customData=n,this.name=T5,Object.setPrototypeOf(this,ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nl.prototype.create)}}class nl{constructor(r,s,n){this.service=r,this.serviceName=s,this.errors=n}create(r,...s){const n=s[0]||{},o=`${this.service}/${r}`,c=this.errors[r],d=c?R5(c,n):"Error",u=`${this.serviceName}: ${d} (${o}).`;return new ga(o,u,n)}}function R5(e,r){return e.replace(D5,(s,n)=>{const o=r[n];return o!=null?String(o):`<${n}?>`})}const D5=/\{\$([^}]+)}/g;function O5(e){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r))return!1;return!0}function ai(e,r){if(e===r)return!0;const s=Object.keys(e),n=Object.keys(r);for(const o of s){if(!n.includes(o))return!1;const c=e[o],d=r[o];if(Bb(c)&&Bb(d)){if(!ai(c,d))return!1}else if(c!==d)return!1}for(const o of n)if(!s.includes(o))return!1;return!0}function Bb(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(e){const r=[];for(const[s,n]of Object.entries(e))Array.isArray(n)?n.forEach(o=>{r.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):r.push(encodeURIComponent(s)+"="+encodeURIComponent(n));return r.length?"&"+r.join("&"):""}function P5(e,r){const s=new L5(e,r);return s.subscribe.bind(s)}class L5{constructor(r,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{r(this)}).catch(n=>{this.error(n)})}next(r){this.forEachObserver(s=>{s.next(r)})}error(r){this.forEachObserver(s=>{s.error(r)}),this.close(r)}complete(){this.forEachObserver(r=>{r.complete()}),this.close()}subscribe(r,s,n){let o;if(r===void 0&&s===void 0&&n===void 0)throw new Error("Missing Observer.");M5(r,["next","error","complete"])?o=r:o={next:r,error:s,complete:n},o.next===void 0&&(o.next=_h),o.error===void 0&&(o.error=_h),o.complete===void 0&&(o.complete=_h);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(r){this.observers===void 0||this.observers[r]===void 0||(delete this.observers[r],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(r){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,r)}sendOne(r,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[r]!==void 0)try{s(this.observers[r])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(r){this.finalized||(this.finalized=!0,r!==void 0&&(this.finalError=r),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M5(e,r){if(typeof e!="object"||e===null)return!1;for(const s of r)if(s in e&&typeof e[s]=="function")return!0;return!1}function _h(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(e){return e&&e._delegate?e._delegate:e}class ni{constructor(r,s,n){this.name=r,this.instanceFactory=s,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(r,s){this.name=r,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const s=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(s)){const n=new v5;if(this.instancesDeferred.set(s,n),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(r){var s;const n=this.normalizeInstanceIdentifier(r==null?void 0:r.identifier),o=(s=r==null?void 0:r.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(B5(r))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[s,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:o});n.resolve(c)}catch{}}}}clearInstance(r=Va){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...r.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=Va){return this.instances.has(r)}getOptions(r=Va){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:s={}}=r,n=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:s});for(const[c,d]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(c);n===u&&d.resolve(o)}return o}onInit(r,s){var n;const o=this.normalizeInstanceIdentifier(s),c=(n=this.onInitCallbacks.get(o))!==null&&n!==void 0?n:new Set;c.add(r),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&r(d,o),()=>{c.delete(r)}}invokeOnInitCallbacks(r,s){const n=this.onInitCallbacks.get(s);if(n)for(const o of n)try{o(r,s)}catch{}}getOrInitializeService({instanceIdentifier:r,options:s={}}){let n=this.instances.get(r);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:I5(r),options:s}),this.instances.set(r,n),this.instancesOptions.set(r,s),this.invokeOnInitCallbacks(n,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,n)}catch{}return n||null}normalizeInstanceIdentifier(r=Va){return this.component?this.component.multipleInstances?r:Va:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I5(e){return e===Va?void 0:e}function B5(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const s=this.getProvider(r.name);if(s.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);s.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const s=new z5(r,this);return this.providers.set(r,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ye||(Ye={}));const F5={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},V5=Ye.INFO,H5={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},q5=(e,r,...s)=>{if(r<e.logLevel)return;const n=new Date().toISOString(),o=H5[r];if(o)console[o](`[${n}]  ${e.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class zj{constructor(r){this.name=r,this._logLevel=V5,this._logHandler=q5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in Ye))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?F5[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...r),this._logHandler(this,Ye.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...r),this._logHandler(this,Ye.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...r),this._logHandler(this,Ye.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...r),this._logHandler(this,Ye.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...r),this._logHandler(this,Ye.ERROR,...r)}}const $5=(e,r)=>r.some(s=>e instanceof s);let Ub,Fb;function G5(){return Ub||(Ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y5(){return Fb||(Fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ij=new WeakMap,hf=new WeakMap,Bj=new WeakMap,Ah=new WeakMap,op=new WeakMap;function W5(e){const r=new Promise((s,n)=>{const o=()=>{e.removeEventListener("success",c),e.removeEventListener("error",d)},c=()=>{s(da(e.result)),o()},d=()=>{n(e.error),o()};e.addEventListener("success",c),e.addEventListener("error",d)});return r.then(s=>{s instanceof IDBCursor&&Ij.set(s,e)}).catch(()=>{}),op.set(r,e),r}function K5(e){if(hf.has(e))return;const r=new Promise((s,n)=>{const o=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",d),e.removeEventListener("abort",d)},c=()=>{s(),o()},d=()=>{n(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",c),e.addEventListener("error",d),e.addEventListener("abort",d)});hf.set(e,r)}let ff={get(e,r,s){if(e instanceof IDBTransaction){if(r==="done")return hf.get(e);if(r==="objectStoreNames")return e.objectStoreNames||Bj.get(e);if(r==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return da(e[r])},set(e,r,s){return e[r]=s,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function X5(e){ff=e(ff)}function Z5(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...s){const n=e.call(Eh(this),r,...s);return Bj.set(n,r.sort?r.sort():[r]),da(n)}:Y5().includes(e)?function(...r){return e.apply(Eh(this),r),da(Ij.get(this))}:function(...r){return da(e.apply(Eh(this),r))}}function Q5(e){return typeof e=="function"?Z5(e):(e instanceof IDBTransaction&&K5(e),$5(e,G5())?new Proxy(e,ff):e)}function da(e){if(e instanceof IDBRequest)return W5(e);if(Ah.has(e))return Ah.get(e);const r=Q5(e);return r!==e&&(Ah.set(e,r),op.set(r,e)),r}const Eh=e=>op.get(e);function J5(e,r,{blocked:s,upgrade:n,blocking:o,terminated:c}={}){const d=indexedDB.open(e,r),u=da(d);return n&&d.addEventListener("upgradeneeded",h=>{n(da(d.result),h.oldVersion,h.newVersion,da(d.transaction),h)}),s&&d.addEventListener("blocked",h=>s(h.oldVersion,h.newVersion,h)),u.then(h=>{c&&h.addEventListener("close",()=>c()),o&&h.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const eA=["get","getKey","getAll","getAllKeys","count"],tA=["put","add","delete","clear"],Th=new Map;function Vb(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(Th.get(r))return Th.get(r);const s=r.replace(/FromIndex$/,""),n=r!==s,o=tA.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!(o||eA.includes(s)))return;const c=async function(d,...u){const h=this.transaction(d,o?"readwrite":"readonly");let f=h.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[s](...u),o&&h.done]))[0]};return Th.set(r,c),c}X5(e=>({...e,get:(r,s,n)=>Vb(r,s)||e.get(r,s,n),has:(r,s)=>!!Vb(r,s)||e.has(r,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(sA(s)){const n=s.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(s=>s).join(" ")}}function sA(e){const r=e.getComponent();return(r==null?void 0:r.type)==="VERSION"}const pf="@firebase/app",Hb="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new zj("@firebase/app"),aA="@firebase/app-compat",nA="@firebase/analytics-compat",iA="@firebase/analytics",oA="@firebase/app-check-compat",lA="@firebase/app-check",cA="@firebase/auth",dA="@firebase/auth-compat",uA="@firebase/database",mA="@firebase/data-connect",hA="@firebase/database-compat",fA="@firebase/functions",pA="@firebase/functions-compat",xA="@firebase/installations",yA="@firebase/installations-compat",gA="@firebase/messaging",vA="@firebase/messaging-compat",bA="@firebase/performance",jA="@firebase/performance-compat",wA="@firebase/remote-config",NA="@firebase/remote-config-compat",CA="@firebase/storage",SA="@firebase/storage-compat",kA="@firebase/firestore",_A="@firebase/ai",AA="@firebase/firestore-compat",EA="firebase",TA="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="[DEFAULT]",RA={[pf]:"fire-core",[aA]:"fire-core-compat",[iA]:"fire-analytics",[nA]:"fire-analytics-compat",[lA]:"fire-app-check",[oA]:"fire-app-check-compat",[cA]:"fire-auth",[dA]:"fire-auth-compat",[uA]:"fire-rtdb",[mA]:"fire-data-connect",[hA]:"fire-rtdb-compat",[fA]:"fire-fn",[pA]:"fire-fn-compat",[xA]:"fire-iid",[yA]:"fire-iid-compat",[gA]:"fire-fcm",[vA]:"fire-fcm-compat",[bA]:"fire-perf",[jA]:"fire-perf-compat",[wA]:"fire-rc",[NA]:"fire-rc-compat",[CA]:"fire-gcs",[SA]:"fire-gcs-compat",[kA]:"fire-fst",[AA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[EA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Map,DA=new Map,yf=new Map;function qb(e,r){try{e.container.addComponent(r)}catch(s){Ns.debug(`Component ${r.name} failed to register with FirebaseApp ${e.name}`,s)}}function Vo(e){const r=e.name;if(yf.has(r))return Ns.debug(`There were multiple attempts to register component ${r}.`),!1;yf.set(r,e);for(const s of md.values())qb(s,e);for(const s of DA.values())qb(s,e);return!0}function Uj(e,r){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(r)}function Fr(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new nl("app","Firebase",OA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(r,s,n){this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=TA;function Fj(e,r={}){let s=e;typeof r!="object"&&(r={name:r});const n=Object.assign({name:xf,automaticDataCollectionEnabled:!0},r),o=n.name;if(typeof o!="string"||!o)throw ua.create("bad-app-name",{appName:String(o)});if(s||(s=Pj()),!s)throw ua.create("no-options");const c=md.get(o);if(c){if(ai(s,c.options)&&ai(n,c.config))return c;throw ua.create("duplicate-app",{appName:o})}const d=new U5(o);for(const h of yf.values())d.addComponent(h);const u=new PA(s,n,d);return md.set(o,u),u}function LA(e=xf){const r=md.get(e);if(!r&&e===xf&&Pj())return Fj();if(!r)throw ua.create("no-app",{appName:e});return r}function ei(e,r,s){var n;let o=(n=RA[e])!==null&&n!==void 0?n:e;s&&(o+=`-${s}`);const c=o.match(/\s|\//),d=r.match(/\s|\//);if(c||d){const u=[`Unable to register library "${o}" with version "${r}":`];c&&u.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&u.push("and"),d&&u.push(`version name "${r}" contains illegal characters (whitespace or "/")`),Ns.warn(u.join(" "));return}Vo(new ni(`${o}-version`,()=>({library:o,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="firebase-heartbeat-database",zA=1,Ho="firebase-heartbeat-store";let Rh=null;function Vj(){return Rh||(Rh=J5(MA,zA,{upgrade:(e,r)=>{switch(r){case 0:try{e.createObjectStore(Ho)}catch(s){console.warn(s)}}}}).catch(e=>{throw ua.create("idb-open",{originalErrorMessage:e.message})})),Rh}async function IA(e){try{const s=(await Vj()).transaction(Ho),n=await s.objectStore(Ho).get(Hj(e));return await s.done,n}catch(r){if(r instanceof ga)Ns.warn(r.message);else{const s=ua.create("idb-get",{originalErrorMessage:r==null?void 0:r.message});Ns.warn(s.message)}}}async function $b(e,r){try{const n=(await Vj()).transaction(Ho,"readwrite");await n.objectStore(Ho).put(r,Hj(e)),await n.done}catch(s){if(s instanceof ga)Ns.warn(s.message);else{const n=ua.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Ns.warn(n.message)}}}function Hj(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=1024,UA=30;class FA{constructor(r){this.container=r,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new HA(s),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var r,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Gb();if(((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>UA){const d=qA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ns.warn(n)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Gb(),{heartbeatsToSend:n,unsentEntries:o}=VA(this._heartbeatsCache.heartbeats),c=Dj(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(s){return Ns.warn(s),""}}}function Gb(){return new Date().toISOString().substring(0,10)}function VA(e,r=BA){const s=[];let n=e.slice();for(const o of e){const c=s.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Yb(s)>r){c.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Yb(s)>r){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}class HA{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A5()?E5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await IA(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return $b(this.app,{lastSentHeartbeatDate:(s=r.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return $b(this.app,{lastSentHeartbeatDate:(s=r.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...r.heartbeats]})}else return}}function Yb(e){return Dj(JSON.stringify({version:2,heartbeats:e})).length}function qA(e){if(e.length===0)return-1;let r=0,s=e[0].date;for(let n=1;n<e.length;n++)e[n].date<s&&(s=e[n].date,r=n);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(e){Vo(new ni("platform-logger",r=>new rA(r),"PRIVATE")),Vo(new ni("heartbeat",r=>new FA(r),"PRIVATE")),ei(pf,Hb,e),ei(pf,Hb,"esm2017"),ei("fire-js","")}$A("");var GA="firebase",YA="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(GA,YA,"app");function lp(e,r){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s}function qj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WA=qj,$j=new nl("auth","Firebase",qj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new zj("@firebase/auth");function KA(e,...r){hd.logLevel<=Ye.WARN&&hd.warn(`Auth (${ol}): ${e}`,...r)}function Zc(e,...r){hd.logLevel<=Ye.ERROR&&hd.error(`Auth (${ol}): ${e}`,...r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e,...r){throw dp(e,...r)}function Tr(e,...r){return dp(e,...r)}function cp(e,r,s){const n=Object.assign(Object.assign({},WA()),{[r]:s});return new nl("auth","Firebase",n).create(r,{appName:e.name})}function Ja(e){return cp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XA(e,r,s){const n=s;if(!(r instanceof n))throw n.name!==r.constructor.name&&Gr(e,"argument-error"),cp(e,"argument-error",`Type of ${r.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(e,...r){if(typeof e!="string"){const s=r[0],n=[...r.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(s,...n)}return $j.create(e,...r)}function Ne(e,r,...s){if(!e)throw dp(r,...s)}function ps(e){const r="INTERNAL ASSERTION FAILED: "+e;throw Zc(r),new Error(r)}function Cs(e,r){e||ps(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function ZA(){return Wb()==="http:"||Wb()==="https:"}function Wb(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZA()||S5()||"connection"in navigator)?navigator.onLine:!0}function JA(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(r,s){this.shortDelay=r,this.longDelay=s,Cs(s>r,"Short delay should be less than long delay!"),this.isMobile=N5()||k5()}get(){return QA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(e,r){Cs(e.emulator,"Emulator should always be set here");const{url:s}=e.emulator;return r?`${s}${r.startsWith("/")?r.slice(1):r}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{static initialize(r,s,n){this.fetchImpl=r,s&&(this.headersImpl=s),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rE=new ll(3e4,6e4);function mp(e,r){return e.tenantId&&!r.tenantId?Object.assign(Object.assign({},r),{tenantId:e.tenantId}):r}async function xi(e,r,s,n,o={}){return Yj(e,o,async()=>{let c={},d={};n&&(r==="GET"?d=n:c={body:JSON.stringify(n)});const u=il(Object.assign({key:e.config.apiKey},d)).slice(1),h=await e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);const f=Object.assign({method:r,headers:h},c);return C5()||(f.referrerPolicy="no-referrer"),e.emulatorConfig&&ip(e.emulatorConfig.host)&&(f.credentials="include"),Gj.fetch()(await Wj(e,e.config.apiHost,s,u),f)})}async function Yj(e,r,s){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},eE),r);try{const o=new aE(e),c=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zc(e,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const u=c.ok?d.errorMessage:d.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(e,"credential-already-in-use",d);if(h==="EMAIL_EXISTS")throw zc(e,"email-already-in-use",d);if(h==="USER_DISABLED")throw zc(e,"user-disabled",d);const x=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw cp(e,x,f);Gr(e,x)}}catch(o){if(o instanceof ga)throw o;Gr(e,"network-request-failed",{message:String(o)})}}async function sE(e,r,s,n,o={}){const c=await xi(e,r,s,n,o);return"mfaPendingCredential"in c&&Gr(e,"multi-factor-auth-required",{_serverResponse:c}),c}async function Wj(e,r,s,n){const o=`${r}${s}?${n}`,c=e,d=c.config.emulator?up(e.config,o):`${e.config.apiScheme}://${o}`;return tE.includes(s)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class aE{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(r){this.auth=r,this.timer=null,this.promise=new Promise((s,n)=>{this.timer=setTimeout(()=>n(Tr(this.auth,"network-request-failed")),rE.get())})}}function zc(e,r,s){const n={appName:e.name};s.email&&(n.email=s.email),s.phoneNumber&&(n.phoneNumber=s.phoneNumber);const o=Tr(e,r,n);return o.customData._tokenResponse=s,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(e,r){return xi(e,"POST","/v1/accounts:delete",r)}async function fd(e,r){return xi(e,"POST","/v1/accounts:lookup",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(e){if(e)try{const r=new Date(Number(e));if(!isNaN(r.getTime()))return r.toUTCString()}catch{}}async function iE(e,r=!1){const s=pi(e),n=await s.getIdToken(r),o=hp(n);Ne(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:n,authTime:Po(Dh(o.auth_time)),issuedAtTime:Po(Dh(o.iat)),expirationTime:Po(Dh(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Dh(e){return Number(e)*1e3}function hp(e){const[r,s,n]=e.split(".");if(r===void 0||s===void 0||n===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Oj(s);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Kb(e){const r=hp(e);return Ne(r,"internal-error"),Ne(typeof r.exp<"u","internal-error"),Ne(typeof r.iat<"u","internal-error"),Number(r.exp)-Number(r.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(e,r,s=!1){if(s)return r;try{return await r}catch(n){throw n instanceof ga&&oE(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function oE({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(r){this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(r){var s;if(r){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const o=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(r=!1){if(!this.isRunning)return;const s=this.getInterval(r);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(r){(r==null?void 0:r.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(r,s){this.createdAt=r,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(r){this.createdAt=r.createdAt,this.lastLoginAt=r.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(e){var r;const s=e.auth,n=await e.getIdToken(),o=await qo(e,fd(s,{idToken:n}));Ne(o==null?void 0:o.users.length,s,"internal-error");const c=o.users[0];e._notifyReloadListener(c);const d=!((r=c.providerUserInfo)===null||r===void 0)&&r.length?Kj(c.providerUserInfo):[],u=dE(e.providerData,d),h=e.isAnonymous,f=!(e.email&&c.passwordHash)&&!(u!=null&&u.length),x=h?f:!1,g={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:u,metadata:new vf(c.createdAt,c.lastLoginAt),isAnonymous:x};Object.assign(e,g)}async function cE(e){const r=pi(e);await pd(r),await r.auth._persistUserIfCurrent(r),r.auth._notifyListenersIfCurrent(r)}function dE(e,r){return[...e.filter(n=>!r.some(o=>o.providerId===n.providerId)),...r]}function Kj(e){return e.map(r=>{var{providerId:s}=r,n=lp(r,["providerId"]);return{providerId:s,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uE(e,r){const s=await Yj(e,{},async()=>{const n=il({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:o,apiKey:c}=e.config,d=await Wj(e,o,"/v1/token",`key=${c}`),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Gj.fetch()(d,{method:"POST",headers:u,body:n})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function mE(e,r){return xi(e,"POST","/v2/accounts:revokeToken",mp(e,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(r){Ne(r.idToken,"internal-error"),Ne(typeof r.idToken<"u","internal-error"),Ne(typeof r.refreshToken<"u","internal-error");const s="expiresIn"in r&&typeof r.expiresIn<"u"?Number(r.expiresIn):Kb(r.idToken);this.updateTokensAndExpiration(r.idToken,r.refreshToken,s)}updateFromIdToken(r){Ne(r.length!==0,"internal-error");const s=Kb(r);this.updateTokensAndExpiration(r,null,s)}async getToken(r,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,r,"user-token-expired"),this.refreshToken?(await this.refresh(r,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(r,s){const{accessToken:n,refreshToken:o,expiresIn:c}=await uE(r,s);this.updateTokensAndExpiration(n,o,Number(c))}updateTokensAndExpiration(r,s,n){this.refreshToken=s||null,this.accessToken=r||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(r,s){const{refreshToken:n,accessToken:o,expirationTime:c}=s,d=new ti;return n&&(Ne(typeof n=="string","internal-error",{appName:r}),d.refreshToken=n),o&&(Ne(typeof o=="string","internal-error",{appName:r}),d.accessToken=o),c&&(Ne(typeof c=="number","internal-error",{appName:r}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(r){this.accessToken=r.accessToken,this.refreshToken=r.refreshToken,this.expirationTime=r.expirationTime}_clone(){return Object.assign(new ti,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(e,r){Ne(typeof e=="string"||typeof e>"u","internal-error",{appName:r})}class Er{constructor(r){var{uid:s,auth:n,stsTokenManager:o}=r,c=lp(r,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new vf(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(r){const s=await qo(this,this.stsTokenManager.getToken(this.auth,r));return Ne(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(r){return iE(this,r)}reload(){return cE(this)}_assign(r){this!==r&&(Ne(this.uid===r.uid,this.auth,"internal-error"),this.displayName=r.displayName,this.photoURL=r.photoURL,this.email=r.email,this.emailVerified=r.emailVerified,this.phoneNumber=r.phoneNumber,this.isAnonymous=r.isAnonymous,this.tenantId=r.tenantId,this.providerData=r.providerData.map(s=>Object.assign({},s)),this.metadata._copy(r.metadata),this.stsTokenManager._assign(r.stsTokenManager))}_clone(r){const s=new Er(Object.assign(Object.assign({},this),{auth:r,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(r){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=r,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(r){this.reloadListener?this.reloadListener(r):this.reloadUserInfo=r}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(r,s=!1){let n=!1;r.idToken&&r.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(r),n=!0),s&&await pd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(Ja(this.auth));const r=await this.getIdToken();return await qo(this,nE(this.auth,{idToken:r})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(r=>Object.assign({},r)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(r,s){var n,o,c,d,u,h,f,x;const g=(n=s.displayName)!==null&&n!==void 0?n:void 0,v=(o=s.email)!==null&&o!==void 0?o:void 0,b=(c=s.phoneNumber)!==null&&c!==void 0?c:void 0,j=(d=s.photoURL)!==null&&d!==void 0?d:void 0,k=(u=s.tenantId)!==null&&u!==void 0?u:void 0,_=(h=s._redirectEventId)!==null&&h!==void 0?h:void 0,C=(f=s.createdAt)!==null&&f!==void 0?f:void 0,A=(x=s.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:R,emailVerified:S,isAnonymous:T,providerData:P,stsTokenManager:q}=s;Ne(R&&q,r,"internal-error");const U=ti.fromJSON(this.name,q);Ne(typeof R=="string",r,"internal-error"),ta(g,r.name),ta(v,r.name),Ne(typeof S=="boolean",r,"internal-error"),Ne(typeof T=="boolean",r,"internal-error"),ta(b,r.name),ta(j,r.name),ta(k,r.name),ta(_,r.name),ta(C,r.name),ta(A,r.name);const V=new Er({uid:R,auth:r,email:v,emailVerified:S,displayName:g,isAnonymous:T,photoURL:j,phoneNumber:b,tenantId:k,stsTokenManager:U,createdAt:C,lastLoginAt:A});return P&&Array.isArray(P)&&(V.providerData=P.map(M=>Object.assign({},M))),_&&(V._redirectEventId=_),V}static async _fromIdTokenResponse(r,s,n=!1){const o=new ti;o.updateFromServerResponse(s);const c=new Er({uid:s.localId,auth:r,stsTokenManager:o,isAnonymous:n});return await pd(c),c}static async _fromGetAccountInfoResponse(r,s,n){const o=s.users[0];Ne(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Kj(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),u=new ti;u.updateFromIdToken(n);const h=new Er({uid:o.localId,auth:r,stsTokenManager:u,isAnonymous:d}),f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;function xs(e){Cs(e instanceof Function,"Expected a class definition");let r=Xb.get(e);return r?(Cs(r instanceof e,"Instance stored in cache mismatched with class"),r):(r=new e,Xb.set(e,r),r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(r,s){this.storage[r]=s}async _get(r){const s=this.storage[r];return s===void 0?null:s}async _remove(r){delete this.storage[r]}_addListener(r,s){}_removeListener(r,s){}}Xj.type="NONE";const Zb=Xj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(e,r,s){return`firebase:${e}:${r}:${s}`}class ri{constructor(r,s,n){this.persistence=r,this.auth=s,this.userKey=n;const{config:o,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Qc("persistence",o.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(r){return this.persistence._set(this.fullUserKey,r.toJSON())}async getCurrentUser(){const r=await this.persistence._get(this.fullUserKey);if(!r)return null;if(typeof r=="string"){const s=await fd(this.auth,{idToken:r}).catch(()=>{});return s?Er._fromGetAccountInfoResponse(this.auth,s,r):null}return Er._fromJSON(this.auth,r)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(r){if(this.persistence===r)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=r,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(r,s,n="authUser"){if(!s.length)return new ri(xs(Zb),r,n);const o=(await Promise.all(s.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let c=o[0]||xs(Zb);const d=Qc(n,r.config.apiKey,r.name);let u=null;for(const f of s)try{const x=await f._get(d);if(x){let g;if(typeof x=="string"){const v=await fd(r,{idToken:x}).catch(()=>{});if(!v)break;g=await Er._fromGetAccountInfoResponse(r,v,x)}else g=Er._fromJSON(r,x);f!==c&&(u=g),c=f;break}}catch{}const h=o.filter(f=>f._shouldAllowMigration);return!c._shouldAllowMigration||!h.length?new ri(c,r,n):(c=h[0],u&&await c._set(d,u.toJSON()),await Promise.all(s.map(async f=>{if(f!==c)try{await f._remove(d)}catch{}})),new ri(c,r,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(e){const r=e.toLowerCase();if(r.includes("opera/")||r.includes("opr/")||r.includes("opios/"))return"Opera";if(e2(r))return"IEMobile";if(r.includes("msie")||r.includes("trident/"))return"IE";if(r.includes("edge/"))return"Edge";if(Zj(r))return"Firefox";if(r.includes("silk/"))return"Silk";if(r2(r))return"Blackberry";if(s2(r))return"Webos";if(Qj(r))return"Safari";if((r.includes("chrome/")||Jj(r))&&!r.includes("edge/"))return"Chrome";if(t2(r))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(s);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Zj(e=Ft()){return/firefox\//i.test(e)}function Qj(e=Ft()){const r=e.toLowerCase();return r.includes("safari/")&&!r.includes("chrome/")&&!r.includes("crios/")&&!r.includes("android")}function Jj(e=Ft()){return/crios\//i.test(e)}function e2(e=Ft()){return/iemobile/i.test(e)}function t2(e=Ft()){return/android/i.test(e)}function r2(e=Ft()){return/blackberry/i.test(e)}function s2(e=Ft()){return/webos/i.test(e)}function fp(e=Ft()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function hE(e=Ft()){var r;return fp(e)&&!!(!((r=window.navigator)===null||r===void 0)&&r.standalone)}function fE(){return _5()&&document.documentMode===10}function a2(e=Ft()){return fp(e)||t2(e)||s2(e)||r2(e)||/windows phone/i.test(e)||e2(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(e,r=[]){let s;switch(e){case"Browser":s=Qb(Ft());break;case"Worker":s=`${Qb(Ft())}-${e}`;break;default:s=e}const n=r.length?r.join(","):"FirebaseCore-web";return`${s}/JsCore/${ol}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(r){this.auth=r,this.queue=[]}pushCallback(r,s){const n=c=>new Promise((d,u)=>{try{const h=r(c);d(h)}catch(h){u(h)}});n.onAbort=s,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(r){if(this.auth.currentUser===r)return;const s=[];try{for(const n of this.queue)await n(r),n.onAbort&&s.push(n.onAbort)}catch(n){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xE(e,r={}){return xi(e,"GET","/v2/passwordPolicy",mp(e,r))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=6;class gE{constructor(r){var s,n,o,c;const d=r.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=d.minPasswordLength)!==null&&s!==void 0?s:yE,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=r.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(n=r.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=r.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=r.schemaVersion}validatePassword(r){var s,n,o,c,d,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(r,h),this.validatePasswordCharacterOptions(r,h),h.isValid&&(h.isValid=(s=h.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsUppercaseLetter)!==null&&c!==void 0?c:!0),h.isValid&&(h.isValid=(d=h.containsNumericCharacter)!==null&&d!==void 0?d:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(r,s){const n=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;n&&(s.meetsMinPasswordLength=r.length>=n),o&&(s.meetsMaxPasswordLength=r.length<=o)}validatePasswordCharacterOptions(r,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let n;for(let o=0;o<r.length;o++)n=r.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(r,s,n,o,c){this.customStrengthOptions.containsLowercaseLetter&&(r.containsLowercaseLetter||(r.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(r.containsUppercaseLetter||(r.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(r.containsNumericCharacter||(r.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(r.containsNonAlphanumericCharacter||(r.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(r,s,n,o){this.app=r,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jb(this),this.idTokenSubscription=new Jb(this),this.beforeStateQueue=new pE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$j,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(r,s){return s&&(this._popupRedirectResolver=xs(s)),this._initializationPromise=this.queue(async()=>{var n,o,c;if(!this._deleted&&(this.persistenceManager=await ri.create(this,r),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const r=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!r)){if(this.currentUser&&r&&this.currentUser.uid===r.uid){this._currentUser._assign(r),await this.currentUser.getIdToken();return}await this._updateCurrentUser(r,!0)}}async initializeCurrentUserFromIdToken(r){try{const s=await fd(this,{idToken:r}),n=await Er._fromGetAccountInfoResponse(this,s,r);await this.directlySetCurrentUser(n)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(r){var s;if(Fr(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let o=n,c=!1;if(r&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,u=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(r);(!d||d===u)&&(h!=null&&h.user)&&(o=h.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(r){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,r,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(r){try{await pd(r)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(r)}useDeviceLanguage(){this.languageCode=JA()}async _delete(){this._deleted=!0}async updateCurrentUser(r){if(Fr(this.app))return Promise.reject(Ja(this));const s=r?pi(r):null;return s&&Ne(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(r,s=!1){if(!this._deleted)return r&&Ne(this.tenantId===r.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(r),this.queue(async()=>{await this.directlySetCurrentUser(r),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(Ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(r){return Fr(this.app)?Promise.reject(Ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(r))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(r){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(r)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const r=await xE(this),s=new gE(r);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(r){this._errorFactory=new nl("auth","Firebase",r())}onAuthStateChanged(r,s,n){return this.registerStateListener(this.authStateSubscription,r,s,n)}beforeAuthStateChanged(r,s){return this.beforeStateQueue.pushCallback(r,s)}onIdTokenChanged(r,s,n){return this.registerStateListener(this.idTokenSubscription,r,s,n)}authStateReady(){return new Promise((r,s)=>{if(this.currentUser)r();else{const n=this.onAuthStateChanged(()=>{n(),r()},s)}})}async revokeAccessToken(r){if(this.currentUser){const s=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:r,idToken:s};this.tenantId!=null&&(n.tenantId=this.tenantId),await mE(this,n)}}toJSON(){var r;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(r=this._currentUser)===null||r===void 0?void 0:r.toJSON()}}async _setRedirectUser(r,s){const n=await this.getOrInitRedirectPersistenceManager(s);return r===null?n.removeCurrentUser():n.setCurrentUser(r)}async getOrInitRedirectPersistenceManager(r){if(!this.redirectPersistenceManager){const s=r&&xs(r)||this._popupRedirectResolver;Ne(s,this,"argument-error"),this.redirectPersistenceManager=await ri.create(this,[xs(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(r){var s,n;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===r?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===r?this.redirectUser:null}async _persistUserIfCurrent(r){if(r===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(r))}_notifyListenersIfCurrent(r){r===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(s=(r=this.currentUser)===null||r===void 0?void 0:r.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(r,s,n,o){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s);let d=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{d||c(this.currentUser)}),typeof s=="function"){const h=r.addObserver(s,n,o);return()=>{d=!0,h()}}else{const h=r.addObserver(s);return()=>{d=!0,h()}}}async directlySetCurrentUser(r){this.currentUser&&this.currentUser!==r&&this._currentUser._stopProactiveRefresh(),r&&this.isProactiveRefreshEnabled&&r._startProactiveRefresh(),this.currentUser=r,r?await this.assertedPersistence.setCurrentUser(r):await this.assertedPersistence.removeCurrentUser()}queue(r){return this.operations=this.operations.then(r,r),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(r){!r||this.frameworks.includes(r)||(this.frameworks.push(r),this.frameworks.sort(),this.clientVersion=n2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||r===void 0?void 0:r.getHeartbeatsHeader());n&&(s["X-Firebase-Client"]=n);const o=await this._getAppCheckToken();return o&&(s["X-Firebase-AppCheck"]=o),s}async _getAppCheckToken(){var r;if(Fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||r===void 0?void 0:r.getToken());return s!=null&&s.error&&KA(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function Id(e){return pi(e)}class Jb{constructor(r){this.auth=r,this.observer=null,this.addObserver=P5(s=>this.observer=s)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bE(e){pp=e}function jE(e){return pp.loadJS(e)}function wE(){return pp.gapiScript}function NE(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(e,r){const s=Uj(e,"auth");if(s.isInitialized()){const o=s.getImmediate(),c=s.getOptions();if(ai(c,r??{}))return o;Gr(o,"already-initialized")}return s.initialize({options:r})}function SE(e,r){const s=(r==null?void 0:r.persistence)||[],n=(Array.isArray(s)?s:[s]).map(xs);r!=null&&r.errorMap&&e._updateErrorMap(r.errorMap),e._initializeWithPersistence(n,r==null?void 0:r.popupRedirectResolver)}function kE(e,r,s){const n=Id(e);Ne(/^https?:\/\//.test(r),n,"invalid-emulator-scheme");const o=!1,c=i2(r),{host:d,port:u}=_E(r),h=u===null?"":`:${u}`,f={url:`${c}//${d}${h}/`},x=Object.freeze({host:d,port:u,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator){Ne(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ne(ai(f,n.config.emulator)&&ai(x,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=x,n.settings.appVerificationDisabledForTesting=!0,ip(d)?(Mj("Auth",!0),b5(`${c}//${d}${h}`)):AE()}function i2(e){const r=e.indexOf(":");return r<0?"":e.substr(0,r+1)}function _E(e){const r=i2(e),s=/(\/\/)?([^?#/]+)/.exec(e.substr(r.length));if(!s)return{host:"",port:null};const n=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const c=o[1];return{host:c,port:e0(n.substr(c.length+1))}}else{const[c,d]=n.split(":");return{host:c,port:e0(d)}}}function e0(e){if(!e)return null;const r=Number(e);return isNaN(r)?null:r}function AE(){function e(){const r=document.createElement("p"),s=r.style;r.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",r.classList.add("firebase-emulator-warning"),document.body.appendChild(r)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(r,s){this.providerId=r,this.signInMethod=s}toJSON(){return ps("not implemented")}_getIdTokenResponse(r){return ps("not implemented")}_linkToIdToken(r,s){return ps("not implemented")}_getReauthenticationResolver(r){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function si(e,r){return sE(e,"POST","/v1/accounts:signInWithIdp",mp(e,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="http://localhost";class nn extends o2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(r){const s=new nn(r.providerId,r.signInMethod);return r.idToken||r.accessToken?(r.idToken&&(s.idToken=r.idToken),r.accessToken&&(s.accessToken=r.accessToken),r.nonce&&!r.pendingToken&&(s.nonce=r.nonce),r.pendingToken&&(s.pendingToken=r.pendingToken)):r.oauthToken&&r.oauthTokenSecret?(s.accessToken=r.oauthToken,s.secret=r.oauthTokenSecret):Gr("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(r){const s=typeof r=="string"?JSON.parse(r):r,{providerId:n,signInMethod:o}=s,c=lp(s,["providerId","signInMethod"]);if(!n||!o)return null;const d=new nn(n,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(r){const s=this.buildRequest();return si(r,s)}_linkToIdToken(r,s){const n=this.buildRequest();return n.idToken=s,si(r,n)}_getReauthenticationResolver(r){const s=this.buildRequest();return s.autoCreate=!1,si(r,s)}buildRequest(){const r={requestUri:EE,returnSecureToken:!0};if(this.pendingToken)r.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),r.postBody=il(s)}return r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(r){this.providerId=r,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(r){this.defaultLanguageCode=r}setCustomParameters(r){return this.customParameters=r,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends xp{constructor(){super(...arguments),this.scopes=[]}addScope(r){return this.scopes.includes(r)||this.scopes.push(r),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends cl{constructor(){super("facebook.com")}static credential(r){return nn._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.FACEBOOK_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return oa.credentialFromTaggedObject(r)}static credentialFromError(r){return oa.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return oa.credential(r.oauthAccessToken)}catch{return null}}}oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";oa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends cl{constructor(){super("google.com"),this.addScope("profile")}static credential(r,s){return nn._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:r,accessToken:s})}static credentialFromResult(r){return fs.credentialFromTaggedObject(r)}static credentialFromError(r){return fs.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthIdToken:s,oauthAccessToken:n}=r;if(!s&&!n)return null;try{return fs.credential(s,n)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends cl{constructor(){super("github.com")}static credential(r){return nn._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GITHUB_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return la.credentialFromTaggedObject(r)}static credentialFromError(r){return la.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return la.credential(r.oauthAccessToken)}catch{return null}}}la.GITHUB_SIGN_IN_METHOD="github.com";la.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends cl{constructor(){super("twitter.com")}static credential(r,s){return nn._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.TWITTER_SIGN_IN_METHOD,oauthToken:r,oauthTokenSecret:s})}static credentialFromResult(r){return ca.credentialFromTaggedObject(r)}static credentialFromError(r){return ca.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthAccessToken:s,oauthTokenSecret:n}=r;if(!s||!n)return null;try{return ca.credential(s,n)}catch{return null}}}ca.TWITTER_SIGN_IN_METHOD="twitter.com";ca.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(r){this.user=r.user,this.providerId=r.providerId,this._tokenResponse=r._tokenResponse,this.operationType=r.operationType}static async _fromIdTokenResponse(r,s,n,o=!1){const c=await Er._fromIdTokenResponse(r,n,o),d=t0(n);return new ii({user:c,providerId:d,_tokenResponse:n,operationType:s})}static async _forOperation(r,s,n){await r._updateTokensIfNecessary(n,!0);const o=t0(n);return new ii({user:r,providerId:o,_tokenResponse:n,operationType:s})}}function t0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends ga{constructor(r,s,n,o){var c;super(s.code,s.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,xd.prototype),this.customData={appName:r.name,tenantId:(c=r.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:s.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(r,s,n,o){return new xd(r,s,n,o)}}function l2(e,r,s,n){return(r==="reauthenticate"?s._getReauthenticationResolver(e):s._getIdTokenResponse(e)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?xd._fromErrorAndOperation(e,c,r,n):c})}async function TE(e,r,s=!1){const n=await qo(e,r._linkToIdToken(e.auth,await e.getIdToken()),s);return ii._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RE(e,r,s=!1){const{auth:n}=e;if(Fr(n.app))return Promise.reject(Ja(n));const o="reauthenticate";try{const c=await qo(e,l2(n,o,r,e),s);Ne(c.idToken,n,"internal-error");const d=hp(c.idToken);Ne(d,n,"internal-error");const{sub:u}=d;return Ne(e.uid===u,n,"user-mismatch"),ii._forOperation(e,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Gr(n,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(e,r,s=!1){if(Fr(e.app))return Promise.reject(Ja(e));const n="signIn",o=await l2(e,n,r),c=await ii._fromIdTokenResponse(e,n,o);return s||await e._updateCurrentUser(c.user),c}function OE(e,r,s,n){return pi(e).onIdTokenChanged(r,s,n)}function PE(e,r,s){return pi(e).beforeAuthStateChanged(r,s)}const yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(r,s){this.storageRetriever=r,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(r,s){return this.storage.setItem(r,JSON.stringify(s)),Promise.resolve()}_get(r){const s=this.storage.getItem(r);return Promise.resolve(s?JSON.parse(s):null)}_remove(r){return this.storage.removeItem(r),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=1e3,ME=10;class d2 extends c2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(r,s)=>this.onStorageEvent(r,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a2(),this._shouldAllowMigration=!0}forAllChangedKeys(r){for(const s of Object.keys(this.listeners)){const n=this.storage.getItem(s),o=this.localCache[s];n!==o&&r(s,o,n)}}onStorageEvent(r,s=!1){if(!r.key){this.forAllChangedKeys((d,u,h)=>{this.notifyListeners(d,h)});return}const n=r.key;s?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(n);!s&&this.localCache[n]===d||this.notifyListeners(n,d)},c=this.storage.getItem(n);fE()&&c!==r.newValue&&r.newValue!==r.oldValue?setTimeout(o,ME):o()}notifyListeners(r,s){this.localCache[r]=s;const n=this.listeners[r];if(n)for(const o of Array.from(n))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((r,s,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:s,newValue:n}),!0)})},LE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(r,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[r]||(this.listeners[r]=new Set,this.localCache[r]=this.storage.getItem(r)),this.listeners[r].add(s)}_removeListener(r,s){this.listeners[r]&&(this.listeners[r].delete(s),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(r,s){await super._set(r,s),this.localCache[r]=JSON.stringify(s)}async _get(r){const s=await super._get(r);return this.localCache[r]=JSON.stringify(s),s}async _remove(r){await super._remove(r),delete this.localCache[r]}}d2.type="LOCAL";const zE=d2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2 extends c2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(r,s){}_removeListener(r,s){}}u2.type="SESSION";const m2=u2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(e){return Promise.all(e.map(async r=>{try{return{fulfilled:!0,value:await r}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(r){this.eventTarget=r,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(r){const s=this.receivers.find(o=>o.isListeningto(r));if(s)return s;const n=new Bd(r);return this.receivers.push(n),n}isListeningto(r){return this.eventTarget===r}async handleEvent(r){const s=r,{eventId:n,eventType:o,data:c}=s.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;s.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const u=Array.from(d).map(async f=>f(s.origin,c)),h=await IE(u);s.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:h})}_subscribe(r,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[r]||(this.handlersMap[r]=new Set),this.handlersMap[r].add(s)}_unsubscribe(r,s){this.handlersMap[r]&&s&&this.handlersMap[r].delete(s),(!s||this.handlersMap[r].size===0)&&delete this.handlersMap[r],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(e="",r=10){let s="";for(let n=0;n<r;n++)s+=Math.floor(Math.random()*10);return e+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(r){this.target=r,this.handlers=new Set}removeMessageHandler(r){r.messageChannel&&(r.messageChannel.port1.removeEventListener("message",r.onMessage),r.messageChannel.port1.close()),this.handlers.delete(r)}async _send(r,s,n=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((u,h)=>{const f=yp("",20);o.port1.start();const x=setTimeout(()=>{h(new Error("unsupported_event"))},n);d={messageChannel:o,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),u(v.data.response);break;default:clearTimeout(x),clearTimeout(c),h(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:r,eventId:f,data:s},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function UE(e){Vr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function FE(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VE(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function HE(){return h2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="firebaseLocalStorageDb",qE=1,gd="firebaseLocalStorage",p2="fbase_key";class dl{constructor(r){this.request=r}toPromise(){return new Promise((r,s)=>{this.request.addEventListener("success",()=>{r(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Ud(e,r){return e.transaction([gd],r?"readwrite":"readonly").objectStore(gd)}function $E(){const e=indexedDB.deleteDatabase(f2);return new dl(e).toPromise()}function bf(){const e=indexedDB.open(f2,qE);return new Promise((r,s)=>{e.addEventListener("error",()=>{s(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(gd,{keyPath:p2})}catch(o){s(o)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(gd)?r(n):(n.close(),await $E(),r(await bf()))})})}async function r0(e,r,s){const n=Ud(e,!0).put({[p2]:r,value:s});return new dl(n).toPromise()}async function GE(e,r){const s=Ud(e,!1).get(r),n=await new dl(s).toPromise();return n===void 0?null:n.value}function s0(e,r){const s=Ud(e,!0).delete(r);return new dl(s).toPromise()}const YE=800,WE=3;class x2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bf(),this.db)}async _withRetries(r){let s=0;for(;;)try{const n=await this._openDb();return await r(n)}catch(n){if(s++>WE)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance(HE()),this.receiver._subscribe("keyChanged",async(r,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(r,s)=>["keyChanged"])}async initializeSender(){var r,s;if(this.activeServiceWorker=await FE(),!this.activeServiceWorker)return;this.sender=new BE(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((r=n[0])===null||r===void 0)&&r.fulfilled&&!((s=n[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(r){if(!(!this.sender||!this.activeServiceWorker||VE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:r},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const r=await bf();return await r0(r,yd,"1"),await s0(r,yd),!0}catch{}return!1}async _withPendingWrite(r){this.pendingWrites++;try{await r()}finally{this.pendingWrites--}}async _set(r,s){return this._withPendingWrite(async()=>(await this._withRetries(n=>r0(n,r,s)),this.localCache[r]=s,this.notifyServiceWorker(r)))}async _get(r){const s=await this._withRetries(n=>GE(n,r));return this.localCache[r]=s,s}async _remove(r){return this._withPendingWrite(async()=>(await this._withRetries(s=>s0(s,r)),delete this.localCache[r],this.notifyServiceWorker(r)))}async _poll(){const r=await this._withRetries(o=>{const c=Ud(o,!1).getAll();return new dl(c).toPromise()});if(!r)return[];if(this.pendingWrites!==0)return[];const s=[],n=new Set;if(r.length!==0)for(const{fbase_key:o,value:c}of r)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(r,s){this.localCache[r]=s;const n=this.listeners[r];if(n)for(const o of Array.from(n))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(r,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[r]||(this.listeners[r]=new Set,this._get(r)),this.listeners[r].add(s)}_removeListener(r,s){this.listeners[r]&&(this.listeners[r].delete(s),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x2.type="LOCAL";const KE=x2;new ll(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(e,r){return r?xs(r):(Ne(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends o2{constructor(r){super("custom","custom"),this.params=r}_getIdTokenResponse(r){return si(r,this._buildIdpRequest())}_linkToIdToken(r,s){return si(r,this._buildIdpRequest(s))}_getReauthenticationResolver(r){return si(r,this._buildIdpRequest())}_buildIdpRequest(r){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return r&&(s.idToken=r),s}}function XE(e){return DE(e.auth,new gp(e),e.bypassAuthState)}function ZE(e){const{auth:r,user:s}=e;return Ne(s,r,"internal-error"),RE(s,new gp(e),e.bypassAuthState)}async function QE(e){const{auth:r,user:s}=e;return Ne(s,r,"internal-error"),TE(s,new gp(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(r,s,n,o,c=!1){this.auth=r,this.resolver=n,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(r,s)=>{this.pendingPromise={resolve:r,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(r){const{urlResponse:s,sessionId:n,postBody:o,tenantId:c,error:d,type:u}=r;if(d){this.reject(d);return}const h={auth:this.auth,requestUri:s,sessionId:n,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(r){this.reject(r)}getIdpTask(r){switch(r){case"signInViaPopup":case"signInViaRedirect":return XE;case"linkViaPopup":case"linkViaRedirect":return QE;case"reauthViaPopup":case"reauthViaRedirect":return ZE;default:Gr(this.auth,"internal-error")}}resolve(r){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(r),this.unregisterAndCleanUp()}reject(r){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(r),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new ll(2e3,1e4);async function e6(e,r,s){if(Fr(e.app))return Promise.reject(Tr(e,"operation-not-supported-in-this-environment"));const n=Id(e);XA(e,r,xp);const o=y2(n,s);return new Wa(n,"signInViaPopup",r,o).executeNotNull()}class Wa extends g2{constructor(r,s,n,o,c){super(r,s,o,c),this.provider=n,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const r=await this.execute();return Ne(r,this.auth,"internal-error"),r}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const r=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],r),this.authWindow.associatedEvent=r,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var r;return((r=this.authWindow)===null||r===void 0?void 0:r.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const r=()=>{var s,n;if(!((n=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(r,JE.get())};r()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="pendingRedirect",Jc=new Map;class r6 extends g2{constructor(r,s,n=!1){super(r,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,n),this.eventId=null}async execute(){let r=Jc.get(this.auth._key());if(!r){try{const n=await s6(this.resolver,this.auth)?await super.execute():null;r=()=>Promise.resolve(n)}catch(s){r=()=>Promise.reject(s)}Jc.set(this.auth._key(),r)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),r()}async onAuthEvent(r){if(r.type==="signInViaRedirect")return super.onAuthEvent(r);if(r.type==="unknown"){this.resolve(null);return}if(r.eventId){const s=await this.auth._redirectUserForId(r.eventId);if(s)return this.user=s,super.onAuthEvent(r);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s6(e,r){const s=i6(r),n=n6(e);if(!await n._isAvailable())return!1;const o=await n._get(s)==="true";return await n._remove(s),o}function a6(e,r){Jc.set(e._key(),r)}function n6(e){return xs(e._redirectPersistence)}function i6(e){return Qc(t6,e.config.apiKey,e.name)}async function o6(e,r,s=!1){if(Fr(e.app))return Promise.reject(Ja(e));const n=Id(e),o=y2(n,r),d=await new r6(n,o,s).execute();return d&&!s&&(delete d.user._redirectEventId,await n._persistUserIfCurrent(d.user),await n._setRedirectUser(null,r)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=10*60*1e3;class c6{constructor(r){this.auth=r,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(r){this.consumers.add(r),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,r)&&(this.sendToConsumer(this.queuedRedirectEvent,r),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(r){this.consumers.delete(r)}onEvent(r){if(this.hasEventBeenHandled(r))return!1;let s=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(r,n)&&(s=!0,this.sendToConsumer(r,n),this.saveEventToCache(r))}),this.hasHandledPotentialRedirect||!d6(r)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=r,s=!0)),s}sendToConsumer(r,s){var n;if(r.error&&!v2(r)){const o=((n=r.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";s.onError(Tr(this.auth,o))}else s.onAuthEvent(r)}isEventForConsumer(r,s){const n=s.eventId===null||!!r.eventId&&r.eventId===s.eventId;return s.filter.includes(r.type)&&n}hasEventBeenHandled(r){return Date.now()-this.lastProcessedEventTime>=l6&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(r))}saveEventToCache(r){this.cachedEventUids.add(a0(r)),this.lastProcessedEventTime=Date.now()}}function a0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(r=>r).join("-")}function v2({type:e,error:r}){return e==="unknown"&&(r==null?void 0:r.code)==="auth/no-auth-event"}function d6(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v2(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(e,r={}){return xi(e,"GET","/v1/projects",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h6=/^https?/;async function f6(e){if(e.config.emulator)return;const{authorizedDomains:r}=await u6(e);for(const s of r)try{if(p6(s))return}catch{}Gr(e,"unauthorized-domain")}function p6(e){const r=gf(),{protocol:s,hostname:n}=new URL(r);if(e.startsWith("chrome-extension://")){const d=new URL(e);return d.hostname===""&&n===""?s==="chrome-extension:"&&e.replace("chrome-extension://","")===r.replace("chrome-extension://",""):s==="chrome-extension:"&&d.hostname===n}if(!h6.test(s))return!1;if(m6.test(e))return n===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new ll(3e4,6e4);function n0(){const e=Vr().___jsl;if(e!=null&&e.H){for(const r of Object.keys(e.H))if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=[...e.H[r].L],e.CP)for(let s=0;s<e.CP.length;s++)e.CP[s]=null}}function y6(e){return new Promise((r,s)=>{var n,o,c;function d(){n0(),gapi.load("gapi.iframes",{callback:()=>{r(gapi.iframes.getContext())},ontimeout:()=>{n0(),s(Tr(e,"network-request-failed"))},timeout:x6.get()})}if(!((o=(n=Vr().gapi)===null||n===void 0?void 0:n.iframes)===null||o===void 0)&&o.Iframe)r(gapi.iframes.getContext());else if(!((c=Vr().gapi)===null||c===void 0)&&c.load)d();else{const u=NE("iframefcb");return Vr()[u]=()=>{gapi.load?d():s(Tr(e,"network-request-failed"))},jE(`${wE()}?onload=${u}`).catch(h=>s(h))}}).catch(r=>{throw ed=null,r})}let ed=null;function g6(e){return ed=ed||y6(e),ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=new ll(5e3,15e3),b6="__/auth/iframe",j6="emulator/auth/iframe",w6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C6(e){const r=e.config;Ne(r.authDomain,e,"auth-domain-config-required");const s=r.emulator?up(r,j6):`https://${e.config.authDomain}/${b6}`,n={apiKey:r.apiKey,appName:e.name,v:ol},o=N6.get(e.config.apiHost);o&&(n.eid=o);const c=e._getFrameworks();return c.length&&(n.fw=c.join(",")),`${s}?${il(n).slice(1)}`}async function S6(e){const r=await g6(e),s=Vr().gapi;return Ne(s,e,"internal-error"),r.open({where:document.body,url:C6(e),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w6,dontclear:!0},n=>new Promise(async(o,c)=>{await n.restyle({setHideOnLeave:!1});const d=Tr(e,"network-request-failed"),u=Vr().setTimeout(()=>{c(d)},v6.get());function h(){Vr().clearTimeout(u),o(n)}n.ping(h).then(h,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_6=500,A6=600,E6="_blank",T6="http://localhost";class i0{constructor(r){this.window=r,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R6(e,r,s,n=_6,o=A6){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const h=Object.assign(Object.assign({},k6),{width:n.toString(),height:o.toString(),top:c,left:d}),f=Ft().toLowerCase();s&&(u=Jj(f)?E6:s),Zj(f)&&(r=r||T6,h.scrollbars="yes");const x=Object.entries(h).reduce((v,[b,j])=>`${v}${b}=${j},`,"");if(hE(f)&&u!=="_self")return D6(r||"",u),new i0(null);const g=window.open(r||"",u,x);Ne(g,e,"popup-blocked");try{g.focus()}catch{}return new i0(g)}function D6(e,r){const s=document.createElement("a");s.href=e,s.target=r;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="__/auth/handler",P6="emulator/auth/handler",L6=encodeURIComponent("fac");async function o0(e,r,s,n,o,c){Ne(e.config.authDomain,e,"auth-domain-config-required"),Ne(e.config.apiKey,e,"invalid-api-key");const d={apiKey:e.config.apiKey,appName:e.name,authType:s,redirectUrl:n,v:ol,eventId:o};if(r instanceof xp){r.setDefaultLanguage(e.languageCode),d.providerId=r.providerId||"",O5(r.getCustomParameters())||(d.customParameters=JSON.stringify(r.getCustomParameters()));for(const[x,g]of Object.entries({}))d[x]=g}if(r instanceof cl){const x=r.getScopes().filter(g=>g!=="");x.length>0&&(d.scopes=x.join(","))}e.tenantId&&(d.tid=e.tenantId);const u=d;for(const x of Object.keys(u))u[x]===void 0&&delete u[x];const h=await e._getAppCheckToken(),f=h?`#${L6}=${encodeURIComponent(h)}`:"";return`${M6(e)}?${il(u).slice(1)}${f}`}function M6({config:e}){return e.emulator?up(e,P6):`https://${e.authDomain}/${O6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="webStorageSupport";class z6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m2,this._completeRedirectFn=o6,this._overrideRedirectResult=a6}async _openPopup(r,s,n,o){var c;Cs((c=this.eventManagers[r._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await o0(r,s,n,gf(),o);return R6(r,d,yp())}async _openRedirect(r,s,n,o){await this._originValidation(r);const c=await o0(r,s,n,gf(),o);return UE(c),new Promise(()=>{})}_initialize(r){const s=r._key();if(this.eventManagers[s]){const{manager:o,promise:c}=this.eventManagers[s];return o?Promise.resolve(o):(Cs(c,"If manager is not set, promise should be"),c)}const n=this.initAndGetManager(r);return this.eventManagers[s]={promise:n},n.catch(()=>{delete this.eventManagers[s]}),n}async initAndGetManager(r){const s=await S6(r),n=new c6(r);return s.register("authEvent",o=>(Ne(o==null?void 0:o.authEvent,r,"invalid-auth-event"),{status:n.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[r._key()]={manager:n},this.iframes[r._key()]=s,n}_isIframeWebStorageSupported(r,s){this.iframes[r._key()].send(Oh,{type:Oh},o=>{var c;const d=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Oh];d!==void 0&&s(!!d),Gr(r,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(r){const s=r._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=f6(r)),this.originValidationPromises[s]}get _shouldInitProactively(){return a2()||Qj()||fp()}}const I6=z6;var l0="@firebase/auth",c0="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(r){this.auth=r,this.internalListeners=new Map}getUid(){var r;return this.assertAuthConfigured(),((r=this.auth.currentUser)===null||r===void 0?void 0:r.uid)||null}async getToken(r){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(r)}:null}addAuthTokenListener(r){if(this.assertAuthConfigured(),this.internalListeners.has(r))return;const s=this.auth.onIdTokenChanged(n=>{r((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(r,s),this.updateProactiveRefresh()}removeAuthTokenListener(r){this.assertAuthConfigured();const s=this.internalListeners.get(r);s&&(this.internalListeners.delete(r),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F6(e){Vo(new ni("auth",(r,{options:s})=>{const n=r.getProvider("app").getImmediate(),o=r.getProvider("heartbeat"),c=r.getProvider("app-check-internal"),{apiKey:d,authDomain:u}=n.options;Ne(d&&!d.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:d,authDomain:u,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n2(e)},f=new vE(n,o,c,h);return SE(f,s),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,s,n)=>{r.getProvider("auth-internal").initialize()})),Vo(new ni("auth-internal",r=>{const s=Id(r.getProvider("auth").getImmediate());return(n=>new B6(n))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(l0,c0,U6(e)),ei(l0,c0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=5*60,H6=Lj("authIdTokenMaxAge")||V6;let d0=null;const q6=e=>async r=>{const s=r&&await r.getIdTokenResult(),n=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(n&&n>H6)return;const o=s==null?void 0:s.token;d0!==o&&(d0=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $6(e=LA()){const r=Uj(e,"auth");if(r.isInitialized())return r.getImmediate();const s=CE(e,{popupRedirectResolver:I6,persistence:[KE,zE,m2]}),n=Lj("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(n,location.origin);if(location.origin===c.origin){const d=q6(c.toString());PE(s,d,()=>d(s.currentUser)),OE(s,u=>d(u))}}const o=g5("auth");return o?kE(s,`http://${o}`):Mj("Auth",!1),s}function G6(){var e,r;return(r=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&r!==void 0?r:document}bE({loadJS(e){return new Promise((r,s)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=r,n.onerror=o=>{const c=Tr("internal-error");c.customData=o,s(c)},n.type="text/javascript",n.charset="UTF-8",G6().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F6("Browser");const Y6={apiKey:"AIzaSyDsPZsRwk4uFh7r-IN8NCzAca_mxPe67OE",authDomain:"anandmobiles-daa8b.firebaseapp.com",projectId:"anandmobiles-daa8b",storageBucket:"anandmobiles-daa8b.firebasestorage.app",messagingSenderId:"403268549781",appId:"1:403268549781:web:4aa820dddb7db1fa076f9c",measurementId:"G-PQSMJKJFFS"},W6=Fj(Y6),K6=$6(W6),X6=new fs,b2=e=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):null}catch(r){return console.error(`Error parsing stored data for key ${e}:`,r),null}},Eo=(e,r)=>{try{return localStorage.setItem(e,JSON.stringify(r)),!0}catch(s){return console.error(`Error storing data for key ${e}:`,s),!1}},Ph=(e,r)=>{try{return e&&localStorage.setItem(an,e),r&&Eo(hs,r),!0}catch(s){return console.error("Error persisting auth data:",s),!1}},Lh=()=>{try{localStorage.removeItem(an),localStorage.removeItem(hs)}catch(e){console.error("Error clearing auth data:",e)}},Z6=()=>{const e=localStorage.getItem(an),r=b2(hs);return{user:r,isAuthenticated:!!(e&&r),isLoading:!1,error:null}},Ie=_t(e=>({...Z6(),login:async r=>{var s,n,o,c;try{e({isLoading:!0,error:null});const u=(await De.post("/users/login",{email:r.email,password:r.password})).data,h={uid:u.user_id,email:u.email,first_name:u.first_name,last_name:u.last_name,phone:u.phone_number||u.phone||""};return Ph(u.token,h),e({user:h,isAuthenticated:!0,isLoading:!1}),u}catch(d){throw e({error:((n=(s=d.response)==null?void 0:s.data)==null?void 0:n.detail)||((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Login failed. Please check your credentials.",isLoading:!1}),d}},signup:async r=>{var s,n,o,c;try{if(e({isLoading:!0,error:null}),r.idToken){const g=(await De.post("/users/signup",{idToken:r.idToken})).data,v={uid:g.user_id,email:g.email,first_name:g.first_name,last_name:g.last_name,phone:g.phone_number||""};return Ph(g.token,v),e({user:v,isAuthenticated:!0,isLoading:!1}),g}const d={email:r.email,password:r.password,first_name:r.firstName||r.first_name||"",last_name:r.lastName||r.last_name||"",phone_number:r.phone||r.phone_number||""};r.metadata&&(d.metadata=r.metadata);const h=(await De.post("/users/signup",d)).data,f={uid:h.user_id,email:h.email,first_name:h.first_name,last_name:h.last_name,phone:h.phone_number||d.phone_number||""};return Ph(h.token,f),e({user:f,isAuthenticated:!0,isLoading:!1}),h}catch(d){throw e({error:((n=(s=d.response)==null?void 0:s.data)==null?void 0:n.detail)||((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Signup failed. Please try again.",isLoading:!1}),d}},googleSignup:async()=>{var r,s,n,o;try{e({isLoading:!0,error:null});const u=await(await e6(K6,X6)).user.getIdToken();return await Ie.getState().signup({idToken:u})}catch(c){throw e({error:((s=(r=c.response)==null?void 0:r.data)==null?void 0:s.detail)||((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Google signup failed. Please try again.",isLoading:!1}),c}},logout:()=>{Lh(),e({user:null,isAuthenticated:!1,error:null,isLoading:!1})},checkAuthStatus:async()=>{try{if(e({isLoading:!0}),localStorage.getItem(an))try{let s=b2(hs);if(!s){const n=await De.get("/users/profile");s={uid:n.data.user_id||n.data.uid,email:n.data.email,first_name:n.data.first_name,last_name:n.data.last_name,phone:n.data.phone_number||n.data.phone||""},Eo(hs,s)}return e({user:s,isAuthenticated:!0,isLoading:!1}),s}catch(s){return Lh(),e({user:null,isAuthenticated:!1,isLoading:!1,error:s.message||"Session expired"}),null}else return e({user:null,isAuthenticated:!1,isLoading:!1}),null}catch(r){return Lh(),e({user:null,isAuthenticated:!1,isLoading:!1,error:r.message||"Session expired"}),null}},updateUserProfile:r=>{const s=Ie.getState().user;if(!s)return;const n={...s,...r};Eo(hs,n),e({user:n})},fetchUserProfile:async()=>{var r,s;try{e({isLoading:!0,error:null});const o=(await De.get("/users/profile/")).data,c={uid:o.user_id||o.uid,email:o.email,first_name:o.first_name,last_name:o.last_name,phone:o.phone_number||o.phone||"",auth_provider:o.auth_provider};return Eo(hs,c),e({user:c,isLoading:!1}),c}catch(n){throw e({error:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.error)||"Failed to fetch profile",isLoading:!1}),n}},updateUserProfileAPI:async r=>{var s,n,o,c;try{e({isLoading:!0,error:null});const d=await De.post("/users/profile/update/",r),u=d.data.user,h={uid:u.user_id||((s=Ie.getState().user)==null?void 0:s.uid),email:u.email,first_name:u.first_name,last_name:u.last_name,phone:u.phone_number||u.phone||"",auth_provider:(n=Ie.getState().user)==null?void 0:n.auth_provider};return Eo(hs,h),e({user:h,isLoading:!1}),{success:!0,message:d.data.message,user:h}}catch(d){throw e({error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to update profile",isLoading:!1}),d}},getToken:()=>{try{return localStorage.getItem(an)}catch(r){return console.error("Error getting token:",r),null}},clearError:()=>e({error:null})}));function jf(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function Yr(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function oi(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Fd(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(e)}function gs(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function Q6(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function vp(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(e)}function J6(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function wf(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function eT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function ha(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function As(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function bp(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function jt(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function Bt(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function _r(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Vd(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function zt(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function ms(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function or(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function Rr(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function tT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function Ss(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function ul(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function vd(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function u0(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function yi(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function rT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function va(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function jp(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(e)}function j2(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function sT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function ml(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(e)}function wp(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function aT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function Hd(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function nT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(e)}function iT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function ma(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function vs(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function w2(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function hl(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function wt(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function oT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function lT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function N2(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function cT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(e)}function Pe(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function gi(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function mt(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Es(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function bd(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function wr(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function dT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function uT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}function jd(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function fa(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function fl(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function mT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function Wr(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function hT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function fT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"},child:[]}]})(e)}function ra(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"},child:[]}]})(e)}function sa(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"},child:[]}]})(e)}function ht(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function et(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(e)}function m0(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function $o(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function qd(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(e)}function Ut(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Np(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function Cp(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function Ze(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function pT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}function xT(e){return oe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"11",y1:"8",x2:"11",y2:"14"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(e)}function C2(e){return oe({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}const yT=()=>{const e=Zt(),{signup:r,googleSignup:s,error:n,clearError:o,isLoading:c}=Ie(),[d,u]=w.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:""}),[h,f]=w.useState({}),[x,g]=w.useState({}),v=A=>{const{name:R,value:S}=A.target;u(T=>({...T,[R]:S})),h[R]&&f(T=>({...T,[R]:""})),n&&o()},b=()=>{const A={};return d.firstName.trim()||(A.firstName="First name is required"),d.lastName.trim()||(A.lastName="Last name is required"),d.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(d.email)||(A.email="Invalid email address"):A.email="Email is required",d.password?d.password.length<6&&(A.password="Password must be at least 6 characters long"):A.password="Password is required",d.password!==d.confirmPassword&&(A.confirmPassword="Passwords do not match"),d.phone.trim()?/^\d{10}$/.test(d.phone)||(A.phone="Invalid phone number"):A.phone="Phone number is required",f(A),Object.keys(A).length===0},j=w.useCallback(()=>{const A={};x.firstName&&!d.firstName.trim()&&(A.firstName="First name is required"),x.lastName&&!d.lastName.trim()&&(A.lastName="Last name is required"),x.email&&(d.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(d.email)||(A.email="Invalid email address"):A.email="Email is required"),x.password&&(d.password?d.password.length<6&&(A.password="Password must be at least 6 characters long"):A.password="Password is required"),x.confirmPassword&&d.password!==d.confirmPassword&&(A.confirmPassword="Passwords do not match"),x.phone&&(d.phone.trim()?/^\d{10}$/.test(d.phone)||(A.phone="Invalid phone number"):A.phone="Phone number is required"),f(A)},[d,x]);w.useEffect(()=>{j()},[d,x,j]);const k=A=>{const{name:R}=A.target;g(S=>({...S,[R]:!0}))},_=async A=>{if(A.preventDefault(),!!b())try{const R={email:d.email,password:d.password,firstName:d.firstName,lastName:d.lastName,phone:d.phone},S=await r(R);console.log("Signup successful:",S),e("/")}catch(R){console.error("Signup error:",R)}},C=async()=>{try{const A=await s();console.log("Google signup successful:",A),e("/")}catch(A){console.error("Google signup error:",A)}};return t.jsxs(ws,{title:"Join Anand Mobiles",titleColor:"var(--brand-primary)",children:[t.jsx("div",{className:"mt-3 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Create an account to enjoy a personalized shopping experience"}),t.jsxs("form",{className:"mt-7 space-y-5",onSubmit:_,children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 -mr-12 -mt-12 rounded-full opacity-10",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 -ml-12 -mb-12 rounded-full opacity-10",style:{backgroundColor:"var(--brand-secondary)"}}),t.jsxs("div",{className:"space-y-4 relative z-10",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Fe,{label:"First Name",name:"firstName",value:d.firstName,onChange:v,onBlur:k,required:!0,error:h.firstName,placeholder:"John",icon:t.jsx(Ut,{})}),t.jsx(Fe,{label:"Last Name",name:"lastName",value:d.lastName,onChange:v,onBlur:k,required:!0,error:h.lastName,placeholder:"Doe",icon:t.jsx(Ut,{})})]}),t.jsx(Fe,{label:"Email Address",type:"email",name:"email",value:d.email,onChange:v,onBlur:k,required:!0,error:h.email,placeholder:"you@example.com",icon:t.jsx(hl,{})}),t.jsx(Fe,{label:"Phone Number",type:"tel",name:"phone",value:d.phone,onChange:v,onBlur:k,required:!0,error:h.phone,placeholder:"1234567890",icon:t.jsx(gi,{})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Fe,{label:"Password",type:"password",name:"password",value:d.password,onChange:v,onBlur:k,required:!0,error:h.password,placeholder:"••••••••",icon:t.jsx(vs,{})}),t.jsx(Fe,{label:"Confirm Password",type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:v,onBlur:k,required:!0,error:h.confirmPassword,placeholder:"••••••••",icon:t.jsx(vs,{})})]})]}),n&&t.jsxs("div",{className:"text-sm text-center p-3 rounded-md animate-fadeIn flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)",borderRadius:"var(--rounded-md)"},children:[t.jsx(Yr,{className:"h-5 w-5 mr-2"}),n]}),t.jsx("div",{className:"pt-2 mt-2",children:t.jsx(me,{type:"submit",isLoading:c,variant:"primary",size:"lg",fullWidth:!0,children:c?"Creating account...":"Create account"})}),t.jsxs("div",{className:"relative my-5",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t",style:{borderColor:"var(--border-primary)"}})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)"},children:"or continue with"})})]}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("button",{type:"button",onClick:C,className:"flex items-center justify-center py-3 px-6 border rounded-md hover:shadow-md transition-all duration-300",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsx(C2,{className:"w-5 h-5 mr-2"}),"Sign up with Google"]})}),t.jsxs("div",{className:"text-sm text-center mt-6",style:{color:"var(--text-secondary)"},children:["Already have an account?"," ",t.jsx(pe,{to:"/login",className:"font-medium hover:underline transition-colors duration-200",style:{color:"var(--brand-primary)"},children:"Sign in"})]}),t.jsxs("div",{className:"text-xs text-center mt-4",style:{color:"var(--text-secondary)"},children:["By creating an account, you agree to our",t.jsx("br",{}),t.jsx(pe,{to:"/terms",className:"hover:underline",style:{color:"var(--brand-primary)"},children:"Terms of Service"})," ","&"," ",t.jsx(pe,{to:"/privacy",className:"hover:underline",style:{color:"var(--brand-primary)"},children:"Privacy Policy"})]})]})]})},gT=()=>{const e=Zt(),{login:r,googleSignup:s,error:n,clearError:o,isLoading:c}=Ie(),[d,u]=w.useState({email:"",password:""}),[h,f]=w.useState({}),[x,g]=w.useState({email:!1,password:!1}),v=w.useCallback(()=>{const A={};x.email&&(d.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(d.email)||(A.email="Invalid email address"):A.email="Email is required"),x.password&&!d.password&&(A.password="Password is required"),f(A)},[d.email,d.password,x]);w.useEffect(()=>{v()},[d,x,v]);const b=A=>{const{name:R,value:S}=A.target;u(T=>({...T,[R]:S})),h[R]&&f(T=>({...T,[R]:""})),n&&o()},j=A=>{const{name:R}=A.target;g(S=>({...S,[R]:!0}))},k=()=>{const A={};return d.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(d.email)||(A.email="Invalid email address"):A.email="Email is required",d.password||(A.password="Password is required"),f(A),Object.keys(A).length===0},_=async A=>{if(A.preventDefault(),!!k())try{const R=await r({email:d.email,password:d.password});console.log("Login successful:",R),e("/")}catch(R){console.error("Login error:",R)}},C=async()=>{try{const A=await s();console.log("Google login successful:",A),e("/")}catch(A){console.error("Google login error:",A)}};return t.jsxs(ws,{title:"Welcome back",titleColor:"var(--brand-primary)",children:[t.jsx("div",{className:"mt-4 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Sign in to access your account, track orders, and explore our latest products"}),t.jsxs("div",{className:"mt-8",children:[t.jsx("div",{className:"bg-white rounded-lg p-6",style:{boxShadow:"var(--shadow-small)",borderRadius:"var(--rounded-lg)"},children:t.jsxs("form",{className:"space-y-6",onSubmit:_,children:[t.jsxs("div",{className:"space-y-5",children:[t.jsx(Fe,{label:"Email Address",type:"email",name:"email",value:d.email,onChange:b,onBlur:j,required:!0,error:h.email,placeholder:"you@example.com",icon:t.jsx(hl,{})}),t.jsx(Fe,{label:"Password",type:"password",name:"password",value:d.password,onChange:b,onBlur:j,required:!0,error:h.password,placeholder:"••••••••",icon:t.jsx(vs,{})})]}),n&&t.jsxs("div",{className:"text-sm text-center p-3 rounded-md animate-fadeIn flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},children:[t.jsx(Yr,{className:"h-5 w-5 mr-2"}),n]}),t.jsx("div",{className:"pt-2",children:t.jsx(me,{type:"submit",isLoading:c,variant:"primary",size:"lg",fullWidth:!0,children:c?"Signing in...":"Sign in"})})]})}),t.jsxs("div",{className:"relative my-8",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t",style:{borderColor:"var(--border-primary)"}})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-4 bg-white rounded",style:{color:"var(--text-secondary)"},children:"or continue with"})})]})," ",t.jsx("div",{className:"flex justify-center mb-6",children:t.jsxs("button",{type:"button",onClick:C,className:"flex justify-center items-center py-3 px-6 border rounded-md shadow-sm text-sm font-medium transition-colors duration-200",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx(C2,{className:"h-5 w-5 mr-2"}),"Google"]})}),t.jsxs("div",{className:"text-sm text-center mt-8 pb-4",children:["Don't have an account ? ",t.jsx("br",{}),t.jsx(pe,{to:"/signup",className:"font-medium hover:underline transition-colors duration-200",style:{color:"var(--brand-primary)"},children:"Create an account"})]})]})]})},Sp=w.createContext({});function kp(e){const r=w.useRef(null);return r.current===null&&(r.current=e()),r.current}const _p=typeof window<"u",S2=_p?w.useLayoutEffect:w.useEffect,$d=w.createContext(null),Ap=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class vT extends w.Component{getSnapshotBeforeUpdate(r){const s=this.props.childRef.current;if(s&&r.isPresent&&!this.props.isPresent){const n=s.offsetParent,o=n instanceof HTMLElement&&n.offsetWidth||0,c=this.props.sizeRef.current;c.height=s.offsetHeight||0,c.width=s.offsetWidth||0,c.top=s.offsetTop,c.left=s.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bT({children:e,isPresent:r,anchorX:s}){const n=w.useId(),o=w.useRef(null),c=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=w.useContext(Ap);return w.useInsertionEffect(()=>{const{width:u,height:h,top:f,left:x,right:g}=c.current;if(r||!o.current||!u||!h)return;const v=s==="left"?`left: ${x}`:`right: ${g}`;o.current.dataset.motionPopId=n;const b=document.createElement("style");return d&&(b.nonce=d),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[r]),t.jsx(vT,{isPresent:r,childRef:o,sizeRef:c,children:w.cloneElement(e,{ref:o})})}const jT=({children:e,initial:r,isPresent:s,onExitComplete:n,custom:o,presenceAffectsLayout:c,mode:d,anchorX:u})=>{const h=kp(wT),f=w.useId();let x=!0,g=w.useMemo(()=>(x=!1,{id:f,initial:r,isPresent:s,custom:o,onExitComplete:v=>{h.set(v,!0);for(const b of h.values())if(!b)return;n&&n()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[s,h,n]);return c&&x&&(g={...g}),w.useMemo(()=>{h.forEach((v,b)=>h.set(b,!1))},[s]),w.useEffect(()=>{!s&&!h.size&&n&&n()},[s]),d==="popLayout"&&(e=t.jsx(bT,{isPresent:s,anchorX:u,children:e})),t.jsx($d.Provider,{value:g,children:e})};function wT(){return new Map}function k2(e=!0){const r=w.useContext($d);if(r===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:o}=r,c=w.useId();w.useEffect(()=>{if(e)return o(c)},[e]);const d=w.useCallback(()=>e&&n&&n(c),[c,n,e]);return!s&&n?[!1,d]:[!0]}const Ic=e=>e.key||"";function h0(e){const r=[];return w.Children.forEach(e,s=>{w.isValidElement(s)&&r.push(s)}),r}const _2=({children:e,custom:r,initial:s=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:c="sync",propagate:d=!1,anchorX:u="left"})=>{const[h,f]=k2(d),x=w.useMemo(()=>h0(e),[e]),g=d&&!h?[]:x.map(Ic),v=w.useRef(!0),b=w.useRef(x),j=kp(()=>new Map),[k,_]=w.useState(x),[C,A]=w.useState(x);S2(()=>{v.current=!1,b.current=x;for(let T=0;T<C.length;T++){const P=Ic(C[T]);g.includes(P)?j.delete(P):j.get(P)!==!0&&j.set(P,!1)}},[C,g.length,g.join("-")]);const R=[];if(x!==k){let T=[...x];for(let P=0;P<C.length;P++){const q=C[P],U=Ic(q);g.includes(U)||(T.splice(P,0,q),R.push(q))}return c==="wait"&&R.length&&(T=R),A(h0(T)),_(x),null}const{forceRender:S}=w.useContext(Sp);return t.jsx(t.Fragment,{children:C.map(T=>{const P=Ic(T),q=d&&!h?!1:x===C||g.includes(P),U=()=>{if(j.has(P))j.set(P,!0);else return;let V=!0;j.forEach(M=>{M||(V=!1)}),V&&(S==null||S(),A(b.current),d&&(f==null||f()),n&&n())};return t.jsx(jT,{isPresent:q,initial:!v.current||s?void 0:!1,custom:r,presenceAffectsLayout:o,mode:c,onExitComplete:q?void 0:U,anchorX:u,children:T},P)})})};function Ep(e,r){e.indexOf(r)===-1&&e.push(r)}function Tp(e,r){const s=e.indexOf(r);s>-1&&e.splice(s,1)}const ks=(e,r,s)=>s>r?r:s<e?e:s;let Rp=()=>{};const _s={},A2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),E2=e=>/^0[^.\s]+$/u.test(e);function Dp(e){let r;return()=>(r===void 0&&(r=e()),r)}const br=e=>e,NT=(e,r)=>s=>r(e(s)),pl=(...e)=>e.reduce(NT),Go=(e,r,s)=>{const n=r-e;return n===0?1:(s-e)/n};class Op{constructor(){this.subscriptions=[]}add(r){return Ep(this.subscriptions,r),()=>Tp(this.subscriptions,r)}notify(r,s,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](r,s,n);else for(let c=0;c<o;c++){const d=this.subscriptions[c];d&&d(r,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hr=e=>e*1e3,qr=e=>e/1e3;function T2(e,r){return r?e*(1e3/r):0}const R2=(e,r,s)=>(((1-3*s+3*r)*e+(3*s-6*r))*e+3*r)*e,CT=1e-7,ST=12;function kT(e,r,s,n,o){let c,d,u=0;do d=r+(s-r)/2,c=R2(d,n,o)-e,c>0?s=d:r=d;while(Math.abs(c)>CT&&++u<ST);return d}function xl(e,r,s,n){if(e===r&&s===n)return br;const o=c=>kT(c,0,1,e,s);return c=>c===0||c===1?c:R2(o(c),r,n)}const D2=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,O2=e=>r=>1-e(1-r),P2=xl(.33,1.53,.69,.99),Pp=O2(P2),L2=D2(Pp),M2=e=>(e*=2)<1?.5*Pp(e):.5*(2-Math.pow(2,-10*(e-1))),Lp=e=>1-Math.sin(Math.acos(e)),z2=O2(Lp),I2=D2(Lp),_T=xl(.42,0,1,1),AT=xl(0,0,.58,1),B2=xl(.42,0,.58,1),ET=e=>Array.isArray(e)&&typeof e[0]!="number",U2=e=>Array.isArray(e)&&typeof e[0]=="number",TT={linear:br,easeIn:_T,easeInOut:B2,easeOut:AT,circIn:Lp,circInOut:I2,circOut:z2,backIn:Pp,backInOut:L2,backOut:P2,anticipate:M2},RT=e=>typeof e=="string",f0=e=>{if(U2(e)){Rp(e.length===4);const[r,s,n,o]=e;return xl(r,s,n,o)}else if(RT(e))return TT[e];return e},Bc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],p0={value:null};function DT(e,r){let s=new Set,n=new Set,o=!1,c=!1;const d=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function f(g){d.has(g)&&(x.schedule(g),e()),h++,g(u)}const x={schedule:(g,v=!1,b=!1)=>{const k=b&&o?s:n;return v&&d.add(g),k.has(g)||k.add(g),g},cancel:g=>{n.delete(g),d.delete(g)},process:g=>{if(u=g,o){c=!0;return}o=!0,[s,n]=[n,s],s.forEach(f),r&&p0.value&&p0.value.frameloop[r].push(h),h=0,s.clear(),o=!1,c&&(c=!1,x.process(g))}};return x}const OT=40;function F2(e,r){let s=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,d=Bc.reduce((R,S)=>(R[S]=DT(c,r?S:void 0),R),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:x,update:g,preRender:v,render:b,postRender:j}=d,k=()=>{const R=_s.useManualTiming?o.timestamp:performance.now();s=!1,_s.useManualTiming||(o.delta=n?1e3/60:Math.max(Math.min(R-o.timestamp,OT),1)),o.timestamp=R,o.isProcessing=!0,u.process(o),h.process(o),f.process(o),x.process(o),g.process(o),v.process(o),b.process(o),j.process(o),o.isProcessing=!1,s&&r&&(n=!1,e(k))},_=()=>{s=!0,n=!0,o.isProcessing||e(k)};return{schedule:Bc.reduce((R,S)=>{const T=d[S];return R[S]=(P,q=!1,U=!1)=>(s||_(),T.schedule(P,q,U)),R},{}),cancel:R=>{for(let S=0;S<Bc.length;S++)d[Bc[S]].cancel(R)},state:o,steps:d}}const{schedule:tt,cancel:pa,state:kt,steps:Mh}=F2(typeof requestAnimationFrame<"u"?requestAnimationFrame:br,!0);let td;function PT(){td=void 0}const Wt={now:()=>(td===void 0&&Wt.set(kt.isProcessing||_s.useManualTiming?kt.timestamp:performance.now()),td),set:e=>{td=e,queueMicrotask(PT)}},V2=e=>r=>typeof r=="string"&&r.startsWith(e),Mp=V2("--"),LT=V2("var(--"),zp=e=>LT(e)?MT.test(e.split("/*")[0].trim()):!1,MT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yo={...vi,transform:e=>ks(0,1,e)},Uc={...vi,default:1},Lo=e=>Math.round(e*1e5)/1e5,Ip=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zT(e){return e==null}const IT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bp=(e,r)=>s=>!!(typeof s=="string"&&IT.test(s)&&s.startsWith(e)||r&&!zT(s)&&Object.prototype.hasOwnProperty.call(s,r)),H2=(e,r,s)=>n=>{if(typeof n!="string")return n;const[o,c,d,u]=n.match(Ip);return{[e]:parseFloat(o),[r]:parseFloat(c),[s]:parseFloat(d),alpha:u!==void 0?parseFloat(u):1}},BT=e=>ks(0,255,e),zh={...vi,transform:e=>Math.round(BT(e))},Ka={test:Bp("rgb","red"),parse:H2("red","green","blue"),transform:({red:e,green:r,blue:s,alpha:n=1})=>"rgba("+zh.transform(e)+", "+zh.transform(r)+", "+zh.transform(s)+", "+Lo(Yo.transform(n))+")"};function UT(e){let r="",s="",n="",o="";return e.length>5?(r=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),o=e.substring(7,9)):(r=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),o=e.substring(4,5),r+=r,s+=s,n+=n,o+=o),{red:parseInt(r,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const Nf={test:Bp("#"),parse:UT,transform:Ka.transform},yl=e=>({test:r=>typeof r=="string"&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),na=yl("deg"),$r=yl("%"),we=yl("px"),FT=yl("vh"),VT=yl("vw"),x0={...$r,parse:e=>$r.parse(e)/100,transform:e=>$r.transform(e*100)},Kn={test:Bp("hsl","hue"),parse:H2("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+$r.transform(Lo(r))+", "+$r.transform(Lo(s))+", "+Lo(Yo.transform(n))+")"},Dt={test:e=>Ka.test(e)||Nf.test(e)||Kn.test(e),parse:e=>Ka.test(e)?Ka.parse(e):Kn.test(e)?Kn.parse(e):Nf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ka.transform(e):Kn.transform(e)},HT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qT(e){var r,s;return isNaN(e)&&typeof e=="string"&&(((r=e.match(Ip))==null?void 0:r.length)||0)+(((s=e.match(HT))==null?void 0:s.length)||0)>0}const q2="number",$2="color",$T="var",GT="var(",y0="${}",YT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wo(e){const r=e.toString(),s=[],n={color:[],number:[],var:[]},o=[];let c=0;const u=r.replace(YT,h=>(Dt.test(h)?(n.color.push(c),o.push($2),s.push(Dt.parse(h))):h.startsWith(GT)?(n.var.push(c),o.push($T),s.push(h)):(n.number.push(c),o.push(q2),s.push(parseFloat(h))),++c,y0)).split(y0);return{values:s,split:u,indexes:n,types:o}}function G2(e){return Wo(e).values}function Y2(e){const{split:r,types:s}=Wo(e),n=r.length;return o=>{let c="";for(let d=0;d<n;d++)if(c+=r[d],o[d]!==void 0){const u=s[d];u===q2?c+=Lo(o[d]):u===$2?c+=Dt.transform(o[d]):c+=o[d]}return c}}const WT=e=>typeof e=="number"?0:e;function KT(e){const r=G2(e);return Y2(e)(r.map(WT))}const xa={test:qT,parse:G2,createTransformer:Y2,getAnimatableNone:KT};function Ih(e,r,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(r-e)*6*s:s<1/2?r:s<2/3?e+(r-e)*(2/3-s)*6:e}function XT({hue:e,saturation:r,lightness:s,alpha:n}){e/=360,r/=100,s/=100;let o=0,c=0,d=0;if(!r)o=c=d=s;else{const u=s<.5?s*(1+r):s+r-s*r,h=2*s-u;o=Ih(h,u,e+1/3),c=Ih(h,u,e),d=Ih(h,u,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:n}}function wd(e,r){return s=>s>0?r:e}const Je=(e,r,s)=>e+(r-e)*s,Bh=(e,r,s)=>{const n=e*e,o=s*(r*r-n)+n;return o<0?0:Math.sqrt(o)},ZT=[Nf,Ka,Kn],QT=e=>ZT.find(r=>r.test(e));function g0(e){const r=QT(e);if(!r)return!1;let s=r.parse(e);return r===Kn&&(s=XT(s)),s}const v0=(e,r)=>{const s=g0(e),n=g0(r);if(!s||!n)return wd(e,r);const o={...s};return c=>(o.red=Bh(s.red,n.red,c),o.green=Bh(s.green,n.green,c),o.blue=Bh(s.blue,n.blue,c),o.alpha=Je(s.alpha,n.alpha,c),Ka.transform(o))},Cf=new Set(["none","hidden"]);function JT(e,r){return Cf.has(e)?s=>s<=0?e:r:s=>s>=1?r:e}function eR(e,r){return s=>Je(e,r,s)}function Up(e){return typeof e=="number"?eR:typeof e=="string"?zp(e)?wd:Dt.test(e)?v0:sR:Array.isArray(e)?W2:typeof e=="object"?Dt.test(e)?v0:tR:wd}function W2(e,r){const s=[...e],n=s.length,o=e.map((c,d)=>Up(c)(c,r[d]));return c=>{for(let d=0;d<n;d++)s[d]=o[d](c);return s}}function tR(e,r){const s={...e,...r},n={};for(const o in s)e[o]!==void 0&&r[o]!==void 0&&(n[o]=Up(e[o])(e[o],r[o]));return o=>{for(const c in n)s[c]=n[c](o);return s}}function rR(e,r){const s=[],n={color:0,var:0,number:0};for(let o=0;o<r.values.length;o++){const c=r.types[o],d=e.indexes[c][n[c]],u=e.values[d]??0;s[o]=u,n[c]++}return s}const sR=(e,r)=>{const s=xa.createTransformer(r),n=Wo(e),o=Wo(r);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?Cf.has(e)&&!o.values.length||Cf.has(r)&&!n.values.length?JT(e,r):pl(W2(rR(n,o),o.values),s):wd(e,r)};function K2(e,r,s){return typeof e=="number"&&typeof r=="number"&&typeof s=="number"?Je(e,r,s):Up(e)(e,r)}const aR=e=>{const r=({timestamp:s})=>e(s);return{start:(s=!0)=>tt.update(r,s),stop:()=>pa(r),now:()=>kt.isProcessing?kt.timestamp:Wt.now()}},X2=(e,r,s=10)=>{let n="";const o=Math.max(Math.round(r/s),2);for(let c=0;c<o;c++)n+=e(c/(o-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Nd=2e4;function Fp(e){let r=0;const s=50;let n=e.next(r);for(;!n.done&&r<Nd;)r+=s,n=e.next(r);return r>=Nd?1/0:r}function nR(e,r=100,s){const n=s({...e,keyframes:[0,r]}),o=Math.min(Fp(n),Nd);return{type:"keyframes",ease:c=>n.next(o*c).value/r,duration:qr(o)}}const iR=5;function Z2(e,r,s){const n=Math.max(r-iR,0);return T2(s-e(n),r-n)}const nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},b0=.001;function oR({duration:e=nt.duration,bounce:r=nt.bounce,velocity:s=nt.velocity,mass:n=nt.mass}){let o,c,d=1-r;d=ks(nt.minDamping,nt.maxDamping,d),e=ks(nt.minDuration,nt.maxDuration,qr(e)),d<1?(o=f=>{const x=f*d,g=x*e,v=x-s,b=Sf(f,d),j=Math.exp(-g);return b0-v/b*j},c=f=>{const g=f*d*e,v=g*s+s,b=Math.pow(d,2)*Math.pow(f,2)*e,j=Math.exp(-g),k=Sf(Math.pow(f,2),d);return(-o(f)+b0>0?-1:1)*((v-b)*j)/k}):(o=f=>{const x=Math.exp(-f*e),g=(f-s)*e+1;return-.001+x*g},c=f=>{const x=Math.exp(-f*e),g=(s-f)*(e*e);return x*g});const u=5/e,h=cR(o,c,u);if(e=Hr(e),isNaN(h))return{stiffness:nt.stiffness,damping:nt.damping,duration:e};{const f=Math.pow(h,2)*n;return{stiffness:f,damping:d*2*Math.sqrt(n*f),duration:e}}}const lR=12;function cR(e,r,s){let n=s;for(let o=1;o<lR;o++)n=n-e(n)/r(n);return n}function Sf(e,r){return e*Math.sqrt(1-r*r)}const dR=["duration","bounce"],uR=["stiffness","damping","mass"];function j0(e,r){return r.some(s=>e[s]!==void 0)}function mR(e){let r={velocity:nt.velocity,stiffness:nt.stiffness,damping:nt.damping,mass:nt.mass,isResolvedFromDuration:!1,...e};if(!j0(e,uR)&&j0(e,dR))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),o=n*n,c=2*ks(.05,1,1-(e.bounce||0))*Math.sqrt(o);r={...r,mass:nt.mass,stiffness:o,damping:c}}else{const s=oR(e);r={...r,...s,mass:nt.mass},r.isResolvedFromDuration=!0}return r}function Cd(e=nt.visualDuration,r=nt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:r}:e;let{restSpeed:n,restDelta:o}=s;const c=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],u={done:!1,value:c},{stiffness:h,damping:f,mass:x,duration:g,velocity:v,isResolvedFromDuration:b}=mR({...s,velocity:-qr(s.velocity||0)}),j=v||0,k=f/(2*Math.sqrt(h*x)),_=d-c,C=qr(Math.sqrt(h/x)),A=Math.abs(_)<5;n||(n=A?nt.restSpeed.granular:nt.restSpeed.default),o||(o=A?nt.restDelta.granular:nt.restDelta.default);let R;if(k<1){const T=Sf(C,k);R=P=>{const q=Math.exp(-k*C*P);return d-q*((j+k*C*_)/T*Math.sin(T*P)+_*Math.cos(T*P))}}else if(k===1)R=T=>d-Math.exp(-C*T)*(_+(j+C*_)*T);else{const T=C*Math.sqrt(k*k-1);R=P=>{const q=Math.exp(-k*C*P),U=Math.min(T*P,300);return d-q*((j+k*C*_)*Math.sinh(U)+T*_*Math.cosh(U))/T}}const S={calculatedDuration:b&&g||null,next:T=>{const P=R(T);if(b)u.done=T>=g;else{let q=T===0?j:0;k<1&&(q=T===0?Hr(j):Z2(R,T,P));const U=Math.abs(q)<=n,V=Math.abs(d-P)<=o;u.done=U&&V}return u.value=u.done?d:P,u},toString:()=>{const T=Math.min(Fp(S),Nd),P=X2(q=>S.next(T*q).value,T,30);return T+"ms "+P},toTransition:()=>{}};return S}Cd.applyToOptions=e=>{const r=nR(e,100,Cd);return e.ease=r.ease,e.duration=Hr(r.duration),e.type="keyframes",e};function kf({keyframes:e,velocity:r=0,power:s=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:d,min:u,max:h,restDelta:f=.5,restSpeed:x}){const g=e[0],v={done:!1,value:g},b=U=>u!==void 0&&U<u||h!==void 0&&U>h,j=U=>u===void 0?h:h===void 0||Math.abs(u-U)<Math.abs(h-U)?u:h;let k=s*r;const _=g+k,C=d===void 0?_:d(_);C!==_&&(k=C-g);const A=U=>-k*Math.exp(-U/n),R=U=>C+A(U),S=U=>{const V=A(U),M=R(U);v.done=Math.abs(V)<=f,v.value=v.done?C:M};let T,P;const q=U=>{b(v.value)&&(T=U,P=Cd({keyframes:[v.value,j(v.value)],velocity:Z2(R,U,v.value),damping:o,stiffness:c,restDelta:f,restSpeed:x}))};return q(0),{calculatedDuration:null,next:U=>{let V=!1;return!P&&T===void 0&&(V=!0,S(U),q(U)),T!==void 0&&U>=T?P.next(U-T):(!V&&S(U),v)}}}function hR(e,r,s){const n=[],o=s||_s.mix||K2,c=e.length-1;for(let d=0;d<c;d++){let u=o(e[d],e[d+1]);if(r){const h=Array.isArray(r)?r[d]||br:r;u=pl(h,u)}n.push(u)}return n}function fR(e,r,{clamp:s=!0,ease:n,mixer:o}={}){const c=e.length;if(Rp(c===r.length),c===1)return()=>r[0];if(c===2&&r[0]===r[1])return()=>r[1];const d=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),r=[...r].reverse());const u=hR(r,n,o),h=u.length,f=x=>{if(d&&x<e[0])return r[0];let g=0;if(h>1)for(;g<e.length-2&&!(x<e[g+1]);g++);const v=Go(e[g],e[g+1],x);return u[g](v)};return s?x=>f(ks(e[0],e[c-1],x)):f}function pR(e,r){const s=e[e.length-1];for(let n=1;n<=r;n++){const o=Go(0,r,n);e.push(Je(s,1,o))}}function xR(e){const r=[0];return pR(r,e.length-1),r}function yR(e,r){return e.map(s=>s*r)}function gR(e,r){return e.map(()=>r||B2).splice(0,e.length-1)}function Mo({duration:e=300,keyframes:r,times:s,ease:n="easeInOut"}){const o=ET(n)?n.map(f0):f0(n),c={done:!1,value:r[0]},d=yR(s&&s.length===r.length?s:xR(r),e),u=fR(d,r,{ease:Array.isArray(o)?o:gR(r,o)});return{calculatedDuration:e,next:h=>(c.value=u(h),c.done=h>=e,c)}}const vR=e=>e!==null;function Vp(e,{repeat:r,repeatType:s="loop"},n,o=1){const c=e.filter(vR),u=o<0||r&&s!=="loop"&&r%2===1?0:c.length-1;return!u||n===void 0?c[u]:n}const bR={decay:kf,inertia:kf,tween:Mo,keyframes:Mo,spring:Cd};function Q2(e){typeof e.type=="string"&&(e.type=bR[e.type])}class Hp{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(r=>{this.resolve=r})}notifyFinished(){this.resolve()}then(r,s){return this.finished.then(r,s)}}const jR=e=>e/100;class qp extends Hp{constructor(r){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(s=!0)=>{if(s){const{motionValue:o}=this.options;o&&o.updatedAt!==Wt.now()&&this.tick(Wt.now())}if(this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=r,this.initAnimation(),this.play(),r.autoplay===!1&&this.pause()}initAnimation(){const{options:r}=this;Q2(r);const{type:s=Mo,repeat:n=0,repeatDelay:o=0,repeatType:c,velocity:d=0}=r;let{keyframes:u}=r;const h=s||Mo;h!==Mo&&typeof u[0]!="number"&&(this.mixKeyframes=pl(jR,K2(u[0],u[1])),u=[0,100]);const f=h({...r,keyframes:u});c==="mirror"&&(this.mirroredGenerator=h({...r,keyframes:[...u].reverse(),velocity:-d})),f.calculatedDuration===null&&(f.calculatedDuration=Fp(f));const{calculatedDuration:x}=f;this.calculatedDuration=x,this.resolvedDuration=x+o,this.totalDuration=this.resolvedDuration*(n+1)-o,this.generator=f}updateTime(r){const s=Math.round(r-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(r,s=!1){const{generator:n,totalDuration:o,mixKeyframes:c,mirroredGenerator:d,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:x,repeat:g,repeatType:v,repeatDelay:b,type:j,onUpdate:k,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-o/this.speed,this.startTime)),s?this.currentTime=r:this.updateTime(r);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let R=this.currentTime,S=n;if(g){const U=Math.min(this.currentTime,o)/u;let V=Math.floor(U),M=U%1;!M&&U>=1&&(M=1),M===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(v==="reverse"?(M=1-M,b&&(M-=b/u)):v==="mirror"&&(S=d)),R=ks(0,1,M)*u}const T=A?{done:!1,value:x[0]}:S.next(R);c&&(T.value=c(T.value));let{done:P}=T;!A&&h!==null&&(P=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return q&&j!==kf&&(T.value=Vp(x,this.options,_,this.speed)),k&&k(T.value),q&&this.finish(),T}then(r,s){return this.finished.then(r,s)}get duration(){return qr(this.calculatedDuration)}get time(){return qr(this.currentTime)}set time(r){var s;r=Hr(r),this.currentTime=r,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(r){this.updateTime(Wt.now());const s=this.playbackSpeed!==r;this.playbackSpeed=r,s&&(this.time=qr(this.currentTime))}play(){if(this.isStopped)return;const{driver:r=aR,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=r(c=>this.tick(c))),s&&s();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=n??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:r}=this.options;r&&r()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}attachTimeline(r){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),r.observe(this)}}function wR(e){for(let r=1;r<e.length;r++)e[r]??(e[r]=e[r-1])}const Xa=e=>e*180/Math.PI,_f=e=>{const r=Xa(Math.atan2(e[1],e[0]));return Af(r)},NR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_f,rotateZ:_f,skewX:e=>Xa(Math.atan(e[1])),skewY:e=>Xa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Af=e=>(e=e%360,e<0&&(e+=360),e),w0=_f,N0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),C0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),CR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:N0,scaleY:C0,scale:e=>(N0(e)+C0(e))/2,rotateX:e=>Af(Xa(Math.atan2(e[6],e[5]))),rotateY:e=>Af(Xa(Math.atan2(-e[2],e[0]))),rotateZ:w0,rotate:w0,skewX:e=>Xa(Math.atan(e[4])),skewY:e=>Xa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function S0(e){return e.includes("scale")?1:0}function Ef(e,r){if(!e||e==="none")return S0(r);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,o;if(s)n=CR,o=s;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=NR,o=u}if(!o)return S0(r);const c=n[r],d=o[1].split(",").map(kR);return typeof c=="function"?c(d):d[c]}const SR=(e,r)=>{const{transform:s="none"}=getComputedStyle(e);return Ef(s,r)};function kR(e){return parseFloat(e.trim())}const bi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ji=new Set(bi),k0=e=>e===vi||e===we,_R=new Set(["x","y","z"]),AR=bi.filter(e=>!_R.has(e));function ER(e){const r=[];return AR.forEach(s=>{const n=e.getValue(s);n!==void 0&&(r.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),r}const en={width:({x:e},{paddingLeft:r="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(r)-parseFloat(s),height:({y:e},{paddingTop:r="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(r)-parseFloat(s),top:(e,{top:r})=>parseFloat(r),left:(e,{left:r})=>parseFloat(r),bottom:({y:e},{top:r})=>parseFloat(r)+(e.max-e.min),right:({x:e},{left:r})=>parseFloat(r)+(e.max-e.min),x:(e,{transform:r})=>Ef(r,"x"),y:(e,{transform:r})=>Ef(r,"y")};en.translateX=en.x;en.translateY=en.y;const tn=new Set;let Tf=!1,Rf=!1,Df=!1;function J2(){if(Rf){const e=Array.from(tn).filter(n=>n.needsMeasurement),r=new Set(e.map(n=>n.element)),s=new Map;r.forEach(n=>{const o=ER(n);o.length&&(s.set(n,o),n.render())}),e.forEach(n=>n.measureInitialState()),r.forEach(n=>{n.render();const o=s.get(n);o&&o.forEach(([c,d])=>{var u;(u=n.getValue(c))==null||u.set(d)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Rf=!1,Tf=!1,tn.forEach(e=>e.complete(Df)),tn.clear()}function ew(){tn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Rf=!0)})}function TR(){Df=!0,ew(),J2(),Df=!1}class $p{constructor(r,s,n,o,c,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...r],this.onComplete=s,this.name=n,this.motionValue=o,this.element=c,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(tn.add(this),Tf||(Tf=!0,tt.read(ew),tt.resolveKeyframes(J2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:s,element:n,motionValue:o}=this;if(r[0]===null){const c=o==null?void 0:o.get(),d=r[r.length-1];if(c!==void 0)r[0]=c;else if(n&&s){const u=n.readValue(s,d);u!=null&&(r[0]=u)}r[0]===void 0&&(r[0]=d),o&&c===void 0&&o.set(r[0])}wR(r)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(r=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,r),tn.delete(this)}cancel(){this.state==="scheduled"&&(tn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RR=e=>e.startsWith("--");function DR(e,r,s){RR(r)?e.style.setProperty(r,s):e.style[r]=s}const OR=Dp(()=>window.ScrollTimeline!==void 0),PR={};function LR(e,r){const s=Dp(e);return()=>PR[r]??s()}const tw=LR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),To=([e,r,s,n])=>`cubic-bezier(${e}, ${r}, ${s}, ${n})`,_0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:To([0,.65,.55,1]),circOut:To([.55,0,1,.45]),backIn:To([.31,.01,.66,-.59]),backOut:To([.33,1.53,.69,.99])};function rw(e,r){if(e)return typeof e=="function"?tw()?X2(e,r):"ease-out":U2(e)?To(e):Array.isArray(e)?e.map(s=>rw(s,r)||_0.easeOut):_0[e]}function MR(e,r,s,{delay:n=0,duration:o=300,repeat:c=0,repeatType:d="loop",ease:u="easeOut",times:h}={},f=void 0){const x={[r]:s};h&&(x.offset=h);const g=rw(u,o);Array.isArray(g)&&(x.easing=g);const v={delay:n,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),e.animate(x,v)}function sw(e){return typeof e=="function"&&"applyToOptions"in e}function zR({type:e,...r}){return sw(e)&&tw()?e.applyToOptions(r):(r.duration??(r.duration=300),r.ease??(r.ease="easeOut"),r)}class IR extends Hp{constructor(r){if(super(),this.finishedTime=null,this.isStopped=!1,!r)return;const{element:s,name:n,keyframes:o,pseudoElement:c,allowFlatten:d=!1,finalKeyframe:u,onComplete:h}=r;this.isPseudoElement=!!c,this.allowFlatten=d,this.options=r,Rp(typeof r.type!="string");const f=zR(r);this.animation=MR(s,n,o,f,c),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const x=Vp(o,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(x):DR(s,n,x),this.animation.cancel()}h==null||h(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var r,s;(s=(r=this.animation).finish)==null||s.call(r)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:r}=this;r==="idle"||r==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var r,s;this.isPseudoElement||(s=(r=this.animation).commitStyles)==null||s.call(r)}get duration(){var s,n;const r=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return qr(Number(r))}get time(){return qr(Number(this.animation.currentTime)||0)}set time(r){this.finishedTime=null,this.animation.currentTime=Hr(r)}get speed(){return this.animation.playbackRate}set speed(r){r<0&&(this.finishedTime=null),this.animation.playbackRate=r}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(r){this.animation.startTime=r}attachTimeline({timeline:r,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,r&&OR()?(this.animation.timeline=r,br):s(this)}}const aw={anticipate:M2,backInOut:L2,circInOut:I2};function BR(e){return e in aw}function UR(e){typeof e.ease=="string"&&BR(e.ease)&&(e.ease=aw[e.ease])}const A0=10;class FR extends IR{constructor(r){UR(r),Q2(r),super(r),r.startTime&&(this.startTime=r.startTime),this.options=r}updateMotionValue(r){const{motionValue:s,onUpdate:n,onComplete:o,element:c,...d}=this.options;if(!s)return;if(r!==void 0){s.set(r);return}const u=new qp({...d,autoplay:!1}),h=Hr(this.finishedTime??this.time);s.setWithVelocity(u.sample(h-A0).value,u.sample(h).value,A0),u.stop()}}const E0=(e,r)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xa.test(e)||e==="0")&&!e.startsWith("url("));function VR(e){const r=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==r)return!0}function HR(e,r,s,n){const o=e[0];if(o===null)return!1;if(r==="display"||r==="visibility")return!0;const c=e[e.length-1],d=E0(o,r),u=E0(c,r);return!d||!u?!1:VR(e)||(s==="spring"||sw(s))&&n}const qR=new Set(["opacity","clipPath","filter","transform"]),$R=Dp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function GR(e){const{motionValue:r,name:s,repeatDelay:n,repeatType:o,damping:c,type:d}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=r.owner.getProps();return $R()&&s&&qR.has(s)&&(s!=="transform"||!h)&&!u&&!n&&o!=="mirror"&&c!==0&&d!=="inertia"}const YR=40;class WR extends Hp{constructor({autoplay:r=!0,delay:s=0,type:n="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:d="loop",keyframes:u,name:h,motionValue:f,element:x,...g}){var j;super(),this.stop=()=>{var k,_;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=Wt.now();const v={autoplay:r,delay:s,type:n,repeat:o,repeatDelay:c,repeatType:d,name:h,motionValue:f,element:x,...g},b=(x==null?void 0:x.KeyframeResolver)||$p;this.keyframeResolver=new b(u,(k,_,C)=>this.onKeyframesResolved(k,_,v,!C),h,f,x),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(r,s,n,o){this.keyframeResolver=void 0;const{name:c,type:d,velocity:u,delay:h,isHandoff:f,onUpdate:x}=n;this.resolvedAt=Wt.now(),HR(r,c,d,u)||((_s.instantAnimations||!h)&&(x==null||x(Vp(r,n,s))),r[0]=r[r.length-1],n.duration=0,n.repeat=0);const v={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>YR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:r},b=!f&&GR(v)?new FR({...v,element:v.motionValue.owner.current}):new qp(v);b.finished.then(()=>this.notifyFinished()).catch(br),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(r,s){return this.finished.finally(r).then(()=>{})}get animation(){var r;return this._animation||((r=this.keyframeResolver)==null||r.resume(),TR()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(r){this.animation.time=r}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(r){this.animation.speed=r}get startTime(){return this.animation.startTime}attachTimeline(r){return this._animation?this.stopTimeline=this.animation.attachTimeline(r):this.pendingTimeline=r,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var r;this._animation&&this.animation.cancel(),(r=this.keyframeResolver)==null||r.cancel()}}const KR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XR(e){const r=KR.exec(e);if(!r)return[,];const[,s,n,o]=r;return[`--${s??n}`,o]}function nw(e,r,s=1){const[n,o]=XR(e);if(!n)return;const c=window.getComputedStyle(r).getPropertyValue(n);if(c){const d=c.trim();return A2(d)?parseFloat(d):d}return zp(o)?nw(o,r,s+1):o}function Gp(e,r){return(e==null?void 0:e[r])??(e==null?void 0:e.default)??e}const iw=new Set(["width","height","top","left","right","bottom",...bi]),ZR={test:e=>e==="auto",parse:e=>e},ow=e=>r=>r.test(e),lw=[vi,we,$r,na,VT,FT,ZR],T0=e=>lw.find(ow(e));function QR(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||E2(e):!0}const JR=new Set(["brightness","contrast","saturate","opacity"]);function eD(e){const[r,s]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[n]=s.match(Ip)||[];if(!n)return e;const o=s.replace(n,"");let c=JR.has(r)?1:0;return n!==s&&(c*=100),r+"("+c+o+")"}const tD=/\b([a-z-]*)\(.*?\)/gu,Of={...xa,getAnimatableNone:e=>{const r=e.match(tD);return r?r.map(eD).join(" "):e}},R0={...vi,transform:Math.round},rD={rotate:na,rotateX:na,rotateY:na,rotateZ:na,scale:Uc,scaleX:Uc,scaleY:Uc,scaleZ:Uc,skew:na,skewX:na,skewY:na,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Yo,originX:x0,originY:x0,originZ:we},Yp={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...rD,zIndex:R0,fillOpacity:Yo,strokeOpacity:Yo,numOctaves:R0},sD={...Yp,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Of,WebkitFilter:Of},cw=e=>sD[e];function dw(e,r){let s=cw(e);return s!==Of&&(s=xa),s.getAnimatableNone?s.getAnimatableNone(r):void 0}const aD=new Set(["auto","none","0"]);function nD(e,r,s){let n=0,o;for(;n<e.length&&!o;){const c=e[n];typeof c=="string"&&!aD.has(c)&&Wo(c).values.length&&(o=e[n]),n++}if(o&&s)for(const c of r)e[c]=dw(s,o)}class iD extends $p{constructor(r,s,n,o,c){super(r,s,n,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let h=0;h<r.length;h++){let f=r[h];if(typeof f=="string"&&(f=f.trim(),zp(f))){const x=nw(f,s.current);x!==void 0&&(r[h]=x),h===r.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!iw.has(n)||r.length!==2)return;const[o,c]=r,d=T0(o),u=T0(c);if(d!==u)if(k0(d)&&k0(u))for(let h=0;h<r.length;h++){const f=r[h];typeof f=="string"&&(r[h]=parseFloat(f))}else en[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:s}=this,n=[];for(let o=0;o<r.length;o++)(r[o]===null||QR(r[o]))&&n.push(o);n.length&&nD(r,n,s)}measureInitialState(){const{element:r,unresolvedKeyframes:s,name:n}=this;if(!r||!r.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=en[n](r.measureViewportBox(),window.getComputedStyle(r.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&r.getValue(n,o).jump(o,!1)}measureEndState(){var u;const{element:r,name:s,unresolvedKeyframes:n}=this;if(!r||!r.current)return;const o=r.getValue(s);o&&o.jump(this.measuredOrigin,!1);const c=n.length-1,d=n[c];n[c]=en[s](r.measureViewportBox(),window.getComputedStyle(r.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,f])=>{r.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function oD(e,r,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const o=(s==null?void 0:s[e])??n.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const D0=30,lD=e=>!isNaN(parseFloat(e));class cD{constructor(r,s={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,o=!0)=>{var d,u;const c=Wt.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((d=this.events.change)==null||d.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();o&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(r),this.owner=s.owner}setCurrent(r){this.current=r,this.updatedAt=Wt.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=lD(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,s){this.events[r]||(this.events[r]=new Op);const n=this.events[r].add(s);return r==="change"?()=>{n(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,s){this.passiveEffect=r,this.stopPassiveEffect=s}set(r,s=!0){!s||!this.passiveEffect?this.updateAndNotify(r,s):this.passiveEffect(r,this.updateAndNotify)}setWithVelocity(r,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-n}jump(r,s=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var r;(r=this.events.change)==null||r.notify(this.current)}addDependent(r){this.dependents||(this.dependents=new Set),this.dependents.add(r)}removeDependent(r){this.dependents&&this.dependents.delete(r)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=Wt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>D0)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,D0);return T2(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(r){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=r(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var r,s;(r=this.dependents)==null||r.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function li(e,r){return new cD(e,r)}const uw=(e,r)=>r&&typeof e=="number"?r.transform(e):e,{schedule:Wp}=F2(queueMicrotask,!1),Ar={x:!1,y:!1};function mw(){return Ar.x||Ar.y}function dD(e){return e==="x"||e==="y"?Ar[e]?null:(Ar[e]=!0,()=>{Ar[e]=!1}):Ar.x||Ar.y?null:(Ar.x=Ar.y=!0,()=>{Ar.x=Ar.y=!1})}function hw(e,r){const s=oD(e),n=new AbortController,o={passive:!0,...r,signal:n.signal};return[s,o,()=>n.abort()]}function O0(e){return!(e.pointerType==="touch"||mw())}function uD(e,r,s={}){const[n,o,c]=hw(e,s),d=u=>{if(!O0(u))return;const{target:h}=u,f=r(h,u);if(typeof f!="function"||!h)return;const x=g=>{O0(g)&&(f(g),h.removeEventListener("pointerleave",x))};h.addEventListener("pointerleave",x,o)};return n.forEach(u=>{u.addEventListener("pointerenter",d,o)}),c}const fw=(e,r)=>r?e===r?!0:fw(e,r.parentElement):!1,Kp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hD(e){return mD.has(e.tagName)||e.tabIndex!==-1}const rd=new WeakSet;function P0(e){return r=>{r.key==="Enter"&&e(r)}}function Uh(e,r){e.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const fD=(e,r)=>{const s=e.currentTarget;if(!s)return;const n=P0(()=>{if(rd.has(s))return;Uh(s,"down");const o=P0(()=>{Uh(s,"up")}),c=()=>Uh(s,"cancel");s.addEventListener("keyup",o,r),s.addEventListener("blur",c,r)});s.addEventListener("keydown",n,r),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),r)};function L0(e){return Kp(e)&&!mw()}function pD(e,r,s={}){const[n,o,c]=hw(e,s),d=u=>{const h=u.currentTarget;if(!L0(u))return;rd.add(h);const f=r(h,u),x=(b,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),rd.has(h)&&rd.delete(h),L0(b)&&typeof f=="function"&&f(b,{success:j})},g=b=>{x(b,h===window||h===document||s.useGlobalTarget||fw(h,b.target))},v=b=>{x(b,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",v,o)};return n.forEach(u=>{(s.useGlobalTarget?window:u).addEventListener("pointerdown",d,o),u instanceof HTMLElement&&(u.addEventListener("focus",f=>fD(f,o)),!hD(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),c}const xD=[...lw,Dt,xa],yD=e=>xD.find(ow(e)),pw=w.createContext({strict:!1}),M0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ci={};for(const e in M0)ci[e]={isEnabled:r=>M0[e].some(s=>!!r[s])};function gD(e){for(const r in e)ci[r]={...ci[r],...e[r]}}const vD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vD.has(e)}let xw=e=>!Sd(e);function bD(e){e&&(xw=r=>r.startsWith("on")?!Sd(r):e(r))}try{bD(require("@emotion/is-prop-valid").default)}catch{}function jD(e,r,s){const n={};for(const o in e)o==="values"&&typeof e.values=="object"||(xw(o)||s===!0&&Sd(o)||!r&&!Sd(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}function wD(e){if(typeof Proxy>"u")return e;const r=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,o)=>o==="create"?e:(r.has(o)||r.set(o,e(o)),r.get(o))})}const Gd=w.createContext({});function Yd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ko(e){return typeof e=="string"||Array.isArray(e)}const Xp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zp=["initial",...Xp];function Wd(e){return Yd(e.animate)||Zp.some(r=>Ko(e[r]))}function yw(e){return!!(Wd(e)||e.variants)}function ND(e,r){if(Wd(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Ko(s)?s:void 0,animate:Ko(n)?n:void 0}}return e.inherit!==!1?r:{}}function CD(e){const{initial:r,animate:s}=ND(e,w.useContext(Gd));return w.useMemo(()=>({initial:r,animate:s}),[z0(r),z0(s)])}function z0(e){return Array.isArray(e)?e.join(" "):e}const SD=Symbol.for("motionComponentSymbol");function Xn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function kD(e,r,s){return w.useCallback(n=>{n&&e.onMount&&e.onMount(n),r&&(n?r.mount(n):r.unmount()),s&&(typeof s=="function"?s(n):Xn(s)&&(s.current=n))},[r])}const Qp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_D="framerAppearId",gw="data-"+Qp(_D),vw=w.createContext({});function AD(e,r,s,n,o){var k,_;const{visualElement:c}=w.useContext(Gd),d=w.useContext(pw),u=w.useContext($d),h=w.useContext(Ap).reducedMotion,f=w.useRef(null);n=n||d.renderer,!f.current&&n&&(f.current=n(e,{visualState:r,parent:c,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const x=f.current,g=w.useContext(vw);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&ED(f.current,s,o,g);const v=w.useRef(!1);w.useInsertionEffect(()=>{x&&v.current&&x.update(s,u)});const b=s[gw],j=w.useRef(!!b&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,b))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,b)));return S2(()=>{x&&(v.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),Wp.render(x.render),j.current&&x.animationState&&x.animationState.animateChanges())}),w.useEffect(()=>{x&&(!j.current&&x.animationState&&x.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,b)}),j.current=!1))}),x}function ED(e,r,s,n){const{layoutId:o,layout:c,drag:d,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:x}=r;e.projection=new s(e.latestValues,r["data-framer-portal-id"]?void 0:bw(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!d||u&&Xn(u),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:n,crossfade:x,layoutScroll:h,layoutRoot:f})}function bw(e){if(e)return e.options.allowProjection!==!1?e.projection:bw(e.parent)}function TD({preloadedFeatures:e,createVisualElement:r,useRender:s,useVisualState:n,Component:o}){e&&gD(e);function c(u,h){let f;const x={...w.useContext(Ap),...u,layoutId:RD(u)},{isStatic:g}=x,v=CD(u),b=n(u,g);if(!g&&_p){DD();const j=OD(x);f=j.MeasureLayout,v.visualElement=AD(o,b,x,r,j.ProjectionNode)}return t.jsxs(Gd.Provider,{value:v,children:[f&&v.visualElement?t.jsx(f,{visualElement:v.visualElement,...x}):null,s(o,u,kD(b,v.visualElement,h),b,g,v.visualElement)]})}c.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const d=w.forwardRef(c);return d[SD]=o,d}function RD({layoutId:e}){const r=w.useContext(Sp).id;return r&&e!==void 0?r+"-"+e:e}function DD(e,r){w.useContext(pw).strict}function OD(e){const{drag:r,layout:s}=ci;if(!r&&!s)return{};const n={...r,...s};return{MeasureLayout:r!=null&&r.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Xo={};function PD(e){for(const r in e)Xo[r]=e[r],Mp(r)&&(Xo[r].isCSSVariable=!0)}function jw(e,{layout:r,layoutId:s}){return ji.has(e)||e.startsWith("origin")||(r||s!==void 0)&&(!!Xo[e]||e==="opacity")}const Lt=e=>!!(e&&e.getVelocity),LD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MD=bi.length;function zD(e,r,s){let n="",o=!0;for(let c=0;c<MD;c++){const d=bi[c],u=e[d];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(d.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||s){const f=uw(u,Yp[d]);if(!h){o=!1;const x=LD[d]||d;n+=`${x}(${f}) `}s&&(r[d]=f)}}return n=n.trim(),s?n=s(r,o?"":n):o&&(n="none"),n}function Jp(e,r,s){const{style:n,vars:o,transformOrigin:c}=e;let d=!1,u=!1;for(const h in r){const f=r[h];if(ji.has(h)){d=!0;continue}else if(Mp(h)){o[h]=f;continue}else{const x=uw(f,Yp[h]);h.startsWith("origin")?(u=!0,c[h]=x):n[h]=x}}if(r.transform||(d||s?n.transform=zD(r,e.transform,s):n.transform&&(n.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:x=0}=c;n.transformOrigin=`${h} ${f} ${x}`}}const ex=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ww(e,r,s){for(const n in r)!Lt(r[n])&&!jw(n,s)&&(e[n]=r[n])}function ID({transformTemplate:e},r){return w.useMemo(()=>{const s=ex();return Jp(s,r,e),Object.assign({},s.vars,s.style)},[r])}function BD(e,r){const s=e.style||{},n={};return ww(n,s,e),Object.assign(n,ID(e,r)),n}function UD(e,r){const s={},n=BD(e,r);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const FD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tx(e){return typeof e!="string"||e.includes("-")?!1:!!(FD.indexOf(e)>-1||/[A-Z]/u.test(e))}const VD={offset:"stroke-dashoffset",array:"stroke-dasharray"},HD={offset:"strokeDashoffset",array:"strokeDasharray"};function qD(e,r,s=1,n=0,o=!0){e.pathLength=1;const c=o?VD:HD;e[c.offset]=we.transform(-n);const d=we.transform(r),u=we.transform(s);e[c.array]=`${d} ${u}`}function Nw(e,{attrX:r,attrY:s,attrScale:n,pathLength:o,pathSpacing:c=1,pathOffset:d=0,...u},h,f,x){if(Jp(e,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v}=e;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(x==null?void 0:x.transformBox)??"fill-box",delete g.transformBox),r!==void 0&&(g.x=r),s!==void 0&&(g.y=s),n!==void 0&&(g.scale=n),o!==void 0&&qD(g,o,c,d,!1)}const Cw=()=>({...ex(),attrs:{}}),Sw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $D(e,r,s,n){const o=w.useMemo(()=>{const c=Cw();return Nw(c,r,Sw(n),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[r]);if(e.style){const c={};ww(c,e.style,e),o.style={...c,...o.style}}return o}function GD(e=!1){return(s,n,o,{latestValues:c},d)=>{const h=(tx(s)?$D:UD)(n,c,d,s),f=jD(n,typeof s=="string",e),x=s!==w.Fragment?{...f,...h,ref:o}:{},{children:g}=n,v=w.useMemo(()=>Lt(g)?g.get():g,[g]);return w.createElement(s,{...x,children:v})}}function I0(e){const r=[{},{}];return e==null||e.values.forEach((s,n)=>{r[0][n]=s.get(),r[1][n]=s.getVelocity()}),r}function rx(e,r,s,n){if(typeof r=="function"){const[o,c]=I0(n);r=r(s!==void 0?s:e.custom,o,c)}if(typeof r=="string"&&(r=e.variants&&e.variants[r]),typeof r=="function"){const[o,c]=I0(n);r=r(s!==void 0?s:e.custom,o,c)}return r}function sd(e){return Lt(e)?e.get():e}function YD({scrapeMotionValuesFromProps:e,createRenderState:r},s,n,o){return{latestValues:WD(s,n,o,e),renderState:r()}}const kw=e=>(r,s)=>{const n=w.useContext(Gd),o=w.useContext($d),c=()=>YD(e,r,n,o);return s?c():kp(c)};function WD(e,r,s,n){const o={},c=n(e,{});for(const v in c)o[v]=sd(c[v]);let{initial:d,animate:u}=e;const h=Wd(e),f=yw(e);r&&f&&!h&&e.inherit!==!1&&(d===void 0&&(d=r.initial),u===void 0&&(u=r.animate));let x=s?s.initial===!1:!1;x=x||d===!1;const g=x?u:d;if(g&&typeof g!="boolean"&&!Yd(g)){const v=Array.isArray(g)?g:[g];for(let b=0;b<v.length;b++){const j=rx(e,v[b]);if(j){const{transitionEnd:k,transition:_,...C}=j;for(const A in C){let R=C[A];if(Array.isArray(R)){const S=x?R.length-1:0;R=R[S]}R!==null&&(o[A]=R)}for(const A in k)o[A]=k[A]}}}return o}function sx(e,r,s){var c;const{style:n}=e,o={};for(const d in n)(Lt(n[d])||r.style&&Lt(r.style[d])||jw(d,e)||((c=s==null?void 0:s.getValue(d))==null?void 0:c.liveStyle)!==void 0)&&(o[d]=n[d]);return o}const KD={useVisualState:kw({scrapeMotionValuesFromProps:sx,createRenderState:ex})};function _w(e,r,s){const n=sx(e,r,s);for(const o in e)if(Lt(e[o])||Lt(r[o])){const c=bi.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[c]=e[o]}return n}const XD={useVisualState:kw({scrapeMotionValuesFromProps:_w,createRenderState:Cw})};function ZD(e,r){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){const d={...tx(n)?XD:KD,preloadedFeatures:e,useRender:GD(o),createVisualElement:r,Component:n};return TD(d)}}function Zo(e,r,s){const n=e.getProps();return rx(n,r,s!==void 0?s:n.custom,e)}const Pf=e=>Array.isArray(e);function QD(e,r,s){e.hasValue(r)?e.getValue(r).set(s):e.addValue(r,li(s))}function JD(e){return Pf(e)?e[e.length-1]||0:e}function eO(e,r){const s=Zo(e,r);let{transitionEnd:n={},transition:o={},...c}=s||{};c={...c,...n};for(const d in c){const u=JD(c[d]);QD(e,d,u)}}function tO(e){return!!(Lt(e)&&e.add)}function Lf(e,r){const s=e.getValue("willChange");if(tO(s))return s.add(r);if(!s&&_s.WillChange){const n=new _s.WillChange("auto");e.addValue("willChange",n),n.add(r)}}function Aw(e){return e.props[gw]}const rO=e=>e!==null;function sO(e,{repeat:r,repeatType:s="loop"},n){const o=e.filter(rO),c=r&&s!=="loop"&&r%2===1?0:o.length-1;return o[c]}const aO={type:"spring",stiffness:500,damping:25,restSpeed:10},nO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),iO={type:"keyframes",duration:.8},oO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lO=(e,{keyframes:r})=>r.length>2?iO:ji.has(e)?e.startsWith("scale")?nO(r[1]):aO:oO;function cO({when:e,delay:r,delayChildren:s,staggerChildren:n,staggerDirection:o,repeat:c,repeatType:d,repeatDelay:u,from:h,elapsed:f,...x}){return!!Object.keys(x).length}const ax=(e,r,s,n={},o,c)=>d=>{const u=Gp(n,e)||{},h=u.delay||n.delay||0;let{elapsed:f=0}=n;f=f-Hr(h);const x={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:r.getVelocity(),...u,delay:-f,onUpdate:v=>{r.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{d(),u.onComplete&&u.onComplete()},name:e,motionValue:r,element:c?void 0:o};cO(u)||Object.assign(x,lO(e,x)),x.duration&&(x.duration=Hr(x.duration)),x.repeatDelay&&(x.repeatDelay=Hr(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let g=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(g=!0)),(_s.instantAnimations||_s.skipAnimations)&&(g=!0,x.duration=0,x.delay=0),x.allowFlatten=!u.type&&!u.ease,g&&!c&&r.get()!==void 0){const v=sO(x.keyframes,u);if(v!==void 0){tt.update(()=>{x.onUpdate(v),x.onComplete()});return}}return u.isSync?new qp(x):new WR(x)};function dO({protectedKeys:e,needsAnimating:r},s){const n=e.hasOwnProperty(s)&&r[s]!==!0;return r[s]=!1,n}function Ew(e,r,{delay:s=0,transitionOverride:n,type:o}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:d,...u}=r;n&&(c=n);const h=[],f=o&&e.animationState&&e.animationState.getState()[o];for(const x in u){const g=e.getValue(x,e.latestValues[x]??null),v=u[x];if(v===void 0||f&&dO(f,x))continue;const b={delay:s,...Gp(c||{},x)},j=g.get();if(j!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===j&&!b.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const C=Aw(e);if(C){const A=window.MotionHandoffAnimation(C,x,tt);A!==null&&(b.startTime=A,k=!0)}}Lf(e,x),g.start(ax(x,g,v,e.shouldReduceMotion&&iw.has(x)?{type:!1}:b,e,k));const _=g.animation;_&&h.push(_)}return d&&Promise.all(h).then(()=>{tt.update(()=>{d&&eO(e,d)})}),h}function Mf(e,r,s={}){var h;const n=Zo(e,r,s.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(o=s.transitionOverride);const c=n?()=>Promise.all(Ew(e,n,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:x=0,staggerChildren:g,staggerDirection:v}=o;return uO(e,r,x+f,g,v,s)}:()=>Promise.resolve(),{when:u}=o;if(u){const[f,x]=u==="beforeChildren"?[c,d]:[d,c];return f().then(()=>x())}else return Promise.all([c(),d(s.delay)])}function uO(e,r,s=0,n=0,o=1,c){const d=[],u=(e.variantChildren.size-1)*n,h=o===1?(f=0)=>f*n:(f=0)=>u-f*n;return Array.from(e.variantChildren).sort(mO).forEach((f,x)=>{f.notify("AnimationStart",r),d.push(Mf(f,r,{...c,delay:s+h(x)}).then(()=>f.notify("AnimationComplete",r)))}),Promise.all(d)}function mO(e,r){return e.sortNodePosition(r)}function hO(e,r,s={}){e.notify("AnimationStart",r);let n;if(Array.isArray(r)){const o=r.map(c=>Mf(e,c,s));n=Promise.all(o)}else if(typeof r=="string")n=Mf(e,r,s);else{const o=typeof r=="function"?Zo(e,r,s.custom):r;n=Promise.all(Ew(e,o,s))}return n.then(()=>{e.notify("AnimationComplete",r)})}function Tw(e,r){if(!Array.isArray(r))return!1;const s=r.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(r[n]!==e[n])return!1;return!0}const fO=Zp.length;function Rw(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Rw(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const r={};for(let s=0;s<fO;s++){const n=Zp[s],o=e.props[n];(Ko(o)||o===!1)&&(r[n]=o)}return r}const pO=[...Xp].reverse(),xO=Xp.length;function yO(e){return r=>Promise.all(r.map(({animation:s,options:n})=>hO(e,s,n)))}function gO(e){let r=yO(e),s=B0(),n=!0;const o=h=>(f,x)=>{var v;const g=Zo(e,x,h==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:b,transitionEnd:j,...k}=g;f={...f,...k,...j}}return f};function c(h){r=h(e)}function d(h){const{props:f}=e,x=Rw(e.parent)||{},g=[],v=new Set;let b={},j=1/0;for(let _=0;_<xO;_++){const C=pO[_],A=s[C],R=f[C]!==void 0?f[C]:x[C],S=Ko(R),T=C===h?A.isActive:null;T===!1&&(j=_);let P=R===x[C]&&R!==f[C]&&S;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),A.protectedKeys={...b},!A.isActive&&T===null||!R&&!A.prevProp||Yd(R)||typeof R=="boolean")continue;const q=vO(A.prevProp,R);let U=q||C===h&&A.isActive&&!P&&S||_>j&&S,V=!1;const M=Array.isArray(R)?R:[R];let ae=M.reduce(o(C),{});T===!1&&(ae={});const{prevResolvedValues:ne={}}=A,L={...ne,...ae},Y=O=>{U=!0,v.has(O)&&(V=!0,v.delete(O)),A.needsAnimating[O]=!0;const F=e.getValue(O);F&&(F.liveStyle=!1)};for(const O in L){const F=ae[O],le=ne[O];if(b.hasOwnProperty(O))continue;let z=!1;Pf(F)&&Pf(le)?z=!Tw(F,le):z=F!==le,z?F!=null?Y(O):v.add(O):F!==void 0&&v.has(O)?Y(O):A.protectedKeys[O]=!0}A.prevProp=R,A.prevResolvedValues=ae,A.isActive&&(b={...b,...ae}),n&&e.blockInitialAnimation&&(U=!1),U&&(!(P&&q)||V)&&g.push(...M.map(O=>({animation:O,options:{type:C}})))}if(v.size){const _={};if(typeof f.initial!="boolean"){const C=Zo(e,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(_.transition=C.transition)}v.forEach(C=>{const A=e.getBaseTarget(C),R=e.getValue(C);R&&(R.liveStyle=!0),_[C]=A??null}),g.push({animation:_})}let k=!!g.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(k=!1),n=!1,k?r(g):Promise.resolve()}function u(h,f){var g;if(s[h].isActive===f)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(v=>{var b;return(b=v.animationState)==null?void 0:b.setActive(h,f)}),s[h].isActive=f;const x=d(h);for(const v in s)s[v].protectedKeys={};return x}return{animateChanges:d,setActive:u,setAnimateFunction:c,getState:()=>s,reset:()=>{s=B0(),n=!0}}}function vO(e,r){return typeof r=="string"?r!==e:Array.isArray(r)?!Tw(r,e):!1}function Fa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function B0(){return{animate:Fa(!0),whileInView:Fa(),whileHover:Fa(),whileTap:Fa(),whileDrag:Fa(),whileFocus:Fa(),exit:Fa()}}class ba{constructor(r){this.isMounted=!1,this.node=r}update(){}}class bO extends ba{constructor(r){super(r),r.animationState||(r.animationState=gO(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();Yd(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:s}=this.node.prevProps||{};r!==s&&this.updateAnimationControlsSubscription()}unmount(){var r;this.node.animationState.reset(),(r=this.unmountControls)==null||r.call(this)}}let jO=0;class wO extends ba{constructor(){super(...arguments),this.id=jO++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===n)return;const o=this.node.animationState.setActive("exit",!r);s&&!r&&o.then(()=>{s(this.id)})}mount(){const{register:r,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),r&&(this.unmount=r(this.id))}unmount(){}}const NO={animation:{Feature:bO},exit:{Feature:wO}};function Qo(e,r,s,n={passive:!0}){return e.addEventListener(r,s,n),()=>e.removeEventListener(r,s)}function gl(e){return{point:{x:e.pageX,y:e.pageY}}}const CO=e=>r=>Kp(r)&&e(r,gl(r));function zo(e,r,s,n){return Qo(e,r,CO(s),n)}function Dw({top:e,left:r,right:s,bottom:n}){return{x:{min:r,max:s},y:{min:e,max:n}}}function SO({x:e,y:r}){return{top:r.min,right:e.max,bottom:r.max,left:e.min}}function kO(e,r){if(!r)return e;const s=r({x:e.left,y:e.top}),n=r({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}const Ow=1e-4,_O=1-Ow,AO=1+Ow,Pw=.01,EO=0-Pw,TO=0+Pw;function It(e){return e.max-e.min}function RO(e,r,s){return Math.abs(e-r)<=s}function U0(e,r,s,n=.5){e.origin=n,e.originPoint=Je(r.min,r.max,e.origin),e.scale=It(s)/It(r),e.translate=Je(s.min,s.max,e.origin)-e.originPoint,(e.scale>=_O&&e.scale<=AO||isNaN(e.scale))&&(e.scale=1),(e.translate>=EO&&e.translate<=TO||isNaN(e.translate))&&(e.translate=0)}function Io(e,r,s,n){U0(e.x,r.x,s.x,n?n.originX:void 0),U0(e.y,r.y,s.y,n?n.originY:void 0)}function F0(e,r,s){e.min=s.min+r.min,e.max=e.min+It(r)}function DO(e,r,s){F0(e.x,r.x,s.x),F0(e.y,r.y,s.y)}function V0(e,r,s){e.min=r.min-s.min,e.max=e.min+It(r)}function Bo(e,r,s){V0(e.x,r.x,s.x),V0(e.y,r.y,s.y)}const H0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zn=()=>({x:H0(),y:H0()}),q0=()=>({min:0,max:0}),lt=()=>({x:q0(),y:q0()});function gr(e){return[e("x"),e("y")]}function Fh(e){return e===void 0||e===1}function zf({scale:e,scaleX:r,scaleY:s}){return!Fh(e)||!Fh(r)||!Fh(s)}function Ha(e){return zf(e)||Lw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Lw(e){return $0(e.x)||$0(e.y)}function $0(e){return e&&e!=="0%"}function kd(e,r,s){const n=e-s,o=r*n;return s+o}function G0(e,r,s,n,o){return o!==void 0&&(e=kd(e,o,n)),kd(e,s,n)+r}function If(e,r=0,s=1,n,o){e.min=G0(e.min,r,s,n,o),e.max=G0(e.max,r,s,n,o)}function Mw(e,{x:r,y:s}){If(e.x,r.translate,r.scale,r.originPoint),If(e.y,s.translate,s.scale,s.originPoint)}const Y0=.999999999999,W0=1.0000000000001;function OO(e,r,s,n=!1){const o=s.length;if(!o)return;r.x=r.y=1;let c,d;for(let u=0;u<o;u++){c=s[u],d=c.projectionDelta;const{visualElement:h}=c.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Jn(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(r.x*=d.x.scale,r.y*=d.y.scale,Mw(e,d)),n&&Ha(c.latestValues)&&Jn(e,c.latestValues))}r.x<W0&&r.x>Y0&&(r.x=1),r.y<W0&&r.y>Y0&&(r.y=1)}function Qn(e,r){e.min=e.min+r,e.max=e.max+r}function K0(e,r,s,n,o=.5){const c=Je(e.min,e.max,o);If(e,r,s,c,n)}function Jn(e,r){K0(e.x,r.x,r.scaleX,r.scale,r.originX),K0(e.y,r.y,r.scaleY,r.scale,r.originY)}function zw(e,r){return Dw(kO(e.getBoundingClientRect(),r))}function PO(e,r,s){const n=zw(e,s),{scroll:o}=r;return o&&(Qn(n.x,o.offset.x),Qn(n.y,o.offset.y)),n}const Iw=({current:e})=>e?e.ownerDocument.defaultView:null,X0=(e,r)=>Math.abs(e-r);function LO(e,r){const s=X0(e.x,r.x),n=X0(e.y,r.y);return Math.sqrt(s**2+n**2)}class Bw{constructor(r,s,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Hh(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=LO(g.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:j}=g,{timestamp:k}=kt;this.history.push({...j,timestamp:k});const{onStart:_,onMove:C}=this.handlers;v||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Vh(v,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Hh(g.type==="pointercancel"?this.lastMoveEventInfo:Vh(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,_),j&&j(g,_)},!Kp(r))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=n,this.contextWindow=o||window;const d=gl(r),u=Vh(d,this.transformPagePoint),{point:h}=u,{timestamp:f}=kt;this.history=[{...h,timestamp:f}];const{onSessionStart:x}=s;x&&x(r,Hh(u,this.history)),this.removeListeners=pl(zo(this.contextWindow,"pointermove",this.handlePointerMove),zo(this.contextWindow,"pointerup",this.handlePointerUp),zo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),pa(this.updatePoint)}}function Vh(e,r){return r?{point:r(e.point)}:e}function Z0(e,r){return{x:e.x-r.x,y:e.y-r.y}}function Hh({point:e},r){return{point:e,delta:Z0(e,Uw(r)),offset:Z0(e,MO(r)),velocity:zO(r,.1)}}function MO(e){return e[0]}function Uw(e){return e[e.length-1]}function zO(e,r){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const o=Uw(e);for(;s>=0&&(n=e[s],!(o.timestamp-n.timestamp>Hr(r)));)s--;if(!n)return{x:0,y:0};const c=qr(o.timestamp-n.timestamp);if(c===0)return{x:0,y:0};const d={x:(o.x-n.x)/c,y:(o.y-n.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function IO(e,{min:r,max:s},n){return r!==void 0&&e<r?e=n?Je(r,e,n.min):Math.max(e,r):s!==void 0&&e>s&&(e=n?Je(s,e,n.max):Math.min(e,s)),e}function Q0(e,r,s){return{min:r!==void 0?e.min+r:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function BO(e,{top:r,left:s,bottom:n,right:o}){return{x:Q0(e.x,s,o),y:Q0(e.y,r,n)}}function J0(e,r){let s=r.min-e.min,n=r.max-e.max;return r.max-r.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function UO(e,r){return{x:J0(e.x,r.x),y:J0(e.y,r.y)}}function FO(e,r){let s=.5;const n=It(e),o=It(r);return o>n?s=Go(r.min,r.max-n,e.min):n>o&&(s=Go(e.min,e.max-o,r.min)),ks(0,1,s)}function VO(e,r){const s={};return r.min!==void 0&&(s.min=r.min-e.min),r.max!==void 0&&(s.max=r.max-e.min),s}const Bf=.35;function HO(e=Bf){return e===!1?e=0:e===!0&&(e=Bf),{x:e1(e,"left","right"),y:e1(e,"top","bottom")}}function e1(e,r,s){return{min:t1(e,r),max:t1(e,s)}}function t1(e,r){return typeof e=="number"?e:e[r]||0}const qO=new WeakMap;class $O{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=lt(),this.visualElement=r}start(r,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=x=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(gl(x).point)},c=(x,g)=>{const{drag:v,dragPropagation:b,onDragStart:j}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dD(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gr(_=>{let C=this.getAxisMotionValue(_).get()||0;if($r.test(C)){const{projection:A}=this.visualElement;if(A&&A.layout){const R=A.layout.layoutBox[_];R&&(C=It(R)*(parseFloat(C)/100))}}this.originPoint[_]=C}),j&&tt.postRender(()=>j(x,g)),Lf(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(x,g)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:j,onDrag:k}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=g;if(b&&this.currentDirection===null){this.currentDirection=GO(_),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),k&&k(x,g)},u=(x,g)=>this.stop(x,g),h=()=>gr(x=>{var g;return this.getAnimationState(x)==="paused"&&((g=this.getAxisMotionValue(x).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Bw(r,{onSessionStart:o,onStart:c,onMove:d,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:Iw(this.visualElement)})}stop(r,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&tt.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:r,animationState:s}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(r,s,n){const{drag:o}=this.getProps();if(!n||!Fc(r,o,this.currentDirection))return;const c=this.getAxisMotionValue(r);let d=this.originPoint[r]+n[r];this.constraints&&this.constraints[r]&&(d=IO(d,this.constraints[r],this.elastic[r])),c.set(d)}resolveConstraints(){var c;const{dragConstraints:r,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,o=this.constraints;r&&Xn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&n?this.constraints=BO(n.layoutBox,r):this.constraints=!1,this.elastic=HO(s),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&gr(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=VO(n.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:s}=this.getProps();if(!r||!Xn(r))return!1;const n=r.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=PO(n,o.root,this.visualElement.getTransformPagePoint());let d=UO(o.layout.layoutBox,c);if(s){const u=s(SO(d));this.hasMutatedConstraints=!!u,u&&(d=Dw(u))}return d}startAnimation(r){const{drag:s,dragMomentum:n,dragElastic:o,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=gr(x=>{if(!Fc(x,s,this.currentDirection))return;let g=h&&h[x]||{};d&&(g={min:0,max:0});const v=o?200:1e6,b=o?40:1e7,j={type:"inertia",velocity:n?r[x]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...c,...g};return this.startAxisValueAnimation(x,j)});return Promise.all(f).then(u)}startAxisValueAnimation(r,s){const n=this.getAxisMotionValue(r);return Lf(this.visualElement,r),n.start(ax(r,n,0,s,this.visualElement,!1))}stopAnimation(){gr(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){gr(r=>{var s;return(s=this.getAxisMotionValue(r).animation)==null?void 0:s.pause()})}getAnimationState(r){var s;return(s=this.getAxisMotionValue(r).animation)==null?void 0:s.state}getAxisMotionValue(r){const s=`_drag${r.toUpperCase()}`,n=this.visualElement.getProps(),o=n[s];return o||this.visualElement.getValue(r,(n.initial?n.initial[r]:void 0)||0)}snapToCursor(r){gr(s=>{const{drag:n}=this.getProps();if(!Fc(s,n,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:d,max:u}=o.layout.layoutBox[s];c.set(r[s]-Je(d,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Xn(s)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};gr(d=>{const u=this.getAxisMotionValue(d);if(u&&this.constraints!==!1){const h=u.get();o[d]=FO({min:h,max:h},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),gr(d=>{if(!Fc(d,r,null))return;const u=this.getAxisMotionValue(d),{min:h,max:f}=this.constraints[d];u.set(Je(h,f,o[d]))})}addListeners(){if(!this.visualElement.current)return;qO.set(this.visualElement,this);const r=this.visualElement.current,s=zo(r,"pointerdown",h=>{const{drag:f,dragListener:x=!0}=this.getProps();f&&x&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();Xn(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),tt.read(n);const d=Qo(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(gr(x=>{const g=this.getAxisMotionValue(x);g&&(this.originPoint[x]+=h[x].translate,g.set(g.get()+h[x].translate))}),this.visualElement.render())});return()=>{d(),s(),c(),u&&u()}}getProps(){const r=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:d=Bf,dragMomentum:u=!0}=r;return{...r,drag:s,dragDirectionLock:n,dragPropagation:o,dragConstraints:c,dragElastic:d,dragMomentum:u}}}function Fc(e,r,s){return(r===!0||r===e)&&(s===null||s===e)}function GO(e,r=10){let s=null;return Math.abs(e.y)>r?s="y":Math.abs(e.x)>r&&(s="x"),s}class YO extends ba{constructor(r){super(r),this.removeGroupControls=br,this.removeListeners=br,this.controls=new $O(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||br}unmount(){this.removeGroupControls(),this.removeListeners()}}const r1=e=>(r,s)=>{e&&tt.postRender(()=>e(r,s))};class WO extends ba{constructor(){super(...arguments),this.removePointerDownListener=br}onPointerDown(r){this.session=new Bw(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Iw(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:s,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:r1(r),onStart:r1(s),onMove:n,onEnd:(c,d)=>{delete this.session,o&&tt.postRender(()=>o(c,d))}}}mount(){this.removePointerDownListener=zo(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ad={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s1(e,r){return r.max===r.min?0:e/(r.max-r.min)*100}const _o={correct:(e,r)=>{if(!r.target)return e;if(typeof e=="string")if(we.test(e))e=parseFloat(e);else return e;const s=s1(e,r.target.x),n=s1(e,r.target.y);return`${s}% ${n}%`}},KO={correct:(e,{treeScale:r,projectionDelta:s})=>{const n=e,o=xa.parse(e);if(o.length>5)return n;const c=xa.createTransformer(e),d=typeof o[0]!="number"?1:0,u=s.x.scale*r.x,h=s.y.scale*r.y;o[0+d]/=u,o[1+d]/=h;const f=Je(u,h,.5);return typeof o[2+d]=="number"&&(o[2+d]/=f),typeof o[3+d]=="number"&&(o[3+d]/=f),c(o)}};class XO extends w.Component{componentDidMount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:n,layoutId:o}=this.props,{projection:c}=r;PD(ZO),c&&(s.group&&s.group.add(c),n&&n.register&&o&&n.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),ad.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:s,visualElement:n,drag:o,isPresent:c}=this.props,{projection:d}=n;return d&&(d.isPresent=c,o||r.layoutDependency!==s||s===void 0||r.isPresent!==c?d.willUpdate():this.safeToRemove(),r.isPresent!==c&&(c?d.promote():d.relegate()||tt.postRender(()=>{const u=d.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),Wp.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:o}=r;o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function Fw(e){const[r,s]=k2(),n=w.useContext(Sp);return t.jsx(XO,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(vw),isPresent:r,safeToRemove:s})}const ZO={borderRadius:{..._o,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_o,borderTopRightRadius:_o,borderBottomLeftRadius:_o,borderBottomRightRadius:_o,boxShadow:KO};function QO(e,r,s){const n=Lt(e)?e:li(e);return n.start(ax("",n,r,s)),n.animation}function JO(e){return e instanceof SVGElement&&e.tagName!=="svg"}const eP=(e,r)=>e.depth-r.depth;class tP{constructor(){this.children=[],this.isDirty=!1}add(r){Ep(this.children,r),this.isDirty=!0}remove(r){Tp(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(eP),this.isDirty=!1,this.children.forEach(r)}}function rP(e,r){const s=Wt.now(),n=({timestamp:o})=>{const c=o-s;c>=r&&(pa(n),e(c-r))};return tt.setup(n,!0),()=>pa(n)}const Vw=["TopLeft","TopRight","BottomLeft","BottomRight"],sP=Vw.length,a1=e=>typeof e=="string"?parseFloat(e):e,n1=e=>typeof e=="number"||we.test(e);function aP(e,r,s,n,o,c){o?(e.opacity=Je(0,s.opacity??1,nP(n)),e.opacityExit=Je(r.opacity??1,0,iP(n))):c&&(e.opacity=Je(r.opacity??1,s.opacity??1,n));for(let d=0;d<sP;d++){const u=`border${Vw[d]}Radius`;let h=i1(r,u),f=i1(s,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||n1(h)===n1(f)?(e[u]=Math.max(Je(a1(h),a1(f),n),0),($r.test(f)||$r.test(h))&&(e[u]+="%")):e[u]=f}(r.rotate||s.rotate)&&(e.rotate=Je(r.rotate||0,s.rotate||0,n))}function i1(e,r){return e[r]!==void 0?e[r]:e.borderRadius}const nP=Hw(0,.5,z2),iP=Hw(.5,.95,br);function Hw(e,r,s){return n=>n<e?0:n>r?1:s(Go(e,r,n))}function o1(e,r){e.min=r.min,e.max=r.max}function yr(e,r){o1(e.x,r.x),o1(e.y,r.y)}function l1(e,r){e.translate=r.translate,e.scale=r.scale,e.originPoint=r.originPoint,e.origin=r.origin}function c1(e,r,s,n,o){return e-=r,e=kd(e,1/s,n),o!==void 0&&(e=kd(e,1/o,n)),e}function oP(e,r=0,s=1,n=.5,o,c=e,d=e){if($r.test(r)&&(r=parseFloat(r),r=Je(d.min,d.max,r/100)-d.min),typeof r!="number")return;let u=Je(c.min,c.max,n);e===c&&(u-=r),e.min=c1(e.min,r,s,u,o),e.max=c1(e.max,r,s,u,o)}function d1(e,r,[s,n,o],c,d){oP(e,r[s],r[n],r[o],r.scale,c,d)}const lP=["x","scaleX","originX"],cP=["y","scaleY","originY"];function u1(e,r,s,n){d1(e.x,r,lP,s?s.x:void 0,n?n.x:void 0),d1(e.y,r,cP,s?s.y:void 0,n?n.y:void 0)}function m1(e){return e.translate===0&&e.scale===1}function qw(e){return m1(e.x)&&m1(e.y)}function h1(e,r){return e.min===r.min&&e.max===r.max}function dP(e,r){return h1(e.x,r.x)&&h1(e.y,r.y)}function f1(e,r){return Math.round(e.min)===Math.round(r.min)&&Math.round(e.max)===Math.round(r.max)}function $w(e,r){return f1(e.x,r.x)&&f1(e.y,r.y)}function p1(e){return It(e.x)/It(e.y)}function x1(e,r){return e.translate===r.translate&&e.scale===r.scale&&e.originPoint===r.originPoint}class uP{constructor(){this.members=[]}add(r){Ep(this.members,r),r.scheduleRender()}remove(r){if(Tp(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(r){const s=this.members.findIndex(o=>r===o);if(s===0)return!1;let n;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){n=c;break}}return n?(this.promote(n),!0):!1}promote(r,s){const n=this.lead;if(r!==n&&(this.prevLead=n,this.lead=r,r.show(),n)){n.instance&&n.scheduleRender(),r.scheduleRender(),r.resumeFrom=n,s&&(r.resumeFrom.preserveOpacity=!0),n.snapshot&&(r.snapshot=n.snapshot,r.snapshot.latestValues=n.animationValues||n.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:o}=r.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:s,resumingFrom:n}=r;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mP(e,r,s){let n="";const o=e.x.translate/r.x,c=e.y.translate/r.y,d=(s==null?void 0:s.z)||0;if((o||c||d)&&(n=`translate3d(${o}px, ${c}px, ${d}px) `),(r.x!==1||r.y!==1)&&(n+=`scale(${1/r.x}, ${1/r.y}) `),s){const{transformPerspective:f,rotate:x,rotateX:g,rotateY:v,skewX:b,skewY:j}=s;f&&(n=`perspective(${f}px) ${n}`),x&&(n+=`rotate(${x}deg) `),g&&(n+=`rotateX(${g}deg) `),v&&(n+=`rotateY(${v}deg) `),b&&(n+=`skewX(${b}deg) `),j&&(n+=`skewY(${j}deg) `)}const u=e.x.scale*r.x,h=e.y.scale*r.y;return(u!==1||h!==1)&&(n+=`scale(${u}, ${h})`),n||"none"}const qh=["","X","Y","Z"],hP={visibility:"hidden"},fP=1e3;let pP=0;function $h(e,r,s,n){const{latestValues:o}=r;o[e]&&(s[e]=o[e],r.setStaticValue(e,0),n&&(n[e]=0))}function Gw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:r}=e.options;if(!r)return;const s=Aw(r);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",tt,!(o||c))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Gw(n)}function Yw({attachResizeListener:e,defaultParent:r,measureScroll:s,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(d={},u=r==null?void 0:r()){this.id=pP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gP),this.nodes.forEach(NP),this.nodes.forEach(CP),this.nodes.forEach(vP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new tP)}addEventListener(d,u){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Op),this.eventHandlers.get(d).add(u)}notifyListeners(d,...u){const h=this.eventHandlers.get(d);h&&h.notify(...u)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=JO(d),this.instance=d;const{layoutId:u,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),e){let x;const g=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=rP(g,250),ad.hasAnimatedSinceResize&&(ad.hasAnimatedSinceResize=!1,this.nodes.forEach(g1))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||h)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||f.getDefaultTransition()||EP,{onLayoutAnimationStart:k,onLayoutAnimationComplete:_}=f.getProps(),C=!this.targetLayout||!$w(this.targetLayout,b),A=!g&&v;if(this.options.layoutRoot||this.resumeFrom||A||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,A);const R={...Gp(j,"layout"),onPlay:k,onComplete:_};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else g||g1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SP),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Gw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const g=this.path[x];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y1);return}this.isUpdating||this.nodes.forEach(jP),this.isUpdating=!1,this.nodes.forEach(wP),this.nodes.forEach(xP),this.nodes.forEach(yP),this.clearAllSnapshots();const u=Wt.now();kt.delta=ks(0,1e3/60,u-kt.timestamp),kt.timestamp=u,kt.isProcessing=!0,Mh.update.process(kt),Mh.preRender.process(kt),Mh.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bP),this.sharedNodes.forEach(kP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!It(this.snapshot.measuredBox.x)&&!It(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(u=!1),u&&this.instance){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:h,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!qw(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,x=f!==this.prevTransformTemplateValue;d&&this.instance&&(u||Ha(this.latestValues)||x)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return d&&(h=this.removeTransform(h)),TP(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:d}=this.options;if(!d)return lt();const u=d.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(RP))){const{scroll:x}=this.root;x&&(Qn(u.x,x.offset.x),Qn(u.y,x.offset.y))}return u}removeElementScroll(d){var h;const u=lt();if(yr(u,d),(h=this.scroll)!=null&&h.wasRoot)return u;for(let f=0;f<this.path.length;f++){const x=this.path[f],{scroll:g,options:v}=x;x!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&yr(u,d),Qn(u.x,g.offset.x),Qn(u.y,g.offset.y))}return u}applyTransform(d,u=!1){const h=lt();yr(h,d);for(let f=0;f<this.path.length;f++){const x=this.path[f];!u&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Jn(h,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Ha(x.latestValues)&&Jn(h,x.latestValues)}return Ha(this.latestValues)&&Jn(h,this.latestValues),h}removeTransform(d){const u=lt();yr(u,d);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Ha(f.latestValues))continue;zf(f.latestValues)&&f.updateSnapshot();const x=lt(),g=f.measurePageBox();yr(x,g),u1(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,x)}return Ha(this.latestValues)&&u1(u,this.latestValues),u}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(d||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:g}=this.options;if(!(!this.layout||!(x||g))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Bo(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=lt(),this.targetWithTransforms=lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),Mw(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=lt(),this.relativeTargetOrigin=lt(),Bo(this.relativeTargetOrigin,this.target,b.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zf(this.parent.latestValues)||Lw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const d=this.getLead(),u=!!this.resumingFrom||this!==d;let h=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(h=!1),h)return;const{layout:f,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||x))return;yr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;OO(this.layoutCorrected,this.treeScale,this.path,u),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=lt());const{target:b}=d;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(l1(this.prevProjectionDelta.x,this.projectionDelta.x),l1(this.prevProjectionDelta.y,this.projectionDelta.y)),Io(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!x1(this.projectionDelta.x,this.prevProjectionDelta.x)||!x1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zn(),this.projectionDelta=Zn(),this.projectionDeltaWithTransform=Zn()}setAnimationOrigin(d,u=!1){const h=this.snapshot,f=h?h.latestValues:{},x={...this.latestValues},g=Zn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=lt(),b=h?h.source:void 0,j=this.layout?this.layout.source:void 0,k=b!==j,_=this.getStack(),C=!_||_.members.length<=1,A=!!(k&&!C&&this.options.crossfade===!0&&!this.path.some(AP));this.animationProgress=0;let R;this.mixTargetDelta=S=>{const T=S/1e3;v1(g.x,d.x,T),v1(g.y,d.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_P(this.relativeTarget,this.relativeTargetOrigin,v,T),R&&dP(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=lt()),yr(R,this.relativeTarget)),k&&(this.animationValues=x,aP(x,f,this.latestValues,T,A,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){var u,h,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(!1),(f=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||f.stop(!1),this.pendingAnimation&&(pa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{ad.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=li(0)),this.currentAnimation=QO(this.motionValue,[0,1e3],{...d,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),d.onUpdate&&d.onUpdate(x)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fP),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:x}=d;if(!(!u||!h||!f)){if(this!==d&&this.layout&&f&&Ww(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||lt();const g=It(this.layout.layoutBox.x);h.x.min=d.target.x.min,h.x.max=h.x.min+g;const v=It(this.layout.layoutBox.y);h.y.min=d.target.y.min,h.y.max=h.y.min+v}yr(u,h),Jn(u,x),Io(this.projectionDeltaWithTransform,this.layoutCorrected,u,x)}}registerSharedNode(d,u){this.sharedNodes.has(d)||this.sharedNodes.set(d,new uP),this.sharedNodes.get(d).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),d&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let u=!1;const{latestValues:h}=d;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&$h("z",d,f,this.animationValues);for(let x=0;x<qh.length;x++)$h(`rotate${qh[x]}`,d,f,this.animationValues),$h(`skew${qh[x]}`,d,f,this.animationValues);d.render();for(const x in f)d.setStaticValue(x,f[x]),this.animationValues&&(this.animationValues[x]=f[x]);d.scheduleRender()}getProjectionStyles(d){if(!this.instance||this.isSVG)return;if(!this.isVisible)return hP;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=sd(d==null?void 0:d.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=sd(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const x=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=mP(this.projectionDeltaWithTransform,this.treeScale,x),h&&(u.transform=h(x,u.transform));const{x:g,y:v}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=f===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const b in Xo){if(x[b]===void 0)continue;const{correct:j,applyTo:k,isCSSVariable:_}=Xo[b],C=u.transform==="none"?x[b]:j(x[b],f);if(k){const A=k.length;for(let R=0;R<A;R++)u[k[R]]=C}else _?this.options.visualElement.renderState.vars[b]=C:u[b]=C}return this.options.layoutId&&(u.pointerEvents=f===this?sd(d==null?void 0:d.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var u;return(u=d.currentAnimation)==null?void 0:u.stop(!1)}),this.root.nodes.forEach(y1),this.root.sharedNodes.clear()}}}function xP(e){e.updateLayout()}function yP(e){var s;const r=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=e.layout,{animationType:c}=e.options,d=r.source!==e.layout.source;c==="size"?gr(g=>{const v=d?r.measuredBox[g]:r.layoutBox[g],b=It(v);v.min=n[g].min,v.max=v.min+b}):Ww(c,r.layoutBox,n)&&gr(g=>{const v=d?r.measuredBox[g]:r.layoutBox[g],b=It(n[g]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+b)});const u=Zn();Io(u,n,r.layoutBox);const h=Zn();d?Io(h,e.applyTransform(o,!0),r.measuredBox):Io(h,n,r.layoutBox);const f=!qw(u);let x=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const j=lt();Bo(j,r.layoutBox,v.layoutBox);const k=lt();Bo(k,n,b.layoutBox),$w(j,k)||(x=!0),g.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=j,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:x})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function gP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function vP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bP(e){e.clearSnapshot()}function y1(e){e.clearMeasurements()}function jP(e){e.isLayoutDirty=!1}function wP(e){const{visualElement:r}=e.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),e.resetTransform()}function g1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function NP(e){e.resolveTargetDelta()}function CP(e){e.calcProjection()}function SP(e){e.resetSkewAndRotation()}function kP(e){e.removeLeadSnapshot()}function v1(e,r,s){e.translate=Je(r.translate,0,s),e.scale=Je(r.scale,1,s),e.origin=r.origin,e.originPoint=r.originPoint}function b1(e,r,s,n){e.min=Je(r.min,s.min,n),e.max=Je(r.max,s.max,n)}function _P(e,r,s,n){b1(e.x,r.x,s.x,n),b1(e.y,r.y,s.y,n)}function AP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const EP={duration:.45,ease:[.4,0,.1,1]},j1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),w1=j1("applewebkit/")&&!j1("chrome/")?Math.round:br;function N1(e){e.min=w1(e.min),e.max=w1(e.max)}function TP(e){N1(e.x),N1(e.y)}function Ww(e,r,s){return e==="position"||e==="preserve-aspect"&&!RO(p1(r),p1(s),.2)}function RP(e){var r;return e!==e.root&&((r=e.scroll)==null?void 0:r.wasRoot)}const DP=Yw({attachResizeListener:(e,r)=>Qo(e,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gh={current:void 0},Kw=Yw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gh.current){const e=new DP({});e.mount(window),e.setOptions({layoutScroll:!0}),Gh.current=e}return Gh.current},resetTransform:(e,r)=>{e.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),OP={pan:{Feature:WO},drag:{Feature:YO,ProjectionNode:Kw,MeasureLayout:Fw}};function C1(e,r,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=n[o];c&&tt.postRender(()=>c(r,gl(r)))}class PP extends ba{mount(){const{current:r}=this.node;r&&(this.unmount=uD(r,(s,n)=>(C1(this.node,n,"Start"),o=>C1(this.node,o,"End"))))}unmount(){}}class LP extends ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pl(Qo(this.node.current,"focus",()=>this.onFocus()),Qo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S1(e,r,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=n[o];c&&tt.postRender(()=>c(r,gl(r)))}class MP extends ba{mount(){const{current:r}=this.node;r&&(this.unmount=pD(r,(s,n)=>(S1(this.node,n,"Start"),(o,{success:c})=>S1(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Uf=new WeakMap,Yh=new WeakMap,zP=e=>{const r=Uf.get(e.target);r&&r(e)},IP=e=>{e.forEach(zP)};function BP({root:e,...r}){const s=e||document;Yh.has(s)||Yh.set(s,{});const n=Yh.get(s),o=JSON.stringify(r);return n[o]||(n[o]=new IntersectionObserver(IP,{root:e,...r})),n[o]}function UP(e,r,s){const n=BP(r);return Uf.set(e,s),n.observe(e),()=>{Uf.delete(e),n.unobserve(e)}}const FP={some:0,all:1};class VP extends ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:s,margin:n,amount:o="some",once:c}=r,d={root:s?s.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:FP[o]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,c&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:x,onViewportLeave:g}=this.node.getProps(),v=f?x:g;v&&v(h)};return UP(this.node.current,d,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:s}=this.node;["amount","margin","root"].some(HP(r,s))&&this.startObserver()}unmount(){}}function HP({viewport:e={}},{viewport:r={}}={}){return s=>e[s]!==r[s]}const qP={inView:{Feature:VP},tap:{Feature:MP},focus:{Feature:LP},hover:{Feature:PP}},$P={layout:{ProjectionNode:Kw,MeasureLayout:Fw}},Ff={current:null},Xw={current:!1};function GP(){if(Xw.current=!0,!!_p)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),r=()=>Ff.current=e.matches;e.addListener(r),r()}else Ff.current=!1}const YP=new WeakMap;function WP(e,r,s){for(const n in r){const o=r[n],c=s[n];if(Lt(o))e.addValue(n,o);else if(Lt(c))e.addValue(n,li(o,{owner:e}));else if(c!==o)if(e.hasValue(n)){const d=e.getValue(n);d.liveStyle===!0?d.jump(o):d.hasAnimated||d.set(o)}else{const d=e.getStaticValue(n);e.addValue(n,li(d!==void 0?d:o,{owner:e}))}}for(const n in s)r[n]===void 0&&e.removeValue(n);return r}const k1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KP{scrapeMotionValuesFromProps(r,s,n){return{}}constructor({parent:r,props:s,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:c,visualState:d},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$p,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Wt.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,tt.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=d;this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=f,this.parent=r,this.props=s,this.presenceContext=n,this.depth=r?r.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!c,this.isControllingVariants=Wd(s),this.isVariantNode=yw(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:x,...g}=this.scrapeMotionValuesFromProps(s,{},this);for(const v in g){const b=g[v];h[v]!==void 0&&Lt(b)&&b.set(h[v],!1)}}mount(r){this.current=r,YP.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),Xw.current||GP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ff.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pa(this.notifyUpdate),pa(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const s=this.features[r];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(r,s){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const n=ji.has(r);n&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",u=>{this.latestValues[r]=u,this.props.onUpdate&&tt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),c=s.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,r,s)),this.valueSubscriptions.set(r,()=>{o(),c(),d&&d(),s.owner&&s.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in ci){const s=ci[r];if(!s)continue;const{isEnabled:n,Feature:o}=s;if(!this.features[r]&&o&&n(this.props)&&(this.features[r]=new o(this)),this.features[r]){const c=this.features[r];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):lt()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,s){this.latestValues[r]=s}update(r,s){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<k1.length;n++){const o=k1[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,d=r[c];d&&(this.propEventSubscriptions[o]=this.on(o,d))}this.prevMotionValues=WP(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(r),()=>s.variantChildren.delete(r)}addValue(r,s){const n=this.values.get(r);s!==n&&(n&&this.removeValue(r),this.bindToMotionValue(r,s),this.values.set(r,s),this.latestValues[r]=s.get())}removeValue(r){this.values.delete(r);const s=this.valueSubscriptions.get(r);s&&(s(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,s){if(this.props.values&&this.props.values[r])return this.props.values[r];let n=this.values.get(r);return n===void 0&&s!==void 0&&(n=li(s===null?void 0:s,{owner:this}),this.addValue(r,n)),n}readValue(r,s){let n=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:this.getBaseTargetFromProps(this.props,r)??this.readValueFromInstance(this.current,r,this.options);return n!=null&&(typeof n=="string"&&(A2(n)||E2(n))?n=parseFloat(n):!yD(n)&&xa.test(s)&&(n=dw(r,s)),this.setBaseTarget(r,Lt(n)?n.get():n)),Lt(n)?n.get():n}setBaseTarget(r,s){this.baseTarget[r]=s}getBaseTarget(r){var c;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const d=rx(this.props,s,(c=this.presenceContext)==null?void 0:c.custom);d&&(n=d[r])}if(s&&n!==void 0)return n;const o=this.getBaseTargetFromProps(this.props,r);return o!==void 0&&!Lt(o)?o:this.initialValues[r]!==void 0&&n===void 0?void 0:this.baseTarget[r]}on(r,s){return this.events[r]||(this.events[r]=new Op),this.events[r].add(s)}notify(r,...s){this.events[r]&&this.events[r].notify(...s)}}class Zw extends KP{constructor(){super(...arguments),this.KeyframeResolver=iD}sortInstanceNodePosition(r,s){return r.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(r,s){return r.style?r.style[s]:void 0}removeValueFromRenderState(r,{vars:s,style:n}){delete s[r],delete n[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;Lt(r)&&(this.childSubscription=r.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Qw(e,{style:r,vars:s},n,o){Object.assign(e.style,r,o&&o.getProjectionStyles(n));for(const c in s)e.style.setProperty(c,s[c])}function XP(e){return window.getComputedStyle(e)}class ZP extends Zw{constructor(){super(...arguments),this.type="html",this.renderInstance=Qw}readValueFromInstance(r,s){if(ji.has(s))return SR(r,s);{const n=XP(r),o=(Mp(s)?n.getPropertyValue(s):n[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(r,{transformPagePoint:s}){return zw(r,s)}build(r,s,n){Jp(r,s,n.transformTemplate)}scrapeMotionValuesFromProps(r,s,n){return sx(r,s,n)}}const Jw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QP(e,r,s,n){Qw(e,r,void 0,n);for(const o in r.attrs)e.setAttribute(Jw.has(o)?o:Qp(o),r.attrs[o])}class JP extends Zw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=lt}getBaseTargetFromProps(r,s){return r[s]}readValueFromInstance(r,s){if(ji.has(s)){const n=cw(s);return n&&n.default||0}return s=Jw.has(s)?s:Qp(s),r.getAttribute(s)}scrapeMotionValuesFromProps(r,s,n){return _w(r,s,n)}build(r,s,n){Nw(r,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(r,s,n,o){QP(r,s,n,o)}mount(r){this.isSVGTag=Sw(r.tagName),super.mount(r)}}const e8=(e,r)=>tx(e)?new JP(r):new ZP(r,{allowProjection:e!==w.Fragment}),t8=ZD({...NO,...qP,...OP,...$P},e8),Ot=wD(t8),Kd=_t(Td((e,r)=>({banners:[],loading:!1,error:null,setBanners:s=>e({banners:s}),setLoading:s=>e({loading:s}),setError:s=>e({error:s}),fetchBanners:async()=>{var s,n;e({loading:!0,error:null});try{const o=await be.get("/admin/banners/");if(o.status===200)return e({banners:o.data.banners||[],loading:!1}),o.data.banners}catch(o){throw console.error("Error fetching banners:",o),e({error:((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||"Failed to fetch banners",loading:!1}),o}},fetchPublicBanners:async()=>{var s,n;e({loading:!0,error:null});try{const o=await be.get("/admin/banners/public/");if(o.status===200)return e({banners:o.data.banners||[],loading:!1}),o.data.banners}catch(o){throw console.error("Error fetching public banners:",o),e({error:((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||"Failed to fetch public banners",loading:!1}),o}},addBanner:async s=>{var n,o;e({loading:!0,error:null});try{const c=await be.post("/admin/banners/add/",s,{headers:{"Content-Type":"multipart/form-data"}});if(c.status===201)return await r().fetchBanners(),e({loading:!1}),c.data}catch(c){throw console.error("Error adding banner:",c),e({error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to add banner",loading:!1}),c}},editBanner:async(s,n)=>{var o,c;e({loading:!0,error:null});try{const d=n instanceof FormData;let u={};d&&(u={"Content-Type":"multipart/form-data"});const h=await be.patch(`/admin/banners/edit/${s}/`,n,{headers:u});if(h.status===200)return await r().fetchBanners(),e({loading:!1}),h.data}catch(d){throw console.error("Error editing banner:",d),e({error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to edit banner",loading:!1}),d}},deleteBanner:async s=>{var n,o;e({loading:!0,error:null});try{const c=await be.delete(`/admin/banners/delete/${s}/`);if(c.status===200){const{banners:d}=r(),u=d.filter(h=>h.id!==s);return e({banners:u,loading:!1}),c.data}}catch(c){throw console.error("Error deleting banner:",c),e({error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to delete banner",loading:!1}),c}},toggleBannerActive:async s=>{var n,o;e({loading:!0,error:null});try{const c=await be.patch(`/admin/banners/toggle/${s}/`);if(c.status===200){const{banners:d}=r(),u=d.map(h=>h.id===s?{...h,active:c.data.active}:h);return e({banners:u,loading:!1}),c.data}}catch(c){throw console.error("Error toggling banner:",c),e({error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to toggle banner",loading:!1}),c}},getBannersByPosition:s=>{const{banners:n}=r();return n.filter(o=>o.position===s&&o.active)},getHeroBanners:()=>{const{banners:s}=r();return s.filter(n=>n.position==="hero"&&n.active).sort((n,o)=>new Date(n.created_at)-new Date(o.created_at))},getCarouselBanners:()=>{const{banners:s}=r();return s.filter(o=>["home-middle","home-bottom","carousel"].includes(o.position)&&o.active).sort((o,c)=>new Date(o.created_at)-new Date(c.created_at))},clearError:()=>e({error:null})}))),r8=[{id:1,image:"/mobile1.png",backgroundColor:"#f8fafc"},{id:2,image:"/laptops.png",backgroundColor:"#f1f5f9"},{id:3,image:"/tv1.png",backgroundColor:"#e2e8f0"},{id:4,image:"/tablets1.png",backgroundColor:"#f1f5f9"},{id:5,image:"/accessories.png",backgroundColor:"#f8fafc"}],s8=()=>{const{fetchPublicBanners:e,getCarouselBanners:r}=Kd(),[s,n]=w.useState(0),[[o,c],d]=w.useState([0,0]);w.useEffect(()=>{e()},[e]);const u=r(),h=u.length>0?u:r8;w.useEffect(()=>{const b=setTimeout(()=>{const j=(s+1)%h.length;d([j,1]),n(j)},5e3);return()=>clearTimeout(b)},[s,h.length]);const f=()=>{const b=(s-1+h.length)%h.length;d([b,-1]),n(b)},x=()=>{const b=(s+1)%h.length;d([b,1]),n(b)},g={enter:b=>({x:b>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:b=>({x:b<0?1e3:-1e3,opacity:0})},v={duration:.6,ease:"easeInOut"};return t.jsxs("div",{className:"relative overflow-hidden w-full",style:{boxShadow:"var(--shadow-large)",height:"500px"},children:[t.jsx("div",{className:"absolute top-0 left-0 right-0 z-30 h-1.5 bg-white bg-opacity-20",children:t.jsx("div",{className:"h-full",style:{width:`${(s+1)/h.length*100}%`,backgroundColor:"var(--brand-primary)",transition:"width 5s linear"}})})," ",t.jsx("div",{className:"relative w-full h-full overflow-hidden",children:t.jsxs(_2,{initial:!1,custom:c,children:[" ",t.jsxs(Ot.div,{custom:c,variants:g,initial:"enter",animate:"center",exit:"exit",transition:v,className:"absolute inset-0 w-full",children:[" ",t.jsx(Ot.img,{src:h[s].image,alt:h[s].title||"Banner",className:"w-full h-full object-cover",style:{backgroundColor:h[s].backgroundColor||"#f1f5f9"},initial:{scale:.95},animate:{scale:1},transition:{duration:.5},loading:"eager"}),t.jsx(Ot.div,{className:"absolute top-0 right-0 w-64 h-64 opacity-20 rotate-45 translate-x-20 -translate-y-20",animate:{rotate:[45,55,45],opacity:[.2,.25,.2]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(40px)"}})}),t.jsx(Ot.div,{className:"absolute bottom-10 right-1/4 w-32 h-32 opacity-10",animate:{scale:[1,1.2,1],opacity:[.1,.15,.1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--text-on-brand) 0%, transparent 70%)",filter:"blur(25px)"}})})]},o)]})}),t.jsx(Ot.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:f,className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-lg z-10",style:{backgroundColor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(4px)",color:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},"aria-label":"Previous slide",children:t.jsx(Vd,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),t.jsx(Ot.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:x,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 rounded-full shadow-lg z-10",style:{backgroundColor:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(4px)",color:"var(--brand-primary)",boxShadow:"var(--shadow-medium)"},"aria-label":"Next slide",children:t.jsx(zt,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),t.jsx("div",{className:"absolute bottom-5 left-1/2 -translate-x-1/2 flex space-x-2 z-20",children:h.map((b,j)=>t.jsx(Ot.button,{onClick:()=>{const k=j>s?1:-1;d([j,k]),n(j)},className:`h-2.5 rounded-full ${j===s?"w-8 bg-white":"w-2.5 bg-white/50"}`,whileHover:{scale:1.2},whileTap:{scale:.9},transition:{duration:.2},"aria-label":`Go to slide ${j+1}`},j))})]})};function a8(e){return oe({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"},child:[]}]})(e)}function n8(e){return oe({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V20H17V4H7ZM6 2H18C18.5523 2 19 2.44772 19 3V21C19 21.5523 18.5523 22 18 22H6C5.44772 22 5 21.5523 5 21V3C5 2.44772 5.44772 2 6 2ZM12 17C12.5523 17 13 17.4477 13 18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18C11 17.4477 11.4477 17 12 17Z"},child:[]}]})(e)}function i8(e){return oe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 12v-1.707c0-4.442-3.479-8.161-7.755-8.29-2.204-.051-4.251.736-5.816 2.256A7.933 7.933 0 0 0 4 10v2c-1.103 0-2 .897-2 2v4c0 1.103.897 2 2 2h2V10a5.95 5.95 0 0 1 1.821-4.306 5.977 5.977 0 0 1 4.363-1.691C15.392 4.099 18 6.921 18 10.293V20h2c1.103 0 2-.897 2-2v-4c0-1.103-.897-2-2-2z"},child:[]},{tag:"path",attr:{d:"M7 12h2v8H7zm8 0h2v8h-2z"},child:[]}]})(e)}function o8(e){return oe({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1zM2 9a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M5 11.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M14 3a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM2 2a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M5 4.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"},child:[]}]})(e)}const eN=_t(e=>({categories:{list:[],loading:!1,error:null},fetchCategories:async()=>{var r,s;e(n=>({categories:{...n.categories,loading:!0,error:null}}));try{const o=(await be.get("/admin/categories/")).data.categories;return e({categories:{list:o,loading:!1,error:null}}),{success:!0,categories:o}}catch(n){const o=((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.error)||"Failed to fetch categories";return e(c=>({categories:{...c.categories,loading:!1,error:o}})),{success:!1,error:o}}},addCategory:async r=>{var s,n;e(o=>({categories:{...o.categories,loading:!0,error:null}}));try{const o={...r,order:r.order||0},c=await be.post("/admin/categories/add/",o);if(c.data.category)return e(d=>({categories:{...d.categories,list:[...d.categories.list,c.data.category],loading:!1,error:null}})),{success:!0,message:c.data.message||"Category added successfully",category:c.data.category}}catch(o){const c=((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||"Failed to add category";return e(d=>({categories:{...d.categories,loading:!1,error:c}})),{success:!1,error:c}}},editCategory:async(r,s)=>{var n,o;e(c=>({categories:{...c.categories,loading:!0,error:null}}));try{const c={...s,order:s.order!==void 0?s.order:0},d=await be.put(`/admin/categories/edit/${r}/`,c);if(d.data.category)return e(u=>({categories:{...u.categories,list:u.categories.list.map(h=>h.id===r?d.data.category:h),loading:!1,error:null}})),{success:!0,message:d.data.message||"Category updated successfully",category:d.data.category}}catch(c){const d=((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to update category";return e(u=>({categories:{...u.categories,loading:!1,error:d}})),{success:!1,error:d}}},uploadCategoryImage:async r=>{var s,n;try{const o=new FormData;o.append("image",r);const c=await be.post("/admin/categories/upload-image/",o,{headers:{"Content-Type":"multipart/form-data"}});return c.data.success?{success:!0,imageUrl:c.data.image_url,message:c.data.message||"Image uploaded successfully"}:{success:!1,message:c.data.error||"Failed to upload image"}}catch(o){return{success:!1,message:((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||o.message||"Failed to upload image"}}}})),l8={scrollbarWidth:"none",msOverflowStyle:"none"},c8=()=>{const{categories:e,fetchCategories:r}=eN(),[s,n]=w.useState([]),o=w.useRef();w.useEffect(()=>{r()},[r]),w.useEffect(()=>{if(e&&e.length>0){const h=[...e].sort((f,x)=>(f.order||0)-(x.order||0));n(h)}else if(e.list&&e.list.length>0){const h=[...e.list].sort((f,x)=>(f.order||0)-(x.order||0));n(h)}},[e.list,e]);const c={Smartphones:t.jsx(n8,{className:"w-full h-full"}),Laptops:t.jsx(o5,{className:"w-full h-full"}),Tablets:t.jsx(l5,{className:"w-full h-full"}),"Mobile Accessories":t.jsx(Pe,{className:"w-full h-full"}),"Laptop Accessories":t.jsx(o8,{className:"w-full h-full"}),"Audio Devices":t.jsx(i8,{className:"w-full h-full"})},d=h=>{h.preventDefault(),o.current&&o.current.scrollBy({left:-300,behavior:"smooth"})},u=h=>{h.preventDefault(),o.current&&o.current.scrollBy({left:300,behavior:"smooth"})};return t.jsxs("div",{className:"py-14",children:[t.jsxs("div",{className:"relative mb-14 flex flex-col items-center",children:[t.jsx("span",{className:"text-sm font-medium tracking-wide uppercase mb-2",style:{color:"var(--brand-primary)"},children:"Find What You Need"}),t.jsx("h2",{style:{color:"var(--text-primary)"},className:"text-3xl font-bold text-center mb-3 relative z-10",children:"Shop by Category"}),t.jsx("div",{className:"h-1.5 w-28 rounded-full mb-4",style:{background:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"}}),t.jsx("p",{className:"text-center max-w-md text-base",style:{color:"var(--text-secondary)"},children:"Discover our wide range of products by browsing through popular categories"})," "]}),t.jsxs("div",{className:"relative px-2",onKeyDown:h=>{h.key==="ArrowLeft"&&d(h),h.key==="ArrowRight"&&u(h)},children:[t.jsx("button",{onClick:d,className:"absolute left-0 top-1/2 -translate-y-1/2 z-30 w-10 h-10 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"var(--shadow-medium)",transform:"translateY(-50%) translateX(-5px)",cursor:"pointer"},"aria-label":"Scroll left",type:"button",children:t.jsx(n5,{className:"w-6 h-6",style:{color:"var(--brand-primary)"}})}),t.jsxs("button",{onClick:u,className:"absolute right-0 top-1/2 -translate-y-1/2 z-30 w-10 h-10 flex items-center justify-center rounded-full bg-white shadow-lg hover:bg-gray-100 transition-colors focus:outline-none",style:{boxShadow:"var(--shadow-medium)",transform:"translateY(-50%) translateX(5px)",cursor:"pointer"},"aria-label":"Scroll right",type:"button",children:[t.jsx(i5,{className:"w-6 h-6",style:{color:"var(--brand-primary)"}})," "]}),t.jsx("div",{ref:o,className:"overflow-x-auto relative z-10 scrollbar-hide",style:l8,tabIndex:"0",children:t.jsxs("div",{className:"flex gap-6 py-4 px-8",children:[e.loading&&t.jsx("div",{className:"flex justify-center w-full py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}),e.error&&t.jsxs("div",{className:"flex justify-center w-full py-8 text-red-500",children:["Error loading categories: ",e.error]}),s.map(h=>t.jsxs(pe,{to:`${h.redirect_url}`,className:"flex-shrink-0 flex flex-col items-center transition-transform duration-300 hover:-translate-y-1",style:{width:"280px"},children:[" ",t.jsx("div",{className:"flex items-center justify-center mb-3 relative overflow-hidden transition-all duration-300 hover:shadow-lg",style:{width:"110px",height:"110px",borderRadius:"8px",padding:"5px",backgroundColor:"transparent"},children:h.image_url?t.jsx("img",{src:h.image_url,alt:h.name,className:"w-full h-full object-contain transition-transform duration-300 hover:scale-110",style:{maxWidth:"100%",maxHeight:"100%",backgroundColor:"transparent"},onError:f=>{f.target.onerror=null,f.target.style.display="none",f.target.nextSibling&&(f.target.nextSibling.style.display="block")}}):t.jsx("div",{className:"w-full h-full flex items-center justify-center transition-transform duration-300 hover:scale-110",style:{color:"var(--brand-primary)"},children:c[h.name]||t.jsx(a8,{className:"w-14 h-14"})})}),t.jsx("h3",{className:"text-sm font-medium text-center transition-colors duration-300 hover:text-brand-primary",style:{color:"var(--text-primary)"},children:h.name})]},h.id))]})})]})]})};function d8(e){return oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M420.55,301.93a24,24,0,1,1,24-24,24,24,0,0,1-24,24m-265.1,0a24,24,0,1,1,24-24,24,24,0,0,1-24,24m273.7-144.48,47.94-83a10,10,0,1,0-17.27-10h0l-48.54,84.07a301.25,301.25,0,0,0-246.56,0L116.18,64.45a10,10,0,1,0-17.27,10h0l47.94,83C64.53,202.22,8.24,285.55,0,384H576c-8.24-98.45-64.54-181.78-146.85-226.55"},child:[]}]})(e)}function u8(e){return oe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(e)}function m8(e){return oe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function h8(e){return oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function f8(e){return oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(e)}function p8(e){return oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function _1(e){return oe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function x8(e){return oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(e)}function y8(e){return oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function g8(e){return oe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"},child:[]}]})(e)}function v8(e){return oe({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function tN(e){return oe({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(e)}function Vf(e){return oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function Hf(e){return oe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(e)}const ja=_t(tj((e,r)=>({items:[],itemCount:0,totalAmount:0,isLoading:!1,error:null,fetchCart:async()=>{var s,n;try{if(e({isLoading:!0,error:null}),Ie.getState().isAuthenticated){const d=(await De.get("/users/cart/")).data.cart.map(u=>({id:u.product_id,item_id:u.item_id,name:u.name,price:u.price,image:u.image_url,quantity:u.quantity,stock:u.stock||10,category:u.category||"Product",added_at:u.added_at}));return e({items:d,isLoading:!1}),Ao(),d}else return Ao(),e({isLoading:!1}),r().items}catch(o){return e({isLoading:!1,error:((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||"Failed to fetch cart"}),r().items}},addItem:async(s,n=1)=>{var o,c;try{e({isLoading:!0,error:null}),Ie.getState().isAuthenticated&&await De.post(`/users/cart/add/${s.id}/`,{quantity:n});const{items:u}=r(),h=u.find(f=>f.id===s.id);return e(h?{items:u.map(f=>f.id===s.id?{...f,quantity:f.quantity+n}:f),isLoading:!1}:{items:[...u,{...s,quantity:n}],isLoading:!1}),Ao(),ye.success("Item added to cart"),!0}catch(d){return e({isLoading:!1,error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to add item to cart"}),!1}},removeItem:async s=>{var n,o;try{e({isLoading:!0,error:null}),Ie.getState().isAuthenticated&&await De.delete(`/users/cart/remove/${s}/`);const{items:d}=r();return e({items:d.filter(u=>u.id!==s),isLoading:!1}),Ao(),!0}catch(c){return e({isLoading:!1,error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to remove item from cart"}),!1}},updateQuantity:async(s,n)=>{var o,c;try{e({isLoading:!0,error:null});const d=Ie.getState().isAuthenticated;if(n<=0)return r().removeItem(s);d&&(await De.delete(`/users/cart/remove/${s}/`),await De.post(`/users/cart/add/${s}/`,{quantity:n}));const{items:u}=r();return e({items:u.map(h=>h.id===s?{...h,quantity:n}:h),isLoading:!1}),Ao(),!0}catch(d){return e({isLoading:!1,error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to update item quantity"}),!1}},clearCart:async()=>{var s,n;try{if(e({isLoading:!0,error:null}),Ie.getState().isAuthenticated){const{items:c}=r(),d=c.map(u=>De.delete(`/users/cart/remove/${u.id}/`));await Promise.all(d)}return e({items:[],itemCount:0,totalAmount:0,isLoading:!1}),!0}catch(o){return e({isLoading:!1,error:((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||"Failed to clear cart"}),!1}},updateTotals:()=>{const{items:s}=r(),n=s.reduce((c,d)=>c+d.quantity,0),o=s.reduce((c,d)=>c+d.price*d.quantity,0);e({itemCount:n,totalAmount:o})},clearError:()=>e({error:null})}),{name:"cart-storage"})),Ao=()=>{ja.getState().updateTotals()},Xd=_t(tj((e,r)=>({items:[],isLoading:!1,error:null,fetchWishlist:async()=>{var s,n;try{if(e({isLoading:!0,error:null}),Ie.getState().isAuthenticated){const d=(await De.get("/users/wishlist/")).data.wishlist.map(u=>({id:u.product_id,item_id:u.item_id,name:u.name,price:u.price,image:u.image_url,stock:u.stock||1,category:u.category||"Product",added_at:u.added_at}));return e({items:d,isLoading:!1}),d}else return e({isLoading:!1}),r().items}catch(o){return e({isLoading:!1,error:((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||"Failed to fetch wishlist"}),r().items}},addItem:async s=>{var n,o;try{e({isLoading:!0,error:null});const c=Ie.getState().isAuthenticated,{items:d}=r();return d.find(h=>h.id===s.id)?(e({isLoading:!1}),!0):(c&&await De.post(`/users/wishlist/add/${s.id}/`),e({items:[...d,s],isLoading:!1}),ye.success("Item added to wishlist"),!0)}catch(c){return e({isLoading:!1,error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to add item to wishlist"}),!1}},removeItem:async s=>{var n,o;try{e({isLoading:!0,error:null}),Ie.getState().isAuthenticated&&await De.delete(`/users/wishlist/remove/${s}/`);const{items:d}=r();return e({items:d.filter(u=>u.id!==s),isLoading:!1}),!0}catch(c){return e({isLoading:!1,error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to remove item from wishlist"}),!1}},isInWishlist:s=>{const{items:n}=r();return n.some(o=>o.id===s)},clearWishlist:async()=>{var s,n;try{if(e({isLoading:!0,error:null}),Ie.getState().isAuthenticated){const{items:c}=r(),d=c.map(u=>De.delete(`/users/wishlist/remove/${u.id}/`));await Promise.all(d)}return e({items:[],isLoading:!1}),!0}catch(o){return e({isLoading:!1,error:((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||"Failed to clear wishlist"}),!1}},clearError:()=>e({error:null})}),{name:"wishlist-storage"})),nx=({product:e})=>{const{addItem:r}=ja(),{addItem:s,isInWishlist:n,removeItem:o}=Xd(),c=n(e.id),d=()=>{r(e,1),Ve.success(`${e.name} added to cart!`)},u=()=>{c?(o(e.id),Ve.success(`${e.name} removed from wishlist!`)):(s(e),Ve.success(`${e.name} added to wishlist!`))},h=f=>{const x=[],g=Math.floor(f),v=f%1!==0;for(let b=0;b<5;b++)b<g?x.push(t.jsx(Vf,{className:"text-yellow-400"},b)):b===g&&v?x.push(t.jsx(tN,{className:"text-yellow-400"},b)):x.push(t.jsx(Hf,{className:"text-yellow-400"},b));return x};return t.jsxs("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:-translate-y-1",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[t.jsxs(pe,{to:`/products/${e.id}`,className:"block relative group",children:[t.jsx("div",{className:"bg-white p-4 flex items-center justify-center h-56",children:t.jsx("img",{src:e.image,alt:e.name,className:"max-h-48 w-auto object-contain transform transition-transform duration-300 group-hover:scale-110"})}),e.discount&&t.jsxs("span",{className:"absolute top-3 left-3 text-xs font-medium px-2.5 py-1 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:[e.discount," OFF"]})]}),t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1 pr-3",children:[t.jsxs("p",{className:"text-xs mb-1.5",style:{color:"var(--text-secondary)"},children:[e.brand," • ",e.category]}),t.jsx("h3",{className:"font-medium mb-1.5 line-clamp-2 min-h-[2.5rem]",style:{color:"var(--text-primary)"},children:t.jsx(pe,{to:`/products/${e.id}`,children:e.name})}),t.jsxs("div",{className:"flex items-center mb-2.5",children:[t.jsx("div",{className:"flex items-center",children:h(e.rating)}),t.jsx("span",{className:"text-xs ml-1.5",style:{color:"var(--text-secondary)"},children:e.rating})]}),t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsxs("p",{className:"font-bold text-lg",style:{color:"var(--text-accent)"},children:["₹",e.discountPrice.toLocaleString()]}),e.discount&&t.jsxs("p",{className:"text-sm line-through ml-2",style:{color:"var(--text-secondary)"},children:["₹",e.price.toLocaleString()]})]})]})," ",t.jsx("button",{onClick:u,className:"flex items-center justify-center h-8 w-8 rounded-full transition-colors",style:{backgroundColor:c?"var(--brand-primary)":"var(--bg-accent-light)",color:c?"white":"var(--brand-primary)"},children:t.jsx(ml,{className:`text-lg ${c?"fill-current":""}`})})]})," ",t.jsx("div",{className:"mt-3",children:t.jsx(me,{onClick:d,fullWidth:!0,className:"flex items-center justify-center",icon:t.jsx(fl,{className:"mr-1.5"}),children:"Add to Cart"})})]})]})},b8=({products:e})=>{const r=(e||[]).map(s=>({...s,id:s.id||s._id,name:s.name||`${s.brand} ${s.model||""}`.trim(),image:s.images&&s.images.length>0?s.images[0]:s.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:s.discount_price||s.offer_price||s.price,price:s.price,discount:s.discount||(s.price&&s.discount_price?`${Math.round((s.price-(s.discount_price||s.offer_price))/s.price*100)}%`:null),rating:s.rating||4,reviews:s.reviews||s.reviews_count||0,brand:s.brand||"Unknown",category:s.category||"General",stock:s.stock||0}));return t.jsx("div",{className:"featured-products py-10",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"Featured Products"}),t.jsx("div",{className:"h-1 w-24 mx-auto rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("p",{className:"mt-4 text-lg",style:{color:"var(--text-secondary)"},children:"Discover our best-selling items handpicked for you"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(s=>t.jsx(nx,{product:s},s.id))}),r.length===0&&t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{style:{color:"var(--text-secondary)"},children:"No featured products available at the moment."})})]})})},j8=[{image:"/mobile1.png",title:"Latest Smartphones",subtitle:"Discover the newest technology at unbeatable prices",tag:"New Arrivals",cta:"Shop Phones",backgroundColor:"#f8fafc"},{image:"/laptops.png",title:"Premium Laptops",subtitle:"Powerful devices for work and play",tag:"Best Sellers",cta:"Shop Laptops",backgroundColor:"#f1f5f9"},{image:"/tv1.png",title:"Smart TVs",subtitle:"Immersive entertainment for your home",tag:"Featured",cta:"Shop TVs",backgroundColor:"#e2e8f0"}],w8=()=>{const{fetchPublicBanners:e,getHeroBanners:r}=Kd(),[s,n]=w.useState(0),[[o,c],d]=w.useState([0,0]);w.useEffect(()=>{e()},[e]);const u=r();console.log("Hero Banners:",u);const h=u.length>0?u:j8;w.useEffect(()=>{if(h.length===0)return;const b=setTimeout(()=>{const j=(s+1)%h.length;d([j,1]),n(j)},5e3);return()=>clearTimeout(b)},[s,h.length]);const f=()=>{const b=(s-1+h.length)%h.length;d([b,-1]),n(b)},x=()=>{const b=(s+1)%h.length;d([b,1]),n(b)},g={enter:b=>({x:b>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:b=>({x:b<0?1e3:-1e3,opacity:0})},v={duration:.6,ease:"easeInOut"};return t.jsx("section",{className:"relative overflow-hidden",children:t.jsx("div",{className:"container",children:t.jsxs("div",{className:"relative overflow-hidden transform hover:scale-[1.01] transition-all duration-700 ease-in-out animate-fadeIn",style:{boxShadow:"var(--shadow-large), 0 15px 30px -10px rgba(245, 158, 11, 0.2)",height:"500px"},children:[t.jsx(_2,{initial:!1,custom:c,children:t.jsxs(Ot.div,{custom:c,variants:g,initial:"enter",animate:"center",exit:"exit",transition:v,className:"absolute inset-0",children:[" ",t.jsx("img",{src:h[s].image,alt:h[s].title,className:"w-full h-full object-cover object-center",style:{backgroundColor:h[s].backgroundColor},loading:"eager"}),t.jsx("div",{className:"absolute inset-0 flex flex-col justify-center px-8 md:px-14",style:{background:"linear-gradient(90deg, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.65) 40%, rgba(0,0,0,0.2) 100%)",backdropFilter:"blur(2px)"},children:t.jsxs("div",{className:"max-w-lg relative",children:[" ",h[s].tag&&t.jsx(Ot.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"inline-block px-5 py-2 mb-5 rounded-full text-sm font-medium shadow-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"0 8px 25px rgba(245, 158, 11, 0.5)",backdropFilter:"blur(4px)"},children:h[s].tag}),t.jsx(Ot.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-3xl sm:text-5xl md:text-6xl font-bold mb-4 leading-tight drop-shadow-lg",style:{color:"var(--text-on-brand)",textShadow:"0 2px 10px rgba(0,0,0,0.4)",letterSpacing:"-0.02em"},children:h[s].title}),h[s].subtitle&&t.jsx(Ot.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},className:"text-lg sm:text-xl md:text-2xl mb-8 leading-relaxed max-w-xl",style:{color:"var(--text-on-brand-muted)",textShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:h[s].subtitle}),h[s].description&&t.jsx(Ot.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7,duration:.6},className:"text-base mb-8 leading-relaxed max-w-xl",style:{color:"var(--text-on-brand-muted)",textShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:h[s].description}),t.jsxs(Ot.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"flex flex-wrap gap-4",children:[t.jsxs(me,{variant:"primary",fullWidth:!1,size:"lg",className:"transition-all duration-500 hover:translate-y-[-4px] hover:shadow-xl relative overflow-hidden group",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"0 10px 25px -5px rgba(245, 158, 11, 0.5)",borderRadius:"var(--rounded-md)",padding:"0.85rem 2rem"},children:[t.jsxs("span",{className:"relative z-10 text-base font-semibold flex items-center gap-2",children:[h[s].cta||"Shop Now",t.jsx("svg",{className:"w-5 h-5 transform group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]}),t.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 transform -skew-x-30 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-in-out"})]}),h[s].link&&t.jsxs(me,{variant:"outline",fullWidth:!1,size:"lg",className:"transition-all duration-500 hover:translate-y-[-4px] hover:shadow-xl relative overflow-hidden group",style:{backgroundColor:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(8px)",borderColor:"rgba(255, 255, 255, 0.4)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)",padding:"0.85rem 2rem",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.15)"},children:[t.jsx("span",{className:"relative z-10 text-base font-semibold",children:"Learn More"}),t.jsx("span",{className:"absolute inset-0 bg-white/10 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"})]})]})]})})]},o)}),t.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center",children:t.jsx(Ot.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:f,className:"bg-black/30 hover:bg-black/50 text-white p-2 rounded-r-lg backdrop-blur-sm ml-2","aria-label":"Previous slide",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),t.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center",children:t.jsx(Ot.button,{initial:{opacity:.6},whileHover:{opacity:1,scale:1.1},whileTap:{scale:.9},onClick:x,className:"bg-black/30 hover:bg-black/50 text-white p-2 rounded-l-lg backdrop-blur-sm mr-2","aria-label":"Next slide",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})})," ",t.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:h.map((b,j)=>t.jsx(Ot.button,{onClick:()=>{const k=j>s?1:-1;d([j,k]),n(j)},className:`h-2.5 rounded-full ${j===s?"w-8 bg-white":"w-2.5 bg-white/50"}`,whileHover:{scale:1.2},whileTap:{scale:.9},transition:{duration:.2},"aria-label":`Go to slide ${j+1}`},j))}),t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 opacity-20 rotate-45 translate-x-20 -translate-y-20 animate-pulse",style:{animationDuration:"5s"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(40px)"}})}),t.jsx("div",{className:"absolute top-1/2 right-1/3 w-40 h-40 opacity-15 rotate-12 animate-pulse",style:{animationDuration:"8s"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-secondary) 0%, transparent 70%)",filter:"blur(30px)"}})}),t.jsx("div",{className:"absolute bottom-10 right-1/4 w-32 h-32 opacity-10 animate-pulse",style:{animationDuration:"12s"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--text-on-brand) 0%, transparent 70%)",filter:"blur(25px)"}})}),t.jsx("div",{className:"absolute bottom-0 left-1/4 w-20 h-20 opacity-10 rotate-90 animate-pulse",style:{animationDuration:"10s"},children:t.jsx("div",{className:"w-full h-full rounded-full",style:{background:"radial-gradient(circle, var(--brand-primary) 0%, transparent 70%)",filter:"blur(15px)"}})})]})})})},A1={markReviewHelpful:async(e,r)=>{var s,n,o,c,d,u,h;try{return{success:!0,data:(await De.post(`/products/${e}/reviews/${r}/helpful/`)).data}}catch(f){let x="Failed to mark review as helpful";return((s=f.response)==null?void 0:s.status)===401?x="Please log in to mark reviews as helpful":((n=f.response)==null?void 0:n.status)===404?x="Review not found":((o=f.response)==null?void 0:o.status)===409?x="You have already marked this review as helpful":(d=(c=f.response)==null?void 0:c.data)!=null&&d.error?x=f.response.data.error:(h=(u=f.response)==null?void 0:u.data)!=null&&h.message&&(x=f.response.data.message),{success:!1,error:x}}},reportReview:async(e,r)=>{var s,n,o,c,d,u,h;try{const f=await De.post(`/products/${e}/reviews/${r}/report/`);return{success:!0,data:f.data,message:f.data.message||"Review reported successfully"}}catch(f){let x="Failed to report review";return((s=f.response)==null?void 0:s.status)===401?x="Please log in to report reviews":((n=f.response)==null?void 0:n.status)===404?x="Review not found":((o=f.response)==null?void 0:o.status)===409?x="You have already reported this review":(d=(c=f.response)==null?void 0:c.data)!=null&&d.error?x=f.response.data.error:(h=(u=f.response)==null?void 0:u.data)!=null&&h.message&&(x=f.response.data.message),{success:!1,error:x}}}},wa=_t((e,r)=>({products:[],categories:[],brands:[],featuredProducts:[],currentProduct:null,loading:!1,error:null,reviewLoading:!1,reviewError:null,fetchProducts:async()=>{e({loading:!0});try{const s=await De.get(`${Ya}/products/products/`),n=Array.from(new Set(s.data.products.map(d=>d.category))),o=Array.from(new Set(s.data.products.map(d=>d.brand))),c=s.data.products.filter(d=>d.featured===!0||d.rating>=4.5).sort((d,u)=>d.featured&&!u.featured?-1:!d.featured&&u.featured?1:(u.rating||0)-(d.rating||0)).slice(0,8);e({products:s.data.products,categories:n,brands:o,featuredProducts:c,loading:!1})}catch(s){console.error("Error fetching products:",s),e({error:"Failed to fetch products. Please try again later.",loading:!1})}},fetchCategories:async()=>{e({loading:!0});try{const s=await De.get(`${Ya}/products/categories`);e({categories:s.data.categories,loading:!1})}catch(s){e({error:s.message,loading:!1})}},getProduct:s=>{const{products:n}=r();return n.find(o=>o.id===parseInt(s,10))},fetchProduct:async s=>{e({loading:!0,error:null});try{const n=await De.get(`${Ya}/products/products/${s}/`);return e({currentProduct:n.data.product,loading:!1}),n.data.product}catch(n){return console.error("Error fetching product:",n),e({error:"Failed to fetch product. Please try again later.",loading:!1}),null}},clearCurrentProduct:()=>{e({currentProduct:null})},getProductsByCategory:s=>{const{products:n}=r();return n.filter(o=>o.category.toLowerCase()===s.toLowerCase())},getProductsByBrand:s=>{const{products:n}=r();return n.filter(o=>o.brand.toLowerCase()===s.toLowerCase())},searchProducts:s=>{const{products:n}=r();if(!s||s.trim()==="")return[];const o=s.toLowerCase().trim(),c=o.split(/\s+/);return n.map(u=>{var f,x,g;let h=0;return u.name.toLowerCase().includes(o)&&(h+=100),c.forEach(v=>{u.name.toLowerCase().includes(v)&&(h+=50)}),(f=u.brand)!=null&&f.toLowerCase().includes(o)&&(h+=40),(x=u.category)!=null&&x.toLowerCase().includes(o)&&(h+=30),(g=u.description)!=null&&g.toLowerCase().includes(o)&&(h+=20),c.forEach(v=>{var b;(b=u.description)!=null&&b.toLowerCase().includes(v)&&(h+=10)}),{product:u,score:h}}).filter(u=>u.score>0).sort((u,h)=>h.score-u.score).map(u=>u.product)},addReview:async(s,n)=>{var o,c,d,u,h;e({reviewLoading:!0,reviewError:null});try{const f=await De.post(`/users/add-review/${s}/`,n,{headers:{"Content-Type":"application/json"}}),x=r();return x.currentProduct&&x.currentProduct.id===Number(s)&&await x.fetchProduct(s),e({reviewLoading:!1}),{success:!0,data:f.data,message:f.data.message||"Review added successfully"}}catch(f){console.error("Error adding review:",f);let x="Failed to add review. Please try again later.";return(c=(o=f.response)==null?void 0:o.data)!=null&&c.error?x=f.response.data.error:((d=f.response)==null?void 0:d.status)===400?x="Invalid review data. Please check your input.":((u=f.response)==null?void 0:u.status)===404?x="Product not found.":((h=f.response)==null?void 0:h.status)===401&&(x="Please log in to add a review."),e({reviewError:x,reviewLoading:!1}),{success:!1,error:x}}},clearReviewError:()=>{e({reviewError:null})},markReviewHelpful:async(s,n)=>{try{const o=await A1.markReviewHelpful(s,n);if(o.success){const{currentProduct:c}=r();if(c&&c.id===s){const d=c.reviewsData.map(u=>u.id===n?{...u,helpful_count:o.data.helpful_count,is_marked_helpful:o.data.is_marked_helpful}:u);e({currentProduct:{...c,reviewsData:d}})}return o}return o}catch(o){return console.error("Error marking review as helpful:",o),{success:!1,error:"Failed to mark review as helpful"}}},reportReview:async(s,n)=>{try{return await A1.reportReview(s,n)}catch(o){return console.error("Error reporting review:",o),{success:!1,error:"Failed to report review"}}},fetchFeaturedProducts:async()=>{e({loading:!0});try{const n=(await De.get(`${Ya}/products/products/`)).data.products.filter(o=>o.featured===!0||o.rating>=4.5).sort((o,c)=>o.featured&&!c.featured?-1:!o.featured&&c.featured?1:(c.rating||0)-(o.rating||0)).slice(0,8);e({featuredProducts:n,loading:!1})}catch(s){console.error("Error fetching featured products:",s),e({error:"Failed to fetch featured products. Please try again later.",loading:!1})}}})),N8=Object.freeze(Object.defineProperty({__proto__:null,useProductStore:wa},Symbol.toStringTag,{value:"Module"}));var qf=new Map,Vc=new WeakMap,E1=0,C8=void 0;function S8(e){return e?(Vc.has(e)||(E1+=1,Vc.set(e,E1.toString())),Vc.get(e)):"0"}function k8(e){return Object.keys(e).sort().filter(r=>e[r]!==void 0).map(r=>`${r}_${r==="root"?S8(e.root):e[r]}`).toString()}function _8(e){const r=k8(e);let s=qf.get(r);if(!s){const n=new Map;let o;const c=new IntersectionObserver(d=>{d.forEach(u=>{var h;const f=u.isIntersecting&&o.some(x=>u.intersectionRatio>=x);e.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=f),(h=n.get(u.target))==null||h.forEach(x=>{x(f,u)})})},e);o=c.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),s={id:r,observer:c,elements:n},qf.set(r,s)}return s}function A8(e,r,s={},n=C8){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const h=e.getBoundingClientRect();return r(n,{isIntersecting:n,target:e,intersectionRatio:typeof s.threshold=="number"?s.threshold:0,time:0,boundingClientRect:h,intersectionRect:h,rootBounds:h}),()=>{}}const{id:o,observer:c,elements:d}=_8(s),u=d.get(e)||[];return d.has(e)||d.set(e,u),u.push(r),c.observe(e),function(){u.splice(u.indexOf(r),1),u.length===0&&(d.delete(e),c.unobserve(e)),d.size===0&&(c.disconnect(),qf.delete(o))}}function E8({threshold:e,delay:r,trackVisibility:s,rootMargin:n,root:o,triggerOnce:c,skip:d,initialInView:u,fallbackInView:h,onChange:f}={}){var x;const[g,v]=w.useState(null),b=w.useRef(f),[j,k]=w.useState({inView:!!u,entry:void 0});b.current=f,w.useEffect(()=>{if(d||!g)return;let R;return R=A8(g,(S,T)=>{k({inView:S,entry:T}),b.current&&b.current(S,T),T.isIntersecting&&c&&R&&(R(),R=void 0)},{root:o,rootMargin:n,threshold:e,trackVisibility:s,delay:r},h),()=>{R&&R()}},[Array.isArray(e)?e.toString():e,g,o,n,c,d,s,h,r]);const _=(x=j.entry)==null?void 0:x.target,C=w.useRef(void 0);!g&&_&&!c&&!d&&C.current!==_&&(C.current=_,k({inView:!!u,entry:void 0}));const A=[v,j.inView,j.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}const T8=()=>{const{products:e,featuredProducts:r,fetchProducts:s}=wa(),{fetchPublicBanners:n}=Kd(),[o,c]=w.useState([]),[d,u]=w.useState(1),[h,f]=w.useState(!0),[x,g]=w.useState(!1),v=8,{ref:b,inView:j}=E8({threshold:.1,triggerOnce:!1});w.useEffect(()=>{s(),n()},[s,n]),w.useEffect(()=>{e&&e.length>0&&(c(e.slice(0,v)),f(e.length>v))},[e]);const k=w.useCallback(()=>{x||!h||(g(!0),setTimeout(()=>{const C=d+1,A=d*v,R=A+v,S=e.slice(A,R);S.length>0?(c(T=>[...T,...S]),u(C),f(R<e.length)):f(!1),g(!1)},800))},[d,e,x,h]);w.useEffect(()=>{j&&k()},[j,k]);const _=[];return t.jsxs("div",{style:{backgroundColor:"var(--bg-secondary)"},className:"min-h-screen",children:[" ",t.jsx(w8,{}),t.jsx("section",{style:{backgroundColor:"var(--bg-primary)"},className:"py-12",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx(c8,{categories:_})})}),t.jsx("section",{className:"py-12",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx(b8,{products:r})})}),t.jsx("section",{style:{backgroundColor:"var(--bg-primary)"},className:"py-12",children:t.jsxs("div",{className:"container",children:[" ",t.jsx("h2",{style:{color:"var(--text-primary)"},className:"text-2xl md:text-3xl font-bold mb-6",children:"Special Offers"}),t.jsx(s8,{})]})}),t.jsx("section",{className:"py-12",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"Our Products"}),t.jsx("div",{className:"h-1 w-24 mx-auto rounded-full",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("p",{className:"mt-4 text-lg",style:{color:"var(--text-secondary)"},children:"Explore our complete collection"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(C=>t.jsx(nx,{product:{...C,id:C.id||C._id,name:C.name||`${C.brand} ${C.model||""}`.trim(),image:C.images&&C.images.length>0?C.images[0]:C.image||"https://via.placeholder.com/300x300?text=No+Image",discountPrice:C.discount_price||C.offer_price||C.price,price:C.price,discount:C.discount||(C.price&&C.discount_price?`${Math.round((C.price-(C.discount_price||C.offer_price))/C.price*100)}%`:null),rating:C.rating||4,reviews:C.reviews||C.reviews_count||0,brand:C.brand||"Unknown",category:C.category||"General",stock:C.stock||0}},C.id))}),t.jsxs("div",{className:"mt-10 text-center",ref:b,children:[x&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-3",style:{borderColor:"var(--brand-primary)"}}),t.jsx("p",{className:"text-sm font-medium mt-3",style:{color:"var(--text-secondary)"},children:"Loading more products..."})]}),!x&&h&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[t.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full animate-bounce mb-2",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Fd,{className:"text-lg"})}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Scroll for more products"})]}),!x&&!h&&e.length>0&&t.jsx("div",{className:"py-8",children:t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"You've reached the end of our product catalog"})})]})]})})]})},Za=(e,r="info")=>{const s=document.createElement("div");s.className=`toast toast-${r}`,s.textContent=e,document.body.appendChild(s),setTimeout(()=>{s.classList.add("toast-show")},100),setTimeout(()=>{s.classList.add("toast-hide"),setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s)},300)},3e3)},de={success:e=>Za(e,"success"),error:e=>Za(e,"error"),warning:e=>Za(e,"warning"),info:e=>Za(e,"info")},$f=e=>{Za(`${e} added to your cart!`,"success")},Hc=e=>{Za(e||"Error updating cart","error")},R8=()=>{Za("Item removed from your wishlist","info")},Zd=({items:e})=>t.jsx("nav",{className:"flex items-center text-sm mb-6 font-medium py-2 px-3 rounded-lg overflow-x-auto no-scrollbar",style:{backgroundColor:"var(--bg-accent-light)",boxShadow:"var(--shadow-small)"},children:e.map((r,s)=>t.jsxs(Me.Fragment,{children:[s===0&&t.jsx(wp,{className:"mr-1.5",size:14,style:{color:"var(--brand-primary)"}}),s>0&&t.jsx(zt,{className:"mx-2",size:14,style:{color:"var(--text-secondary)"}}),r.link?t.jsx(pe,{to:r.link,className:"transition-colors duration-200 hover:underline flex items-center",style:{color:"var(--text-secondary)"},children:r.label}):t.jsx("span",{className:"font-semibold flex items-center truncate max-w-[200px]",style:{color:"var(--brand-primary)"},children:r.label})]},s))}),D8=({images:e=[],activeImage:r=0,setActiveImage:s})=>{const[n,o]=w.useState(!1),c=()=>{s(h=>h===e.length-1?0:h+1)},d=()=>{s(h=>h===0?e.length-1:h-1)},u=()=>o(!n);return t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"mb-4 rounded-lg overflow-hidden relative group",style:{boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:`relative overflow-hidden ${n?"cursor-zoom-out":"cursor-zoom-in"}`,onClick:u,children:t.jsx("img",{src:e[r],alt:`Product view ${r+1}`,className:`w-full h-auto object-contain aspect-square transition-transform duration-500 ${n?"scale-150":"scale-100"}`})}),t.jsx("button",{className:"absolute bottom-3 right-3 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:u,style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:t.jsx(xT,{})}),e.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:d,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:t.jsx(Vd,{size:20})}),t.jsx("button",{onClick:c,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{color:"var(--brand-primary)",boxShadow:"var(--shadow-small)"},children:t.jsx(zt,{size:20})})]})]}),t.jsx("div",{className:"grid grid-cols-5 gap-2",children:e.map((h,f)=>t.jsx("button",{onClick:()=>s(f),className:`rounded-md overflow-hidden transition-all duration-300 ${r===f?"ring-2 ring-offset-1 transform scale-105":"opacity-80 hover:opacity-100"}`,style:{ringColor:"var(--brand-primary)",transform:r===f?"scale(1.05)":"scale(1)"},children:t.jsx("img",{src:h,alt:`Product thumbnail ${f+1}`,className:"w-full h-auto object-cover aspect-square"})},f))})]})},O8=({product:e,selectedVariant:r})=>{const s=e.reviews||0,n=(r==null?void 0:r.discounted_price)||e.discountPrice,o=(r==null?void 0:r.price)||e.price,c=(r==null?void 0:r.stock)||e.stock;return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:e.brand}),t.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:e.name}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"flex items-center",style:{color:"var(--brand-primary)"},children:[...Array(5)].map((d,u)=>t.jsx(Wr,{className:`${u<Math.floor(e.rating)?"fill-current":""} ${u===Math.floor(e.rating)&&e.rating%1>0?"fill-current opacity-50":""}`,size:18},u))}),t.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:[e.rating," (",s," ratings)"]})]})," ",t.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("div",{className:"flex items-baseline flex-wrap gap-2",children:[t.jsxs("span",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:["₹",n.toLocaleString()]}),e.discount&&n!==o&&t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-lg line-through",style:{color:"var(--text-secondary)"},children:["₹",o.toLocaleString()]}),t.jsxs("span",{className:"px-2 py-1 text-xs font-bold rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:[e.discount," off"]})]})]}),t.jsxs("div",{className:"flex items-center mt-3",children:[t.jsxs("div",{className:"flex items-center",style:{color:"var(--success-color)"},children:[t.jsx(Bt,{className:"mr-1"}),t.jsx("span",{className:"font-medium",children:"In Stock"})]}),t.jsxs("span",{className:"text-sm ml-2",style:{color:"var(--text-secondary)"},children:["(",c," available)"]})]}),"        ",r&&t.jsxs("div",{className:"mt-3 p-3 rounded-md",style:{backgroundColor:"var(--bg-accent-light)"},children:[t.jsx("span",{className:"text-sm font-medium block mb-1",style:{color:"var(--brand-primary)"},children:"Selected Configuration:"}),t.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[r.colors&&t.jsxs("span",{className:"px-2 py-1 bg-white rounded border",children:["Color: ",r.colors]}),r.ram&&t.jsxs("span",{className:"px-2 py-1 bg-white rounded border",children:["RAM: ",r.ram]}),r.storage&&t.jsxs("span",{className:"px-2 py-1 bg-white rounded border",children:["Storage: ",r.storage]})]})]}),"      "]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx(J6,{className:"mr-2",style:{color:"var(--brand-primary)"}}),t.jsx("span",{className:"text-sm",children:"Authentic Product"})]}),t.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx(et,{className:"mr-2",style:{color:"var(--brand-primary)"}}),t.jsx("span",{className:"text-sm",children:"Fast Delivery"})]}),t.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx(jd,{className:"mr-2",style:{color:"var(--brand-primary)"}}),t.jsx("span",{className:"text-sm",children:"Secure Payment"})]})]})]})},P8=({quantity:e,stock:r,handleQuantityChange:s,incrementQuantity:n,decrementQuantity:o})=>t.jsxs("div",{className:"flex flex-wrap items-center mb-6",children:[t.jsx("span",{className:"font-medium mr-4 text-sm",style:{color:"var(--text-primary)"},children:"Quantity:"}),t.jsxs("div",{className:"flex items-center rounded-lg overflow-hidden",style:{borderColor:"var(--border-primary)",boxShadow:"var(--shadow-small)"},children:[t.jsx("button",{onClick:o,className:"px-3 py-2 transition-all duration-200 flex items-center justify-center h-full",disabled:e<=1,style:{backgroundColor:e<=1?"#f5f5f5":"var(--bg-accent-light)",color:e<=1?"var(--text-secondary)":"var(--brand-primary)",opacity:e<=1?.7:1},"aria-label":"Decrease quantity",children:t.jsx(N2,{size:16})}),t.jsx("input",{type:"number",min:"1",max:r,value:e,onChange:s,className:"w-14 text-center py-2 focus:outline-none font-medium text-sm",style:{borderLeft:"1px solid var(--border-primary)",borderRight:"1px solid var(--border-primary)",color:"var(--text-primary)"}}),t.jsx("button",{onClick:n,className:"px-3 py-2 transition-all duration-200 flex items-center justify-center h-full",disabled:e>=r,style:{backgroundColor:e>=r?"#f5f5f5":"var(--bg-accent-light)",color:e>=r?"var(--text-secondary)":"var(--brand-primary)",opacity:e>=r?.7:1},"aria-label":"Increase quantity",children:t.jsx(mt,{size:16})})]}),r&&t.jsxs("span",{className:"text-xs ml-4 mt-1 md:mt-0",style:{color:"var(--text-secondary)"},children:[r," items available"]})]}),L8=({addToCart:e,addToWishlist:r,price:s})=>{const n=s*.18,o=s>5e4?0:99,c=s+n+o;return t.jsxs("div",{className:"rounded-lg p-4 space-y-6",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"var(--shadow-small)"},children:[t.jsxs("div",{className:"p-4 rounded-lg mb-2",style:{backgroundColor:"var(--bg-accent-light)"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{style:{color:"var(--text-secondary)"},children:"Price:"}),t.jsxs("span",{style:{color:"var(--text-primary)"},children:["₹",s.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{style:{color:"var(--text-secondary)"},children:"GST (18%):"}),t.jsxs("span",{style:{color:"var(--text-primary)"},children:["₹",n.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{style:{color:"var(--text-secondary)"},children:"Delivery:"}),t.jsx("span",{style:o===0?{color:"var(--success-color)"}:{color:"var(--text-primary)"},children:o>0?`₹${o.toLocaleString()}`:"Free"})]}),t.jsx("hr",{style:{borderColor:"var(--border-primary)",margin:"8px 0"}}),t.jsxs("div",{className:"flex justify-between items-center font-bold",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Total:"}),t.jsxs("span",{style:{color:"var(--brand-primary)"},children:["₹",c.toLocaleString()]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs(me,{onClick:e,className:"transition-transform hover:scale-105 duration-300",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t.jsx(fl,{className:"mr-2"}),"Add to Cart"]}),t.jsxs(me,{onClick:r,variant:"outline",className:"transition-transform hover:scale-105 duration-300",style:{borderColor:"var(--brand-primary)",color:"var(--brand-primary)"},children:[t.jsx(ml,{className:"mr-2"}),"Add to Wishlist"]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{className:"inline-flex items-center px-3 py-1 rounded-full transition-colors duration-300",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderWidth:"1px",borderColor:"var(--border-primary)"},children:[t.jsx(uT,{className:"mr-1"}),t.jsx("span",{children:"Share"})]})}),t.jsx("hr",{style:{borderColor:"var(--border-primary)"}}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Delivery & Payment Options"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[t.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(et,{})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Free & Fast Delivery"}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Orders ship within 24 hours"})]})]}),t.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[t.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Rr,{})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Easy EMI Options"}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"3, 6, 9 & 12 months available"})]})]}),t.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[t.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(j2,{})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Gift Wrapping"}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Available at additional cost"})]})]}),t.jsxs("div",{className:"flex items-center p-2.5 rounded-md hover:bg-white transition-colors duration-300",children:[t.jsx("div",{className:"h-8 w-8 flex items-center justify-center rounded-full mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(jd,{})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"Warranty Protection"}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"All products come with warranty"})]})]})]})]})]})},Wh=({rating:e=0,readOnly:r=!1,onRatingChange:s=()=>{},reviewText:n="",onReviewTextChange:o=()=>{},onSubmit:c=()=>{},isVerifiedPurchase:d=!1})=>{const[u,h]=w.useState(0),f=(g,v=!1)=>{const b=[],j=Math.floor(g),k=g%1!==0;for(let _=0;_<5;_++)v?b.push(t.jsx("span",{className:"cursor-pointer text-xl",onClick:()=>!r&&s(_+1),onMouseEnter:()=>!r&&h(_+1),onMouseLeave:()=>!r&&h(0),children:(u||g)>_?t.jsx(Vf,{className:"text-yellow-400"}):t.jsx(Hf,{className:"text-yellow-400"})},_)):_<j?b.push(t.jsx(Vf,{className:"text-yellow-400"},_)):_===j&&k?b.push(t.jsx(tN,{className:"text-yellow-400"},_)):b.push(t.jsx(Hf,{className:"text-yellow-400"},_));return b},x=g=>{if(g.preventDefault(),e===0){de.warning("Please select a rating");return}c({rating:e,reviewText:n})};return t.jsx("div",{className:"w-full animate-fadeIn",children:r?t.jsx("div",{className:"flex flex-col gap-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex mr-2",children:f(e)}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:e.toFixed(1)}),d&&t.jsxs("div",{className:"ml-3 flex items-center text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--success-color)",color:"white"},children:[t.jsx(y8,{className:"mr-1",size:10}),t.jsx("span",{children:"Verified Purchase"})]})]})}):t.jsxs("form",{onSubmit:x,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 font-medium",style:{color:"var(--text-primary)"},children:"Your Rating"}),t.jsx("div",{className:"flex gap-1",children:f(e,!0)})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 font-medium",style:{color:"var(--text-primary)"},children:"Your Review"}),t.jsx("textarea",{value:n,onChange:g=>o(g.target.value),className:"w-full px-4 py-2 rounded-lg min-h-[120px]",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},placeholder:"Share your experience with this product..."})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",className:"px-6 py-2 rounded-lg font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Submit Review"})})]})})},ix=({isOpen:e,onClose:r,title:s,children:n,size:o="md",showCloseButton:c=!0,closeOnBackdropClick:d=!0,className:u=""})=>{if(w.useEffect(()=>{const x=g=>{g.key==="Escape"&&e&&r()};return e&&(document.addEventListener("keydown",x),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",x),document.body.style.overflow="unset"}},[e,r]),!e)return null;const h={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},f=x=>{d&&x.target===x.currentTarget&&r()};return t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:f,children:t.jsxs("div",{className:`w-full ${h[o]} max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all ${u}`,style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:x=>x.stopPropagation(),children:[(s||c)&&t.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[s&&t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:s}),c&&t.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors p-1 rounded-md",style:{color:"var(--text-secondary)"},"aria-label":"Close modal",children:t.jsx(Ze,{size:24})})]}),t.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:n})]})})},ln=({isOpen:e,onClose:r,onConfirm:s,title:n="Confirm Action",message:o="Are you sure you want to proceed?",confirmText:c="Confirm",cancelText:d="Cancel",type:u="warning",isLoading:h=!1})=>{const f=()=>{s()},x=()=>{switch(u){case"danger":return t.jsx(Ze,{className:"text-red-500",size:24});case"info":return t.jsx(Hd,{className:"text-blue-500",size:24});case"success":return t.jsx(jt,{className:"text-green-500",size:24});case"warning":default:return t.jsx(oi,{className:"text-yellow-500",size:24})}},g=()=>{switch(u){case"danger":return"danger";case"success":return"primary";case"info":return"primary";case"warning":default:return"primary"}};return t.jsx(ix,{isOpen:e,onClose:r,size:"sm",closeOnBackdropClick:!h,children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start mb-4",children:[t.jsx("div",{className:"flex-shrink-0 mr-4 mt-1",children:x()}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:n}),t.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:o})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[t.jsx(me,{variant:"outline",onClick:r,disabled:h,fullWidth:!1,size:"sm",children:d}),t.jsx(me,{variant:g(),onClick:f,isLoading:h,fullWidth:!1,size:"sm",children:c})]})]})})},wi=()=>{const[e,r]=w.useState(!1),[s,n]=w.useState({title:"Confirm Action",message:"Are you sure you want to proceed?",confirmText:"Confirm",cancelText:"Cancel",type:"warning",onConfirm:()=>{}}),[o,c]=w.useState(!1),d=w.useCallback(f=>{n({title:f.title||"Confirm Action",message:f.message||"Are you sure you want to proceed?",confirmText:f.confirmText||"Confirm",cancelText:f.cancelText||"Cancel",type:f.type||"warning",onConfirm:f.onConfirm||(()=>{})}),r(!0),c(!1)},[]),u=w.useCallback(()=>{r(!1),c(!1)},[]),h=w.useCallback(async()=>{c(!0);try{await s.onConfirm(),u()}catch(f){console.error("Error in confirm action:",f),c(!1)}},[s,u]);return{isOpen:e,modalConfig:s,isLoading:o,showConfirm:d,hideConfirm:u,handleConfirm:h}},M8=({productId:e,reviews:r=[],onAddReview:s=()=>{},canAddReview:n=!1,showFilters:o=!0,onMarkHelpful:c=null,onReportReview:d=null,currentUser:u=null})=>{const[h,f]=w.useState(r),[x,g]=w.useState(0),[v,b]=w.useState(!1),[j,k]=w.useState({rating:0,reviewText:""}),[_,C]=w.useState("newest"),[A,R]=w.useState({}),{isOpen:S,modalConfig:T,isLoading:P,showConfirm:q,hideConfirm:U,handleConfirm:V}=wi(),M=r.length>0?(r.reduce((O,F)=>O+F.rating,0)/r.length).toFixed(1):"0.0",ae=O=>{g(O),f(O===0?r:r.filter(F=>F.rating===O))},ne=O=>{C(O);let F=[...h];switch(O){case"newest":F.sort((le,z)=>new Date(z.date||z.created_at)-new Date(le.date||le.created_at));break;case"highest":F.sort((le,z)=>z.rating-le.rating);break;case"lowest":F.sort((le,z)=>le.rating-z.rating);break;case"helpful":F.sort((le,z)=>(z.helpful||0)-(le.helpful||0));break}f(F)},L=O=>{s({...O,productId:e,date:new Date().toISOString(),verified:!0,helpful:0}),b(!1),k({rating:0,reviewText:""})},Y=async O=>{if(!u){de.warning("Please log in to mark reviews as helpful");return}if(c){R(F=>({...F,[O]:"helpful"}));try{const F=await c(e,O);F.success?f(le=>le.map(z=>z.id===O?{...z,helpful:F.data.helpful_count,userMarkedHelpful:F.data.is_marked_helpful}:z)):de.error(F.error||"Failed to mark review as helpful")}catch(F){console.error("Error marking review as helpful:",F),de.error("Failed to mark review as helpful. Please try again.")}finally{R(F=>{const le={...F};return delete le[O],le})}}else f(h.map(F=>F.id===O?{...F,helpful:(F.helpful||0)+1}:F)),de.success("Review marked as helpful!")},B=async O=>{if(!u){de.warning("Please log in to report reviews");return}q({title:"Report Review",message:"Are you sure you want to report this review? This action will flag it for moderator review.",confirmText:"Report",cancelText:"Cancel",type:"warning",onConfirm:async()=>{if(d){R(F=>({...F,[O]:"report"}));try{const F=await d(e,O);F.success?de.success(F.message||"Review reported successfully"):de.error(F.error||"Failed to report review")}catch(F){console.error("Error reporting review:",F),de.error("Failed to report review. Please try again.")}finally{R(F=>{const le={...F};return delete le[O],le})}}else de.success("Review reported successfully")}})},D=[5,4,3,2,1].map(O=>{const F=r.filter(z=>z.rating===O).length,le=r.length>0?F/r.length*100:0;return{rating:O,count:F,percentage:le}});return t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6 p-5 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[t.jsx("div",{className:"text-center md:text-left",children:t.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[t.jsx("span",{className:"text-4xl font-bold mr-2",style:{color:"var(--text-primary)"},children:M}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"flex",children:t.jsx(Wh,{rating:parseFloat(M),readOnly:!0})}),t.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Based on ",r.length," ",r.length===1?"review":"reviews"]})]})]})}),t.jsx("div",{className:"w-full max-w-xs",children:D.map(O=>t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx("div",{className:"flex items-center w-16",children:t.jsxs("span",{className:"text-xs font-medium mr-2",style:{color:"var(--text-secondary)"},children:[O.rating," ",t.jsx(Wr,{className:"inline-block ml-1",size:12})]})}),t.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full rounded-full",style:{width:`${O.percentage}%`,backgroundColor:"var(--brand-primary)"}})}),t.jsx("span",{className:"text-xs ml-2 w-8",style:{color:"var(--text-secondary)"},children:O.count})]},O.rating))})]}),n&&t.jsx("div",{className:"flex justify-center md:justify-end",children:t.jsxs("button",{onClick:()=>b(!0),className:"px-6 py-3 rounded-lg font-medium flex items-center",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t.jsx(Wr,{className:"mr-2"}),"Write a Review"]})})]}),v&&t.jsxs("div",{className:"p-5 rounded-lg animate-fadeIn",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Write Your Review"}),t.jsx(Wh,{rating:j.rating,readOnly:!1,reviewText:j.reviewText,onRatingChange:O=>k({...j,rating:O}),onReviewTextChange:O=>k({...j,reviewText:O}),onSubmit:L}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 mr-2 rounded-lg font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:"Cancel"})})]})," ",o&&r.length>0&&t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pb-4 border-b",style:{borderColor:"var(--border-secondary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(va,{className:"mr-2",style:{color:"var(--text-secondary)"}}),t.jsx("span",{className:"mr-3 text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Filter:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:[0,5,4,3,2,1].map(O=>t.jsx("button",{onClick:()=>ae(O),className:`px-3 py-1 text-xs rounded-full transition-colors ${x===O?"font-semibold":""}`,style:{backgroundColor:x===O?"var(--brand-primary)":"var(--bg-secondary)",color:x===O?"var(--text-on-brand)":"var(--text-secondary)"},children:O===0?"All Ratings":`${O} Stars`},O))})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:_,onChange:O=>ne(O.target.value),className:"appearance-none pl-3 pr-8 py-2 rounded-lg text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--border-secondary)"},children:[t.jsx("option",{value:"newest",children:"Newest First"}),t.jsx("option",{value:"highest",children:"Highest Rated"}),t.jsx("option",{value:"lowest",children:"Lowest Rated"}),t.jsx("option",{value:"helpful",children:"Most Helpful"})]}),t.jsx(_r,{className:"absolute right-2 top-1/2 transform -translate-y-1/2",style:{color:"var(--text-secondary)"}})]})]}),t.jsx("div",{className:"space-y-6",children:h.length>0?h.map(O=>t.jsxs("div",{className:"p-5 rounded-lg transition-shadow hover:shadow-md",style:{border:"1px solid var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-start mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",style:{color:"var(--text-primary)"},children:O.title||"Review"}),t.jsxs("div",{className:"flex items-center mt-1",children:[t.jsx(Wh,{rating:O.rating,readOnly:!0})," ",t.jsx("span",{className:"ml-2 text-xs",style:{color:"var(--text-secondary)"},children:(()=>{const F=O.date||O.created_at;return typeof F=="string"?new Date(F).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):F})()})]})]}),O.is_verified&&t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--success-color)"},children:"Verified Purchase"})})]}),t.jsx("p",{className:"my-3 text-sm",style:{color:"var(--text-secondary)"},children:O.comment||O.reviewText}),t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsx("div",{className:"flex items-center text-sm",style:{color:"var(--text-secondary)"},children:t.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:O.user||"Anonymous"})})," ",t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("button",{onClick:()=>Y(O.id),disabled:A[O.id]==="helpful"||O.userMarkedHelpful||O.is_marked_helpful||u&&O.userEmail===u.email,className:`flex items-center text-xs transition-colors disabled:opacity-50 ${O.userMarkedHelpful||O.is_marked_helpful?"text-blue-600":"hover:text-blue-600"}`,style:{color:O.userMarkedHelpful||O.is_marked_helpful?"#2563eb":"var(--text-secondary)"},title:u&&O.userEmail===u.email?"You cannot mark your own review as helpful":O.userMarkedHelpful||O.is_marked_helpful?"You marked this review as helpful":"Mark this review as helpful",children:[t.jsx(fT,{className:"mr-1"}),A[O.id]==="helpful"?"Loading...":`Helpful (${O.helpful_count||O.helpful||0})`]}),t.jsxs("button",{onClick:()=>B(O.id),disabled:A[O.id]==="report"||u&&O.userEmail===u.email,className:"flex items-center text-xs transition-colors hover:text-red-600 disabled:opacity-50",style:{color:"var(--text-secondary)"},title:u&&O.userEmail===u.email?"You cannot report your own review":"Report review",children:[t.jsx(jp,{className:"mr-1"}),A[O.id]==="report"?"Reporting...":"Report"]})]})]})]},O.id)):t.jsxs("div",{className:"p-8 text-center rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx("div",{className:"text-lg font-medium mb-2",children:"No reviews yet"}),t.jsx("p",{children:"Be the first to share your experience with this product"})]})}),t.jsx(ln,{isOpen:S,onClose:U,onConfirm:V,title:T.title,message:T.message,confirmText:T.confirmText,cancelText:T.cancelText,type:T.type,isLoading:P})]})},z8=({productId:e,onReviewSubmitted:r})=>{const[s,n]=w.useState(0),[o,c]=w.useState(""),[d,u]=w.useState(0),{addReview:h,reviewLoading:f,reviewError:x,clearReviewError:g}=wa(),{isAuthenticated:v}=Ie(),b=async j=>{if(j.preventDefault(),!v){ye.error("Please log in to write a review");return}if(s===0){ye.error("Please select a rating");return}g();const k={rating:s,comment:o.trim()},_=await h(e,k);_.success?(n(0),c(""),r&&r(_.data),ye.success("Review submitted successfully!")):ye.error(_.error||"Failed to submit review. Please try again.")};return v?t.jsxs("form",{onSubmit:b,className:"bg-white p-6 rounded-lg border",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Write a Review"}),x&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded mb-4",children:x}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating *"}),t.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(j=>t.jsx("button",{type:"button",className:"focus:outline-none",onMouseEnter:()=>u(j),onMouseLeave:()=>u(0),onClick:()=>n(j),children:t.jsx(Wr,{className:`w-6 h-6 ${j<=(d||s)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},j))}),s>0&&t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s," out of 5 stars"]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),t.jsx("textarea",{value:o,onChange:j=>c(j.target.value),placeholder:"Share your thoughts about this product...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",maxLength:1e3}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[o.length,"/1000 characters"]})]}),t.jsx("button",{type:"submit",disabled:f||s===0,className:"w-full bg-orange-500 text-white py-2 px-4 rounded-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):"Submit Review"})]}):t.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg text-center",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to write a review"}),t.jsx("button",{className:"text-orange-500 hover:text-orange-600 font-medium",children:"Log In"})]})},rN=_t(e=>({reviews:[],productReviews:{},pendingReviews:[],flaggedReviews:[],addReview:r=>e(s=>{const n=[...s.reviews,{...r,status:"pending"}];let o={...s.productReviews};return o[r.productId]||(o[r.productId]=[]),o[r.productId]=[...o[r.productId],{...r,status:"pending"}],{reviews:n,productReviews:o,pendingReviews:[...s.pendingReviews,{...r,status:"pending"}]}}),updateReviewStatus:(r,s)=>e(n=>{const o=n.reviews.map(h=>h.id===r?{...h,status:s}:h);let c={...n.productReviews};Object.keys(c).forEach(h=>{c[h]=c[h].map(f=>f.id===r?{...f,status:s}:f)});const d=s==="pending"?n.pendingReviews:n.pendingReviews.filter(h=>h.id!==r),u=s==="flagged"?[...n.flaggedReviews,o.find(h=>h.id===r)]:n.flaggedReviews.filter(h=>h.id!==r);return{reviews:o,productReviews:c,pendingReviews:d,flaggedReviews:u}}),deleteReview:r=>e(s=>{const n=s.reviews.filter(u=>u.id!==r);let o={...s.productReviews};Object.keys(o).forEach(u=>{o[u]=o[u].filter(h=>h.id!==r)});const c=s.pendingReviews.filter(u=>u.id!==r),d=s.flaggedReviews.filter(u=>u.id!==r);return{reviews:n,productReviews:o,pendingReviews:c,flaggedReviews:d}}),toggleFlaggedStatus:r=>e(s=>{const n=s.reviews.find(h=>h.id===r);if(!n)return s;const o=s.flaggedReviews.some(h=>h.id===r),c=s.reviews.map(h=>h.id===r?{...h,flagged:!o}:h);let d={...s.productReviews};Object.keys(d).forEach(h=>{d[h]=d[h].map(f=>f.id===r?{...f,flagged:!o}:f)});const u=o?s.flaggedReviews.filter(h=>h.id!==r):[...s.flaggedReviews,{...n,flagged:!0}];return{reviews:c,productReviews:d,flaggedReviews:u}}),markReviewAsHelpful:r=>e(s=>{const n=s.reviews.map(c=>c.id===r?{...c,helpful:(c.helpful||0)+1}:c);let o={...s.productReviews};return Object.keys(o).forEach(c=>{o[c]=o[c].map(d=>d.id===r?{...d,helpful:(d.helpful||0)+1}:d)}),{reviews:n,productReviews:o}}),getProductReviews:r=>rN.getState().productReviews[r]||[],fetchReviews:()=>{const r=[{id:1,productId:1,productName:"iPhone 13 Pro Max",user:"Sanjay Mehta",userEmail:"sanjay@example.com",rating:4,title:"Great phone but battery could be better",comment:"I've been using this phone for 2 months now and it's really good. Camera is excellent and performance is smooth. Battery life could be a bit better though.",date:"2023-11-15T10:30:00",helpful:12,verified:!0,status:"approved",flagged:!1},{id:2,productId:1,user:"Priya Sharma",userEmail:"priya.s@example.com",rating:5,title:"Best phone I've ever owned!",comment:"This phone exceeded all my expectations. The display is beautiful and the camera is outstanding. Very happy with my purchase.",date:"2023-11-10T14:22:00",helpful:8,verified:!0,status:"approved",flagged:!1},{id:3,productId:2,productName:"Samsung Galaxy S22 Ultra",user:"Rahul Gupta",userEmail:"rahul.g@example.com",rating:2,title:"Disappointing Experience",comment:"The phone heats up frequently and the battery drains too fast. Not what I expected from a premium phone.",date:"2023-11-12T09:15:00",helpful:4,verified:!0,status:"approved",flagged:!0},{id:4,productId:3,productName:"Apple MacBook Pro M1",user:"Vikram Singh",userEmail:"vikram@example.com",rating:5,title:"Best laptop I've ever owned",comment:"This is an amazing laptop. The M1 chip is incredibly fast and the battery life is phenomenal. I can work all day without needing to charge.",date:"2023-11-08T16:45:00",helpful:15,verified:!0,status:"approved",flagged:!1},{id:5,productId:6,productName:"Apple AirPods Pro",user:"Sneha Patel",userEmail:"sneha.p@example.com",rating:4,title:"Great sound quality",comment:"The noise cancellation is excellent and they fit comfortably. The only downside is the battery life could be better.",date:"2023-11-05T11:30:00",helpful:9,verified:!1,status:"pending",flagged:!1}],s={};r.forEach(c=>{s[c.productId]||(s[c.productId]=[]),s[c.productId].push(c)});const n=r.filter(c=>c.status==="pending"),o=r.filter(c=>c.flagged);e({reviews:r,productReviews:s,pendingReviews:n,flaggedReviews:o})}})),I8=({productId:e,product:r})=>{const{reviews:s,productReviews:n,addReview:o,fetchReviews:c}=rN(),{user:d}=Ie(),{markReviewHelpful:u,reportReview:h}=wa(),{isOpen:f,modalConfig:x,isLoading:g,showConfirm:v,hideConfirm:b,handleConfirm:j}=wi();w.useEffect(()=>{s.length===0&&c()},[s.length,c]);const k=T=>{console.log("Review submitted successfully:",T),c()},_=T=>{o({productId:e,productName:r.name,user:(d==null?void 0:d.name)||"Anonymous User",userEmail:(d==null?void 0:d.email)||"anonymous@example.com",...T})},C=!!d,A=r.reviewsData&&r.reviewsData.length>0?r.reviewsData:n[e]||[],R=async T=>{if(!d){de.warning("Please log in to mark reviews as helpful");return}const P=A.find(q=>q.id===T);if(P&&P.userEmail===d.email){de.warning("You cannot mark your own review as helpful");return}if(P&&(P.userMarkedHelpful||P.is_marked_helpful)){de.info("You have already marked this review as helpful");return}try{const q=await u(e,T);q.success?(de.success("Review marked as helpful!"),console.log("Review marked as helpful successfully")):de.error(q.error||"Failed to mark review as helpful")}catch(q){console.error("Error marking review as helpful:",q),de.error("Failed to mark review as helpful")}},S=async T=>{if(!d){de.warning("Please log in to report reviews");return}const P=A.find(q=>q.id===T);if(P&&P.userEmail===d.email){de.warning("You cannot report your own review");return}v({title:"Report Review",message:"Are you sure you want to report this review? This will flag it for moderator review.",confirmText:"Report",cancelText:"Cancel",type:"warning",onConfirm:async()=>{try{const q=await h(e,T);q.success?de.success("Review reported successfully. Thank you for helping us maintain quality."):de.error(q.error||"Failed to report review")}catch(q){console.error("Error reporting review:",q),de.error("Failed to report review")}}})};return t.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[t.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Customer Reviews"}),t.jsx("div",{className:"mb-8",children:t.jsx(z8,{productId:e,onReviewSubmitted:k})})," ",t.jsx(M8,{productId:e,reviews:A,onAddReview:_,canAddReview:C,showFilters:!0,onMarkHelpful:R,onReportReview:S,currentUser:d,isAuthenticated:!!d}),t.jsx(ln,{isOpen:f,onClose:b,onConfirm:j,title:x.title,message:x.message,confirmText:x.confirmText,cancelText:x.cancelText,type:x.type,isLoading:g})]})},B8=({product:e,activeTab:r,setActiveTab:s})=>{const n=e.reviews||0;return t.jsxs("div",{className:"mt-10 rounded-lg overflow-hidden",style:{boxShadow:"var(--shadow-medium)",border:"1px solid var(--border-primary)"},children:[t.jsxs("div",{className:"flex flex-nowrap overflow-x-auto",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx(Kh,{id:"description",activeTab:r,setActiveTab:s,icon:t.jsx(Hd,{}),label:"Description"}),t.jsx(Kh,{id:"specifications",activeTab:r,setActiveTab:s,label:"Specifications"}),t.jsx(Kh,{id:"reviews",activeTab:r,setActiveTab:s,icon:t.jsx(lT,{}),label:`Reviews (${n})`})]}),t.jsxs("div",{className:"p-6 bg-white",children:[r==="description"&&t.jsxs("div",{className:"animate-fadeIn",children:[t.jsx("p",{className:"mb-6 leading-relaxed",style:{color:"var(--text-secondary)"},children:e.description}),t.jsx("h3",{className:"font-semibold text-lg mb-4",style:{color:"var(--text-primary)"},children:"Key Features:"}),t.jsxs("ul",{className:"space-y-3",children:[(e.features||[]).map((o,c)=>t.jsxs("li",{className:"flex items-start",children:[t.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full mr-2 mt-0.5",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:c+1}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:o})]},c)),(!e.features||e.features.length===0)&&t.jsxs("li",{className:"flex items-start",children:[t.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full mr-2 mt-0.5",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"1"}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:"High-quality materials and construction"})]})]})]}),r==="specifications"&&t.jsx("div",{className:"animate-fadeIn",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-6 gap-x-10",children:[Object.entries(e.specifications||{}).map(([o,c])=>t.jsx("div",{className:"group",children:t.jsxs("div",{className:"flex flex-col pb-4 border-b-2 transition-colors duration-300 group-hover:border-orange-500",style:{borderColor:"var(--border-primary)"},children:[t.jsx("span",{className:"text-sm mb-1",style:{color:"var(--text-secondary)"},children:o}),t.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:c})]})},o)),(!e.specifications||Object.keys(e.specifications).length===0)&&t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:"Product specifications not available"})]})})," ",r==="reviews"&&t.jsx("div",{className:"animate-fadeIn",children:t.jsx(I8,{productId:e.id,product:e})})]})]})},Kh=({id:e,activeTab:r,setActiveTab:s,icon:n,label:o})=>{const c=r===e;return t.jsxs("button",{onClick:()=>s(e),className:`px-6 py-4 text-sm font-medium flex items-center transition-all duration-300 whitespace-nowrap ${c?"border-b-2":"hover:bg-white/50"}`,style:{borderColor:c?"var(--brand-primary)":"transparent",color:c?"var(--brand-primary)":"var(--text-secondary)",backgroundColor:c?"white":"transparent"},children:[n&&t.jsx("span",{className:"mr-2",children:n}),o]})},U8=({product:e,selectedVariant:r,onVariantChange:s})=>{if(!e.validOptions||e.validOptions.length===0)return null;const n=g=>{const v=new Set;return e.validOptions.forEach(b=>{b[g]&&v.add(b[g])}),Array.from(v)},o=(g,v,b)=>e.validOptions.some(j=>{const k=j[g]===v;return g==="colors"?k&&(!b.ram||j.ram===b.ram)&&(!b.storage||j.storage===b.storage)&&j.stock>0:g==="ram"?k&&(!b.colors||j.colors===b.colors)&&(!b.storage||j.storage===b.storage)&&j.stock>0:g==="storage"?k&&(!b.colors||j.colors===b.colors)&&(!b.ram||j.ram===b.ram)&&j.stock>0:k&&j.stock>0}),c={colors:r==null?void 0:r.colors,ram:r==null?void 0:r.ram,storage:r==null?void 0:r.storage},d=n("colors"),u=n("ram"),h=n("storage"),f=(g,v)=>{const b={...c,[g]:v},j=e.validOptions.find(k=>(!b.colors||k.colors===b.colors)&&(!b.ram||k.ram===b.ram)&&(!b.storage||k.storage===b.storage));j&&s(j)},x=({attribute:g,value:v})=>{const b=(r==null?void 0:r[g])===v,j=o(g,v,c);return t.jsxs("button",{onClick:()=>j&&f(g,v),disabled:!j,className:`relative p-3 border-2 rounded-lg transition-all duration-200 min-w-[80px] ${b?"border-orange-500 bg-orange-50":j?"border-gray-200 hover:border-gray-300 bg-white":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,children:[!j&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 bg-opacity-75 rounded-lg",children:t.jsx(Ze,{className:"text-gray-400 text-2xl"})}),g==="colors"&&t.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-gray-300 mx-auto",style:{backgroundColor:v.toLowerCase()}}),t.jsx("span",{className:`text-sm font-medium ${j?"text-gray-900":"text-gray-400"}`,children:v})]}),(g==="ram"||g==="storage")&&t.jsx("div",{className:"text-center",children:t.jsx("span",{className:`text-sm font-medium ${j?"text-gray-900":"text-gray-400"}`,children:v})})]})};return t.jsxs("div",{className:"border-t border-gray-200 py-6 space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Configuration"}),d.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-700",children:"Color"}),t.jsx("div",{className:"flex flex-wrap gap-3",children:d.map(g=>t.jsx(x,{attribute:"colors",value:g},g))})]}),u.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-700",children:"RAM"}),t.jsx("div",{className:"flex flex-wrap gap-3",children:u.map(g=>t.jsx(x,{attribute:"ram",value:g},g))})]}),h.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-700",children:"Storage"}),t.jsx("div",{className:"flex flex-wrap gap-3",children:h.map(g=>t.jsx(x,{attribute:"storage",value:g},g))})]}),r&&t.jsxs("div",{className:"mt-4 p-4 rounded-lg",style:{backgroundColor:"var(--bg-accent-light)"},children:[t.jsx("h5",{className:"text-sm font-medium mb-2",style:{color:"var(--brand-primary)"},children:"Selected Configuration:"}),t.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[r.colors&&t.jsxs("span",{className:"px-2 py-1 bg-white rounded border",children:["Color: ",r.colors]}),r.ram&&t.jsxs("span",{className:"px-2 py-1 bg-white rounded border",children:["RAM: ",r.ram]}),r.storage&&t.jsxs("span",{className:"px-2 py-1 bg-white rounded border",children:["Storage: ",r.storage]})]})]})]})},F8=()=>{var M,ae,ne;const{id:e}=el(),[r,s]=w.useState(0),[n,o]=w.useState(1),[c,d]=w.useState("description"),[u,h]=w.useState(null),{currentProduct:f,loading:x,error:g,fetchProduct:v,clearCurrentProduct:b}=wa(),{addItem:j}=ja(),{addItem:k}=Xd(),{user:_}=Ie();if(w.useEffect(()=>{window.scrollTo(0,0)},[]),w.useEffect(()=>(e&&(console.log("Fetching product with ID:",e),v(e)),()=>{b()}),[e,v,b]),w.useEffect(()=>{var L;((L=f==null?void 0:f.valid_options)==null?void 0:L.length)>0&&h(f.valid_options[0])},[f]),w.useEffect(()=>{f&&console.log("Raw product data from API:",f)},[f]),x)return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading product..."})]})})})});if(g)return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-red-600 mb-4",children:g}),t.jsx("button",{onClick:()=>v(e),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Retry"})]})})})});if(!f)return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"Product not found"}),t.jsx(pe,{to:ct.PRODUCTS,className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600",children:"Back to Products"})]})})})});const C=f,A={...C,name:C.name||C.title||C.product_name||"Unknown Product",price:(u==null?void 0:u.price)||C.price||C.original_price||0,discountPrice:(u==null?void 0:u.discounted_price)||C.discount_price||C.discountPrice||C.discounted_price||C.sale_price||C.price||0,discount:C.discount||(C.price&&C.discount_price?Math.round((C.price-C.discount_price)/C.price*100)+"%":null),rating:C.rating||C.average_rating||0,reviews:C.total_reviews||(Array.isArray(C.reviews)?C.reviews.length:C.reviews||C.review_count||0),reviewsData:Array.isArray(C.reviews)?C.reviews.map(L=>({id:L.id,rating:L.rating,comment:L.comment,user:L.email?L.email.split("@")[0]:"Anonymous",userEmail:L.email,date:L.created_at,verified:!0,helpful:L.helpful_count||0,helpful_count:L.helpful_count||0,is_marked_helpful:L.is_marked_helpful||!1,title:`${L.rating} star review`,reported_count:L.reported_count||0,helpful_users:L.helpful_users||[]})):[],stock:(u==null?void 0:u.stock)||C.stock||C.quantity||C.inventory||1,images:C.images||C.image_urls||C.photos||["https://via.placeholder.com/600x600?text=No+Image"],features:C.features||C.key_features||[],specifications:C.specifications||C.specs||{},description:C.description||C.product_description||"No description available",category:C.category||C.product_category||"General",brand:C.brand||C.manufacturer||"Unknown Brand",variant:C.variant||{},colors:((M=C.variant)==null?void 0:M.colors)||[],ramOptions:((ae=C.variant)==null?void 0:ae.ram)||[],storageOptions:((ne=C.variant)==null?void 0:ne.storage)||[],validOptions:C.valid_options||[],selectedColor:(u==null?void 0:u.colors)||null};console.log("Normalized product data:",A),console.log("Selected variant:",u);const R=L=>{const Y=parseInt(L.target.value),B=(u==null?void 0:u.stock)||A.stock;Y>0&&Y<=B&&o(Y)},S=()=>{const L=(u==null?void 0:u.stock)||A.stock;n<L&&o(n+1)},T=()=>{n>1&&o(n-1)},P=L=>{console.log("Variant changed to:",L),h(L),o(1)},q=async()=>{var L;if(!_){Hc("Please log in to add items to cart");return}try{const Y={id:A.id,name:A.name,price:A.discountPrice||A.price,image:((L=A.images)==null?void 0:L[0])||A.image,quantity:n,variant:u?{color:u.colors,price:u.discounted_price||u.price}:null};await j(Y),$f(A.name,n)}catch(Y){console.error("Error adding to cart:",Y),Hc("Failed to add item to cart")}},U=async()=>{var L;if(!_){Hc("Please log in to add items to wishlist");return}try{const Y={id:A.id,name:A.name,price:A.discountPrice||A.price,image:((L=A.images)==null?void 0:L[0])||A.image,variant:u?{color:u.colors,price:u.discounted_price||u.price}:null};await k(Y),$f(`${A.name} added to wishlist!`)}catch(Y){console.error("Error adding to wishlist:",Y),Hc("Failed to add item to wishlist")}},V=[{label:"Home",link:ct.HOME},{label:A.category,link:ct.PRODUCTS},{label:A.brand,link:`/brand/${A.brand}`},{label:A.name}];return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx(Zd,{items:V}),t.jsxs(pe,{to:ct.PRODUCTS,className:"inline-flex items-center text-orange-500 mb-6",children:[t.jsx(gs,{className:"mr-2"})," Back to Products"]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 p-6",children:[t.jsxs("div",{className:"lg:col-span-2",children:[" ",t.jsx(D8,{images:A.images,activeImage:r,setActiveImage:s})]})," ",t.jsxs("div",{className:"lg:col-span-3 flex flex-col",children:[t.jsx(O8,{product:A,selectedVariant:u})," ","              ",t.jsx(U8,{product:A,selectedVariant:u,onVariantChange:P}),t.jsxs("div",{className:"border-t border-gray-200 py-4",children:[" ",t.jsx(P8,{quantity:n,setQuantity:o,stock:A.stock,handleQuantityChange:R,incrementQuantity:S,decrementQuantity:T})," ",t.jsx(L8,{price:A.discountPrice||A.price,addToCart:q,addToWishlist:U})]})]})]})," ",t.jsx(B8,{product:A,activeTab:c,setActiveTab:d})]})]})})},sN=({showFilters:e,setShowFilters:r,brands:s,selectedBrands:n,toggleBrandFilter:o,priceRange:c,setPriceRange:d,setSelectedBrands:u,stockFilters:h,setStockFilters:f,selectedRating:x,setSelectedRating:g,selectedStorage:v,setSelectedStorage:b,selectedRAM:j,setSelectedRAM:k,selectedColors:_,setSelectedColors:C,selectedCategories:A,setSelectedCategories:R,selectedDiscount:S,setSelectedDiscount:T})=>{const[P,q]=w.useState({price:!0,stock:!1,rating:!1,discount:!1,brands:!1,storage:!1,ram:!1,colors:!1,category:!1}),U=ie=>{q(Ce=>({...Ce,[ie]:!Ce[ie]}))},[V,M]=w.useState(c.min||0),[ae,ne]=w.useState(c.max||15e4),L=(ie,Ce)=>{const xt=parseInt(ie.target.value)||0;Ce==="min"?M(xt):ne(xt)},Y=()=>{d({min:V,max:ae})},B=ie=>{f({...h,[ie]:!h[ie]})},D=ie=>{v.includes(ie)?b(v.filter(Ce=>Ce!==ie)):b([...v,ie])},O=ie=>{j.includes(ie)?k(j.filter(Ce=>Ce!==ie)):k([...j,ie])},F=ie=>{_.includes(ie)?C(_.filter(Ce=>Ce!==ie)):C([..._,ie])},le=ie=>{A.includes(ie)?R(A.filter(Ce=>Ce!==ie)):R([...A,ie])},z=ie=>{T(S===ie?null:ie)},re=()=>{u([]),d({min:0,max:15e4}),M(0),ne(15e4),g(0),f({inStock:!1,outOfStock:!1}),b([]),k([]),C([]),R([]),T(null)};w.useEffect(()=>{M(c.min),ne(c.max)},[c]);const J=[{label:"1TB",count:10},{label:"512GB",count:31},{label:"256GB",count:30},{label:"128GB",count:33},{label:"64GB",count:18},{label:"32GB",count:12}],$=[{label:"16GB",count:15},{label:"12GB",count:22},{label:"8GB",count:38},{label:"6GB",count:27},{label:"4GB",count:18}],ce=[{label:"Black",count:42},{label:"White",count:38},{label:"Blue",count:25},{label:"Green",count:15},{label:"Red",count:12},{label:"Gold",count:8}],xe=[{label:"Mobile",count:58},{label:"Laptop",count:31},{label:"Tablet",count:22},{label:"Accessories",count:45},{label:"TV",count:28}],he=[{label:"50% or more",value:50},{label:"40% or more",value:40},{label:"30% or more",value:30},{label:"20% or more",value:20},{label:"10% or more",value:10}];return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-full md:hidden mb-4",children:t.jsx(me,{onClick:()=>r(!e),className:"flex items-center justify-center gap-2 py-2.5",variant:"outline",icon:t.jsx(va,{size:18}),children:e?"Hide Filters":"Show Filters"})}),t.jsxs("div",{className:`
          ${e?"block":"hidden md:block"}
          w-full md:w-1/4 rounded-lg overflow-hidden transition-all duration-300
        `,style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h2",{className:"text-base font-bold",style:{color:"var(--text-primary)"},children:"Filters"}),t.jsx("button",{onClick:re,className:"text-sm font-medium hover:underline transition-all duration-200",style:{color:"var(--brand-primary)"},children:"Clear"})]}),t.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>U("price"),children:[t.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"PRICE"}),P.price?t.jsx(ms,{size:18,style:{color:"var(--text-secondary)"}}):t.jsx(_r,{size:18,style:{color:"var(--text-secondary)"}})]}),P.price&&t.jsxs("div",{className:"px-4 pb-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:["₹ ",V.toLocaleString()]}),t.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:["₹ ",ae.toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[t.jsxs("div",{className:"flex items-center border rounded-md px-2",style:{borderColor:"var(--border-primary)"},children:[t.jsx("span",{className:"text-sm mr-1",style:{color:"var(--text-secondary)"},children:"₹"}),t.jsx("input",{type:"number",value:V,onChange:ie=>L(ie,"min"),className:"w-16 py-1 text-sm outline-none",style:{backgroundColor:"transparent",color:"var(--text-primary)"}})]}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:"-"}),t.jsxs("div",{className:"flex items-center border rounded-md px-2",style:{borderColor:"var(--border-primary)"},children:[t.jsx("span",{className:"text-sm mr-1",style:{color:"var(--text-secondary)"},children:"₹"}),t.jsx("input",{type:"number",value:ae,onChange:ie=>L(ie,"max"),className:"w-16 py-1 text-sm outline-none",style:{backgroundColor:"transparent",color:"var(--text-primary)"}})]}),t.jsx("button",{onClick:Y,className:"px-3 py-1 text-sm rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Go"})]})]})]}),t.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>U("stock"),children:[t.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"STOCK STATUS"}),P.stock?t.jsx(ms,{size:18,style:{color:"var(--text-secondary)"}}):t.jsx(_r,{size:18,style:{color:"var(--text-secondary)"}})]}),P.stock&&t.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"in-stock",checked:h.inStock,onChange:()=>B("inStock"),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),t.jsx("label",{htmlFor:"in-stock",className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:"In Stock"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"out-of-stock",checked:h.outOfStock,onChange:()=>B("outOfStock"),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),t.jsx("label",{htmlFor:"out-of-stock",className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:"Out Of Stock"})]})]})]}),t.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>U("rating"),children:[t.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"RATING"}),P.rating?t.jsx(ms,{size:18,style:{color:"var(--text-secondary)"}}):t.jsx(_r,{size:18,style:{color:"var(--text-secondary)"}})]}),P.rating&&t.jsx("div",{className:"px-4 pb-4 space-y-2",children:[5,4,3,2,1].map(ie=>t.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>g(x===ie?0:ie),children:t.jsx("div",{className:"flex items-center",children:Array.from({length:5},(Ce,xt)=>t.jsx("span",{className:"text-lg",children:xt<ie?t.jsx("span",{style:{color:"#FF9017"},children:"★"}):t.jsx("span",{style:{color:"#E4E5E8"},children:"★"})},xt))})},ie))})]}),t.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>U("discount"),children:[t.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"DISCOUNT"}),P.discount?t.jsx(ms,{size:18,style:{color:"var(--text-secondary)"}}):t.jsx(_r,{size:18,style:{color:"var(--text-secondary)"}})]}),P.discount&&t.jsx("div",{className:"px-4 pb-4 space-y-2",children:he.map(ie=>t.jsxs("div",{className:"flex items-center",onClick:()=>z(ie.value),children:[t.jsx("input",{type:"radio",id:`discount-${ie.value}`,checked:S===ie.value,onChange:()=>{},className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),t.jsx("label",{htmlFor:`discount-${ie.value}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:ie.label})]},ie.value))})]}),t.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>U("brands"),children:[t.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"BRANDS"}),P.brands?t.jsx(ms,{size:18,style:{color:"var(--text-secondary)"}}):t.jsx(_r,{size:18,style:{color:"var(--text-secondary)"}})]}),P.brands&&t.jsx("div",{className:"px-4 pb-4 space-y-2",children:s.map(ie=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:`brand-${ie}`,checked:n.includes(ie),onChange:()=>o(ie),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),t.jsxs("label",{htmlFor:`brand-${ie}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[ie," ",ie==="Apple"&&"(104)"]})]},ie))})]}),t.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>U("category"),children:[t.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"CATEGORY"}),P.category?t.jsx(ms,{size:18,style:{color:"var(--text-secondary)"}}):t.jsx(_r,{size:18,style:{color:"var(--text-secondary)"}})]}),P.category&&t.jsx("div",{className:"px-4 pb-4 space-y-2",children:xe.map(ie=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:`category-${ie.label}`,checked:A.includes(ie.label),onChange:()=>le(ie.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),t.jsxs("label",{htmlFor:`category-${ie.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[ie.label," (",ie.count,")"]})]},ie.label))})]}),t.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>U("storage"),children:[t.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"INTERNAL STORAGE"}),P.storage?t.jsx(ms,{size:18,style:{color:"var(--text-secondary)"}}):t.jsx(_r,{size:18,style:{color:"var(--text-secondary)"}})]}),P.storage&&t.jsx("div",{className:"px-4 pb-4 space-y-2",children:J.map(ie=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:`storage-${ie.label}`,checked:v.includes(ie.label),onChange:()=>D(ie.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),t.jsxs("label",{htmlFor:`storage-${ie.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[ie.label," (",ie.count,")"]})]},ie.label))})]}),t.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>U("ram"),children:[t.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"RAM"}),P.ram?t.jsx(ms,{size:18,style:{color:"var(--text-secondary)"}}):t.jsx(_r,{size:18,style:{color:"var(--text-secondary)"}})]}),P.ram&&t.jsx("div",{className:"px-4 pb-4 space-y-2",children:$.map(ie=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:`ram-${ie.label}`,checked:j.includes(ie.label),onChange:()=>O(ie.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),t.jsxs("label",{htmlFor:`ram-${ie.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[ie.label," (",ie.count,")"]})]},ie.label))})]}),t.jsxs("div",{className:"border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-4 cursor-pointer",onClick:()=>U("colors"),children:[t.jsx("h3",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:"COLOR"}),P.colors?t.jsx(ms,{size:18,style:{color:"var(--text-secondary)"}}):t.jsx(_r,{size:18,style:{color:"var(--text-secondary)"}})]}),P.colors&&t.jsx("div",{className:"px-4 pb-4 space-y-2",children:ce.map(ie=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:`color-${ie.label}`,checked:_.includes(ie.label),onChange:()=>F(ie.label),className:"h-4 w-4 rounded border-gray-300 cursor-pointer",style:{accentColor:"var(--brand-primary)"}}),t.jsxs("label",{htmlFor:`color-${ie.label}`,className:"ml-3 cursor-pointer text-sm",style:{color:"var(--text-primary)"},children:[ie.label," (",ie.count,")"]})]},ie.label))})]}),t.jsx("div",{className:"md:hidden p-4",children:t.jsx(me,{onClick:()=>r(!1),fullWidth:!0,variant:"primary",className:"py-2.5 text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Apply Filters"})})]})]})},aN=({sortBy:e,setSortBy:r})=>t.jsx("div",{className:"rounded-xl p-6 mb-6 backdrop-blur-sm",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderBottom:"2px solid var(--brand-primary)"},children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"mb-4 md:mb-0 flex items-center",children:[t.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)"},children:t.jsx(sT,{size:16,style:{color:"var(--brand-primary)"}})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Products Found"}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Showing all available products"})]})]}),t.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg p-1 border transition-all duration-200 hover:border-gray-300",style:{borderColor:"var(--border-primary)"},children:[t.jsx("label",{htmlFor:"sort-by",className:"text-sm mx-3 font-medium whitespace-nowrap",style:{color:"var(--text-secondary)"},children:"Sort by:"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{id:"sort-by",value:e,onChange:s=>r(s.target.value),className:"appearance-none border-0 bg-transparent rounded px-4 py-2 pr-8 text-sm font-medium focus:outline-none focus:ring-0",style:{color:"var(--text-primary)"},children:[t.jsx("option",{value:"popularity",children:"Popularity"}),t.jsx("option",{value:"rating",children:"Rating"}),t.jsx("option",{value:"price-low",children:"Price: Low to High"}),t.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),t.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2",children:e==="price-low"?t.jsx(vp,{size:14,style:{color:"var(--brand-primary)"}}):e==="price-high"?t.jsx(Fd,{size:14,style:{color:"var(--brand-primary)"}}):t.jsx("span",{className:"text-xs font-medium px-1.5 py-0.5 rounded",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:e.slice(0,3).toUpperCase()})})]})]})]})}),nN=({products:e,loading:r})=>r?t.jsxs("div",{className:"flex flex-col justify-center items-center h-64",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-3",style:{borderColor:"var(--brand-primary)"}}),t.jsx("p",{className:"text-sm font-medium mt-3",style:{color:"var(--text-secondary)"},children:"Loading products..."})]}):e.length===0?null:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-8",children:e.map(s=>t.jsx("div",{className:"opacity-0 animate-fadeIn",style:{animation:"fadeIn 0.5s forwards",animationFillMode:"forwards"},children:t.jsx(nx,{product:s})},s.id))}),iN=({resetFilters:e})=>t.jsx("div",{className:"rounded-xl p-10 text-center transition-all duration-300",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"flex items-center justify-center w-20 h-20 mb-6 rounded-full",style:{backgroundColor:"var(--bg-accent-light)"},children:t.jsx(wr,{size:32,style:{color:"var(--brand-primary)"}})}),t.jsx("h2",{className:"text-2xl font-bold mb-3",style:{color:"var(--text-primary)"},children:"No products found"}),t.jsx("p",{className:"text-base mb-6 max-w-md mx-auto",style:{color:"var(--text-secondary)"},children:"We couldn't find any products matching your current filters. Try adjusting your filters or search criteria."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t.jsx(me,{onClick:e,variant:"primary",fullWidth:!1,className:"px-5 py-2.5 font-medium flex items-center justify-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},icon:t.jsx(Es,{size:16}),children:"Reset Filters"}),t.jsx(me,{onClick:e,variant:"outline",fullWidth:!1,className:"px-5 py-2.5 font-medium flex items-center justify-center gap-2",icon:t.jsx(va,{size:16}),children:"Modify Filters"})]})]})}),T1=()=>{let{category:e}=el();e=e?e.charAt(0).toUpperCase()+e.slice(1).replace(/s$/,""):null;const[r,s]=w.useState(!1),[n,o]=w.useState([]),[c,d]=w.useState({min:0,max:15e4}),[u,h]=w.useState("popularity"),[f,x]=w.useState(0),[g,v]=w.useState({inStock:!1,outOfStock:!1}),[b,j]=w.useState([]),[k,_]=w.useState([]),[C,A]=w.useState([]),[R,S]=w.useState([]),[T,P]=w.useState(null),{products:q,brands:U,loading:V,fetchProducts:M}=wa();w.useEffect(()=>{M()},[M]);const ae=(q||[]).map(O=>({...O,discountPrice:O.discount_price||O.price,image:O.images&&O.images.length>0?O.images[0]:"https://via.placeholder.com/300x300?text=No+Image"})),ne=O=>{n.includes(O)?o(n.filter(F=>F!==O)):o([...n,O])},Y=(()=>{let O=[...ae];if(n.length>0&&(O=O.filter(F=>n.includes(F.brand))),e){const F=e.replace("-"," ");O=O.filter(le=>le.category.toLowerCase()===F.toLowerCase())}return R.length>0&&(O=O.filter(F=>R.includes(F.category))),O=O.filter(F=>F.discountPrice>=c.min&&F.discountPrice<=c.max),f>0&&(O=O.filter(F=>Math.round(F.rating||0)>=f)),g.inStock&&!g.outOfStock?O=O.filter(F=>F.stock>0):!g.inStock&&g.outOfStock&&(O=O.filter(F=>F.stock<=0)),b.length>0&&(O=O.filter(F=>F.storageOptions&&Array.isArray(F.storageOptions)?F.storageOptions.some(le=>b.includes(le)):F.variant&&Array.isArray(F.variant.storage)?F.variant.storage.some(le=>b.includes(le)):!1)),k.length>0&&(O=O.filter(F=>F.ramOptions&&Array.isArray(F.ramOptions)?F.ramOptions.some(le=>k.includes(le)):F.variant&&Array.isArray(F.variant.ram)?F.variant.ram.some(le=>k.includes(le)):!1)),C.length>0&&(O=O.filter(F=>F.colors&&Array.isArray(F.colors)?F.colors.some(le=>C.includes(le)):F.variant&&Array.isArray(F.variant.colors)?F.variant.colors.some(le=>C.includes(le)):!1)),T!==null&&(O=O.filter(F=>(F.price&&F.discountPrice?Math.round((F.price-F.discountPrice)/F.price*100):0)>=T)),u==="price-low"?O.sort((F,le)=>F.discountPrice-le.discountPrice):u==="price-high"?O.sort((F,le)=>le.discountPrice-F.discountPrice):u==="rating"&&O.sort((F,le)=>{const z=F.rating!==void 0&&F.rating!==null?F.rating:0;return(le.rating!==void 0&&le.rating!==null?le.rating:0)-z}),O})(),B=()=>{o([]),d({min:0,max:15e4}),h("popularity"),x(0),v({inStock:!1,outOfStock:!1}),j([]),_([]),A([]),S([]),P(null)},D=[{label:"Home",link:ct.HOME},{label:e?e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "):"Products"}];return t.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:e?e.charAt(0).toUpperCase()+e.slice(1).replace("-"," "):"All Products"}),t.jsx(Zd,{items:D})]}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[t.jsx(sN,{showFilters:r,setShowFilters:s,brands:U,selectedBrands:n,toggleBrandFilter:ne,priceRange:c,setPriceRange:d,setSelectedBrands:o,stockFilters:g,setStockFilters:v,selectedRating:f,setSelectedRating:x,selectedStorage:b,setSelectedStorage:j,selectedRAM:k,setSelectedRAM:_,selectedColors:C,setSelectedColors:A,selectedCategories:R,setSelectedCategories:S,selectedDiscount:T,setSelectedDiscount:P}),t.jsxs("div",{className:"w-full md:w-3/4",children:[t.jsx(aN,{sortBy:u,setSortBy:h}),t.jsx(nN,{products:Y,loading:V}),!V&&Y.length===0&&t.jsx(iN,{resetFilters:B})]})]})]})})},V8=()=>{const[e]=pk(),r=e.get("query")||"",[s,n]=w.useState(!1),[o,c]=w.useState([]),[d,u]=w.useState({min:0,max:15e4}),[h,f]=w.useState("popularity"),{brands:x,loading:g,searchProducts:v}=wa(),b=v(r).map(S=>({...S,discountPrice:S.discount_price||S.price,image:S.images&&S.images.length>0?S.images[0]:"https://via.placeholder.com/300x300?text=No+Image"})),j=S=>{o.includes(S)?c(o.filter(T=>T!==S)):c([...o,S])},k=(S,T)=>{const P=parseInt(S.target.value);u({...d,[T]:P})},C=(()=>{let S=[...b];return o.length>0&&(S=S.filter(T=>o.includes(T.brand))),S=S.filter(T=>T.discountPrice>=d.min&&T.discountPrice<=d.max),h==="price-low"?S.sort((T,P)=>T.discountPrice-P.discountPrice):h==="price-high"?S.sort((T,P)=>P.discountPrice-T.discountPrice):h==="rating"&&S.sort((T,P)=>{const q=T.rating!==void 0&&T.rating!==null?T.rating:0;return(P.rating!==void 0&&P.rating!==null?P.rating:0)-q}),S})(),A=()=>{c([]),u({min:0,max:15e4}),f("popularity")},R=[{label:"Home",link:ct.HOME},{label:`Search Results: "${r}"`}];return t.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold",style:{color:"var(--text-primary)"},children:['Search Results for "',r,'"']}),t.jsx(Zd,{items:R}),t.jsxs("p",{className:"text-gray-600 mt-2",children:[C.length," results found"]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[t.jsx(sN,{showFilters:s,setShowFilters:n,brands:x,selectedBrands:o,toggleBrandFilter:j,priceRange:d,setPriceRange:u,handlePriceChange:k,setSelectedBrands:c}),t.jsxs("div",{className:"w-full md:w-3/4",children:[t.jsx(aN,{sortBy:h,setSortBy:f}),g?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"spinner"})}):C.length>0?t.jsx(nN,{products:C}):t.jsx(iN,{searchQuery:r,resetFilters:A})]})]})]})})},H8=()=>t.jsxs("div",{className:"bg-white rounded-xl p-10 text-center transition-all duration-300 hover:shadow-lg",style:{boxShadow:"var(--shadow-medium)",background:"linear-gradient(to bottom, var(--bg-primary), var(--bg-secondary))"},children:[t.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full mb-7 animate-pulse",style:{background:"var(--bg-accent-light)",boxShadow:"var(--shadow-medium)"},children:t.jsx(fa,{className:"h-12 w-12",style:{color:"var(--brand-primary)"}})}),t.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Your cart is empty"}),t.jsx("p",{className:"mb-8 max-w-md mx-auto text-base",style:{color:"var(--text-secondary)"},children:"Looks like you haven't added any products to your cart yet. Start shopping to fill it with amazing products!"}),t.jsx(pe,{to:ct.PRODUCTS,className:"inline-block",children:t.jsxs(me,{variant:"primary",fullWidth:!1,className:"px-8 py-3.5 text-base group flex items-center transition-all duration-300 transform hover:translate-y-[-3px]",style:{background:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"var(--shadow-medium)",borderRadius:"1rem"},children:["Browse Products",t.jsx(Q6,{className:"ml-2 transition-transform duration-300 group-hover:translate-x-1"})]})})]}),q8=({item:e,updateQuantity:r,removeItem:s})=>t.jsxs("tr",{className:"group transition-all duration-200 hover:bg-opacity-50",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsx("td",{className:"py-6 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"h-20 w-20 rounded-lg flex items-center justify-center overflow-hidden transition-transform duration-200 group-hover:scale-105",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"var(--shadow-small)"},children:t.jsx("img",{src:e.image,alt:e.name,className:"h-16 w-16 object-contain"})}),t.jsxs("div",{className:"ml-5 flex-1",children:[t.jsx(pe,{to:`/products/${e.id}`,className:"font-medium hover:underline transition-all duration-200 block mb-1 text-base",style:{color:"var(--text-primary)"},children:e.name}),t.jsxs("span",{className:"text-sm block mt-1",style:{color:"var(--text-secondary)"},children:["₹",e.price.toLocaleString()," each"]})]})]})}),t.jsx("td",{className:"py-6 px-4",children:t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("button",{onClick:()=>r(e.id,-1),className:"flex items-center justify-center w-8 h-8 rounded-md focus:outline-none transition-all duration-200",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},"aria-label":"Decrease quantity",children:t.jsx(N2,{size:16})}),t.jsx("span",{className:"mx-4 w-8 text-center font-medium text-base",style:{color:"var(--text-primary)"},children:e.quantity}),t.jsx("button",{onClick:()=>r(e.id,1),className:"flex items-center justify-center w-8 h-8 rounded-md focus:outline-none transition-all duration-200",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},"aria-label":"Increase quantity",children:t.jsx(mt,{size:16})})]})}),t.jsxs("td",{className:"py-6 px-4 text-right text-lg font-semibold",style:{color:"var(--brand-primary)"},children:["₹",(e.price*e.quantity).toLocaleString()]}),t.jsx("td",{className:"py-6 px-4 text-center",children:t.jsx("button",{onClick:()=>s(e.id),className:"p-2.5 rounded-full hover:bg-red-50 transition-all duration-200 focus:outline-none",style:{color:"var(--error-color)",backgroundColor:"var(--bg-secondary)"},"aria-label":"Remove item",children:t.jsx(ht,{size:18})})})]}),$8=({cartItems:e,updateQuantity:r,removeItem:s})=>t.jsxs("div",{className:"lg:col-span-2",children:[t.jsxs("div",{className:"bg-white rounded-xl overflow-hidden mb-7",style:{boxShadow:"var(--shadow-medium)",borderLeft:"4px solid var(--brand-primary)"},children:[t.jsx("div",{className:"px-6 py-5 border-b flex items-center justify-between",style:{borderColor:"var(--border-primary)"},children:t.jsxs("h2",{className:"text-xl font-bold flex items-center",style:{color:"var(--text-primary)"},children:["Cart Items",t.jsx("span",{className:"ml-2 px-2.5 py-1 text-sm rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:e.length})]})}),t.jsx("div",{className:"overflow-x-auto p-2",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-left",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"py-4 px-5 text-left text-xs font-semibold uppercase tracking-wider rounded-tl-lg",style:{color:"var(--text-secondary)"},children:"Product"}),t.jsx("th",{className:"py-4 px-5 text-center text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-secondary)"},children:"Quantity"}),t.jsx("th",{className:"py-4 px-5 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"var(--text-secondary)"},children:"Amount"}),t.jsx("th",{className:"py-4 px-5 text-center text-xs font-semibold uppercase tracking-wider rounded-tr-lg",style:{color:"var(--text-secondary)"},children:"Action"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:e.map(n=>t.jsx(q8,{item:n,updateQuantity:r,removeItem:s},n.id))})]})})]}),t.jsx("div",{className:"flex justify-between mt-6",children:t.jsxs(pe,{to:ct.PRODUCTS,className:"inline-flex items-center px-5 py-3 rounded-lg transition-all duration-300 font-medium text-sm hover:translate-x-[-5px]",style:{color:"var(--brand-primary)",backgroundColor:"var(--bg-accent-light)"},children:[t.jsx(gs,{className:"mr-2"}),"Continue Shopping"]})})]}),G8=({subtotal:e,total:r,onCheckout:s})=>t.jsx("div",{className:"lg:col-span-1 sticky top-4",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 overflow-hidden",style:{boxShadow:"var(--shadow-medium)",borderTop:"4px solid var(--brand-primary)"},children:[t.jsxs("h2",{className:"text-xl font-bold mb-6 pb-4 border-b flex items-center",style:{color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx(fa,{className:"mr-2",style:{color:"var(--brand-primary)"}}),"Order Summary"]}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"flex justify-between items-center py-1",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Subtotal"}),t.jsxs("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:["₹",e.toLocaleString()]})]}),t.jsx("div",{className:"h-px my-3",style:{background:"var(--border-primary)"}}),t.jsxs("div",{className:"flex justify-between items-center py-2",children:[t.jsx("span",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Total"}),t.jsxs("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:["₹",r.toLocaleString()]})]})]}),t.jsx("div",{className:"mt-8",children:t.jsxs(me,{onClick:s,className:"text-base py-3.5 transition-all duration-300 transform hover:translate-y-[-2px] rounded-lg font-medium",style:{background:"var(--brand-primary)",color:"var(--text-on-brand)",boxShadow:"var(--shadow-medium)"},children:[t.jsx(Rr,{className:"mr-2"})," Proceed to Checkout"]})})]})}),oN=_t((e,r)=>({addresses:[],isLoading:!1,error:null,fetchAddresses:async()=>{var n,o;const{isAuthenticated:s}=Ie.getState();if(!s)return e({addresses:[],error:"User not authenticated"}),[];try{e({isLoading:!0,error:null});const u=((await De.get("/users/addresses/")).data.addresses||[]).map(h=>({id:h.id,name:h.type,address:h.street_address,city:h.city,state:h.state,pincode:h.postal_code,phone:h.phone_number,isDefault:h.is_default,type:h.type,street_address:h.street_address,postal_code:h.postal_code,phone_number:h.phone_number,is_default:h.is_default,created_at:h.created_at,updated_at:h.updated_at}));return e({addresses:u,isLoading:!1}),u}catch(c){return console.error("Error fetching addresses:",c),e({isLoading:!1,error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to fetch addresses"}),[]}},addAddress:async s=>{var o,c,d,u;const{isAuthenticated:n}=Ie.getState();if(!n)return ye.error("Please login to add an address"),null;try{e({isLoading:!0,error:null});const h={type:s.type||s.name,street_address:s.street_address||s.address,city:s.city,state:s.state,postal_code:s.postal_code||s.pincode,phone_number:s.phone_number||s.phone,is_default:s.is_default||s.isDefault||!1},f=await De.post("/users/addresses/add/",h),x=f.data.address,g={id:f.data.address_id,name:x.type,address:x.street_address,city:x.city,state:x.state,pincode:x.postal_code,phone:x.phone_number,isDefault:x.is_default,...x};return e(v=>({addresses:[...v.addresses,g],isLoading:!1})),ye.success("Address added successfully"),g}catch(h){return console.error("Error adding address:",h),e({isLoading:!1,error:((c=(o=h.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to add address"}),ye.error(((u=(d=h.response)==null?void 0:d.data)==null?void 0:u.error)||"Failed to add address"),null}},updateAddress:async(s,n)=>{var c,d,u,h;const{isAuthenticated:o}=Ie.getState();if(!o)return ye.error("Please login to update an address"),!1;try{e({isLoading:!0,error:null});const f={type:n.type||n.name,street_address:n.street_address||n.address,city:n.city,state:n.state,postal_code:n.postal_code||n.pincode,phone_number:n.phone_number||n.phone,is_default:n.is_default||n.isDefault||!1},g=(await De.put(`/users/addresses/update/${s}/`,f)).data.address,v={id:g.id||s,name:g.type,address:g.street_address,city:g.city,state:g.state,pincode:g.postal_code,phone:g.phone_number,isDefault:g.is_default,type:g.type,street_address:g.street_address,postal_code:g.postal_code,phone_number:g.phone_number,is_default:g.is_default,created_at:g.created_at,updated_at:g.updated_at};return e(b=>({addresses:b.addresses.map(j=>j.id===s?v:j),isLoading:!1})),ye.success("Address updated successfully"),!0}catch(f){return console.error("Error updating address:",f),e({isLoading:!1,error:((d=(c=f.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to update address"}),ye.error(((h=(u=f.response)==null?void 0:u.data)==null?void 0:h.error)||"Failed to update address"),!1}},deleteAddress:async s=>{var o,c,d,u;const{isAuthenticated:n}=Ie.getState();if(!n)return ye.error("Please login to delete an address"),!1;try{return e({isLoading:!0,error:null}),await De.delete(`/users/addresses/delete/${s}/`),e(h=>({addresses:h.addresses.filter(f=>f.id!==s),isLoading:!1})),ye.success("Address deleted successfully"),!0}catch(h){return console.error("Error deleting address:",h),e({isLoading:!1,error:((c=(o=h.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to delete address"}),ye.error(((u=(d=h.response)==null?void 0:d.data)==null?void 0:u.error)||"Failed to delete address"),!1}},setDefaultAddress:async s=>{var o,c,d,u;const{isAuthenticated:n}=Ie.getState();if(!n)return ye.error("Please login to set default address"),!1;try{return e({isLoading:!0,error:null}),await De.post(`/users/addresses/set-default/${s}/`),e(h=>({addresses:h.addresses.map(f=>({...f,isDefault:f.id===s,is_default:f.id===s})),isLoading:!1})),ye.success("Default address updated"),!0}catch(h){return console.error("Error setting default address:",h),e({isLoading:!1,error:((c=(o=h.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to set default address"}),ye.error(((u=(d=h.response)==null?void 0:d.data)==null?void 0:u.error)||"Failed to set default address"),!1}},getAddressById:s=>r().addresses.find(n=>n.id===s)||null,getDefaultAddress:()=>r().addresses.find(s=>s.isDefault)||(r().addresses.length>0?r().addresses[0]:null),clearError:()=>e({error:null})})),Xh=(e,r,s)=>(console.log("Initiating Razorpay payment with data:",e),window.Razorpay?!e.key_id||!e.amount||!e.razorpay_order_id?(console.error("Missing required Razorpay data:",e),ye.error("Invalid payment configuration. Please try again."),Promise.reject("Invalid razorpay data")):new Promise((n,o)=>{const c={key:e.key_id,amount:e.amount,currency:e.currency||"INR",order_id:e.razorpay_order_id,name:"Anand Mobiles",description:"Purchase of products",image:"/logo.jpg",handler:function(d){console.log("Payment successful, response:",d);const u={razorpay_payment_id:d.razorpay_payment_id,razorpay_order_id:d.razorpay_order_id,razorpay_signature:d.razorpay_signature,order_id:e.app_order_id};De.post("/users/order/razorpay/verify/",u).then(h=>{console.log("Payment verified successfully:",h.data),r&&r(h.data),n(h.data)}).catch(h=>{console.error("Payment verification failed:",h),s&&s(h),o(h)})},prefill:{},notes:{order_id:e.app_order_id},theme:{color:"#3399cc"},modal:{ondismiss:function(){console.log("Payment modal dismissed by user"),s&&s({message:"Payment cancelled by user"}),o({message:"Payment cancelled by user"})}}};console.log("Opening Razorpay modal with options:",c);try{const d=new window.Razorpay(c);d.on("payment.failed",function(u){console.error("Payment failed:",u.error),s&&s(u.error),o(u.error)}),d.open(),console.log("Razorpay modal opened successfully")}catch(d){console.error("Error initiating Razorpay:",d),ye.error("Failed to open payment gateway. Please try again."),s&&s(d),o(d)}}):(console.error("Razorpay SDK is not loaded"),ye.error("Payment gateway not available. Please try again later."),Promise.reject("Razorpay SDK not loaded"))),Ni=_t(e=>({orders:[],currentOrder:null,isLoading:!1,isProcessingPayment:!1,paymentSuccessful:!1,error:null,initiatePayment:r=>Xh(r,s=>{e(n=>({orders:n.orders.map(o=>o.id===r.app_order_id?{...o,status:"paid",payment_details:s}:o),paymentSuccessful:!0})),ye.success("Payment successful!"),setTimeout(()=>{e({paymentSuccessful:!1})},1e3)},s=>{ye.error("Payment failed. Please try again."),console.error("Payment error:",s)}),fetchOrders:async()=>{var r,s,n,o;try{e({isLoading:!0,error:null});const d=(await De.get("/users/orders/")).data.orders||[];return e({orders:d,isLoading:!1}),d}catch(c){return console.error("Error fetching orders:",c),e({isLoading:!1,error:((s=(r=c.response)==null?void 0:r.data)==null?void 0:s.detail)||((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to fetch orders"}),[]}},placeOrderFromCart:async r=>{var s,n,o,c;try{e({isProcessingPayment:!0,error:null}),console.log("Starting placeOrderFromCart with addressId:",r);const d=ja.getState().items;if(console.log("Cart items:",d),!d||d.length===0)return ye.error("Your cart is empty"),e({isProcessingPayment:!1}),null;const u=Math.round(d.reduce((v,b)=>v+b.price*b.quantity,0)*100),h={address_id:r,amount:u,currency:"INR",product_ids:d.map(v=>v.id)};console.log("Order data being sent:",h);const f=await De.post("/users/order/razorpay/create/",h);console.log("API response:",f.data);const x=f.data;if(!x.key_id||!x.razorpay_order_id||!x.amount)return console.error("Invalid razorpay data received:",x),ye.error("Invalid payment configuration received from server"),e({isProcessingPayment:!1}),null;const g={id:x.app_order_id,razorpay_order_id:x.razorpay_order_id,status:"pending_payment"};return e(v=>({orders:[g,...v.orders],currentOrder:g})),console.log("Initiating Razorpay payment..."),await Xh(x,async v=>{console.log("Payment successful:",v),e(b=>({orders:b.orders.map(j=>j.id===x.app_order_id?{...j,status:"paid",payment_details:v}:j),isProcessingPayment:!1,paymentSuccessful:!0})),setTimeout(()=>{e({paymentSuccessful:!1})},1e3),ye.success("Payment successful! Order placed successfully.")},v=>{console.error("Payment error:",v),e({isProcessingPayment:!1}),v.message==="Payment cancelled by user"?ye.error("Payment was cancelled"):ye.error("Payment failed. Please try again.")}),g}catch(d){return console.error("Error placing order:",d),e({isProcessingPayment:!1,error:((n=(s=d.response)==null?void 0:s.data)==null?void 0:n.detail)||((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to place order"}),ye.error("Failed to place order. Please try again."),null}},placeSingleProductOrder:async(r,s,n)=>{var o,c,d,u;try{if(e({isProcessingPayment:!0,error:null}),console.log("Starting placeSingleProductOrder with:",{product:r,quantity:s,addressId:n}),!r)return ye.error("Product information is missing"),e({isProcessingPayment:!1}),null;const h=Math.round(r.price*s*100),f={address_id:n,amount:h,currency:"INR",product_ids:[r.id]};console.log("Single product order data being sent:",f);const x=await De.post("/users/orders/create/",f);console.log("Single product API response:",x.data);const g=x.data;if(!g.key_id||!g.razorpay_order_id||!g.amount)return console.error("Invalid razorpay data received for single product:",g),ye.error("Invalid payment configuration received from server"),e({isProcessingPayment:!1}),null;const v={id:g.app_order_id,razorpay_order_id:g.razorpay_order_id,status:"pending_payment"};return e(b=>({orders:[v,...b.orders],currentOrder:v})),console.log("Initiating Razorpay payment for single product..."),await Xh(g,async b=>{console.log("Single product payment successful:",b),e(j=>({orders:j.orders.map(k=>k.id===g.app_order_id?{...k,status:"paid",payment_details:b}:k),isProcessingPayment:!1,paymentSuccessful:!0})),setTimeout(()=>{e({paymentSuccessful:!1})},1e3),ye.success("Payment successful! Order placed successfully.")},b=>{console.error("Single product payment error:",b),e({isProcessingPayment:!1}),b.message==="Payment cancelled by user"?ye.error("Payment was cancelled"):ye.error("Payment failed. Please try again.")}),v}catch(h){return console.error("Error placing single product order:",h),e({isProcessingPayment:!1,error:((c=(o=h.response)==null?void 0:o.data)==null?void 0:c.detail)||((u=(d=h.response)==null?void 0:d.data)==null?void 0:u.error)||"Failed to place order"}),ye.error("Failed to place order. Please try again."),null}},getOrderById:async r=>{var s,n,o,c;try{e({isLoading:!0,error:null});const u=(await De.get(`/users/orders/${r}/`)).data.order_details;return console.log("Fetched order:",u),e({currentOrder:u,isLoading:!1}),u}catch(d){return console.error("Error fetching order:",d),e({isLoading:!1,error:((n=(s=d.response)==null?void 0:s.data)==null?void 0:n.detail)||((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch order"}),null}},cancelOrder:async r=>{var s,n,o,c;try{return e({isLoading:!0,error:null}),await De.post(`/users/orders/${r}/cancel/`),e(d=>({orders:d.orders.map(u=>u.id===r?{...u,status:"cancelled"}:u),isLoading:!1})),ye.success("Order cancelled successfully"),!0}catch(d){return console.error("Error cancelling order:",d),e({isLoading:!1,error:((n=(s=d.response)==null?void 0:s.data)==null?void 0:n.detail)||((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to cancel order"}),ye.error("Failed to cancel order"),!1}},clearError:()=>e({error:null})})),Y8=({isOpen:e,onClose:r,product:s=null,quantity:n=1})=>{const o=Zt(),{isAuthenticated:c}=Ie(),{items:d,totalAmount:u}=ja(),{placeOrderFromCart:h,placeSingleProductOrder:f,isProcessingPayment:x,paymentSuccessful:g}=Ni(),{addresses:v,fetchAddresses:b,isLoading:j}=oN(),[k,_]=w.useState(null),C=!s,A=C?d:[{...s,quantity:n}],R=C?u:(s==null?void 0:s.price)*n,P=R+0+0;w.useEffect(()=>{if(e&&c){if(!window.Razorpay){console.error("Razorpay SDK not loaded when checkout opened"),ye.error("Payment gateway not available. Please refresh and try again.");return}console.log("Razorpay SDK is available:",!!window.Razorpay),b()}},[e,c,b]),w.useEffect(()=>{var V;if(v.length>0&&!k){const M=v.find(ae=>ae.isDefault);_((M==null?void 0:M.id)||((V=v[0])==null?void 0:V.id))}},[v,k]),w.useEffect(()=>{g&&e&&(console.log("Payment successful, closing checkout modal"),setTimeout(()=>{r()},1e3))},[g,e,r]);const q=async()=>{if(console.log("handlePlaceOrder called",{isAuthenticated:c,selectedAddressId:k}),!c){ye.error("Please login to place order"),o("/login");return}if(!k){ye.error("Please select a delivery address");return}try{console.log("Attempting to place order...",{isCartOrder:C,product:s,quantity:n,selectedAddressId:k});let V;C?(console.log("Placing cart order..."),V=await h(k)):(console.log("Placing single product order..."),V=await f(s,n,k)),console.log("Order placement result:",V),console.log(V?"Order placed successfully, waiting for payment completion...":"Order placement failed - no result returned")}catch(V){console.error("Order placement failed:",V),ye.error("Failed to place order. Please try again.")}},U=V=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(V);return e?t.jsx(ix,{isOpen:e,onClose:r,size:"2xl",closeOnBackdropClick:!x,className:"animate-fadeIn w-11/12 max-w-5xl",children:t.jsxs("div",{className:"relative w-full",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[t.jsxs("div",{className:"relative px-8 py-8 text-center overflow-hidden",style:{background:"linear-gradient(135deg, var(--brand-primary) 0%, var(--brand-primary-hover) 100%)",color:"var(--text-on-brand)"},children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 rounded-full opacity-10 transform translate-x-8 -translate-y-8",children:t.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:"var(--text-on-brand)"}})}),t.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 rounded-full opacity-10 transform -translate-x-4 translate-y-4",children:t.jsx("div",{className:"w-full h-full rounded-full",style:{backgroundColor:"var(--text-on-brand)"}})}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"flex items-center justify-center mb-4",children:t.jsx("div",{className:"p-4 rounded-full transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)"},children:t.jsx(fa,{className:"text-3xl"})})}),t.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Complete Your Order"}),t.jsx("p",{className:"text-lg opacity-90",children:"Review your order details and complete the secure checkout"}),t.jsxs("div",{className:"flex items-center justify-center mt-6 space-x-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-100"}),t.jsx("div",{className:"w-8 h-1 bg-white opacity-60 rounded-full"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-60"}),t.jsx("div",{className:"w-8 h-1 bg-white opacity-30 rounded-full"}),t.jsx("div",{className:"w-3 h-3 rounded-full bg-white opacity-30"})]})]})]}),t.jsx("div",{className:"p-6 md:p-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6 md:space-y-8",style:{animation:"slideInLeft 0.6s ease-out"},children:[" ",t.jsxs("div",{className:"group rounded-2xl p-8 border-2 border-transparent transition-all duration-500 hover:border-opacity-30 hover:shadow-xl transform hover:-translate-y-1",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",background:"linear-gradient(145deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-8",children:[t.jsx("div",{className:"p-3 rounded-xl mr-4 transform group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)",boxShadow:"0 4px 14px 0 rgba(0, 118, 255, 0.15)"},children:t.jsx(fa,{className:"text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Order Summary"}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[A.length," item",A.length>1?"s":""," ","in your order"]})]})]}),t.jsxs("div",{className:"space-y-6",children:[A.map((V,M)=>t.jsxs("div",{className:`group/item flex items-center justify-between p-6 rounded-xl transition-all duration-300 hover:shadow-md transform hover:scale-[1.02] ${M<A.length-1?"border-b-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsxs("div",{className:"relative w-24 h-24 rounded-xl overflow-hidden mr-6 group-hover/item:shadow-lg transition-shadow duration-300",style:{boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",border:"2px solid var(--border-primary)"},children:[t.jsx("img",{src:V.image,alt:V.name,className:"w-full h-full object-cover group-hover/item:scale-105 transition-transform duration-300"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover/item:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold mb-2 text-lg group-hover:item:text-opacity-80 transition-all duration-300",style:{color:"var(--text-primary)"},children:V.name}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("span",{className:"text-sm px-4 py-2 rounded-full font-medium",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:["Qty: ",V.quantity]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Wr,{className:"text-yellow-400 mr-1",size:14}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"4.5"})]})]})]})]}),t.jsxs("div",{className:"text-right ml-4",children:[t.jsx("p",{className:"font-bold text-xl mb-1 group-hover:item:scale-105 transition-transform duration-300",style:{color:"var(--brand-primary)"},children:U(V.price*V.quantity)}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:[U(V.price)," each"]})]})]},V.id)),t.jsx("div",{className:"p-6 rounded-xl border-2",style:{borderColor:"var(--brand-primary)",backgroundColor:"var(--bg-accent-light)",background:"linear-gradient(145deg, var(--bg-accent-light) 0%, rgba(255, 255, 255, 0.8) 100%)"},children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(j2,{className:"mr-3 text-2xl",style:{color:"var(--brand-primary)"}}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Total Amount"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Including all taxes"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-3xl font-bold",style:{color:"var(--brand-primary)"},children:U(P)}),t.jsxs("div",{className:"flex items-center justify-end mt-1",children:[t.jsx(et,{className:"mr-1 text-green-500",size:14}),t.jsx("span",{className:"text-sm font-medium text-green-500",children:"FREE Delivery"})]})]})]})})]})]})," ",t.jsxs("div",{className:"group rounded-2xl p-8 border-2 border-transparent transition-all duration-500 hover:border-opacity-30 hover:shadow-xl transform hover:-translate-y-1",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",background:"linear-gradient(145deg, var(--bg-secondary) 0%, var(--bg-primary) 100%)"},children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 rounded-xl mr-4 transform group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)",boxShadow:"0 4px 14px 0 rgba(0, 118, 255, 0.15)"},children:t.jsx(wt,{className:"text-xl"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Delivery Address"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Choose where you want your order delivered"})]})]})}),j?t.jsxs("div",{className:"flex flex-col items-center justify-center py-16 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsx("div",{className:"p-4 rounded-full mb-4",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(ma,{className:"animate-spin",size:32})}),t.jsx("p",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Loading addresses..."}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Please wait while we fetch your saved addresses"})]}):v.length>0?t.jsx("div",{className:"space-y-4",children:v.map(V=>t.jsx("div",{className:`group/addr p-6 rounded-xl cursor-pointer transition-all duration-300 border-2 transform ${k===V.id?"shadow-lg scale-[1.02] border-2":"hover:shadow-md hover:scale-[1.01]"}`,style:{backgroundColor:k===V.id?"var(--bg-accent-light)":"var(--bg-primary)",borderColor:k===V.id?"var(--brand-primary)":"var(--border-primary)",boxShadow:k===V.id?"0 10px 25px -5px rgba(245, 158, 11, 0.25)":"0 4px 15px rgba(0, 0, 0, 0.05)"},onClick:()=>_(V.id),children:t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex items-center mr-6 mt-1",children:t.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${k===V.id?"border-2 scale-110":"group-hover/addr:scale-105"}`,style:{borderColor:k===V.id?"var(--brand-primary)":"var(--border-secondary)",backgroundColor:k===V.id?"var(--brand-primary)":"transparent"},children:k===V.id&&t.jsx(Bt,{className:"text-sm animate-fadeIn",style:{color:"var(--text-on-brand)"}})})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsxs("div",{className:"flex items-center mr-4",children:[t.jsx(Ut,{className:"mr-2 text-lg",style:{color:"var(--brand-primary)"}}),t.jsx("span",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:V.name})]}),V.isDefault&&t.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full transform group-hover/addr:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--success-color)",color:"white"},children:"⭐ Default"})]}),t.jsxs("div",{className:"flex items-start mb-3",children:[t.jsx(wt,{className:"mr-3 mt-1 text-lg flex-shrink-0",style:{color:"var(--brand-primary)"}}),t.jsxs("p",{className:"text-base leading-relaxed",style:{color:"var(--text-secondary)"},children:[V.address,", ",V.city,","," ",V.state," - ",V.pincode]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(gi,{className:"mr-3 text-lg",style:{color:"var(--brand-primary)"}}),t.jsx("p",{className:"text-base font-medium",style:{color:"var(--text-secondary)"},children:V.phone})]})]}),k===V.id&&t.jsx("div",{className:"ml-4",children:t.jsx("div",{className:"p-2 rounded-full animate-fadeIn",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:t.jsx(Bt,{className:"text-lg"})})})]})},V.id))}):t.jsxs("div",{className:"text-center py-16 rounded-xl",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center transform hover:scale-105 transition-transform duration-300",style:{backgroundColor:"var(--bg-secondary)",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},children:t.jsx(wt,{size:40,style:{color:"var(--text-secondary)"}})}),t.jsx("p",{className:"mb-4 text-xl font-bold",style:{color:"var(--text-primary)"},children:"No addresses found"}),t.jsx("p",{className:"mb-8 text-base",style:{color:"var(--text-secondary)"},children:"Add a delivery address from profile section to continue with your order"})]})]})]})," ",t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"rounded-xl p-6 border sticky top-4",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-medium)",borderTop:"4px solid var(--brand-primary)"},children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("div",{className:"p-2 rounded-lg mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Rr,{className:"text-lg"})}),t.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Payment"})]}),t.jsx("div",{className:"mb-6",children:t.jsx("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)"},children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3",style:{borderColor:"var(--brand-primary)",backgroundColor:"var(--brand-primary)"},children:t.jsx(Bt,{className:"text-xs",style:{color:"var(--text-on-brand)"}})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Razorpay"}),t.jsx(jd,{className:"ml-2 text-sm",style:{color:"var(--success-color)"}})]}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Secure payment with UPI, Cards, Net Banking"})]})]})})}),t.jsx("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{style:{color:"var(--text-secondary)"},children:"Subtotal:"}),t.jsx("span",{style:{color:"var(--text-primary)"},children:U(R)})]}),t.jsx("hr",{style:{borderColor:"var(--border-primary)"}}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:"Total:"}),t.jsx("span",{className:"font-bold text-xl",style:{color:"var(--brand-primary)"},children:U(P)})]})]})})," ",t.jsx(me,{onClick:q,disabled:!k||x,className:"w-full transition-transform hover:scale-105 duration-300 mb-2",size:"lg",style:{backgroundColor:!k||x?"var(--text-secondary)":"var(--brand-primary)",color:"var(--text-on-brand)"},icon:x?t.jsx(ma,{className:"animate-spin"}):t.jsx(pT,{}),children:x?"Processing Payment...":"Place Order"})," ",t.jsx("button",{onClick:r,className:"w-full py-2 mt-2 text-center font-medium transition-all duration-300 rounded-lg hover:bg-opacity-10",style:{color:"var(--brand-primary)",backgroundColor:"transparent",border:"1px solid var(--brand-primary)"},disabled:x,children:"Continue Shopping"}),t.jsxs("div",{className:"mt-4 p-3 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-accent-light)",border:"1px solid var(--border-primary)"},children:[t.jsx(jd,{className:"mr-2 flex-shrink-0",style:{color:"var(--success-color)"}}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"Your payment information is secure and encrypted"})]})]})})]})})]})}):null},W8=()=>{const{items:e,totalAmount:r,fetchCart:s,updateQuantity:n,removeItem:o}=ja(),{isAuthenticated:c}=Ie(),{paymentSuccessful:d}=Ni(),[u,h]=w.useState(!1);w.useEffect(()=>{s()},[s,c]),w.useEffect(()=>{d&&(console.log("Payment successful, refetching cart data"),setTimeout(()=>{s(),console.log("Cart data refetched after successful payment")},500))},[d,s]);const f=r,x=0,g=0,v=f+x+g,b=()=>{h(!0)},j=()=>{h(!1),s()},k=[{label:"Home",link:ct.HOME},{label:"Shopping Cart"}];return t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsx(Zd,{items:k}),t.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Shopping Cart"}),e.length===0?t.jsx(H8,{}):t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx($8,{cartItems:e,updateQuantity:n,removeItem:o}),t.jsx(G8,{subtotal:f,tax:x,shipping:g,total:v,onCheckout:b})]}),t.jsx(Y8,{isOpen:u,onClose:j})]})})},K8=()=>{const{items:e,fetchWishlist:r,removeItem:s}=Xd(),{addItem:n}=ja(),{isAuthenticated:o}=Ie();w.useEffect(()=>{r()},[r,o]);const c=async u=>{await s(u)&&R8()},d=async u=>{await n(u,1)&&$f(u.name)};return t.jsx("div",{className:"min-h-screen py-8",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("nav",{className:"flex items-center text-sm mb-6",children:[t.jsx(pe,{to:ct.HOME,className:"hover:underline transition-colors duration-200",style:{color:"var(--text-secondary)"},children:"Home"}),t.jsx("span",{className:"mx-2",style:{color:"var(--text-secondary)"},children:"/"}),t.jsx("span",{style:{color:"var(--text-primary)"},children:"My Wishlist"})]}),t.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"My Wishlist"}),e.length===0?t.jsxs("div",{className:"rounded-lg p-8 text-center transition-shadow duration-300",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full mb-6",style:{backgroundColor:"var(--bg-accent-light)"},children:t.jsx(ml,{className:"h-10 w-10",style:{color:"var(--brand-primary)"}})}),t.jsx("h2",{className:"text-xl font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Your wishlist is empty"}),t.jsx("p",{className:"mb-8",style:{color:"var(--text-secondary)"},children:"Save items you like to your wishlist and they'll appear here"}),t.jsx(pe,{to:ct.PRODUCTS,children:t.jsx(me,{variant:"primary",fullWidth:!1,className:"px-6",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)","&:hover":{backgroundColor:"var(--brand-primary-hover)"}},children:"Continue Shopping"})})]}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(u=>t.jsx("div",{className:"rounded-lg overflow-hidden transition-all duration-300 hover:-translate-y-1",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:t.jsx("div",{className:"p-5",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"bg-white p-2 rounded-md flex items-center justify-center",style:{boxShadow:"var(--shadow-small)"},children:t.jsx("img",{src:u.image,alt:u.name,className:"h-24 w-24 object-contain"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:u.category}),t.jsx(pe,{to:`/products/${u.id}`,className:"font-medium hover:underline line-clamp-2",style:{color:"var(--text-primary)"},children:u.name}),t.jsxs("p",{className:"font-bold mt-1 text-lg",style:{color:"var(--brand-primary)"},children:["₹",u.price.toLocaleString()]})]})," ",t.jsx("button",{onClick:()=>c(u.id),className:"p-2 rounded-full transition-colors hover:bg-gray-100",style:{color:"var(--text-secondary)"},"aria-label":"Remove from wishlist",children:t.jsx(ht,{className:"h-5 w-5"})})]})," ",t.jsxs("div",{className:"mt-4",children:[u.stock!==0?t.jsxs("p",{className:"text-sm mb-3 flex items-center",style:{color:"var(--success-color)"},children:[t.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:"var(--success-color)"}}),"In Stock"]}):t.jsxs("p",{className:"text-sm mb-3 flex items-center",style:{color:"var(--error-color)"},children:[t.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:"var(--error-color)"}}),"Out of Stock"]})," ",t.jsx(me,{fullWidth:!0,onClick:()=>d(u),disabled:u.stock===0,icon:t.jsx(fl,{}),style:{backgroundColor:u.stock!==0?"var(--brand-primary)":"var(--bg-secondary)",color:u.stock!==0?"var(--text-on-brand)":"var(--text-secondary)",cursor:u.stock!==0?"pointer":"not-allowed"},children:"Add to Cart"})]})]})]})})},u.id))})]})})},X8=({isOpen:e,onClose:r,orderId:s})=>{const{getOrderById:n,isLoading:o}=Ni(),[c,d]=w.useState(null);if(w.useEffect(()=>{const g=v=>{v.key==="Escape"&&e&&r()};return e&&(document.addEventListener("keydown",g),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",g),document.body.style.overflow="unset"}},[e,r]),w.useEffect(()=>{e&&s&&(console.log("Modal opened for order:",s),(async()=>{try{const v=await n(s);console.log("Fetched order details:",v),d(v)}catch(v){console.error("Error fetching order details:",v)}})())},[e,s,n]),console.log("Modal render - isOpen:",e,"orderId:",s),!e)return null;const u=(g,v="INR")=>v==="INR"?`₹${g==null?void 0:g.toLocaleString()}`:`${g} ${v}`,h=g=>({pending_payment:"Pending Payment",payment_successful:"Payment Successful",order_confirmed:"Order Confirmed",processing:"Processing",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[g]||g,f=g=>({pending_payment:"var(--warning-color)",payment_successful:"var(--success-color)",order_confirmed:"var(--brand-primary)",processing:"var(--info-color)",shipped:"var(--brand-secondary)",out_for_delivery:"var(--warning-color)",delivered:"var(--success-color)",cancelled:"var(--error-color)"})[g]||"var(--brand-primary)",x=g=>{g.target===g.currentTarget&&r()};return t.jsxs("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"var(--bg-overlay)",backdropFilter:"blur(4px)"},onClick:x,children:[" ",t.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-lg shadow-xl transform transition-all",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},onClick:g=>g.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Pe,{size:20})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order #",s]})]})]})," ",t.jsx("button",{onClick:r,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:t.jsx(Ze,{size:20})})]})," ",t.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)] p-6",children:o?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading order details..."})]}):c?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(or,{className:"mr-2",style:{color:f(c.status)}}),t.jsx("span",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Status:"})]}),t.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:`${f(c.status)}20`,color:f(c.status)},children:h(c.status)})]})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Order Summary"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Order Date"}),t.jsx("p",{style:{color:"var(--text-primary)"},children:new Date(c.created_at).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Total Amount"}),t.jsx("p",{className:"text-lg font-semibold text-green-600",children:u(c.total_amount,c.currency)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Payment Method"}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Rr,{className:"mr-1"}),t.jsx("span",{style:{color:"var(--text-primary)"},children:c.payment_method||"Online Payment"})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Items Count"}),t.jsxs("p",{style:{color:"var(--text-primary)"},children:[c.item_count," item(s)"]})]})]})," "]}),c.invoice&&c.invoice.invoice_pdf_url&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Invoice"}),t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ss,{className:"mr-2",style:{color:"var(--brand-primary)"}}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Invoice #",c.invoice.invoice_id]}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Download your order invoice"})]})]})," ",t.jsxs("a",{href:c.invoice.invoice_pdf_url,download:`Invoice_${c.invoice.invoice_id}.pdf`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-md text-white font-medium transition-colors duration-200 hover:opacity-90 flex items-center",style:{backgroundColor:"var(--brand-primary)"},onClick:()=>{setTimeout(()=>{console.log("Invoice download initiated")},100)},children:[t.jsx(Ss,{className:"mr-2",size:16}),"Download Invoice"]})]})})]}),c.items&&c.items.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Ordered Items"}),t.jsx("div",{className:"space-y-3",children:c.items.map((g,v)=>t.jsxs("div",{className:"flex items-center p-3 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[g.image&&t.jsx("img",{src:g.image,alt:g.name,className:"w-16 h-16 object-cover rounded-md mr-3",onError:b=>{b.target.style.display="none"}}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:g.name}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Quantity: ",g.quantity]}),t.jsx("p",{className:"text-sm font-medium text-green-600",children:u(g.price)})]})]},v))})]}),c.shipping_address&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",style:{color:"var(--text-primary)"},children:"Delivery Address"}),t.jsxs("div",{className:"p-3 rounded-lg flex items-start",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx(wt,{className:"mr-2 mt-1",style:{color:"var(--brand-primary)"}}),t.jsxs("div",{children:[t.jsx("p",{style:{color:"var(--text-primary)"},children:c.shipping_address.street_address}),t.jsxs("p",{style:{color:"var(--text-secondary)"},children:[c.shipping_address.city,","," ",c.shipping_address.state," ",c.shipping_address.postal_code]})]})]})]})]}):t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Unable to load order details. Please try again."})})})]})]})},Z8={pending_payment:t.jsx(or,{}),payment_successful:t.jsx(jt,{}),order_confirmed:t.jsx(Pe,{}),processing:t.jsx(Pe,{}),packed:t.jsx(ha,{}),shipped:t.jsx(et,{}),out_for_delivery:t.jsx(wt,{}),delivered:t.jsx(jt,{}),cancelled:t.jsx(Cp,{}),Ordered:t.jsx(ha,{}),Packed:t.jsx(Pe,{}),Shipped:t.jsx(et,{}),"Out for Delivery":t.jsx(wt,{}),Delivered:t.jsx(jt,{})},Zh={pending_payment:"var(--warning-color)",payment_successful:"var(--success-color)",order_confirmed:"var(--brand-primary)",processing:"var(--info-color)",packed:"var(--info-color)",shipped:"var(--brand-secondary)",out_for_delivery:"var(--warning-color)",delivered:"var(--success-color)",cancelled:"var(--error-color)",Ordered:"var(--brand-primary)",Packed:"var(--info-color)",Shipped:"var(--brand-secondary)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)"},Q8=e=>({pending_payment:"Pending Payment",payment_successful:"Payment Successful",order_confirmed:"Order Confirmed",processing:"Processing",packed:"Packed",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[e]||e,R1=e=>e.tracking_info&&e.tracking_info.status_history&&e.tracking_info.status_history.length>0?[...e.tracking_info.status_history].sort((s,n)=>new Date(n.timestamp)-new Date(s.timestamp))[0].status:e.status,J8=(e,r="INR")=>r==="INR"?`₹${e==null?void 0:e.toLocaleString()}`:`${e} ${r}`,eL=({orders:e})=>{const[r,s]=w.useState(null),{initiatePayment:n,isProcessingPayment:o}=Ni(),c=(h,f)=>{h.preventDefault(),h.stopPropagation(),console.log("Opening modal for order:",f),ye.info(`Opening modal for order: ${f}`),s(f)},d=()=>{s(null)},u=async(h,f)=>{if(h.preventDefault(),h.stopPropagation(),R1(f)!=="pending_payment"){ye.error("Payment can only be retried for pending payment orders");return}try{f.payment_data?await n(f.payment_data):ye.error("Payment information not available. Please contact support.")}catch(g){console.error("Error retrying payment:",g),ye.error("Failed to retry payment. Please try again.")}};return t.jsxs(t.Fragment,{children:[" ",t.jsx("div",{className:"space-y-4",children:e.map(h=>{const f=R1(h);return t.jsx("div",{className:"group hover:bg-gray-50 rounded-lg transition-all duration-200 animate-fadeIn transform hover:translate-y-[-2px] border border-transparent hover:border-gray-100",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:t.jsxs(pe,{to:`/order-tracking/${h.order_id}`,className:"flex items-center justify-between p-4",style:{textDecoration:"none"},children:[t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsx("div",{className:"h-12 w-12 flex items-center justify-center rounded-full mr-4 transition-all duration-300",style:{backgroundColor:Zh[f]||"var(--brand-primary)",color:"var(--text-on-brand)",fontSize:22,boxShadow:"var(--shadow-small)",transform:"scale(1)"},children:Z8[f]||t.jsx(ha,{})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"font-semibold text-base mb-1",style:{color:"var(--text-primary)"},children:["Order #",h.order_id]}),t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[t.jsxs("div",{className:"text-sm flex items-center",style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"mr-1",children:"Status:"}),t.jsx("span",{className:"px-2 py-1 rounded-full text-xs",style:{backgroundColor:`${Zh[f]||"var(--brand-primary)"}20`,color:Zh[f]||"var(--brand-primary)",fontWeight:600},children:Q8(f)})]}),t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"hidden sm:inline mx-2",children:"•"}),"Placed:"," ",new Date(h.created_at).toLocaleDateString()," at"," ",new Date(h.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),t.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-sm",children:[t.jsxs("div",{style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"font-medium",children:"Amount:"})," ",t.jsx("span",{className:"text-green-600 font-semibold",children:J8(h.total_amount,h.currency)})]}),t.jsxs("div",{style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"font-medium",children:"Items:"})," ",h.item_count]})]})]})]})," ",t.jsxs("div",{className:"flex items-center gap-2",children:[f==="pending_payment"&&t.jsxs("button",{onClick:x=>u(x,h),disabled:o,className:"flex items-center px-3 py-1 rounded-full text-xs font-medium transition-colors duration-200 hover:bg-orange-50 disabled:opacity-50",style:{color:"var(--warning-color)",border:"1px solid var(--warning-color)"},title:"Retry Payment",children:[t.jsx(Rr,{size:12,className:"mr-1"}),o?"Processing...":"Retry Payment"]}),t.jsx("button",{onClick:x=>c(x,h.order_id),className:"p-2 rounded-full hover:bg-blue-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View Details",children:t.jsx(yi,{size:16})}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"mr-2 text-sm font-medium hidden md:block",style:{color:"var(--brand-primary)"},children:"Track Order"}),t.jsx("div",{className:"bg-gray-100 p-2 rounded-full group-hover:bg-orange-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},children:t.jsx(zt,{className:"text-lg"})})]})]})]})},h.order_id)})})," ",t.jsx(X8,{isOpen:!!r,onClose:d,orderId:r}),r&&t.jsxs("div",{style:{display:"none"},children:["Selected Order ID: ",r]})]})},tL=()=>{const{fetchOrders:e,orders:r,isLoading:s,error:n}=Ni();return w.useEffect(()=>{e()},[e]),console.log("OrderStatusPage rendered",r),t.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs(pe,{to:"/",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[t.jsx(gs,{className:"mr-2"}),t.jsx("span",{className:"font-medium",children:"Back to Home"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[" ",t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Pe,{size:20})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"My Orders"}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Track your recent orders and see their status in real-time."})]})]}),t.jsxs("button",{onClick:()=>e(),disabled:s,className:"flex items-center px-4 py-2 rounded-lg transition-all duration-200 hover:bg-gray-100 disabled:opacity-50",style:{color:"var(--brand-primary)",border:"1px solid var(--border-primary)"},title:"Refresh orders",children:[t.jsx(Es,{className:`mr-2 ${s?"animate-spin":""}`,size:16}),t.jsx("span",{className:"text-sm font-medium",children:"Refresh"})]})]}),t.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4 flex items-center",style:{backgroundColor:"var(--bg-accent-light)"},children:t.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[t.jsx("strong",{children:"Tip:"})," Click on any order to view detailed tracking information."]})})]})," ",t.jsx("div",{className:"p-6",children:s?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading your orders..."})]}):n?t.jsxs("div",{className:"text-center py-12",style:{color:"var(--error-color)"},children:[t.jsx(ha,{className:"mx-auto mb-4",size:40}),t.jsx("p",{className:"font-medium",children:"Error loading orders"}),t.jsx("p",{className:"text-sm",children:n}),t.jsx("button",{onClick:()=>e(),className:"mt-3 inline-block px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Retry"})]}):r.length>0?t.jsx(eL,{orders:r}):t.jsxs("div",{className:"text-center py-12",style:{color:"var(--text-secondary)"},children:[t.jsx(ha,{className:"mx-auto mb-4",size:40}),t.jsx("p",{className:"font-medium",children:"You don't have any orders yet"}),t.jsx(pe,{to:"/products",className:"mt-3 inline-block px-4 py-2 rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Start Shopping"})]})})]})]})})})},rL={"Pending Payment":t.jsx(or,{size:18}),"Payment Successful":t.jsx(Rr,{size:18}),Assigned:t.jsx(Ut,{size:18}),Processing:t.jsx(jf,{size:18}),Ordered:t.jsx(ha,{size:18}),Packed:t.jsx(Pe,{size:18}),Shipped:t.jsx(et,{size:18}),"Out for Delivery":t.jsx(wt,{size:18}),Delivered:t.jsx(jt,{size:18})},qc={"Pending Payment":"var(--warning-color)","Payment Successful":"var(--success-color)",Assigned:"var(--info-color)",Processing:"var(--brand-primary)",Ordered:"var(--brand-primary)",Packed:"var(--info-color)",Shipped:"var(--brand-secondary)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)"},lN=({timeline:e,currentStatus:r})=>{const s=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"];return t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute left-5 top-5 bottom-5 w-0.5",style:{background:"var(--border-primary)"}}),t.jsx("div",{className:"absolute left-5 top-5 w-0.5 transition-all duration-1000 ease-out",style:{background:"linear-gradient(to bottom, var(--success-color), var(--brand-primary))",height:`${Math.min(e.filter((n,o)=>{const c=s.indexOf(e[o].status),d=s.indexOf(r);return c<d||e[o].date}).length/e.length*100,100)}%`}}),t.jsx("div",{className:"space-y-8",children:e.map((n,o)=>{const c=n.status===r,d=s.indexOf(r),u=s.indexOf(n.status),h=n.date||u<d&&d!==-1,f=!h&&!c;return t.jsxs("div",{className:"flex items-start relative animate-fadeIn",style:{animationDelay:`${o*100}ms`,animationFillMode:"both"},children:[" ",t.jsx("div",{className:"flex items-center justify-center h-10 w-10 rounded-full z-10 transition-all duration-300",style:{backgroundColor:h||c?qc[n.status]||"var(--success-color)":"var(--bg-primary)",color:h||c?"var(--text-on-brand)":"var(--text-secondary)",border:f?"2px solid var(--border-primary)":"none",boxShadow:c?"0 0 0 4px rgba(99, 102, 241, 0.1), var(--shadow-medium)":h?"0 0 0 2px rgba(34, 197, 94, 0.1), var(--shadow-small)":"var(--shadow-small)",transform:c?"scale(1.1)":"scale(1)"},children:h&&!c?t.jsx(jt,{size:18}):rL[n.status]||t.jsx(Pe,{size:18})}),t.jsxs("div",{className:"ml-6 pb-2",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[t.jsx("div",{className:"font-semibold text-base",style:{color:c?qc[n.status]:h?"var(--text-primary)":"var(--text-secondary)"},children:n.status})," ",n.date?t.jsx("div",{className:"text-xs mt-1 sm:mt-0 sm:ml-3 sm:pl-3 sm:border-l",style:{borderColor:"var(--border-primary)"},children:t.jsxs("span",{style:{color:"var(--text-secondary)"},children:[new Date(n.date).toLocaleDateString()," at"," ",new Date(n.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})}):h?t.jsx("div",{className:"text-xs mt-1 sm:mt-0 sm:ml-3 sm:pl-3 sm:border-l",style:{borderColor:"var(--border-primary)"},children:t.jsx("span",{style:{color:"var(--text-secondary)"},children:"Completed"})}):null]}),c&&t.jsx("div",{className:"mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${qc[n.status]}20`,color:qc[n.status]},children:"Current Status"})," ",f&&t.jsx("div",{className:"mt-1 text-xs font-medium italic",style:{color:"var(--text-secondary)"},children:"Pending"}),t.jsx("div",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:n.description?n.description:t.jsxs(t.Fragment,{children:[n.status==="Pending Payment"&&h&&"Payment confirmation is being processed.",n.status==="Payment Successful"&&h&&"Payment has been received and confirmed.",n.status==="Assigned"&&h&&"Order has been assigned to a delivery partner.",n.status==="Processing"&&h&&"Your order is being prepared for shipping.",n.status==="Ordered"&&h&&"Your order has been received and is being processed.",n.status==="Packed"&&h&&"Your items have been carefully packed and are ready for shipping.",n.status==="Shipped"&&h&&"Your package is on its way to you.",n.status==="Out for Delivery"&&h&&"Your package will be delivered today.",n.status==="Delivered"&&h&&"Your package has been delivered. Enjoy!"]})})]})]},n.status)})})]})},sL=()=>{const e={id:"ORD123456",status:"Out for Delivery",timeline:[{status:"Ordered",date:"2025-05-10T10:00:00Z"},{status:"Packed",date:"2025-05-11T09:00:00Z"},{status:"Shipped",date:"2025-05-12T14:00:00Z"},{status:"Out for Delivery",date:"2025-05-13T08:00:00Z"},{status:"Delivered",date:null}],estimatedDelivery:"2025-05-14"};return t.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs(pe,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[t.jsx(gs,{className:"mr-2"}),t.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Pe,{size:24})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold mb-1",style:{color:"var(--text-primary)"},children:"Track Your Order"}),t.jsxs("p",{className:"text-sm flex items-center",style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"font-medium mr-1",children:"Order ID:"}),t.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",style:{color:"var(--text-primary)"},children:e.id})]})]})]}),t.jsxs("div",{className:"hidden md:block text-right",style:{color:"var(--text-secondary)"},children:[t.jsx("div",{className:"text-xs",children:"Current Status"}),t.jsx("div",{className:"font-semibold mt-1 px-3 py-1 rounded-full text-sm inline-block",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:e.status})]})]}),t.jsxs("div",{className:"mt-6 p-4 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--text-primary)"},children:[t.jsx(As,{className:"mr-3",size:20,style:{color:"var(--brand-primary)"}}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",children:"Estimated Delivery"}),t.jsx("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:new Date(e.estimatedDelivery).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 p-3 border-l-4 rounded-r-lg flex items-center",style:{borderColor:"var(--info-color)",backgroundColor:"var(--info-color)10"},children:[t.jsx(Hd,{className:"mr-2",style:{color:"var(--info-color)"}}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"We'll update this page as your order progresses."})]}),t.jsx(lN,{timeline:e.timeline,currentStatus:e.status})]})]})]})})})},aL=()=>{const{id:e}=el();console.log("OrderTrackingDetail rendered with orderId:",e);const{getOrderById:r,currentOrder:s,isLoading:n,error:o}=Ni();w.useEffect(()=>{(async()=>{if(e){console.log("Fetching order details for:",e);try{await r(e)}catch(v){console.error("Error fetching order details:",v)}}})()},[e,r]),console.log("Order fetched successfully:",s);const d=s?(g=>{var T,P,q,U,V,M,ae;if(!g)return null;const v=(ne,L)=>({"Pending Payment":L?"Awaiting payment confirmation":"Payment will be processed","Payment Successful":L?"Payment received successfully":"Payment confirmation pending",Assigned:L?"Order assigned to delivery partner":"Order will be assigned to partner",Processing:L?"Order is being processed":"Order processing will begin",Packed:L?"Items packed and ready for dispatch":"Items will be packed soon",Shipped:L?"Order dispatched from warehouse":"Order will be shipped soon","Out for Delivery":L?"Package is out for delivery":"Package will be out for delivery",Delivered:L?"Order successfully delivered":"Order will be delivered soon","Failed Delivery Attempt":L?"Delivery attempt was unsuccessful":"Delivery will be retried","Returning to Warehouse":L?"Package is being returned to warehouse":"Package may need to be returned",Cancelled:L?"Order has been cancelled":"Order cancellation pending"})[ne]||`${ne} - ${L?"completed":"pending"}`,b=ne=>(console.log("Mapping status:",ne),{pending_payment:"Pending Payment",payment_successful:"Payment Successful",assigned:"Assigned",processing:"Processing",packed:"Packed",shipped:"Shipped",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled",failed_attempt:"Failed Delivery Attempt",returning_to_warehouse:"Returning to Warehouse",other:"Other Status"}[ne]||ne),j=((P=(T=g.tracking_info)==null?void 0:T.status_history)==null?void 0:P.map(ne=>({status:b(ne.status),date:ne.timestamp,description:ne.description||`Status updated to ${b(ne.status)}`})))||[],k=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"],_=j.map(ne=>ne.status),C=k.indexOf(b(g.delivery_status||g.status));k.forEach((ne,L)=>{_.includes(ne)||(L<=C?j.push({status:ne,date:null,description:v(ne,!0)}):j.push({status:ne,date:null,description:v(ne,!1)}))});const A=["Pending Payment","Payment Successful","Assigned","Processing","Packed","Shipped","Out for Delivery","Delivered"];j.sort((ne,L)=>A.indexOf(ne.status)-A.indexOf(L.status));const R=ne=>ne?`${ne.street_address}, ${ne.city}, ${ne.state} - ${ne.postal_code}`:null,S=ne=>ne?ne.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):null;return{id:g.invoice_id||g.razorpay_order_id||e,order_id:g.invoice_id||g.razorpay_order_id||e,status:b(g.delivery_status||g.status),delivery_status:b(g.delivery_status),overall_status:b(g.status),timeline:j,estimatedDelivery:g.estimated_delivery,estimatedDeliveryFormatted:g.estimated_delivery?new Date(g.estimated_delivery).toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):null,shippingAddress:R(g.address),phoneNumber:S((q=g.address)==null?void 0:q.phone_number),addressType:(U=g.address)==null?void 0:U.type,carrier:((V=g.tracking_info)==null?void 0:V.carrier)||"Pending",trackingNumber:(M=g.tracking_info)==null?void 0:M.tracking_number,trackingUrl:(ae=g.tracking_info)==null?void 0:ae.tracking_url,orderItems:g.order_items||[],totalAmount:g.total_amount||g.total_amount_calculated,currency:g.currency||"INR",paymentDetails:g.payment_details,createdAt:g.created_at,createdAtFormatted:g.created_at_formatted,invoice:g.invoice,assigned_partner_name:g.assigned_partner_name,assigned_at:g.assigned_at,last_updated_by_admin_at:g.last_updated_by_admin_at,last_updated_by_partner_at:g.last_updated_by_partner_at}})(s):{id:e,order_id:e,status:"Out for Delivery",timeline:[{status:"Ordered",date:"2025-05-10T10:00:00Z"},{status:"Packed",date:"2025-05-11T09:00:00Z"},{status:"Shipped",date:"2025-05-12T14:00:00Z"},{status:"Out for Delivery",date:"2025-05-13T08:00:00Z"},{status:"Delivered",date:null}],estimatedDelivery:"2025-05-14",shippingAddress:"123 Main St, Anytown, State 12345",carrier:"FastShip Express",trackingNumber:"FS78291782X"};console.log("Order data being used:",d);const u=!s,h=()=>{var b,j;const g=((b=d.timeline)==null?void 0:b.length)||5,v=((j=d.timeline)==null?void 0:j.findIndex(k=>k.status===d.status))||0;return Math.min((v+1)/g*100,100)},f=g=>({"Pending Payment":t.jsx(or,{}),"Payment Successful":t.jsx(jt,{}),Assigned:t.jsx(Ut,{}),Processing:t.jsx(jf,{}),Packed:t.jsx(ha,{}),Shipped:t.jsx(et,{}),"Out for Delivery":t.jsx(hT,{}),Delivered:t.jsx(jt,{}),Cancelled:t.jsx(Ze,{}),"Failed Delivery Attempt":t.jsx(Es,{}),"Returning to Warehouse":t.jsx(gs,{}),"Other Status":t.jsx(Hd,{})})[g]||t.jsx(Pe,{}),x=g=>({"Pending Payment":"var(--warning-color)","Payment Successful":"var(--success-color)",Assigned:"var(--info-color)",Processing:"var(--brand-primary)",Packed:"var(--brand-secondary)",Shipped:"var(--info-color)","Out for Delivery":"var(--warning-color)",Delivered:"var(--success-color)",Cancelled:"var(--error-color)","Failed Delivery Attempt":"var(--error-color)","Returning to Warehouse":"var(--warning-color)","Other Status":"var(--text-secondary)"})[g]||"var(--brand-primary)";return n?t.jsx("div",{className:"min-h-screen py-10 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"text-center",children:[t.jsx(ma,{className:"animate-spin h-8 w-8 mx-auto mb-4",style:{color:"var(--brand-primary)"}}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading order details..."})]})}):o?t.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsxs(pe,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[t.jsx(gs,{className:"mr-2"}),t.jsx("span",{className:"font-medium",children:"Back to Orders"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsx(Pe,{className:"h-16 w-16 mx-auto mb-4",style:{color:"var(--error-color)"}}),t.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Order Not Found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:o}),t.jsx(pe,{to:"/orders",className:"inline-block px-6 py-2 rounded-lg",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"View All Orders"})]})]})})}):t.jsx("div",{className:"min-h-screen py-10",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs(pe,{to:"/orders",className:"inline-flex items-center mb-8 px-4 py-2 rounded-full hover:bg-white/80 transition-all duration-200",style:{color:"var(--brand-primary)"},children:[t.jsx(gs,{className:"mr-2"}),t.jsx("span",{className:"font-medium",children:"Back to Orders"})]})," ",t.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-large)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(99, 102, 241, 0.02) 100%)"},children:[t.jsxs("div",{className:"relative h-3 w-full bg-gradient-to-r from-gray-200 to-gray-100 overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 h-full transition-all duration-1000 ease-out bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-600",style:{width:`${h()}%`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})]}),t.jsx("div",{className:"p-8 border-b bg-gradient-to-r from-transparent to-blue-50/30",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-6 lg:space-y-0",children:[t.jsxs("div",{className:"flex items-start space-x-5",children:[t.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center shrink-0 shadow-lg",style:{background:"linear-gradient(135deg, var(--brand-primary), var(--brand-secondary))",color:"white"},children:t.jsx(fa,{size:28})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",style:{color:"var(--text-primary)"},children:["Order #",d.id||d.order_id]})," ",t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold shadow-sm",style:{backgroundColor:`${x(d.status)}15`,color:x(d.status),border:`1px solid ${x(d.status)}30`},children:[f(d.status),t.jsx("span",{className:"ml-2",children:d.status})]}),d.delivery_status&&d.delivery_status!==d.overall_status&&t.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-lg text-xs font-medium",style:{backgroundColor:`${x(d.delivery_status)}10`,color:x(d.delivery_status),border:`1px solid ${x(d.delivery_status)}20`},children:[t.jsx(et,{className:"mr-1",size:12}),"Delivery: ",d.delivery_status]}),d.totalAmount&&t.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-lg text-sm font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx(Rr,{className:"mr-1",size:14}),"₹",d.totalAmount]})]})]}),d.createdAtFormatted&&t.jsxs("div",{className:"flex items-center text-sm",style:{color:"var(--text-secondary)"},children:[t.jsx(or,{className:"mr-2",size:14}),"Ordered on ",d.createdAtFormatted]})]})]}),t.jsxs("div",{className:"flex items-center p-4 rounded-xl shadow-sm border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.05) 100%)"},children:[t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mr-4",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:t.jsx(As,{size:20})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-medium uppercase tracking-wide mb-1",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),t.jsx("div",{className:"font-bold text-lg",style:{color:"var(--brand-primary)"},children:d.estimatedDeliveryFormatted||(d.estimatedDelivery?new Date(d.estimatedDelivery).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short"}):"Pending")})]})]})]})})," ",t.jsxs("div",{className:"p-8 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(34, 197, 94, 0.02) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:t.jsx(wt,{size:18})}),t.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Delivery Address"})]}),t.jsxs("div",{className:"ml-13 space-y-2",children:[t.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:d.shippingAddress||"Address not available"}),d.phoneNumber&&t.jsxs("div",{className:"flex items-center text-sm",children:[t.jsx(gi,{className:"mr-2",size:14}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:d.phoneNumber})]}),d.addressType&&t.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:[t.jsx(cT,{className:"mr-1",size:10}),d.addressType]})]})]}),t.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.02) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:t.jsx(et,{size:18})}),t.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Delivery Partner"})]}),t.jsxs("div",{className:"ml-13 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Partner:"}),t.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:d.assigned_partner_name||"Not Assigned"})]}),d.trackingNumber&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Tracking:"}),t.jsx("span",{className:"text-sm font-mono",style:{color:"var(--brand-primary)"},children:d.trackingNumber})]})]}),d.assigned_at&&t.jsxs("div",{className:"flex items-center text-xs pt-2",style:{color:"var(--text-tertiary)"},children:[t.jsx(or,{className:"mr-1",size:12}),t.jsxs("span",{children:["Assigned on"," ",new Date(d.assigned_at).toLocaleDateString("en-IN")]})]})]}),d.paymentDetails&&t.jsxs("div",{className:"p-6 rounded-xl border shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(16, 185, 129, 0.02) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:t.jsx(Rr,{size:18})}),t.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Payment Details"})]}),t.jsxs("div",{className:"ml-13 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Method:"}),t.jsx("span",{className:"text-sm font-semibold capitalize",style:{color:"var(--text-primary)"},children:d.paymentDetails.method||"N/A"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Status:"}),t.jsx("span",{className:"text-sm font-semibold capitalize",style:{color:d.paymentDetails.status==="captured"?"var(--success-color)":"var(--warning-color)"},children:d.paymentDetails.status||"N/A"})]}),d.paymentDetails.captured_at_formatted&&t.jsxs("div",{className:"flex items-center text-xs pt-2",style:{color:"var(--text-tertiary)"},children:[t.jsx(jt,{className:"mr-1",size:12}),t.jsxs("span",{children:["Paid on"," ",d.paymentDetails.captured_at_formatted]})]})]})]})]})," ",d.orderItems&&d.orderItems.length>0&&t.jsx("div",{className:"px-8 pb-6",children:t.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(168, 85, 247, 0.02) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-secondary)15",color:"var(--brand-secondary)"},children:t.jsx(Pe,{size:18})}),t.jsxs("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:["Order Items (",d.orderItems.length,")"]}),t.jsxs("div",{className:"ml-auto text-lg font-bold",style:{color:"var(--brand-primary)"},children:["₹",d.totalAmount]})]}),t.jsx("div",{className:"ml-13 space-y-4",children:d.orderItems.map((g,v)=>t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-secondary)"},children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[g.image_url?t.jsx("img",{src:g.image_url,alt:g.name,className:"w-12 h-12 object-cover rounded-lg"}):t.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:t.jsx(Pe,{size:20})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm",style:{color:"var(--text-primary)"},children:g.name||`Item ${v+1}`}),g.brand&&t.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Brand: ",g.brand]}),g.model&&t.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Model: ",g.model]}),g.color&&t.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Color: ",g.color]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["Qty: ",g.quantity||1]}),t.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--brand-primary)"},children:["₹",g.price_at_purchase||g.total_item_price]})]})]},v))})]})})]})," ",d.invoice&&d.invoice.invoice_pdf_url&&t.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"100ms"},children:t.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(16, 185, 129, 0.02) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)15",color:"var(--success-color)"},children:t.jsx(Ss,{size:18})}),t.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Invoice Available"})]}),t.jsxs("div",{className:"ml-13 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["Invoice #",d.invoice.invoice_id]}),t.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Download your order invoice for records"})]}),t.jsxs("a",{href:d.invoice.invoice_pdf_url,download:`Invoice_${d.invoice.invoice_id}.pdf`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--success-color)",color:"white",textDecoration:"none"},onClick:()=>{console.log("Invoice download initiated")},children:[t.jsx(Ss,{className:"mr-2",size:16}),"Download PDF"]})]})]})}),d.trackingUrl&&t.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"150ms"},children:t.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(59, 130, 246, 0.02) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)15",color:"var(--brand-primary)"},children:t.jsx(u0,{size:18})}),t.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"External Tracking"})]}),t.jsxs("div",{className:"ml-13 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Track with carrier"}),t.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Get real-time updates from delivery partner"})]}),t.jsxs("a",{href:d.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:shadow-md transform hover:scale-105",style:{backgroundColor:"var(--brand-primary)",color:"white",textDecoration:"none"},children:[t.jsx(u0,{className:"mr-2",size:16}),"Track Now"]})]})]})}),d.last_updated_by_partner_at||d.last_updated_by_admin_at?t.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"180ms"},children:t.jsxs("div",{className:"p-6 rounded-xl border",style:{borderColor:"var(--border-primary)",background:"linear-gradient(135deg, var(--bg-primary) 0%, rgba(245, 158, 11, 0.02) 100%)"},children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--warning-color)15",color:"var(--warning-color)"},children:t.jsx(jf,{size:18})}),t.jsx("h3",{className:"font-semibold text-lg",style:{color:"var(--text-primary)"},children:"Recent Updates"})]}),t.jsxs("div",{className:"ml-13 space-y-3",children:[d.last_updated_by_partner_at&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Last partner update:"}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(d.last_updated_by_partner_at).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),d.last_updated_by_admin_at&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Last admin update:"}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(d.last_updated_by_admin_at).toLocaleDateString("en-IN",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]})]})}):null,t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)",animationDelay:"200ms"},children:[" ",t.jsxs("h2",{className:"text-xl font-bold mb-6",style:{color:"var(--text-primary)"},children:["Delivery Progress",u&&t.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Using Mock Data"})]}),t.jsx(lN,{timeline:d.timeline,currentStatus:d.status})]})]})})})},nL=()=>{const e=Vt(),r=Zt(),{logout:s}=Ie(),n=[{id:"profile",name:"Profile Information",path:"/profile",icon:t.jsx(Ut,{className:"w-5 h-5"})},{id:"orders",name:"My Orders",path:"/orders",icon:t.jsx(fa,{className:"w-5 h-5"})},{id:"wishlist",name:"My Wishlist",path:"/wishlist",icon:t.jsx(ml,{className:"w-5 h-5"})},{id:"addresses",name:"My Addresses",path:"/profile/addresses",icon:t.jsx(wt,{className:"w-5 h-5"})}],o=c=>{c.preventDefault(),s(),r("/login")};return t.jsxs("div",{className:"rounded-lg overflow-hidden shadow-md",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsx("div",{className:"p-4",style:{backgroundColor:"var(--brand-primary)"},children:t.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-on-brand)"},children:"My Account"})}),t.jsx("div",{className:"p-2",children:t.jsxs("ul",{children:[n.map(c=>t.jsx("li",{children:t.jsxs(pe,{to:c.path,className:`flex items-center gap-3 px-4 py-3 rounded-md transition-all duration-200 ${e.pathname===c.path?"bg-opacity-10 font-medium":"hover:bg-opacity-5"}`,style:{backgroundColor:e.pathname===c.path?"var(--bg-accent-light)":"transparent",color:e.pathname===c.path?"var(--brand-primary)":"var(--text-primary)"},children:[c.icon,t.jsx("span",{children:c.name})]})},c.id)),t.jsx("li",{children:t.jsxs("button",{onClick:o,className:"flex w-full items-center gap-3 px-4 py-3 rounded-md transition-all duration-200 text-left hover:bg-opacity-5",style:{color:"var(--error-color)"},children:[t.jsx(w2,{className:"w-5 h-5"}),t.jsx("span",{children:"Logout"})]})})]})})]})},iL=()=>{const{user:e,isLoading:r,error:s,fetchUserProfile:n,updateUserProfileAPI:o,clearError:c}=Ie(),{isOpen:d,modalConfig:u,isLoading:h,showConfirm:f,hideConfirm:x,handleConfirm:g}=wi(),[v,b]=Me.useState(!1),[j,k]=Me.useState({firstName:(e==null?void 0:e.first_name)||"",lastName:(e==null?void 0:e.last_name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[_,C]=Me.useState({});Me.useEffect(()=>{e!=null&&e.uid&&n().catch(()=>{})},[n,e==null?void 0:e.uid]),Me.useEffect(()=>{e&&k(q=>({...q,firstName:e.first_name||"",lastName:e.last_name||"",email:e.email||"",phone:e.phone||""}))},[e]),Me.useEffect(()=>()=>c(),[c]);const A=q=>{const{name:U,value:V}=q.target;k(M=>({...M,[U]:V})),_[U]&&C(M=>({...M,[U]:""}))},R=()=>{const q={};return j.firstName.trim()||(q.firstName="First name is required"),j.lastName.trim()||(q.lastName="Last name is required"),j.email.trim()?/\S+@\S+\.\S+/.test(j.email)||(q.email="Please enter a valid email address"):q.email="Email is required",(j.currentPassword||j.newPassword||j.confirmPassword)&&(j.currentPassword||(q.currentPassword="Current password is required to change password"),j.newPassword?j.newPassword.length<6&&(q.newPassword="New password must be at least 6 characters long"):q.newPassword="New password is required",j.confirmPassword?j.newPassword!==j.confirmPassword&&(q.confirmPassword="New passwords do not match"):q.confirmPassword="Please confirm your new password"),C(q),Object.keys(q).length===0},S=async q=>{if(q.preventDefault(),!R()){ye.error("Please fix the errors in the form");return}j.currentPassword&&j.newPassword&&j.confirmPassword?f({title:"Confirm Password Change",message:"Are you sure you want to change your password? You will need to use the new password for future logins.",confirmText:"Change Password",cancelText:"Cancel",type:"warning",onConfirm:async()=>{await T(!0)}}):await T(!1)},T=async(q=!1)=>{var U,V;try{const M={first_name:j.firstName,last_name:j.lastName,phone_number:j.phone};q&&(M.current_password=j.currentPassword,M.new_password=j.newPassword,M.confirm_new_password=j.confirmPassword);const ae=await o(M);ae.success&&(ye.success(ae.message||"Profile updated successfully"),b(!1),k(ne=>({...ne,currentPassword:"",newPassword:"",confirmPassword:""})),C({}))}catch(M){ye.error(((V=(U=M.response)==null?void 0:U.data)==null?void 0:V.error)||"Failed to update profile")}},P=()=>{b(!v),C({}),k(v?q=>({...q,currentPassword:"",newPassword:"",confirmPassword:""}):{firstName:(e==null?void 0:e.first_name)||"",lastName:(e==null?void 0:e.last_name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",currentPassword:"",newPassword:"",confirmPassword:""})};return t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Profile Information"}),t.jsx("button",{onClick:P,className:"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:v?"var(--bg-secondary)":"var(--brand-primary)",color:v?"var(--text-primary)":"var(--text-on-brand)"},children:v?"Cancel":"Edit Profile"})]})," ",s&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-6",children:s}),t.jsxs("form",{onSubmit:S,children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"First Name"}),v?t.jsxs("div",{children:[t.jsx("input",{type:"text",id:"firstName",name:"firstName",value:j.firstName,onChange:A,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:_.firstName?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0}),_.firstName&&t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:_.firstName})]}):t.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(e==null?void 0:e.first_name)||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Last Name"}),v?t.jsxs("div",{children:[t.jsx("input",{type:"text",id:"lastName",name:"lastName",value:j.lastName,onChange:A,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:_.lastName?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0}),_.lastName&&t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:_.lastName})]}):t.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(e==null?void 0:e.last_name)||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Email Address"}),t.jsxs("div",{children:[t.jsx("input",{type:"email",id:"email",name:"email",value:j.email,onChange:A,disabled:!0,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 disabled:opacity-60 disabled:cursor-not-allowed",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"}}),t.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Email cannot be changed for security reasons"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Phone Number"}),v?t.jsx("input",{type:"tel",id:"phone",name:"phone",value:j.phone,onChange:A,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"}}):t.jsx("p",{className:"text-lg",style:{color:"var(--text-primary)"},children:(e==null?void 0:e.phone)||"Not provided"})]})]})," ",v&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-md font-medium mb-3",style:{color:"var(--text-primary)"},children:"Change Password (Optional)"}),t.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Leave password fields empty if you don't want to change your password"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Current Password"}),t.jsxs("div",{children:[t.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:j.currentPassword,onChange:A,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:_.currentPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Enter current password"}),_.currentPassword&&t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:_.currentPassword})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"New Password"}),t.jsxs("div",{children:[t.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:j.newPassword,onChange:A,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:_.newPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Enter new password (min 6 characters)"}),_.newPassword&&t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:_.newPassword})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Confirm New Password"}),t.jsxs("div",{children:[t.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:j.confirmPassword,onChange:A,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:_.confirmPassword?"var(--error-color)":"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},placeholder:"Confirm new password"}),_.confirmPassword&&t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--error-color)"},children:_.confirmPassword})]})]})]})]})," ",v&&t.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[t.jsx("button",{type:"button",onClick:P,disabled:r,className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:r,className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[r&&t.jsx(ma,{className:"w-4 h-4 animate-spin"}),"Save Changes"]})]})]}),t.jsx(ln,{isOpen:d,onClose:x,onConfirm:g,title:u.title,message:u.message,confirmText:u.confirmText,cancelText:u.cancelText,type:u.type,isLoading:h})]})},oL=()=>{const{addresses:e,isLoading:r,error:s,fetchAddresses:n,addAddress:o,updateAddress:c,deleteAddress:d,setDefaultAddress:u,clearError:h}=oN(),{isOpen:f,modalConfig:x,isLoading:g,showConfirm:v,hideConfirm:b,handleConfirm:j}=wi(),[k,_]=Me.useState(!1),[C,A]=Me.useState(null),[R,S]=Me.useState({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1});Me.useEffect(()=>{n()},[n]),Me.useEffect(()=>()=>h(),[h]);const T=M=>{const{name:ae,value:ne,type:L,checked:Y}=M.target;S(B=>({...B,[ae]:L==="checkbox"?Y:ne}))},P=M=>{S({name:M.name||M.type,address:M.address||M.street_address,city:M.city,state:M.state,pincode:M.pincode||M.postal_code,phone:M.phone||M.phone_number,isDefault:M.isDefault||M.is_default}),A(M.id),_(!0)},q=async M=>{v({title:"Delete Address",message:"Are you sure you want to delete this address? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{await d(M)}})},U=async M=>{await u(M)},V=async M=>{M.preventDefault();try{const ae={type:R.name,street_address:R.address,city:R.city,state:R.state,postal_code:R.pincode,phone_number:R.phone,is_default:R.isDefault};C?await c(C,ae):await o(ae),S({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1}),_(!1),A(null)}catch(ae){console.error("Error saving address:",ae)}};return t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"My Addresses"}),!k&&t.jsxs("button",{onClick:()=>_(!0),disabled:r,className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90 disabled:opacity-50",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[r?t.jsx(ma,{className:"w-4 h-4 animate-spin"}):t.jsx(mt,{className:"w-4 h-4"}),t.jsx("span",{children:"Add New Address"})]})]}),s&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md mb-4",children:s}),r&&!k&&t.jsxs("div",{className:"flex justify-center items-center py-8",children:[t.jsx(ma,{className:"w-6 h-6 animate-spin",style:{color:"var(--brand-primary)"}}),t.jsx("span",{className:"ml-2",style:{color:"var(--text-secondary)"},children:"Loading addresses..."})]}),k?t.jsxs("div",{className:"border rounded-lg p-4 mb-6",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:C?"Edit Address":"Add New Address"}),t.jsxs("form",{onSubmit:V,children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Address Name"}),t.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Home, Office, etc.",value:R.name,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Phone Number"}),t.jsx("input",{type:"tel",id:"phone",name:"phone",placeholder:"Contact number for delivery",value:R.phone,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{htmlFor:"address",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Street Address"}),t.jsx("textarea",{id:"address",name:"address",placeholder:"Flat, House no., Building, Company, Apartment",value:R.address,onChange:T,rows:2,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"city",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"City"}),t.jsx("input",{type:"text",id:"city",name:"city",value:R.city,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"state",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"State"}),t.jsx("input",{type:"text",id:"state",name:"state",value:R.state,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"pincode",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"PIN Code"}),t.jsx("input",{type:"text",id:"pincode",name:"pincode",value:R.pincode,onChange:T,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:"isDefault",checked:R.isDefault,onChange:T,className:"w-4 h-4 accent-primary",style:{accentColor:"var(--brand-primary)"}}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Set as default address"})]})})]})," ",t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{_(!1),A(null),S({name:"",address:"",city:"",state:"",pincode:"",phone:"",isDefault:!1})},disabled:r,className:"px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)"},children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:r,className:"px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50 flex items-center gap-2",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[r&&t.jsx(ma,{className:"w-4 h-4 animate-spin"}),C?"Update Address":"Save Address"]})]})]})]}):t.jsxs("div",{children:[e.length===0&&!r?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(wt,{className:"w-16 h-16 mx-auto mb-4 opacity-50",style:{color:"var(--text-secondary)"}}),t.jsx("p",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"No addresses found"}),t.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Add your first address to get started with deliveries"}),t.jsx("button",{onClick:()=>_(!0),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Add Address"})]}):t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.map(M=>t.jsxs("div",{className:`border rounded-lg p-4 relative ${M.isDefault||M.is_default?"ring-2":""}`,style:{borderColor:"var(--border-primary)",ringColor:M.isDefault||M.is_default?"var(--brand-primary)":void 0},children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:M.name||M.type}),(M.isDefault||M.is_default)&&t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:"Default"})]}),t.jsxs("div",{className:"flex gap-2 mb-2 items-start",children:[t.jsx(wt,{className:"min-w-5 h-5 mt-0.5",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{style:{color:"var(--text-primary)"},children:[t.jsx("p",{children:M.address||M.street_address}),t.jsxs("p",{children:[M.city,", ",M.state," -"," ",M.pincode||M.postal_code]}),t.jsxs("p",{className:"mt-1",children:["Phone: ",M.phone||M.phone_number]})]})]})," ",t.jsxs("div",{className:"flex justify-between items-center mt-4",children:[!(M.isDefault||M.is_default)&&t.jsx("button",{onClick:()=>U(M.id),disabled:r,className:"text-xs px-2 py-1 rounded border transition-colors disabled:opacity-50",style:{borderColor:"var(--brand-primary)",color:"var(--brand-primary)"},children:"Set as Default"}),t.jsxs("div",{className:`flex gap-2 ${M.isDefault||M.is_default?"":"ml-auto"}`,children:[t.jsx("button",{onClick:()=>P(M),disabled:r,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50",style:{color:"var(--text-secondary)"},children:t.jsx(ul,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>q(M.id),disabled:r,className:"p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50",style:{color:"var(--error-color)"},children:t.jsx(ht,{className:"w-4 h-4"})})]})]})]},M.id))})," "]}),t.jsx(ln,{isOpen:f,onClose:b,onConfirm:j,title:x.title,message:x.message,confirmText:x.confirmText,cancelText:x.cancelText,type:x.type,isLoading:g})]})},lL=()=>{const[e,r]=Me.useState([{id:1,type:"Credit Card",name:"John Doe",cardNumber:"•••• •••• •••• 1234",expiry:"12/25",isDefault:!0},{id:2,type:"Debit Card",name:"John Doe",cardNumber:"•••• •••• •••• 5678",expiry:"08/26",isDefault:!1}]),[s,n]=Me.useState(!1),[o,c]=Me.useState(null),[d,u]=Me.useState({type:"Credit Card",name:"",cardNumber:"",expiry:"",cvv:"",isDefault:!1}),h=v=>{const{name:b,value:j,type:k,checked:_}=v.target;u(C=>({...C,[b]:k==="checkbox"?_:j}))},f=v=>{u({...v,cardNumber:"",cvv:""}),c(v.id),n(!0)},x=v=>{r(e.filter(b=>b.id!==v))},g=v=>{v.preventDefault();const b=`•••• •••• •••• ${d.cardNumber.slice(-4)}`;if(o)r(e.map(j=>j.id===o?{...d,id:o,cardNumber:b}:j));else{const j={...d,id:Date.now(),cardNumber:b};r([...e,j])}u({type:"Credit Card",name:"",cardNumber:"",expiry:"",cvv:"",isDefault:!1}),n(!1),c(null)};return t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Payment Methods"}),!s&&t.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t.jsx(mt,{className:"w-4 h-4"}),t.jsx("span",{children:"Add New Card"})]})]}),s?t.jsxs("div",{className:"border rounded-lg p-4 mb-6",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:o?"Update Card":"Add New Card"}),t.jsxs("form",{onSubmit:g,children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"type",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Card Type"}),t.jsxs("select",{id:"type",name:"type",value:d.type,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},children:[t.jsx("option",{value:"Credit Card",children:"Credit Card"}),t.jsx("option",{value:"Debit Card",children:"Debit Card"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Cardholder Name"}),t.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Name on card",value:d.name,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Card Number"}),t.jsx("input",{type:"text",id:"cardNumber",name:"cardNumber",placeholder:"XXXX XXXX XXXX XXXX",value:d.cardNumber,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Expiry Date"}),t.jsx("input",{type:"text",id:"expiry",name:"expiry",placeholder:"MM/YY",value:d.expiry,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"CVV"}),t.jsx("input",{type:"text",id:"cvv",name:"cvv",placeholder:"XXX",value:d.cvv,onChange:h,className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)",focusRing:"var(--brand-primary)"},required:!0})]})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:"isDefault",checked:d.isDefault,onChange:h,className:"w-4 h-4 accent-primary",style:{accentColor:"var(--brand-primary)"}}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Set as default payment method"})]})})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{type:"button",onClick:()=>{n(!1),c(null)},className:"px-4 py-2 rounded-md text-sm font-medium",style:{color:"var(--text-primary)",backgroundColor:"var(--bg-secondary)"},children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:o?"Update Card":"Add Card"})]})]})]}):t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.map(v=>t.jsxs("div",{className:`border rounded-lg p-4 relative ${v.isDefault?"ring-2":""}`,style:{borderColor:"var(--border-primary)",ringColor:v.isDefault?"var(--brand-primary)":void 0},children:[t.jsxs("div",{className:"flex justify-between mb-2",children:[t.jsx("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:v.type}),v.isDefault&&t.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:"Default"})]}),t.jsxs("div",{className:"flex gap-2 mb-2 items-start",children:[t.jsx(Rr,{className:"min-w-5 h-5 mt-0.5",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{style:{color:"var(--text-primary)"},children:[t.jsx("p",{className:"text-lg font-mono",children:v.cardNumber}),t.jsx("p",{children:v.name}),t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:["Expires: ",v.expiry]})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[t.jsx("button",{onClick:()=>f(v),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:t.jsx(ul,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>x(v.id),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",style:{color:"var(--error-color)"},children:t.jsx(ht,{className:"w-4 h-4"})})]})]},v.id))})]})},cL=()=>{const[e,r]=Me.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,orderUpdates:!0,promotions:!1,newArrivals:!0,priceDrops:!0,darkMode:!1,twoFactorAuth:!1}),s=n=>{r(o=>({...o,[n]:!o[n]}))};return t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Account Settings"}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:"Manage your notification preferences and account security"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(eT,{}),t.jsx("span",{children:"Notification Preferences"})]})}),t.jsxs("div",{className:"space-y-4 pl-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Email Notifications"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates via email"})]}),t.jsx("button",{onClick:()=>s("emailNotifications"),className:"text-2xl","aria-label":e.emailNotifications?"Disable email notifications":"Enable email notifications",children:e.emailNotifications?t.jsx(sa,{style:{color:"var(--brand-primary)"}}):t.jsx(ra,{style:{color:"var(--text-secondary)"}})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"SMS Notifications"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates via text message"})]}),t.jsx("button",{onClick:()=>s("smsNotifications"),className:"text-2xl","aria-label":e.smsNotifications?"Disable SMS notifications":"Enable SMS notifications",children:e.smsNotifications?t.jsx(sa,{style:{color:"var(--brand-primary)"}}):t.jsx(ra,{style:{color:"var(--text-secondary)"}})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Push Notifications"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive notifications on mobile app"})]}),t.jsx("button",{onClick:()=>s("pushNotifications"),className:"text-2xl","aria-label":e.pushNotifications?"Disable push notifications":"Enable push notifications",children:e.pushNotifications?t.jsx(sa,{style:{color:"var(--brand-primary)"}}):t.jsx(ra,{style:{color:"var(--text-secondary)"}})})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Notification Types"}),t.jsxs("div",{className:"space-y-4 pl-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Order Updates"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive updates about your orders"})]}),t.jsx("button",{onClick:()=>s("orderUpdates"),className:"text-2xl","aria-label":e.orderUpdates?"Disable order updates":"Enable order updates",children:e.orderUpdates?t.jsx(sa,{style:{color:"var(--brand-primary)"}}):t.jsx(ra,{style:{color:"var(--text-secondary)"}})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Promotions & Deals"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Receive special offers and promotions"})]}),t.jsx("button",{onClick:()=>s("promotions"),className:"text-2xl","aria-label":e.promotions?"Disable promotions":"Enable promotions",children:e.promotions?t.jsx(sa,{style:{color:"var(--brand-primary)"}}):t.jsx(ra,{style:{color:"var(--text-secondary)"}})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"New Arrivals"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Be notified about new products"})]}),t.jsx("button",{onClick:()=>s("newArrivals"),className:"text-2xl","aria-label":e.newArrivals?"Disable new arrivals notifications":"Enable new arrivals notifications",children:e.newArrivals?t.jsx(sa,{style:{color:"var(--brand-primary)"}}):t.jsx(ra,{style:{color:"var(--text-secondary)"}})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Price Drops"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Be notified about price drops on your wishlist"})]}),t.jsx("button",{onClick:()=>s("priceDrops"),className:"text-2xl","aria-label":e.priceDrops?"Disable price drop notifications":"Enable price drop notifications",children:e.priceDrops?t.jsx(sa,{style:{color:"var(--brand-primary)"}}):t.jsx(ra,{style:{color:"var(--text-secondary)"}})})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Security"}),t.jsx("div",{className:"space-y-4 pl-2",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",style:{color:"var(--text-primary)"},children:"Two-Factor Authentication"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Add an extra layer of security to your account"})]}),t.jsx("button",{onClick:()=>s("twoFactorAuth"),className:"text-2xl","aria-label":e.twoFactorAuth?"Disable two-factor authentication":"Enable two-factor authentication",children:e.twoFactorAuth?t.jsx(sa,{style:{color:"var(--brand-primary)"}}):t.jsx(ra,{style:{color:"var(--text-secondary)"}})})]})})]}),t.jsx("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:t.jsx("button",{className:"px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:opacity-90",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Save Settings"})})]})]})},D1=()=>{const{section:e="profile"}=el(),[r,s]=Me.useState(e);Me.useEffect(()=>{s(e)},[e]);const n=()=>{switch(r){case"addresses":return t.jsx(oL,{});case"payment":return t.jsx(lL,{});case"settings":return t.jsx(cL,{});case"profile":default:return t.jsx(iL,{})}};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6 md:mb-8",style:{color:"var(--text-primary)"},children:"My Account"}),t.jsxs("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"md:col-span-1",children:t.jsx(nL,{})}),t.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:n()})]})]})},Qd="admin_token",Jd="admin_user",cN=e=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):null}catch(r){return console.error(`Error parsing stored admin data for key ${e}:`,r),null}},dL=(e,r)=>{try{return localStorage.setItem(e,JSON.stringify(r)),!0}catch(s){return console.error(`Error storing admin data for key ${e}:`,s),!1}},uL=(e,r)=>{try{return e&&localStorage.setItem(Qd,e),r&&dL(Jd,r),!0}catch(s){return console.error("Error persisting admin auth data:",s),!1}},O1=()=>{try{localStorage.removeItem(Qd),localStorage.removeItem(Jd)}catch(e){console.error("Error clearing admin auth data:",e)}},mL=()=>{const e=localStorage.getItem(Qd),r=cN(Jd);return{admin:r,isAuthenticated:!!(e&&r),isLoading:!1,error:null}},ox=_t(e=>({...mL(),formData:{username:"",password:"",secretKey:""},formErrors:{username:null,password:null,secretKey:null},setFormData:s=>e(n=>({formData:{...n.formData,...s}})),setFormErrors:s=>e(()=>({formErrors:s})),setIsAuthenticated:s=>e(()=>({isAuthenticated:s})),setIsLoading:s=>e(()=>({isLoading:s})),setError:s=>e(()=>({error:s})),adminLogin:async s=>{var n,o;try{e({isLoading:!0,error:null});const d=(await be.post("/admin/login",{username:s.username,password:s.password})).data,u={id:d.admin_id,username:s.username};return uL(d.token,u),e({admin:u,isAuthenticated:!0,isLoading:!1}),d}catch(c){throw e({error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Login failed. Please check your credentials.",isLoading:!1}),c}},adminRegister:async s=>{var n,o;try{e({isLoading:!0,error:null});const c=await be.post("/admin/signup",{username:s.username,password:s.password,secret:s.secretKey});return e({isLoading:!1}),c.data}catch(c){throw e({error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Registration failed. Please try again.",isLoading:!1}),c}},adminLogout:()=>{O1(),e({admin:null,isAuthenticated:!1,error:null})},checkAdminAuthStatus:()=>{try{if(localStorage.getItem(Qd)){const n=cN(Jd);if(n)return e({admin:n,isAuthenticated:!0}),!0}return e({admin:null,isAuthenticated:!1}),!1}catch(s){return console.error("Admin auth check error:",s),O1(),e({admin:null,isAuthenticated:!1,error:"Authentication error"}),!1}},clearError:()=>e({error:null})})),hL=({categories:e})=>{const r=Zt(),[s,n]=w.useState(""),[o,c]=w.useState([]),[d,u]=w.useState(!1),h=w.useRef(null),f=w.useRef(null),{isAuthenticated:x}=Ie(),{itemCount:g,totalAmount:v,fetchCart:b}=ja(),{items:j,fetchWishlist:k}=Xd(),{searchProducts:_}=wa(),[C,A]=w.useState({city:"Bhopal",loading:!1,error:null}),[R,S]=w.useState(!1),[T,P]=w.useState(!1);w.useEffect(()=>{const M=ae=>{const ne=h.current&&!h.current.contains(ae.target),L=f.current&&!f.current.contains(ae.target);ne&&L&&u(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]),w.useEffect(()=>{if(s.trim()===""){c([]),u(!1);return}const M=_(s);c(M.slice(0,5)),u(!0)},[s,_]),w.useEffect(()=>{x&&(b(),k())},[x,b,k]),w.useEffect(()=>{(()=>{navigator.geolocation?(A(ae=>({...ae,loading:!0})),navigator.geolocation.getCurrentPosition(async ae=>{try{const{latitude:ne,longitude:L}=ae.coords,B=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${ne}&lon=${L}&format=json`)).json(),D=B.address.city||B.address.town||B.address.village||B.address.county||"Unknown";A({city:D,loading:!1,error:null})}catch(ne){A({city:"Bhopal",loading:!1,error:ne||"Failed to fetch location"})}},ae=>{A({city:"Jabalpur",loading:!1,error:ae||"Location access denied"})})):A({city:"Jabalpur",loading:!1,error:"Geolocation not supported"})})()},[]);const q=M=>{if(M.preventDefault(),s.trim()){const ae=_(s);console.log("Search results:",ae),r(`/search?query=${encodeURIComponent(s.trim())}`),u(!1)}},U=M=>{if(M.key==="Enter"&&s.trim()){const ae=_(s);console.log("Mobile search results:",ae),r(`/search?query=${encodeURIComponent(s.trim())}`),u(!1)}},V=M=>{r(`/products/${M}`),u(!1),n("")};return t.jsxs("header",{className:"relative z-20",children:[t.jsxs("div",{className:"shadow-xl relative",style:{backgroundColor:"var(--brand-primary)",backgroundImage:"linear-gradient(to right, var(--brand-primary), var(--brand-primary-hover))"},children:[" ",t.jsx("div",{className:"container mx-auto px-2 sm:px-3",children:t.jsxs("div",{className:"flex items-center justify-between py-4",children:[t.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-white/10 transition-colors",onClick:()=>S(!R),"aria-label":R?"Close menu":"Open menu",children:R?t.jsx(Ze,{className:"w-6 h-6",style:{color:"var(--text-on-brand)"}}):t.jsx(oT,{className:"w-6 h-6",style:{color:"var(--text-on-brand)"}})})," ",t.jsx(pe,{to:ct.HOME,className:"flex items-center transform hover:scale-105 transition duration-300 ease-in-out",children:t.jsx(cd,{linkWrapper:!1,titleColor:"white"})}),t.jsx("div",{className:"hidden md:block flex-1 max-w-2xl mx-6",children:t.jsxs("div",{className:`relative group ${T?"ring-4 ring-white/20 rounded-full":""}`,children:[t.jsxs("form",{onSubmit:q,className:"w-full",children:[t.jsx("input",{type:"text",placeholder:"Search for Products, Brands, Offers",className:"w-full py-3 px-5 pr-12 rounded-full focus:outline-none transition-all duration-300",style:{backgroundColor:T?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.8)",color:"#333",borderColor:"rgba(255, 255, 255, 0.2)",boxShadow:T?"0 0 20px rgba(255, 255, 255, 0.3)":"var(--shadow-small)",caretColor:"#333"},value:s,onChange:M=>{n(M.target.value),M.target.value.trim()===""&&u(!1)},onFocus:()=>{s.trim()!==""&&o.length>0&&u(!0)},onBlur:()=>P(!1)}),t.jsx("button",{type:"submit",className:"absolute right-0 top-0 bottom-0 px-4 flex items-center justify-center transition-transform duration-300 hover:scale-110 active:scale-95",style:{color:"#333"},"aria-label":"Search",children:t.jsx(wr,{className:"text-xl filter drop-shadow-lg"})})]}),d&&o.length>0&&t.jsx("div",{ref:h,className:"absolute left-0 right-0 z-10 mt-1 bg-white rounded-md shadow-lg overflow-hidden",style:{maxHeight:"400px",overflowY:"auto"},children:t.jsxs("ul",{className:"py-1",children:[o.map(M=>t.jsx("li",{children:t.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 flex items-center cursor-pointer",onClick:()=>V(M.id),children:[t.jsx("div",{className:"w-10 h-10 flex-shrink-0 mr-3 bg-gray-200 rounded overflow-hidden",children:t.jsx("img",{src:M.images&&M.images.length>0?M.images[0]:"https://via.placeholder.com/40",alt:M.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:M.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:[M.brand," • ",M.category]})]}),t.jsxs("div",{className:"ml-3 text-sm font-medium text-gray-900",children:["₹",M.discount_price||M.price]})]})},M.id)),t.jsx("li",{children:t.jsx("div",{className:"px-4 py-2 text-center text-sm text-brand-primary hover:bg-gray-50 cursor-pointer font-medium",onClick:()=>{q({preventDefault:()=>{}}),u(!1)},children:"View all results"})})]})})]})}),t.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[t.jsxs("div",{className:"group flex flex-col items-center cursor-pointer transition-all duration-300 hover:translate-y-[-2px] relative",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),t.jsx(wt,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]})," ",t.jsxs("div",{className:"text-xs mt-1",children:[t.jsx("p",{className:"text-white/80 text-center",style:{color:"var(--text-on-brand-muted)"},children:"Delivery to"}),t.jsx("p",{className:"font-semibold",style:{color:"var(--text-on-brand)"},children:C.loading?t.jsx("span",{className:"inline-block w-16 h-3 bg-white/20 rounded-full animate-pulse"}):C.error?"Error fetching location":C.city})]})]}),t.jsxs(pe,{to:ct.WISHLIST,className:"hidden sm:flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),t.jsx(ml,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}}),t.jsx("span",{className:"absolute -top-2 -right-2 z-20 text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",style:{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",boxShadow:"0 0 10px rgba(255,255,255,0.3)"},children:j.length})]}),t.jsx("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:"Wishlist"})]}),t.jsxs(pe,{to:ct.ORDERS,className:"hidden sm:flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[" ",t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),t.jsx(As,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),t.jsx("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:"Orders"})]}),t.jsxs(pe,{to:ct.CART,className:"flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),t.jsx(fl,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}}),t.jsx("span",{className:"absolute -top-2 -right-2 z-20 text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg animate-pulse",style:{backgroundColor:"var(--bg-primary)",color:"var(--brand-primary)",boxShadow:"0 0 10px rgba(255,255,255,0.3)"},children:g})]}),t.jsxs("p",{className:"text-xs font-semibold mt-1",style:{color:"var(--text-on-brand)"},children:["₹ ",v.toFixed(2)]})]})," ",t.jsxs(pe,{to:x?"/profile":ct.LOGIN,className:"flex flex-col items-center transition-all duration-300 hover:translate-y-[-2px] group",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -inset-1.5 bg-white/10 rounded-full blur-md group-hover:bg-white/20 transition-all duration-300 opacity-0 group-hover:opacity-100"}),t.jsx(Ut,{className:"text-xl relative z-10",style:{color:"var(--text-on-brand)"}})]}),t.jsx("div",{className:"text-xs mt-1",children:t.jsx("p",{className:"font-semibold",style:{color:"var(--text-on-brand)"},children:x?"My Account":"Sign In"})})]})]})]})})]})," ",t.jsx("div",{className:"md:hidden px-2 py-3",style:{backgroundColor:"var(--brand-primary-hover)"},children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full py-2 px-4 pr-10 rounded-full text-sm focus:outline-none",style:{backgroundColor:"rgba(255, 255, 255, 0.8)",color:"#333",borderColor:"rgba(255, 255, 255, 0.2)",boxShadow:"var(--shadow-small)"},value:s,onChange:M=>n(M.target.value),onKeyDown:U,onFocus:()=>{s.trim()!==""&&o.length>0&&u(!0)}}),t.jsx("button",{onClick:()=>{if(s.trim()){const M=_(s);console.log("Mobile search results:",M),r(`/search?query=${encodeURIComponent(s.trim())}`)}},className:"absolute right-0 top-0 bottom-0 px-3 flex items-center justify-center",style:{color:"#333"},children:t.jsx(wr,{className:"text-lg"})}),d&&o.length>0&&t.jsx("div",{ref:f,className:"absolute left-0 right-0 z-50 mt-1 bg-white rounded-md shadow-lg overflow-hidden",style:{maxHeight:"300px",overflowY:"auto"},children:t.jsxs("ul",{className:"py-1",children:[o.map(M=>t.jsx("li",{children:t.jsxs("div",{className:"px-3 py-2 hover:bg-gray-100 flex items-center cursor-pointer",onClick:()=>V(M.id),children:[t.jsx("div",{className:"w-8 h-8 flex-shrink-0 mr-2 bg-gray-200 rounded overflow-hidden",children:t.jsx("img",{src:M.images&&M.images.length>0?M.images[0]:"https://via.placeholder.com/32",alt:M.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:M.name}),t.jsx("p",{className:"text-xs text-gray-500",children:M.brand})]}),t.jsxs("div",{className:"ml-2 text-xs font-medium text-gray-900",children:["₹",M.discount_price||M.price]})]})},M.id)),t.jsx("li",{children:t.jsx("div",{className:"px-3 py-2 text-center text-xs text-brand-primary hover:bg-gray-50 cursor-pointer font-medium",onClick:()=>{s.trim()&&(r(`/search?query=${encodeURIComponent(s.trim())}`),u(!1))},children:"View all results"})})]})})]})})," ",t.jsx("nav",{className:"bg-white shadow-md relative z-0",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)"},children:t.jsxs("div",{className:"container mx-auto px-2 sm:px-3",children:[t.jsx("ul",{className:"hidden lg:flex items-center justify-between overflow-x-auto py-3.5 no-scrollbar",children:e==null?void 0:e.map(M=>t.jsx("li",{className:"whitespace-nowrap px-3",children:t.jsxs(pe,{to:M.path,className:"text-sm font-medium transition-all duration-300 relative group py-1.5 px-2 hover:text-brand-primary",style:{color:"var(--text-primary)"},children:[t.jsx("span",{className:"relative z-10",children:M.name}),t.jsx("span",{className:"absolute left-0 right-0 bottom-0 h-0.5 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300",style:{backgroundColor:"var(--brand-primary)"}}),t.jsx("span",{className:"absolute inset-0 bg-gray-50 rounded-md scale-95 opacity-0 group-hover:opacity-100 group-hover:scale-100 transition-all duration-300 -z-10",style:{backgroundColor:"var(--bg-accent-light)"}})]})},M.id))}),t.jsx("div",{className:`lg:hidden fixed inset-0 z-50 transition-all duration-300 ${R?"opacity-100 visible":"opacity-0 invisible"}`,style:{backgroundColor:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:`absolute top-0 left-0 h-full w-3/4 max-w-xs bg-white shadow-2xl transition-transform duration-300 transform ${R?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"p-4 border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsx(cd,{size:"small",linkWrapper:!1,titleColor:"var(--text-primary)"}),t.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100",onClick:()=>S(!1),"aria-label":"Close menu",children:t.jsx(Ze,{className:"w-5 h-5",style:{color:"var(--text-primary)"}})})]})," ",t.jsxs("div",{className:"py-4",children:[x&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h3",{className:"px-4 text-xs uppercase font-semibold mb-2",style:{color:"var(--text-secondary)"},children:"My Account"}),t.jsxs("ul",{children:[t.jsx("li",{children:t.jsx(pe,{to:"/profile",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>S(!1),children:"Profile"})}),t.jsx("li",{children:t.jsx(pe,{to:"/profile/addresses",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>S(!1),children:"My Addresses"})}),t.jsx("li",{children:t.jsx(pe,{to:"/orders",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>S(!1),children:"Orders"})}),t.jsx("li",{children:t.jsx(pe,{to:"/wishlist",className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>S(!1),children:"Wishlist"})})]})]}),t.jsx("h3",{className:"px-4 text-xs uppercase font-semibold mb-2",style:{color:"var(--text-secondary)"},children:"Categories"}),t.jsx("ul",{children:e==null?void 0:e.map(M=>t.jsx("li",{children:t.jsx(pe,{to:M.path,className:"block px-4 py-2.5 hover:bg-gray-50 transition-colors",style:{color:"var(--text-primary)"},onClick:()=>S(!1),children:M.name})},M.id))})]})]})})]})})]})},fL=()=>{const e=[{name:"Home",path:ct.HOME},{name:"About",path:ct.ABOUT},{name:"Contact",path:ct.CONTACT}],r=[{name:"Track Your Order",path:ct.TRACK_ORDER},{name:"Bulk Orders",path:ct.BULK_ORDER}],s=[{name:"Terms & Conditions",path:"/terms-conditions"},{name:"Cancellation & Refund Policy",path:"/cancellation-refund-policy"},{name:"Privacy Policy",path:"/privacy-policy"},{name:"Shipping & Delivery Policy",path:"/shipping-delivery-policy"}],n=[{name:"Our Stores",path:"/our-stores"},{name:"Service Center",url:"https://www.poorvika.com/service-center"}],o=[{icon:t.jsx(m8,{}),url:"https://facebook.com",label:"Facebook"},{icon:t.jsx(p8,{}),url:"https://twitter.com",label:"Twitter"},{icon:t.jsx(h8,{}),url:"https://instagram.com",label:"Instagram"},{icon:t.jsx(x8,{}),url:"https://youtube.com",label:"YouTube"},{icon:t.jsx(f8,{}),url:"https://linkedin.com",label:"LinkedIn"}],c=[{name:"Privacy Policy",path:"/privacy-policy"},{name:"Terms of Use",path:"/terms-conditions"},{name:"Warranty Policy",path:"/warranty-policy"}];return t.jsxs("footer",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 rounded-full opacity-5",style:{backgroundColor:"var(--brand-primary)",transform:"translate(-50%, -50%)"}}),t.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 rounded-full opacity-5",style:{backgroundColor:"var(--brand-primary)",transform:"translate(30%, 30%)"}}),t.jsx("div",{className:"pt-16 pb-1",style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8 mb-12",children:[t.jsxs("div",{className:"space-y-5 lg:col-span-2",children:[t.jsx(cd,{linkWrapper:!1}),t.jsx("p",{className:"text-sm max-w-xs",style:{color:"var(--text-on-dark-bg)",lineHeight:"1.6"},children:"Your trusted electronics partner offering the latest mobiles, laptops, and accessories at competitive prices with excellent customer service."})," ",t.jsx("div",{className:"flex space-x-4 pt-2",style:{color:"var(--text-on-dark-bg)"},children:[{icon:t.jsx(d8,{}),label:"Android",url:"https://android.com"},{icon:t.jsx(v8,{}),label:"Web",url:"https://web.dev"},{icon:t.jsx(u8,{}),label:"iOS",url:"https://apple.com/ios"}].map((d,u)=>t.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110",style:{backgroundColor:"rgba(255,255,255,0.08)",color:"var(--text-on-dark-bg)"},"aria-label":d.label,children:d.icon},u))}),t.jsx("div",{className:"mt-4 pt-3 border-t border-gray-700",children:t.jsxs("a",{href:"https://whatsapp.com/channel/YOUR_CHANNEL_ID_HERE",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors duration-300",children:[t.jsx(_1,{className:"text-lg"}),t.jsx("span",{className:"text-sm font-medium",children:"Join WhatsApp channel for offers & updates"})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Store",t.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),t.jsx("ul",{className:"space-y-3",children:e.map(d=>t.jsx("li",{children:t.jsx(pe,{to:d.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:d.name})},d.name))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Help",t.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),t.jsx("ul",{className:"space-y-3",children:r.map(d=>t.jsx("li",{children:t.jsx(pe,{to:d.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:d.name})},d.name))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Policies",t.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),t.jsx("ul",{className:"space-y-3",children:s.map(d=>t.jsx("li",{children:t.jsx(pe,{to:d.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:d.name})},d.name))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"font-semibold text-lg relative inline-block pb-2",style:{color:"var(--text-on-dark-bg)"},children:["Know More",t.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-3/4",style:{backgroundColor:"var(--brand-primary)"}})]}),t.jsx("ul",{className:"space-y-3",children:n.map(d=>t.jsx("li",{children:d.path?t.jsx(pe,{to:d.path,className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:d.name}):t.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm transition-colors duration-300 hover:text-white",style:{color:"var(--text-on-dark-bg)"},children:d.name})},d.name))})]})," "]})})})," ",t.jsxs("div",{className:"py-6 bg-blue-50 text-gray-700 w-full relative",children:[t.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex flex-col gap-2",children:[t.jsx("a",{href:"https://wa.me/1234567890",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-500 text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300","aria-label":"Contact us on WhatsApp",children:t.jsx(_1,{size:20})}),t.jsx("a",{href:"#chat",className:"w-10 h-10 rounded-full bg-red-500 text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300","aria-label":"Open chat",children:t.jsx(g8,{size:18})})]}),t.jsx("div",{className:"container mx-auto",children:t.jsxs("div",{className:"flex flex-col items-center gap-6",children:[t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("h4",{className:"text-sm font-medium",children:"Let's get social"}),t.jsx("div",{className:"flex items-center gap-6",children:o.map((d,u)=>t.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"text-xl hover:text-blue-600 transition-colors duration-300","aria-label":d.label,children:d.icon},u))})]}),t.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:c.map((d,u)=>t.jsxs(Me.Fragment,{children:[t.jsx(pe,{to:d.path,className:"text-xs hover:underline",children:d.name}),u<c.length-1&&t.jsx("span",{className:"text-xs",children:"•"})]},d.name))})]})})]})]})},pL=()=>{const e=Vt(),[r,s]=w.useState(!1),n=[{name:"Dashboard",path:"/admin/dashboard",icon:t.jsx(wp,{size:20})},{name:"Products",path:"/admin/products",icon:t.jsx(ha,{size:20})},{name:"Inventory",path:"/admin/inventory",icon:t.jsx(nT,{size:20})},{name:"Orders",path:"/admin/orders",icon:t.jsx(fl,{size:20})},{name:"Users",path:"/admin/users",icon:t.jsx(Np,{size:20})},{name:"Content",path:"/admin/content",icon:t.jsx(rT,{size:20})},{name:"Sell Phones",path:"/admin/sell-phones",icon:t.jsx(mT,{size:20})},{name:"Reviews",path:"/admin/reviews",icon:t.jsx(Wr,{size:20})},{name:"Delivery Partners",path:"/admin/delivery-partners",icon:t.jsx(et,{size:20})}];return t.jsxs("div",{className:"flex h-screen bg-bg-secondary overflow-hidden",children:[t.jsxs("aside",{className:`${r?"w-20":"w-64"} bg-bg-dark text-text-on-dark-bg flex flex-col transition-all duration-300 ease-in-out shadow-lg`,style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-opacity-20",style:{borderColor:"var(--border-dark)"},children:[t.jsxs("div",{className:`flex items-center ${r?"justify-center w-full":""}`,children:[!r&&t.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"Admin Panel"}),r&&t.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"AP"})]}),t.jsx("button",{onClick:()=>s(!r),className:`p-1 rounded-md hover:bg-gray-700 transition-colors duration-150 ${r?"mx-auto mt-2":""}`,children:r?t.jsx(zt,{size:24}):t.jsx(Vd,{size:24})})]}),t.jsx("nav",{className:"flex-1 py-4 overflow-y-auto no-scrollbar",children:t.jsx("ul",{className:"px-2 space-y-1",children:n.map(o=>{const c=e.pathname===o.path;return t.jsx("li",{children:t.jsxs(pe,{to:o.path,className:`flex items-center px-4 py-3 rounded-md transition-all duration-200 ${c?"bg-opacity-20 font-medium animate-fadeIn":"hover:bg-gray-700 hover:bg-opacity-30"}`,style:{backgroundColor:c?"var(--brand-primary)":"transparent",color:c?"var(--text-on-brand)":"var(--text-on-dark-bg)",boxShadow:c?"var(--shadow-small)":"none",borderRadius:"var(--rounded-md)"},children:[t.jsx("span",{className:"flex items-center justify-center",children:o.icon}),!r&&t.jsx("span",{className:"ml-3",children:o.name})]})},o.name)})})}),t.jsx("div",{className:"p-4 border-t border-opacity-20",style:{borderColor:"var(--border-dark)"},children:t.jsxs(pe,{to:"/",className:"flex items-center px-4 py-2 rounded-md hover:bg-gray-700 hover:bg-opacity-30 transition-all duration-150 text-sm",style:{borderRadius:"var(--rounded-md)"},children:[t.jsx(gs,{size:20}),!r&&t.jsx("span",{className:"ml-3",children:"Back to Site"})]})})]}),t.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-bg-secondary animate-fadeIn",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"bg-bg-primary p-6 rounded-lg shadow-md mb-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[t.jsx(Jf,{})," "]})})]})},Qh={pending:"var(--warning-color)",out_for_delivery:"var(--brand-secondary)",delivered:"var(--success-color)",failed:"var(--error-color)",payment_successful:"var(--brand-primary)"},xL={pending:t.jsx(Pe,{}),out_for_delivery:t.jsx(et,{}),delivered:t.jsx(Pe,{}),failed:t.jsx(Pe,{}),payment_successful:t.jsx(Pe,{})},yL=({delivery:e,onAccept:r})=>t.jsxs("div",{className:"flex flex-col md:flex-row justify-between p-4 group hover:bg-gray-50 rounded-lg transition-all duration-200 animate-fadeIn transform hover:translate-y-[-2px] border border-transparent hover:border-gray-100 mb-4",style:{textDecoration:"none",backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-small)"},children:[t.jsxs("div",{className:"flex items-start flex-grow",children:[t.jsx("div",{className:"h-12 w-12 flex-shrink-0 flex items-center justify-center rounded-full mr-4 transition-all duration-300",style:{backgroundColor:Qh[e.status],color:"var(--text-on-brand)",fontSize:22,boxShadow:"var(--shadow-small)",transform:"scale(1)"},children:xL[e.status]}),t.jsxs("div",{className:"flex-grow",children:[t.jsxs("div",{className:"font-semibold text-base mb-1",style:{color:"var(--text-primary)"},children:["Order #",e.orderId,t.jsx("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:e.total_amount?`${e.currency} ${e.total_amount.toFixed(2)}`:""})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2 mt-3",children:[" ",t.jsxs("div",{className:"flex items-start",children:[t.jsx(wt,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.address||"Address not available"})]})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(gi,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Customer Contact"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.customerPhone||"N/A"})]})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(As,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Expected Delivery"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.expectedDelivery?new Date(e.expectedDelivery).toLocaleDateString():"Not specified"})]})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(or,{className:"mt-1 mr-2 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Assigned On"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.assignedDate?`${new Date(e.assignedDate).toLocaleDateString()} ${new Date(e.assignedDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:"Not assigned yet"})]})]})]})]})]}),t.jsxs("div",{className:"flex md:flex-col justify-between items-end mt-4 md:mt-0 md:ml-4",children:[" ",t.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:`${Qh[e.status]||"var(--warning-color)"}20`,color:Qh[e.status]||"var(--warning-color)"},children:e.status==="payment_successful"?"Payment Successful":e.status==="pending"?"Pending":e.status==="out_for_delivery"?"Out for Delivery":e.status==="delivered"?"Delivered":e.status==="failed"?"Failed":e.status||"Pending"})," ",t.jsxs("button",{onClick:()=>r(e.id),className:"flex items-center mt-4 font-medium text-sm hover:underline transition-colors",style:{color:"var(--brand-primary)"},children:["Update Status",t.jsx(zt,{className:"ml-1"})]})]})]}),gL={Pending:"var(--warning-color)","Out for Delivery":"var(--brand-secondary)",Delivered:"var(--success-color)",Failed:"var(--error-color)"},vL={Pending:t.jsx(Pe,{size:16}),"Out for Delivery":t.jsx(et,{size:16}),Delivered:t.jsx(jt,{size:16}),Failed:t.jsx(Ze,{size:16})},bL=({delivery:e})=>{const r=d=>{if(!d)return"N/A";try{return new Date(d).toLocaleDateString()}catch(u){return console.error("Invalid date format:",d,u),"N/A"}},s=d=>{if(!d)return"";try{return new Date(d).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(u){return console.error("Invalid date format:",d,u),""}},n=gL[e.status]||"var(--warning-color)",o=vL[e.status]||t.jsx(Pe,{size:16}),c=typeof e.amount=="number"?e.amount.toFixed(2):parseFloat(e.amount||0).toFixed(2);return t.jsxs("div",{className:"border rounded-lg overflow-hidden mb-4 transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"p-4 flex justify-between items-center border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs("span",{className:"font-semibold mr-3",style:{color:"var(--text-primary)"},children:["Order #",e.orderId]}),t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${n}20`,color:n},children:[o,t.jsx("span",{className:"ml-1",children:e.status})]})]}),t.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:e.completedDate?`Completed on ${r(e.completedDate)} at ${s(e.completedDate)}`:"In progress"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Amount"}),t.jsxs("div",{className:"text-lg font-bold",style:{color:e.paymentMethod==="COD"?"var(--success-color)":"var(--text-primary)"},children:["₹",c]}),t.jsx("div",{className:"text-xs",style:{color:"var(--brand-primary)"},children:e.paymentMethod||"Online"})]})]}),t.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex",children:[t.jsx(wt,{className:"mt-1 mr-3 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Delivery Address"}),t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.address||"No address provided"})]})]}),t.jsxs("div",{className:"flex",children:[t.jsx(As,{className:"mt-1 mr-3 flex-shrink-0",style:{color:"var(--text-secondary)"}}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Expected vs Actual Delivery"}),t.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:["Expected: ",r(e.expectedDelivery),t.jsx("br",{}),e.status==="Delivered"?t.jsxs("span",{style:{color:new Date(e.completedDate)<=new Date(e.expectedDelivery)?"var(--success-color)":"var(--warning-color)"},children:["Actual: ",r(e.completedDate)]}):t.jsx("span",{style:{color:"var(--error-color)"},children:e.status})]})]})]})]}),e.notes&&t.jsxs("div",{className:"px-4 py-3 mt-1 border-t",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-secondary)"},children:[t.jsx("div",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Notes"}),t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.notes})]})]})},jL=({collapsed:e})=>{const r=Vt(),s=[{name:"Dashboard",path:"/delivery/dashboard",icon:t.jsx(wp,{className:"h-5 w-5"})},{name:"Assignments",path:"/delivery/assignments",icon:t.jsx(Pe,{className:"h-5 w-5"})},{name:"Status Updates",path:"/delivery/status-update",icon:t.jsx(iT,{className:"h-5 w-5"})},{name:"Delivery History",path:"/delivery/history",icon:t.jsx(or,{className:"h-5 w-5"})},{name:"Settings",path:"/delivery/settings",icon:t.jsx(dT,{className:"h-5 w-5"})}];return t.jsx("nav",{className:"flex-1 py-4 overflow-y-auto no-scrollbar",children:t.jsx("ul",{className:"px-2 space-y-1",children:s.map(n=>{const o=r.pathname===n.path;return t.jsx("li",{children:t.jsxs(pe,{to:n.path,className:`flex items-center px-4 py-3 rounded-md transition-all duration-200 ${o?"bg-opacity-20 font-medium animate-fadeIn":"hover:bg-gray-700 hover:bg-opacity-30"}`,style:{backgroundColor:o?"var(--brand-primary)":"transparent",color:o?"var(--text-on-brand)":"var(--text-on-dark-bg)"},children:[t.jsx("span",{className:"flex-shrink-0",children:n.icon}),!e&&t.jsx("span",{className:"ml-3",children:n.name}),!e&&o&&t.jsx("span",{className:"ml-auto",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 animate-pulse",style:{color:"var(--text-on-brand)"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},n.name)})})})},Ts=_t(Td(e=>({isAuthenticated:!!localStorage.getItem(Do),partner:JSON.parse(localStorage.getItem("delivery_partner")||"null"),loading:!1,error:null,assignedDeliveries:[],deliveryHistory:[],registerPartner:async r=>{var s,n;e({loading:!0,error:null});try{const o=await qa.post("/partners/register/",r);return e({loading:!1,error:null}),o.data}catch(o){throw e({loading:!1,error:((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||"Registration failed"}),o}},loginPartner:async r=>{var s,n;e({loading:!0,error:null});try{const o=await qa.post("/partners/login/",r),{token:c,partner_id:d}=o.data;localStorage.setItem(Do,c);const u={id:d,email:r.email};return localStorage.setItem("delivery_partner",JSON.stringify(u)),e({isAuthenticated:!0,partner:u,loading:!1,error:null}),o.data}catch(o){throw e({loading:!1,error:((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||"Login failed"}),o}},logoutPartner:()=>{localStorage.removeItem(Do),localStorage.removeItem("delivery_partner"),e({isAuthenticated:!1,partner:null,assignedDeliveries:[],deliveryHistory:[]})},fetchAssignedDeliveries:async()=>{var r,s;e({loading:!0,error:null});try{const o=(await qa.get("/partners/deliveries/assigned/")).data.assigned_orders||[];return e({assignedDeliveries:o,loading:!1,error:null}),o}catch(n){throw e({loading:!1,error:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.error)||"Failed to fetch assigned deliveries"}),n}},fetchDeliveryHistory:async()=>{var r,s;e({loading:!0,error:null});try{const n=await qa.get("/partners/deliveries/history/");return e({deliveryHistory:n.data.delivery_history,loading:!1,error:null}),n.data.delivery_history}catch(n){throw e({loading:!1,error:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.error)||"Failed to fetch delivery history"}),n}},updateDeliveryStatus:async(r,s,n={})=>{var o,c;e({loading:!0,error:null});try{const d={status:s,...n},u=await qa.patch(`/partners/deliveries/update_status/${r}/`,d);return await Ts.getState().fetchAssignedDeliveries(),e({loading:!1,error:null}),u.data}catch(d){throw e({loading:!1,error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to update delivery status"}),d}}}))),rn=({children:e,hideMenu:r})=>{const[s,n]=Me.useState(!1),{logoutPartner:o}=Ts(),c=async()=>{await o(),console.log("User logged out")};return t.jsxs("div",{className:"flex h-screen bg-bg-secondary overflow-hidden",children:[!r&&t.jsxs("aside",{className:`${s?"w-20":"w-64"} bg-bg-dark text-text-on-dark-bg flex flex-col transition-all duration-300 ease-in-out shadow-lg`,style:{backgroundColor:"var(--bg-dark)",color:"var(--text-on-dark-bg)"},children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-opacity-20",style:{borderColor:"var(--border-dark)"},children:[t.jsxs("div",{className:`flex items-center ${s?"justify-center w-full":""}`,children:[!s&&t.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"Delivery Partner"}),s&&t.jsx("span",{className:"text-xl font-bold",style:{color:"var(--brand-primary)"},children:"DP"})]}),t.jsx("button",{onClick:()=>n(!s),className:"p-1 rounded-full hover:bg-gray-700 hover:bg-opacity-30 focus:outline-none",children:s?t.jsx(zt,{className:"h-5 w-5"}):t.jsx(Vd,{className:"h-5 w-5"})})]}),t.jsx(jL,{collapsed:s}),t.jsx("div",{className:"mt-auto p-4",children:t.jsxs("button",{onClick:c,className:"flex items-center w-full py-3 px-4 rounded-md transition-all duration-200 hover:bg-gray-700 hover:bg-opacity-30 text-left",style:{color:"var(--text-on-dark-bg)"},children:[t.jsx(w2,{className:"h-5 w-5 mr-3"}),!s&&t.jsx("span",{className:"ml-3",children:"Logout"})]})})]}),t.jsx("main",{className:`flex-1 overflow-y-auto p-6 bg-bg-secondary animate-fadeIn ${r?"flex justify-center items-center":""}`,style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"bg-bg-primary p-6 rounded-lg shadow-md mb-6 w-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[e||t.jsx(Jf,{})," "]})})]})},Wn=({children:e})=>{const{isAuthenticated:r,partner:s}=Ts(),n=Vt();return!r||!s?t.jsx(Rt,{to:"/delivery/login",state:{from:n},replace:!0}):e},Gf=({isOpen:e,onClose:r,delivery:s,onStatusUpdate:n,isSubmitting:o=!1})=>{var ne,L,Y,B;const[c,d]=w.useState(null),[u,h]=w.useState((s==null?void 0:s.status)||"processing"),[f,x]=w.useState(""),[g,v]=w.useState(""),[b,j]=w.useState(""),[k,_]=w.useState(""),[C,A]=w.useState(""),[R,S]=w.useState(""),[T,P]=w.useState("");if(w.useEffect(()=>{s&&(h(s.status||"processing"),j(s.expectedDelivery?new Date(s.expectedDelivery).toISOString().slice(0,16):""),A(s.carrier||""),S(s.tracking_number||""),x(""),v(""),_(""),d(null),P(""))},[s]),!e||!s)return null;const q=[{value:"processing",label:"Processing",icon:t.jsx(Pe,{}),color:"var(--info-color)",description:"Order is being processed"},{value:"packed",label:"Packed",icon:t.jsx(Pe,{}),color:"var(--info-color)",description:"Package is packed and ready for shipping"},{value:"shipped",label:"Shipped",icon:t.jsx(et,{}),color:"var(--info-color)",description:"Package has been shipped",requiresTrackingInfo:!0},{value:"out_for_delivery",label:"Out for Delivery",icon:t.jsx(et,{}),color:"var(--brand-primary)",description:"Package is out for delivery",requiresTrackingInfo:!0},{value:"delivered",label:"Delivered",icon:t.jsx(jt,{}),color:"var(--success-color)",requiresOtp:!1,description:"Package successfully delivered"},{value:"failed_attempt",label:"Failed Delivery",icon:t.jsx(Ze,{}),color:"var(--error-color)",requiresNotes:!0,description:"Delivery attempt failed"},{value:"returning_to_warehouse",label:"Returning to Warehouse",icon:t.jsx(Yr,{}),color:"var(--warning-color)",requiresNotes:!0,description:"Package being returned to warehouse"},{value:"other",label:"Other Status",icon:t.jsx(vd,{}),color:"var(--info-color)",requiresNotes:!0,description:"Specify a custom status for this delivery",isCustom:!0}],U=q.find(D=>D.value===u),V=D=>{const O=D.target.files[0];if(O){const F=new FileReader;F.onload=le=>d(le.target.result),F.readAsDataURL(O)}},M=()=>{d(null)},ae=async D=>{if(D.preventDefault(),_(""),U!=null&&U.requiresOtp&&!f){_("OTP is required for delivered status");return}if(U!=null&&U.requiresNotes&&!g){_("Please provide a reason for delivery failure");return}try{const O=u==="other"?"other":u;if(u==="other"&&!T){_("Please specify a custom status");return}if(U!=null&&U.requiresTrackingInfo){if(!C){_("Please provide a carrier name for shipped packages");return}if(!R){_("Please provide a tracking number for shipped packages");return}}const F={photo:c,otp:f,notes:g,estimated_delivery:b?new Date(b).toISOString():null,updatedAt:new Date().toISOString(),carrier:C,tracking_number:R};u==="other"&&(F.notes=`Custom status: ${T}${g?` - ${g}`:""}`),await n(s.id,O,F),d(null),x(""),v(""),j(""),A(""),S(""),P(""),_("")}catch(O){console.error("Error updating status:",O),_("Failed to update status. Please try again.")}};return t.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[t.jsx("div",{className:"fixed inset-0 bg-black/40 transition-opacity",onClick:r}),t.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:t.jsxs("div",{className:"relative transform overflow-hidden rounded-lg text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl",style:{backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"px-6 py-4 border-b flex items-center justify-between",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Pe,{className:"mr-3",size:24,style:{color:"var(--brand-primary)"}}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order ID: ",s.orderId," • Customer:"," ",(ne=s.customer)==null?void 0:ne.name]})]})]}),t.jsx("button",{onClick:r,className:"rounded-md p-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",style:{color:"var(--text-secondary)"},children:t.jsx(Ze,{size:20})})]})," ",t.jsx("div",{className:"px-6 py-4 max-h-[70vh] overflow-y-auto",children:t.jsxs("form",{onSubmit:ae,children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2",children:[" ",t.jsxs("div",{className:"rounded-lg p-4 mb-4",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("h4",{className:"text-md font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(Pe,{className:"mr-2"})," Update Status"]})," ",t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Select Status"}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:q.map(D=>t.jsxs("button",{type:"button",className:`p-3 rounded-lg flex items-center border transition-all duration-200 ${u===D.value?"border-2":"hover:border-gray-300"}`,style:{backgroundColor:u===D.value?`${D.color}10`:"var(--bg-primary)",borderColor:u===D.value?D.color:"var(--border-primary)"},onClick:()=>{h(D.value)},children:[t.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:u===D.value?`${D.color}20`:"var(--bg-secondary)",color:D.color},children:D.icon}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:D.label})]},D.value))})," "]}),u==="other"&&t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"customStatus",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Specify Custom Status"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:"var(--brand-primary)"},children:t.jsx(vd,{size:16})}),t.jsx("input",{type:"text",id:"customStatus",value:T,onChange:D=>P(D.target.value),placeholder:"Enter custom delivery status",className:"w-full pl-10 p-3 rounded-md text-sm border-2",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--brand-primary)",color:"var(--text-primary)"}})]}),t.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Please specify a descriptive status for this delivery"})]}),(U==null?void 0:U.requiresOtp)&&t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Delivery OTP"}),t.jsx("input",{type:"text",id:"otp",value:f,onChange:D=>x(D.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter OTP provided by the customer"}),t.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Please collect the OTP from the customer upon delivery"})," "]})," ",(u==="shipped"||u==="out_for_delivery")&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{htmlFor:"carrier",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Shipping Carrier"}),t.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--info-color)15",color:"var(--info-color)"},children:"Required"})]}),t.jsx("input",{type:"text",id:"carrier",value:C,onChange:D=>A(D.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter shipping carrier name (e.g., FedEx, UPS)"}),t.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"The carrier responsible for delivering this package"})]}),(u==="shipped"||u==="out_for_delivery")&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{htmlFor:"trackingNumber",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Tracking Number"}),t.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--info-color)15",color:"var(--info-color)"},children:"Required"})]}),t.jsx("input",{type:"text",id:"trackingNumber",value:R,onChange:D=>S(D.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:"Enter tracking number"}),t.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:"Tracking number provided by the shipping carrier"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{htmlFor:"estimatedDelivery",className:"text-sm font-medium mb-2 flex justify-between items-center",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Estimated Delivery Date & Time"}),u==="out_for_delivery"&&t.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-full",style:{backgroundColor:"var(--warning-color)15",color:"var(--warning-color)"},children:"Recommended"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:"var(--brand-primary)"},children:t.jsx(As,{size:16})}),t.jsx("input",{type:"datetime-local",id:"estimatedDelivery",value:b,onChange:D=>j(D.target.value),className:`w-full pl-10 p-3 border rounded-md text-sm ${u==="out_for_delivery"?"border-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:u==="out_for_delivery"?"var(--brand-primary)":"var(--border-primary)",color:"var(--text-primary)"}})]}),b&&t.jsxs("div",{className:"mt-2 py-2 px-3 rounded-md",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[t.jsx("span",{className:"text-xs font-medium",style:{color:"var(--text-secondary)"},children:"Current Estimate:"}),t.jsx("span",{className:"ml-2 text-sm font-semibold",style:{color:"var(--brand-primary)"},children:new Date(b).toLocaleDateString()+" at "+new Date(b).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})," ",t.jsx("p",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:u==="out_for_delivery"?"Please provide an estimated delivery time when going out for delivery":"Update the estimated delivery date and time for this order"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{htmlFor:"notes",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:["Notes ",(U==null?void 0:U.requiresNotes)&&"(Required)"]}),t.jsx("textarea",{id:"notes",value:g,onChange:D=>v(D.target.value),className:"w-full p-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",color:"var(--text-primary)"},placeholder:U!=null&&U.requiresNotes?"Please provide a reason for delivery failure":"Add any relevant notes (optional)",rows:3})]}),k&&t.jsxs("div",{className:"p-3 rounded-md flex items-start mb-4",style:{backgroundColor:"var(--error-color)10",color:"var(--error-color)"},children:[t.jsx(Yr,{className:"mr-2 mt-0.5 flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:k})]})]}),(s.status==="out_for_delivery"||s.status==="assigned")&&t.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("h4",{className:"text-md font-semibold mb-3 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(bp,{className:"mr-2"})," Delivery Photo (Optional)"]}),t.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-secondary)"},children:"Take a photo as proof of delivery"}),c?t.jsx("div",{className:"mb-3",children:t.jsxs("div",{className:"relative inline-block",children:[t.jsx("img",{src:c,alt:"Delivery proof",className:"rounded-md max-h-40 max-w-full"}),t.jsx("button",{onClick:M,className:"absolute top-2 right-2 rounded-full p-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:t.jsx(Ze,{size:14,style:{color:"white"}})})]})}):t.jsx("div",{className:"mb-3",children:t.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-24 rounded-md cursor-pointer border-2 border-dashed",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsx(aT,{size:24,style:{color:"var(--text-secondary)"},className:"mb-2"}),t.jsx("p",{className:"text-xs text-center",style:{color:"var(--text-primary)"},children:t.jsx("span",{className:"font-semibold",children:"Click to capture"})})]}),t.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:V})]})})]})]}),t.jsx("div",{children:t.jsxs("div",{className:"rounded-lg p-4",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("h4",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Delivery Details"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Current Status"}),t.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:s.status==="delivered"?"var(--success-color)20":s.status==="failed_attempt"||s.status==="failed_final"?"var(--error-color)20":"var(--brand-primary)20",color:s.status==="delivered"?"var(--success-color)":s.status==="failed_attempt"||s.status==="failed_final"?"var(--error-color)":"var(--brand-primary)"},children:s.status==="assigned"||s.status==="shipped"||s.status==="payment_successful"?"Assigned":s.status==="out_for_delivery"?"Out For Delivery":s.status==="delivered"?"Delivered":s.status==="failed_attempt"?"Failed Attempt":s.status==="failed_final"?"Failed":s.status==="returning_to_warehouse"?"Returning":s.status})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Customer Information"}),t.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:(L=s.customer)==null?void 0:L.name}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-primary)"},children:(Y=s.customer)==null?void 0:Y.phone}),t.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-primary)"},children:(B=s.customer)==null?void 0:B.address})]}),t.jsxs("div",{children:[t.jsxs("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:["Items (",s.items?s.items.length:0,")"]}),t.jsx("div",{className:"max-h-16 overflow-y-auto",children:t.jsx("ul",{className:"space-y-1",children:s.items&&s.items.map((D,O)=>t.jsxs("li",{className:"flex justify-between text-xs",children:[t.jsxs("span",{style:{color:"var(--text-primary)"},children:[D.name," x",D.quantity]}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:D.price})]},O))})})]})," ",t.jsxs("div",{children:[t.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:s.expectedDelivery?new Date(s.expectedDelivery).toLocaleDateString():"Not specified"}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:s.expectedDelivery?new Date(s.expectedDelivery).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Payment Information"}),t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Payment Type"}),t.jsx("span",{className:"font-medium",style:{color:s.paymentType==="Cash on Delivery"?"var(--warning-color)":"var(--success-color)"},children:s.paymentType})]}),t.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Amount"}),t.jsx("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:s.paymentAmount||s.total_amount})]})]})]})," "]})})]}),t.jsxs("div",{className:"mt-6 pt-4 border-t flex justify-end space-x-3",style:{borderColor:"var(--border-primary)"},children:[t.jsx(me,{type:"button",variant:"secondary",onClick:r,disabled:o,children:"Cancel"}),t.jsx(me,{type:"submit",variant:"primary",disabled:o,className:"transition-transform hover:scale-105",children:o?"Updating...":"Update Status"})]})]})})]})})]})},wL=()=>{const e=Zt(),r=Vt(),{loginPartner:s,isAuthenticated:n,partner:o,loading:c,error:d}=Ts(),[u,h]=w.useState({email:"",password:""}),[f,x]=w.useState({}),[g,v]=w.useState("");w.useEffect(()=>{var _;(_=r.state)!=null&&_.message&&v(r.state.message)},[r.state]),w.useEffect(()=>{n&&o&&e("/delivery/dashboard")},[n,o,e]);const b=_=>{const{name:C,value:A}=_.target;h(R=>({...R,[C]:A})),f[C]&&x(R=>({...R,[C]:""}))},j=()=>{let _=!0;const C={};return u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(C.email="Please enter a valid email address",_=!1):(C.email="Email is required",_=!1),u.password||(C.password="Password is required",_=!1),x(C),_},k=async _=>{var C,A,R;if(_.preventDefault(),!!j())try{await s(u)&&e("/delivery/dashboard")}catch(S){ye.error(((A=(C=S.response)==null?void 0:C.data)==null?void 0:A.error)||"Failed to login. Please try again."),((R=S.response)==null?void 0:R.status)===403&&e("/delivery/admin-verify")}};return t.jsxs(ws,{title:"Delivery Partner Login",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(et,{size:36})})}),t.jsx("p",{className:"text-center text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Sign in to your delivery partner account to manage deliveries"}),t.jsxs("form",{onSubmit:k,className:"space-y-5",children:[g&&t.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),g]}),d&&t.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--error-color)15",color:"var(--error-color)"},children:[t.jsx(Yr,{className:"h-5 w-5 mr-2"}),d]}),t.jsx(Fe,{label:"Email",type:"email",name:"email",icon:t.jsx(hl,{}),value:u.email,onChange:b,required:!0,placeholder:"your@email.com",error:f.email}),t.jsx(Fe,{label:"Password",type:"password",name:"password",icon:t.jsx(vs,{}),value:u.password,onChange:b,required:!0,placeholder:"Enter your password",error:f.password}),t.jsx(me,{type:"submit",variant:"primary",fullWidth:!0,isLoading:c,children:c?"Signing In...":"Sign In"}),t.jsx("div",{className:"text-center mt-6",children:t.jsxs("p",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Don't have a partner account?"," ",t.jsx(pe,{to:"/delivery/register",className:"font-medium hover:underline",style:{color:"var(--brand-primary)"},children:"Register here"})]})})]})]})},NL=()=>{const e=Zt(),{registerPartner:r,loading:s,error:n}=Ts(),[o,c]=w.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),[d,u]=w.useState({}),h=g=>{const{name:v,value:b}=g.target;c(j=>({...j,[v]:b})),d[v]&&u(j=>({...j,[v]:""}))},f=()=>{const g={};return o.name.trim()||(g.name="Full name is required"),o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(g.email="Email is invalid"):g.email="Email is required",o.password?o.password.length<6&&(g.password="Password must be at least 6 characters"):g.password="Password is required",o.password!==o.confirmPassword&&(g.confirmPassword="Passwords don't match"),o.phone.trim()?/^\d{10}$/.test(o.phone.replace(/\D/g,""))||(g.phone="Phone number must be 10 digits"):g.phone="Phone number is required",u(g),Object.keys(g).length===0},x=async g=>{if(g.preventDefault(),!f())return;const v={name:o.name,email:o.email,password:o.password,phone:o.phone};try{await r(v),e("/delivery/login",{state:{message:"Registration successful! Please wait for admin verification."}})}catch(b){console.error("Registration error:",b)}};return t.jsxs(ws,{title:"Become a Delivery Partner",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(et,{size:36})})}),t.jsx("p",{className:"text-center text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Register as a delivery partner and start earning with flexible hours"}),t.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n&&t.jsxs("div",{className:"p-4 rounded-md animate-fadeIn flex items-center",style:{backgroundColor:"var(--error-color)15",color:"var(--error-color)"},children:[t.jsx(Yr,{className:"h-5 w-5 mr-2"}),n]}),t.jsx(Fe,{label:"Full Name",type:"text",name:"name",icon:t.jsx(Ut,{}),value:o.name,onChange:h,required:!0,placeholder:"Enter your full name",error:d.name}),t.jsx(Fe,{label:"Email",type:"email",name:"email",icon:t.jsx(hl,{}),value:o.email,onChange:h,required:!0,placeholder:"your@email.com",error:d.email}),t.jsx(Fe,{label:"Phone Number",type:"tel",name:"phone",icon:t.jsx(gi,{}),value:o.phone,onChange:h,required:!0,placeholder:"Your phone number",error:d.phone}),t.jsx(Fe,{label:"Password",type:"password",name:"password",icon:t.jsx(vs,{}),value:o.password,onChange:h,required:!0,placeholder:"Create a strong password",error:d.password}),t.jsx(Fe,{label:"Confirm Password",type:"password",name:"confirmPassword",icon:t.jsx(vs,{}),value:o.confirmPassword,onChange:h,required:!0,placeholder:"Confirm your password",error:d.confirmPassword}),t.jsx("div",{className:"mt-6",children:t.jsx(me,{type:"submit",variant:"primary",fullWidth:!0,isLoading:s,children:s?"Creating Account...":"Register as Partner"})}),t.jsx("div",{className:"text-center mt-6",children:t.jsxs("p",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Already have an account?"," ",t.jsx(pe,{to:"/delivery/login",className:"font-medium hover:underline",style:{color:"var(--brand-primary)"},children:"Log in here"})]})}),t.jsx("div",{className:"text-xs text-center mt-4 px-4",style:{color:"var(--text-secondary)"},children:"By registering, you agree to our Terms of Service and acknowledge that your account requires admin verification before you can start accepting deliveries."})]})]})},P1=()=>{const e=Zt(),[r,s]=w.useState(!0),[n,o]=w.useState("pending");w.useEffect(()=>{(async()=>{s(!0);try{await new Promise(v=>setTimeout(v,1500));const x=["pending","approved","rejected"],g=x[Math.floor(Math.random()*x.length)];o(g)}catch(x){console.error("Error fetching verification status:",x)}finally{s(!1)}})()},[]);const c=()=>{e("/delivery/login")},d=()=>{e("/delivery/register")},u=()=>{window.open("mailto:support@example.com","_blank")},h=()=>r?t.jsxs("div",{className:"flex flex-col items-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 mb-4",style:{borderColor:"var(--brand-primary)"}}),t.jsx("p",{className:"text-center text-sm mt-4",style:{color:"var(--text-secondary)"},children:"Checking your verification status..."})]}):n==="approved"?t.jsxs("div",{className:"text-center py-6",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:t.jsx(jt,{size:64})})}),t.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Approved!"}),t.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Your account has been verified by our admin team. You can now log in to access your delivery dashboard."}),t.jsx(me,{variant:"primary",icon:t.jsx($o,{className:"mr-2"}),onClick:c,fullWidth:!0,children:"Log In to Your Account"})]}):n==="rejected"?t.jsxs("div",{className:"text-center py-6",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--error-color)20",color:"var(--error-color)"},children:t.jsx(oi,{size:64})})}),t.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Rejected"}),t.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Unfortunately, your account verification was not approved. This could be due to incomplete or incorrect information provided during registration."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(me,{variant:"primary",icon:t.jsx($o,{className:"mr-2"}),onClick:d,fullWidth:!0,children:"Reapply with Correct Information"}),t.jsx(me,{variant:"secondary",onClick:u,fullWidth:!0,children:"Contact Support"})]})]}):t.jsxs("div",{className:"text-center py-6",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"h-24 w-24 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:t.jsx(qd,{size:64})})}),t.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--text-primary)"},children:"Verification Pending"}),t.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Your account is currently under review by our admin team. This process usually takes 1-2 business days. We'll notify you by email once your account is verified."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(me,{variant:"secondary",onClick:c,fullWidth:!0,children:"Back to Login"}),t.jsx(me,{variant:"outline",onClick:u,fullWidth:!0,children:"Contact Support"})]}),t.jsxs("div",{className:"text-xs mt-6 p-4 rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Note:"})," You will receive an email notification when your account is verified. If you don't see the email, please check your spam folder."]})]});return t.jsxs(ws,{title:"Account Verification Status",children:[t.jsx("div",{className:"mt-4 text-center text-sm",style:{color:"var(--text-secondary)"},children:"Delivery partner account verification"}),h()]})},CL=()=>{const[e,r]=w.useState(!0),[s,n]=w.useState([]),[o,c]=w.useState([]),[d,u]=w.useState(""),[h,f]=w.useState("all"),[x,g]=w.useState(!1),[v,b]=w.useState(null),[j,k]=w.useState(!1),{fetchAssignedDeliveries:_,updateDeliveryStatus:C,assignedDeliveries:A}=Ts(),R=w.useCallback(U=>{if(!U)return"N/A";const{street_address:V,city:M,state:ae,postal_code:ne}=U;return[V,M,ae,ne].filter(Boolean).join(", ")},[]);w.useEffect(()=>{(async()=>{r(!0);try{await _()}catch(V){console.error("Error fetching assigned deliveries:",V),de.error("Failed to load delivery assignments")}finally{r(!1)}})()},[_]),w.useEffect(()=>{const U=A==null?void 0:A.map(V=>({id:V.order_id,orderId:V.order_id,customer:{name:V.customer_name||"Customer",phone:V.customer_phone||"N/A"},address:R(V.delivery_address),customerPhone:V.customer_phone||"N/A",items:V.items||[],status:V.delivery_status||"pending",priority:S(V),distance:"N/A",expectedDelivery:V.estimated_delivery,assignedDate:V.assigned_at,paymentType:"N/A",createdAt:V.created_at,total_amount:V.total_amount,currency:V.currency||"INR"}));n(U),c(U),console.log("DeliveryAssignmentList rendered",s,o)},[A,R]);const S=U=>{if(!U)return"normal";const V=U.estimated_delivery?new Date(U.estimated_delivery):null;return V&&V-new Date<24*60*60*1e3?"high":"normal"};w.useEffect(()=>{const U=s==null?void 0:s.filter(V=>{const M=V.orderId.toLowerCase().includes(d.toLowerCase())||V.customer.name.toLowerCase().includes(d.toLowerCase())||V.customer.address.toLowerCase().includes(d.toLowerCase());return h==="all"?M:h==="high-priority"?M&&V.priority==="high":h==="normal-priority"?M&&V.priority==="normal":M});c(U)},[d,h,s]);const T=async U=>{const V=s.find(M=>M.id===U);V&&(b(V),g(!0))},P=async(U,V,M)=>{k(!0);try{await C(U,V,M),n(ae=>ae.map(ne=>ne.id===U?{...ne,status:V}:ne)),c(ae=>ae.map(ne=>ne.id===U?{...ne,status:V}:ne)),de.success("Delivery status updated successfully"),g(!1),b(null)}catch(ae){console.error("Error updating delivery status:",ae),de.error("Failed to update delivery status")}finally{k(!1)}},q=()=>{g(!1),b(null)};return t.jsxs(rn,{children:[t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",style:{color:"var(--text-primary)"},children:"Available Delivery Assignments"}),t.jsxs("div",{className:"flex flex-col md:flex-row w-full md:w-auto gap-3",children:[t.jsxs("div",{className:"relative flex-grow md:w-64",children:[t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(wr,{size:18})}),t.jsx("input",{type:"text",placeholder:"Search by order ID or customer",className:"w-full pl-10 pr-4 py-2 rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},value:d,onChange:U=>u(U.target.value)})]}),t.jsxs("div",{className:"relative md:w-48",children:[t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(va,{size:18})}),t.jsxs("select",{value:h,onChange:U=>f(U.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[t.jsx("option",{value:"all",children:"All Assignments"}),t.jsx("option",{value:"high-priority",children:"High Priority"}),t.jsx("option",{value:"normal-priority",children:"Normal Priority"})]})]})]})]}),e?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):(o==null?void 0:o.length)>0?t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:o==null?void 0:o.map(U=>t.jsx(yL,{delivery:U,onAccept:()=>T(U.id)},U.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx(Yr,{size:48,style:{color:"var(--text-secondary)"},className:"mb-4"}),t.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No assignments found"}),t.jsx("p",{className:"text-center max-w-md",style:{color:"var(--text-secondary)"},children:d||h!=="all"?"Try changing your search terms or filters":"There are currently no delivery assignments available. Check back later!"})]})]}),t.jsx(Gf,{isOpen:x,onClose:q,delivery:v,onStatusUpdate:P,isSubmitting:j})]})},L1=()=>{const{id:e}=el(),r=Zt(),[s,n]=w.useState(!!e),[o,c]=w.useState(null),[d,u]=w.useState(null),[h,f]=w.useState(""),[x,g]=w.useState([]),[v,b]=w.useState(!1),[j,k]=w.useState(null),[_,C]=w.useState(!1),{fetchAssignedDeliveries:A,updateDeliveryStatus:R,assignedDeliveries:S}=Ts(),T=w.useCallback(L=>{if(!L)return"N/A";const{street_address:Y,city:B,state:D,postal_code:O}=L;return[Y,B,D,O].filter(Boolean).join(", ")},[]);console.log("assigned",S);const P=w.useCallback(async()=>{n(!0);try{await A()}catch(L){console.error("Error fetching assigned deliveries:",L),de.error("Failed to load deliveries")}finally{n(!1)}},[A]);w.useEffect(()=>{const L=S==null?void 0:S.map(Y=>({id:Y.order_id,orderId:Y.order_id,customerName:Y.customer_name||"Customer",customerAddress:T(Y.delivery_address),customerPhone:Y.customer_phone||"N/A",status:Y.delivery_status||Y.status||"assigned",items:Y.items||[],expectedDelivery:Y.estimated_delivery,assignedOn:Y.assigned_at,paymentType:Y.payment_method||"Online Payment",paymentAmount:`${Y.currency||"INR"} ${Y.total_amount||0}`}));g(L)},[S,T]);const q=w.useCallback(async L=>{n(!0),u(null);try{const B=(await A()).find(D=>D.order_id===L);if(B)c({id:B.order_id,orderId:B.order_id,status:B.delivery_status||B.status||"assigned",customer:{name:B.customer_name||"Customer",phone:B.customer_phone||"N/A",address:T(B.delivery_address)},items:B.items||[],paymentType:B.payment_method||"Online Payment",paymentAmount:`${B.currency||"INR"} ${B.total_amount||"0"}`,deliveryInstructions:B.delivery_instructions||"",estimatedDelivery:B.estimated_delivery,assignedOn:B.assigned_at,assignedPartnerName:B.assigned_partner_name});else throw new Error("Delivery not found")}catch(Y){u("Failed to load delivery information. Please try again."),console.error("Error fetching delivery:",Y)}finally{n(!1)}},[A,T]);w.useEffect(()=>{e?q(e):P()},[e,q,P]);const U=L=>{const Y=L.target.value.toLowerCase();if(f(Y),!Y.trim()){P();return}const B=x.filter(D=>D.id.toLowerCase().includes(Y)||D.orderId.toLowerCase().includes(Y)||D.customerName.toLowerCase().includes(Y)||D.customerAddress.toLowerCase().includes(Y));g(B)},V=L=>{const Y=x.find(B=>B.id===L);Y&&(k(Y),b(!0))},M=async(L,Y,B)=>{C(!0);try{await R(L,Y,B),o&&o.id===L&&c(D=>({...D,status:Y})),g(D=>D.map(O=>O.id===L?{...O,status:Y}:O)),de.success("Delivery status updated successfully"),b(!1),k(null)}catch(D){console.error("Error updating status:",D),de.error("Failed to update delivery status")}finally{C(!1)}},ae=()=>{k(o),b(!0)},ne=()=>{b(!1),k(null)};return e?s||!o?t.jsx(rn,{children:t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})})}):t.jsx(rn,{children:t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("button",{onClick:()=>r("/delivery/assignments"),className:"flex items-center text-sm font-medium mb-4",style:{color:"var(--brand-primary)"},children:[t.jsx(gs,{className:"mr-2"})," Back to Assignments"]}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx("span",{className:"text-sm font-medium mr-2",style:{color:"var(--text-secondary)"},children:"Delivery ID:"}),t.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:o.id}),t.jsx("span",{className:"mx-2",style:{color:"var(--text-secondary)"},children:"•"}),t.jsx("span",{className:"text-sm font-medium mr-2",style:{color:"var(--text-secondary)"},children:"Order:"}),t.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:o.orderId})]})]})," ",t.jsxs("div",{className:"mt-4 md:mt-0 px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:o.status==="delivered"?"var(--success-color)20":o.status==="failed_attempt"||o.status==="failed_final"?"var(--error-color)20":"var(--brand-primary)20",color:o.status==="delivered"?"var(--success-color)":o.status==="failed_attempt"||o.status==="failed_final"?"var(--error-color)":"var(--brand-primary)"},children:[(o.status==="assigned"||o.status==="shipped"||o.status==="payment_successful")&&"Assigned",o.status==="out_for_delivery"&&"Out For Delivery",o.status==="delivered"&&"Delivered",o.status==="failed_attempt"&&"Failed Attempt",o.status==="failed_final"&&"Failed",o.status==="returning_to_warehouse"&&"Returning"]})]})]}),d&&t.jsx("div",{className:"p-4 mb-6 rounded-lg",style:{backgroundColor:"var(--error-color)10",borderLeft:"4px solid var(--error-color)"},children:t.jsx("p",{style:{color:"var(--error-color)"},children:d})})," ",t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"rounded-lg p-6 mb-6",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(Pe,{className:"mr-2"})," Update Status"]}),t.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Click the button below to update the delivery status for this order."}),t.jsx(me,{variant:"primary",onClick:ae,className:"transition-transform hover:scale-105",children:"Update Delivery Status"})]})}),t.jsx("div",{children:t.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("h2",{className:"font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Delivery Details"}),t.jsxs("div",{className:"space-y-4",children:[" ",t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Customer Information"}),t.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--text-primary)"},children:o.customer.name}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:o.customer.phone}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-primary)"},children:o.customer.address})]}),o.estimatedDelivery&&t.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Estimated Delivery"}),t.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:[new Date(o.estimatedDelivery).toLocaleDateString()," ","at"," ",new Date(o.estimatedDelivery).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),t.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:["Items (",o.items?o.items.length:0,")"]}),t.jsx("ul",{className:"space-y-2",children:o.items&&o.items.map((L,Y)=>t.jsxs("li",{className:"flex justify-between text-sm",children:[t.jsxs("span",{style:{color:"var(--text-primary)"},children:[L.name," x",L.quantity]}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:L.price})]},Y))})]}),t.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Payment Information"}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Payment Type"}),t.jsx("span",{className:"font-medium",style:{color:o.paymentType==="Cash on Delivery"?"var(--warning-color)":"var(--success-color)"},children:o.paymentType})]}),t.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[t.jsx("span",{style:{color:"var(--text-primary)"},children:"Amount"}),t.jsx("span",{className:"font-bold",style:{color:"var(--text-primary)"},children:o.paymentAmount})]})]}),o.deliveryInstructions&&t.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Delivery Instructions"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:o.deliveryInstructions})]})]})," "]})})]}),t.jsx(Gf,{isOpen:v,onClose:ne,delivery:j,onStatusUpdate:M,isSubmitting:_})]})}):t.jsxs(rn,{children:[t.jsxs("div",{className:"w-full",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Update Delivery Status"}),t.jsx("div",{className:"mb-6",children:t.jsx(Fe,{type:"text",placeholder:"Search by Order ID, Customer Name, or Address...",value:h,onChange:U,icon:t.jsx(wr,{})})}),s?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):(x==null?void 0:x.length)===0?t.jsxs("div",{className:"p-6 text-center rounded-lg",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[t.jsx(Pe,{className:"h-12 w-12 mx-auto mb-3"}),t.jsx("h3",{className:"text-lg font-medium",children:"No deliveries found"}),t.jsx("p",{className:"mt-2",children:"Try a different search term or check back later."})]}):t.jsxs("div",{className:"space-y-4",children:[x==null?void 0:x.map(L=>t.jsx("div",{className:"p-4 rounded-lg cursor-pointer transition-all hover:shadow-md",style:{backgroundColor:"var(--bg-secondary)",borderLeft:"4px solid var(--brand-primary)"},onClick:()=>V(L.id),children:t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:L.customerName}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:L.customerAddress}),t.jsx("div",{className:"mt-2 flex items-center",children:t.jsxs("span",{className:"text-sm px-2 py-1 rounded-full",style:{backgroundColor:L.status==="delivered"?"var(--success-color)20":L.status==="failed_attempt"||L.status==="failed_final"?"var(--error-color)20":L.status==="shipped"||L.status==="payment_successful"||L.status==="assigned"?"var(--brand-primary)20":"var(--warning-color)20",color:L.status==="delivered"?"var(--success-color)":L.status==="failed_attempt"||L.status==="failed_final"?"var(--error-color)":L.status==="shipped"||L.status==="payment_successful"||L.status==="assigned"?"var(--brand-primary)":"var(--warning-color)"},children:[" ",L.status==="assigned"||L.status==="shipped"||L.status==="payment_successful"?"Assigned":L.status==="out_for_delivery"?"Out For Delivery":L.status==="delivered"?"Delivered":L.status==="failed_attempt"?"Failed Attempt":L.status==="failed_final"?"Failed":L.status==="returning_to_warehouse"?"Returning":L.status]})})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--brand-primary)"},children:L.id}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order: ",L.orderId]})]})]})},L.id))," "]})]}),t.jsx(Gf,{isOpen:v,onClose:ne,delivery:j,onStatusUpdate:M,isSubmitting:_})]})},SL=()=>{var R;const e=Vt(),[r,s]=w.useState(!0),[n,o]=w.useState([]),[c,d]=w.useState([]),[u,h]=w.useState(""),[f,x]=w.useState("all"),[g,v]=w.useState("all"),[b,j]=w.useState(""),{fetchDeliveryHistory:k}=Ts(),_=w.useCallback(S=>{if(!S)return"N/A";const{street_address:T,city:P,state:q,postal_code:U}=S;return[T,P,q,U].filter(Boolean).join(", ")},[]);w.useEffect(()=>{var S;if((S=e.state)!=null&&S.successMessage){j(e.state.successMessage);const T=setTimeout(()=>{j("")},5e3);return()=>clearTimeout(T)}},[(R=e.state)==null?void 0:R.successMessage]),w.useEffect(()=>{(async()=>{s(!0);try{const P=(await k()).map(q=>({id:q.order_id,orderId:q.order_id,customer:q.customer_name||"Customer",address:_(q.delivery_address),status:C(q.delivery_status||""),completedDate:q.delivered_at||q.updated_at||q.created_at,expectedDelivery:q.estimated_delivery||new Date().toISOString(),amount:parseFloat(q.total_amount||"0"),paymentMethod:q.payment_method||"Online",notes:q.notes||"",items:q.items||[]}));o(P),d(P)}catch(T){console.error("Error fetching delivery history:",T),de.error("Failed to load delivery history")}finally{s(!1)}})()},[k,_]);const C=S=>({delivered:"Delivered",out_for_delivery:"Out for Delivery",failed_final:"Failed",failed_attempt:"Failed",pending:"Pending",assigned:"Pending",cancelled:"Failed"})[S.toLowerCase()]||"Pending";w.useEffect(()=>{const S=n.filter(T=>{const P=(T.orderId||"").toLowerCase().includes(u.toLowerCase())||(T.customer||"").toLowerCase().includes(u.toLowerCase())||(T.address||"").toLowerCase().includes(u.toLowerCase());let q=!0;const U=new Date,V=T.completedDate?new Date(T.completedDate):null;if(f==="today")q=V&&V.getDate()===U.getDate()&&V.getMonth()===U.getMonth()&&V.getFullYear()===U.getFullYear();else if(f==="week"){const ae=new Date;ae.setDate(ae.getDate()-7),q=V&&V>=ae}else if(f==="month"){const ae=new Date;ae.setMonth(ae.getMonth()-1),q=V&&V>=ae}const M=g==="all"||(T.status||"").toLowerCase()===g.toLowerCase();return P&&q&&M});d(S)},[u,f,g,n]);const A=()=>{if(c.length===0){de.error("No data to export");return}const P="data:text/csv;charset=utf-8,"+[["Order ID","Customer","Address","Status","Completed Date","Expected Delivery","Amount","Payment Method","Notes"].join(","),...c.map(V=>[`"${V.orderId}"`,`"${V.customer}"`,`"${V.address}"`,`"${V.status}"`,`"${new Date(V.completedDate).toLocaleDateString()}"`,`"${new Date(V.expectedDelivery).toLocaleDateString()}"`,V.amount,`"${V.paymentMethod}"`,`"${V.notes}"`].join(","))].join(`
`),q=encodeURI(P),U=document.createElement("a");U.setAttribute("href",q),U.setAttribute("download",`delivery_history_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(U),U.click(),document.body.removeChild(U),de.success("Delivery history exported successfully")};return t.jsx(rn,{children:t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[b&&t.jsx("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--success-color)10",borderLeft:"4px solid var(--success-color)"},children:t.jsx("p",{style:{color:"var(--success-color)"},children:b})}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",style:{color:"var(--text-primary)"},children:"Delivery History"}),t.jsxs("button",{onClick:A,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-all",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:[t.jsx(Ss,{className:"mr-2"}),"Export History"]})]}),t.jsx("div",{className:"flex flex-col md:flex-row justify-between mb-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row w-full gap-3",children:[t.jsxs("div",{className:"relative flex-grow md:w-64",children:[t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(wr,{size:18})}),t.jsx("input",{type:"text",placeholder:"Search by order ID or customer",className:"w-full pl-10 pr-4 py-2 rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},value:u,onChange:S=>h(S.target.value)})]}),t.jsxs("div",{className:"relative md:w-48",children:[t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(As,{size:18})}),t.jsxs("select",{value:f,onChange:S=>x(S.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[t.jsx("option",{value:"all",children:"All Time"}),t.jsx("option",{value:"today",children:"Today"}),t.jsx("option",{value:"week",children:"This Week"}),t.jsx("option",{value:"month",children:"This Month"})]})]}),t.jsxs("div",{className:"relative md:w-48",children:[t.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(va,{size:18})}),t.jsxs("select",{value:g,onChange:S=>v(S.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md text-sm appearance-none",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderWidth:"1px"},children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"delivered",children:"Delivered"}),t.jsx("option",{value:"failed_final",children:"Failed"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]})}),r?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):c.length>0?t.jsx("div",{className:"space-y-4",children:c.map(S=>t.jsx(bL,{delivery:S},S.order_id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center p-8 rounded-lg",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,style:{color:"var(--text-secondary)"},children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("h3",{className:"text-xl font-semibold mb-2",style:{color:"var(--text-primary)"},children:"No delivery history found"}),t.jsx("p",{className:"text-center max-w-md",style:{color:"var(--text-secondary)"},children:u||f!=="all"||g!=="all"?"Try changing your search terms or filters":"Your completed deliveries will appear here once you've made some deliveries."})]})]})})},kL=()=>{const[e,r]=w.useState(!0),[s,n]=w.useState({todayDeliveries:0,pendingDeliveries:0,completedDeliveries:0,rating:4.8}),[o,c]=w.useState([]),[d,u]=w.useState([]),{fetchAssignedDeliveries:h,fetchDeliveryHistory:f}=Ts(),x=w.useCallback(S=>{if(!S)return"N/A";const{street_address:T,city:P,state:q,postal_code:U}=S;return[T,P,q,U].filter(Boolean).join(", ")},[]),g=w.useCallback(S=>{if(!S)return"N/A";const T=new Date(S),P=new Date,q=new Date(P);return q.setDate(q.getDate()-1),T.setHours(0,0,0,0)===P.setHours(0,0,0,0)?`Today, ${T.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:T.setHours(0,0,0,0)===q.setHours(0,0,0,0)?`Yesterday, ${T.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:`${T.toLocaleDateString()}, ${T.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`},[]),v=w.useCallback(S=>!S||!S.estimated_delivery?"normal":new Date(S.estimated_delivery)-new Date<24*60*60*1e3?"high":"normal",[]),b=w.useCallback(S=>S?S.charAt(0).toUpperCase()+S.slice(1):"",[]),j=w.useCallback((S=[],T=[])=>{const P=S.slice(0,3).map(M=>({id:M.order_id,orderId:M.order_id,customer:M.customer_name||"Customer",address:x(M.delivery_address),scheduledTime:g(M.estimated_delivery),priority:v(M)}));u(P);const q=T.slice(0,3).map(M=>({id:M.order_id,orderId:M.order_id,customer:M.customer_name||"Customer",address:x(M.delivery_address),status:b(M.delivery_status||""),time:g(M.delivered_at||M.updated_at||M.created_at),reason:M.notes||null}));c(q);const U=new Date;U.setHours(0,0,0,0);const V=T.filter(M=>new Date(M.delivered_at||M.updated_at)>=U).length;n({todayDeliveries:V,pendingDeliveries:S.length,completedDeliveries:T.length,rating:4.8})},[x,g,v,b]);w.useEffect(()=>{(async()=>{r(!0);try{const T=await h(),P=await f();j(T,P)}catch(T){console.error("Error fetching dashboard data:",T),de.error("Failed to load dashboard data")}finally{r(!1)}})()},[h,f,j]);const k=w.useCallback(S=>{switch(S){case"Delivered":return"var(--success-color)";case"Failed_attempt":case"Failed_final":case"Failed":return"var(--error-color)";case"Assigned":case"Out_for_delivery":case"Pending":return"var(--warning-color)";default:return"var(--brand-primary)"}},[]),_=w.useCallback(S=>{switch(S){case"high":return{color:"var(--error-color)",label:"High Priority"};case"normal":return{color:"var(--brand-primary)",label:"Normal"};case"low":return{color:"var(--text-secondary)",label:"Low Priority"};default:return{color:"var(--brand-primary)",label:"Normal"}}},[]),C=({icon:S,value:T,label:P,color:q,bgColor:U})=>t.jsx("div",{className:"rounded-lg p-6 transition-all duration-200 hover:shadow-md",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:T}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:P})]}),t.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:U,color:q},children:S})]})}),A=({delivery:S})=>t.jsx("div",{className:"rounded-lg p-4 mb-3 transition-all duration-200 hover:shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${k(S.status)}20`,color:k(S.status)},children:S.status==="Delivered"?t.jsx(jt,{size:20}):t.jsx(Yr,{size:20})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Order #",S.orderId]}),t.jsx("span",{className:"mx-2 text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:`${k(S.status)}20`,color:k(S.status)},children:S.status})]}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:S.customer}),t.jsxs("div",{className:"flex items-start mt-1",children:[t.jsx(wt,{className:"mr-1 mt-0.5 flex-shrink-0",size:14,style:{color:"var(--text-secondary)"}}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:S.address})]})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-right",style:{color:"var(--text-secondary)"},children:S.time}),S.reason&&t.jsx("p",{className:"text-xs mt-1 text-right",style:{color:"var(--error-color)"},children:S.reason})]})]})}),R=({delivery:S})=>{const T=_(S.priority);return t.jsx("div",{className:"rounded-lg p-4 mb-3 transition-all duration-200 hover:shadow-sm",style:{backgroundColor:"var(--bg-primary)"},children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex items-start",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--bg-accent-light)",color:"var(--brand-primary)"},children:t.jsx(Pe,{size:20})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsxs("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:["Order #",S.orderId]}),t.jsx("span",{className:"mx-2 text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:`${T.color}20`,color:T.color},children:T.label})]}),t.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:S.customer}),t.jsxs("div",{className:"flex items-start mt-1",children:[t.jsx(wt,{className:"mr-1 mt-0.5 flex-shrink-0",size:14,style:{color:"var(--text-secondary)"}}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:S.address})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center text-xs mb-2",style:{color:"var(--brand-primary)"},children:[t.jsx(or,{size:12,className:"mr-1"}),S.scheduledTime]}),t.jsxs(pe,{to:`/delivery/status-update/${S.id}`,className:"flex items-center justify-end text-xs font-medium",style:{color:"var(--brand-primary)"},children:["View Details",t.jsx(zt,{size:14,className:"ml-0.5"})]})]})]})})};return t.jsx(rn,{children:t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Delivery Dashboard"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Welcome back! Here's an overview of your delivery activities."})]}),t.jsx("div",{className:"flex items-center mt-4 md:mt-0",children:t.jsxs("div",{className:"mr-2 px-4 py-2 rounded-md text-sm flex items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx(As,{size:16,className:"mr-2",style:{color:"var(--text-secondary)"}}),t.jsx("span",{style:{color:"var(--text-primary)"},children:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})})]}),e?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:"var(--brand-primary)"}})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[t.jsx(C,{icon:t.jsx(et,{size:24}),value:s.todayDeliveries,label:"Today's Deliveries",color:"var(--brand-primary)",bgColor:"var(--bg-accent-light)"}),t.jsx(C,{icon:t.jsx(Pe,{size:24}),value:s.pendingDeliveries,label:"Pending Deliveries",color:"var(--warning-color)",bgColor:"var(--warning-color)20"}),t.jsx(C,{icon:t.jsx(jt,{size:24}),value:s.completedDeliveries,label:"Completed Deliveries",color:"var(--success-color)",bgColor:"var(--success-color)20"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Upcoming Deliveries"}),t.jsxs(pe,{to:"/delivery/assignments",className:"text-xs font-medium flex items-center",style:{color:"var(--brand-primary)"},children:["View All",t.jsx(zt,{size:14,className:"ml-0.5"})]})]}),t.jsx("div",{className:"space-y-3",children:d.length>0?d.map(S=>t.jsx(R,{delivery:S},S.id)):t.jsx("div",{className:"py-6 text-center",style:{color:"var(--text-secondary)"},children:"No upcoming deliveries at this time."})})]}),t.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Recent Deliveries"}),t.jsxs(pe,{to:"/delivery/history",className:"text-xs font-medium flex items-center",style:{color:"var(--brand-primary)"},children:["View History",t.jsx(zt,{size:14,className:"ml-0.5"})]})]}),t.jsx("div",{className:"space-y-3",children:o.length>0?o.map(S=>t.jsx(A,{delivery:S},S.id)):t.jsx("div",{className:"py-6 text-center",style:{color:"var(--text-secondary)"},children:"No recent deliveries."})})]})]}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"rounded-lg p-6",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)"},children:[t.jsx("h2",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Quick Actions"}),t.jsxs("div",{className:"space-y-3",children:[" ",t.jsxs(pe,{to:"/delivery/assignments",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--brand-primary)20",color:"var(--brand-primary)"},children:t.jsx(Pe,{size:16})}),t.jsx("span",{style:{color:"var(--text-primary)"},children:"View Assignments"})]}),t.jsx(zt,{})]})," ",t.jsxs(pe,{to:"/delivery/history",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:t.jsx(or,{size:16})}),t.jsx("span",{style:{color:"var(--text-primary)"},children:"View Delivery History"})]}),t.jsx(zt,{})]})," ",t.jsxs(pe,{to:"/delivery/status-update",className:"p-3 rounded-lg transition-all duration-200 hover:shadow-sm flex justify-between items-center",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"var(--warning-color)20",color:"var(--warning-color)"},children:t.jsx(wf,{size:16})}),t.jsx("span",{style:{color:"var(--text-primary)"},children:"Update Delivery Status"})]}),t.jsx(zt,{})]})]})]})})]})]})]})})},_L=()=>{const[e,r]=w.useState(!1),[s,n]=w.useState(!1),[o,c]=w.useState({fullName:"John Doe",email:"john.doe@example.com",phone:"123-456-7890",address:"123 Delivery St, City",vehicleType:"bike",vehicleNumber:"DL-5S-AB-1234",currentPassword:"",newPassword:"",confirmPassword:"",notifyAssignments:!0,notifyStatus:!0,notifyReviews:!0}),[d,u]=w.useState({}),h=g=>{const{name:v,value:b,type:j,checked:k}=g.target;c({...o,[v]:j==="checkbox"?k:b}),d[v]&&u({...d,[v]:""})},f=g=>{const v={};return g==="profile"&&(o.fullName||(v.fullName="Full name is required"),o.email?/\S+@\S+\.\S+/.test(o.email)||(v.email="Email is invalid"):v.email="Email is required",o.phone||(v.phone="Phone number is required"),o.address||(v.address="Address is required"),o.vehicleNumber||(v.vehicleNumber="Vehicle number is required")),g==="password"&&(o.currentPassword||(v.currentPassword="Current password is required"),o.newPassword&&o.newPassword.length<6&&(v.newPassword="Password must be at least 6 characters"),o.newPassword!==o.confirmPassword&&(v.confirmPassword="Passwords don't match")),u(v),Object.keys(v).length===0},x=async(g,v)=>{if(g.preventDefault(),!!f(v)){r(!0);try{await new Promise(b=>setTimeout(b,1e3)),n(!0),setTimeout(()=>{n(!1)},3e3)}catch(b){u({form:b.message||"Failed to save changes. Please try again."})}finally{r(!1)}}};return t.jsx(rn,{children:t.jsxs("div",{className:"w-full",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",style:{color:"var(--text-primary)"},children:"Settings"}),s&&t.jsx("div",{className:"mb-4 p-3 rounded-md",style:{backgroundColor:"var(--success-color)20",color:"var(--success-color)"},children:"Changes saved successfully!"}),d.form&&t.jsx("div",{className:"mb-4 p-3 rounded-md",style:{backgroundColor:"var(--error-color)20",color:"var(--error-color)"},children:d.form}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs(ws,{children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Profile Information"}),t.jsxs("form",{onSubmit:g=>x(g,"profile"),className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Fe,{label:"Full Name",type:"text",name:"fullName",value:o.fullName,onChange:h,placeholder:"Enter your full name",icon:t.jsx(Ut,{}),error:d.fullName}),t.jsx(Fe,{label:"Email Address",type:"email",name:"email",value:o.email,onChange:h,placeholder:"Enter your email",icon:t.jsx(hl,{}),error:d.email})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Fe,{label:"Phone Number",type:"tel",name:"phone",value:o.phone,onChange:h,placeholder:"Enter your phone number",icon:t.jsx(gi,{}),error:d.phone}),t.jsx(Fe,{label:"Address",type:"text",name:"address",value:o.address,onChange:h,placeholder:"Enter your address",icon:t.jsx(wt,{}),error:d.address})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block mb-2 text-sm font-medium",style:{color:"var(--text-primary)"},children:"Vehicle Type"}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",style:{color:"var(--text-secondary)"},children:t.jsx(et,{})}),t.jsxs("select",{name:"vehicleType",value:o.vehicleType,onChange:h,className:"w-full pl-10 pr-3 py-2 rounded-md text-sm border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx("option",{value:"bike",children:"Bike/Scooter"}),t.jsx("option",{value:"car",children:"Car"}),t.jsx("option",{value:"van",children:"Van/Mini Truck"})]})]})]}),t.jsx(Fe,{label:"Vehicle Number",type:"text",name:"vehicleNumber",value:o.vehicleNumber,onChange:h,placeholder:"Enter vehicle registration number",icon:t.jsx(et,{}),error:d.vehicleNumber})]}),t.jsx("div",{className:"mt-4",children:t.jsx(me,{type:"submit",variant:"primary",isLoading:e,icon:t.jsx(bd,{}),children:"Save Changes"})})]})]}),t.jsxs(ws,{children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:"var(--text-primary)"},children:"Change Password"}),t.jsxs("form",{onSubmit:g=>x(g,"password"),className:"space-y-4",children:[t.jsx(Fe,{label:"Current Password",type:"password",name:"currentPassword",value:o.currentPassword,onChange:h,placeholder:"Enter your current password",icon:t.jsx(vs,{}),error:d.currentPassword}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(Fe,{label:"New Password",type:"password",name:"newPassword",value:o.newPassword,onChange:h,placeholder:"Enter new password",icon:t.jsx(vs,{}),error:d.newPassword}),t.jsx(Fe,{label:"Confirm New Password",type:"password",name:"confirmPassword",value:o.confirmPassword,onChange:h,placeholder:"Confirm new password",icon:t.jsx(vs,{}),error:d.confirmPassword})]}),t.jsx("div",{className:"mt-4",children:t.jsx(me,{type:"submit",variant:"primary",isLoading:e,icon:t.jsx(bd,{}),children:"Update Password"})})]})]})]})]})})},AL=({title:e,value:r,icon:s,change:n,isPositive:o,color:c})=>t.jsxs("div",{className:"p-6 rounded-lg transition-all duration-300 hover:shadow-lg relative overflow-hidden",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[t.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 rounded-full opacity-10",style:{backgroundColor:c}}),t.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[t.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${c}15`,color:c},children:s}),t.jsxs("div",{className:`flex items-center text-sm font-medium px-2.5 py-1 rounded-full ${o?"bg-green-100":"bg-red-100"}`,style:{color:o?"var(--success-color)":"var(--error-color)"},children:[o?t.jsx(vp,{className:"mr-1",size:14}):t.jsx(Fd,{className:"mr-1",size:14}),n]})]}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--text-secondary)"},children:e}),t.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:r})]})]}),EL=()=>{const[e,r]=w.useState("all"),s=[{id:"#ORD-7931",customer:"Rahul Sharma",date:"2023-05-15",amount:24990,status:"delivered",items:3},{id:"#ORD-7930",customer:"Priya Singh",date:"2023-05-15",amount:16499,status:"processing",items:2},{id:"#ORD-7929",customer:"Amit Kumar",date:"2023-05-14",amount:54990,status:"shipped",items:1},{id:"#ORD-7928",customer:"Neha Verma",date:"2023-05-14",amount:6999,status:"cancelled",items:1},{id:"#ORD-7927",customer:"Vivek Gupta",date:"2023-05-13",amount:12499,status:"delivered",items:4}],n=c=>{switch(c){case"delivered":return{bgColor:"rgba(16, 185, 129, 0.15)",textColor:"var(--success-color)",icon:t.jsx(jt,{size:14})};case"processing":return{bgColor:"rgba(245, 158, 11, 0.15)",textColor:"var(--warning-color)",icon:t.jsx(or,{size:14})};case"shipped":return{bgColor:"rgba(59, 130, 246, 0.15)",textColor:"var(--info-color)",icon:t.jsx(et,{size:14})};case"cancelled":return{bgColor:"rgba(239, 68, 68, 0.15)",textColor:"var(--error-color)",icon:t.jsx(Cp,{size:14})};default:return{bgColor:"rgba(107, 114, 128, 0.15)",textColor:"var(--text-secondary)",icon:t.jsx(or,{size:14})}}},o=e==="all"?s:s.filter(c=>c.status===e);return t.jsxs("div",{className:"p-6 rounded-lg",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Recent Orders"}),t.jsxs("div",{className:"flex flex-wrap items-center space-x-2 mt-2 sm:mt-0",children:[t.jsxs("div",{className:"relative rounded-md",style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(wr,{className:"h-4 w-4",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:"text",placeholder:"Search orders...",className:"py-1.5 pl-9 pr-4 block w-full text-sm focus:outline-none",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"}})]}),t.jsxs("select",{value:e,onChange:c=>r(c.target.value),className:"py-1.5 px-3 text-sm border rounded-md appearance-none bg-white",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("option",{value:"all",children:"All Orders"}),t.jsx("option",{value:"delivered",children:"Delivered"}),t.jsx("option",{value:"processing",children:"Processing"}),t.jsx("option",{value:"shipped",children:"Shipped"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Order ID"}),t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Customer"}),t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Amount"}),t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"py-3 text-left text-xs font-medium tracking-wider"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:o.map(c=>{var u;const d=n(c.status);return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"py-4 text-sm font-medium",style:{color:"var(--text-primary)"},children:c.id}),t.jsx("td",{className:"py-4 text-sm",style:{color:"var(--text-primary)"},children:c.customer}),t.jsx("td",{className:"py-4 text-sm",style:{color:"var(--text-secondary)"},children:new Date(c.date).toLocaleDateString()}),t.jsxs("td",{className:"py-4 text-sm font-medium",style:{color:"var(--text-primary)"},children:["₹",(u=c.amount)==null?void 0:u.toLocaleString()]}),t.jsx("td",{className:"py-4",children:t.jsxs("div",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:d.bgColor,color:d.textColor},children:[t.jsx("span",{className:"mr-1.5",children:d.icon}),c.status.charAt(0).toUpperCase()+c.status.slice(1)]})}),t.jsx("td",{className:"py-4 text-right",children:t.jsxs("button",{className:"flex items-center text-xs",style:{color:"var(--brand-primary)"},children:["Details",t.jsx(zt,{size:14,className:"ml-1"})]})})]},c.id)})})]})}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium rounded-md transition-all duration-200",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:["View All Orders",t.jsx(zt,{size:16,className:"ml-1"})]})})]})},TL=()=>{const[e,r]=w.useState("yearly");return t.jsxs("div",{className:"p-6 rounded-lg h-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Sales Overview"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total sales and revenue"})]}),t.jsxs("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[t.jsxs("div",{className:"border rounded-md flex items-center px-3 py-1.5",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:[t.jsx(As,{size:14,className:"mr-2"}),t.jsxs("select",{value:e,onChange:s=>r(s.target.value),className:"text-sm bg-transparent border-none outline-none appearance-none pr-6",style:{color:"var(--text-primary)"},children:[t.jsx("option",{value:"weekly",children:"Weekly"}),t.jsx("option",{value:"monthly",children:"Monthly"}),t.jsx("option",{value:"yearly",children:"Yearly"})]}),t.jsx(_r,{size:14,className:"ml-1"})]}),t.jsxs("button",{className:"border rounded-md px-3 py-1.5 flex items-center text-sm",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)"},children:[t.jsx(Ss,{size:14,className:"mr-2"}),"Export"]})]})]}),t.jsx("div",{className:"h-64 flex items-center justify-center mb-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-full h-48 rounded-lg mb-4 overflow-hidden relative",style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("div",{className:"flex justify-between absolute left-0 right-0 bottom-0 px-4",children:[[...Array(6)].map((s,n)=>t.jsx("div",{className:"w-12 rounded-t-lg",style:{height:`${Math.random()*100+20}px`,backgroundColor:"var(--brand-primary)",opacity:.8}},n)),[...Array(6)].map((s,n)=>t.jsx("div",{className:"w-12 rounded-t-lg",style:{height:`${Math.random()*80+40}px`,backgroundColor:"var(--brand-secondary)",opacity:.7}},n+6))]})}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"(This is a placeholder for an actual chart component)"})]})}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 pt-6 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Sales"}),t.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"₹425,652"}),t.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"+8.5% vs last period"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Orders"}),t.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"1,482"}),t.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"+5.2% vs last period"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Average Order"}),t.jsx("p",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"₹28,720"}),t.jsx("div",{className:"text-xs font-medium mt-1",style:{color:"var(--success-color)"},children:"+2.8% vs last period"})]})]})]})},RL=()=>{const[e,r]=w.useState("monthly"),s=[{id:1,name:"Apple iPhone 13 Pro",image:"https://via.placeholder.com/50",sales:42,revenue:378e4,growth:"+12.5%"},{id:2,name:"Samsung Galaxy S22",image:"https://via.placeholder.com/50",sales:38,revenue:285e4,growth:"+8.3%"},{id:3,name:"OnePlus 10 Pro",image:"https://via.placeholder.com/50",sales:31,revenue:186e4,growth:"+15.7%"},{id:4,name:"Xiaomi 12 Pro",image:"https://via.placeholder.com/50",sales:27,revenue:1485e3,growth:"+6.2%"}];return t.jsxs("div",{className:"p-6 rounded-lg h-full",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-medium)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:"Top Products"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:`px-3 py-1 text-xs rounded-full transition-all ${e==="weekly"?"font-medium":""}`,style:{backgroundColor:e==="weekly"?"var(--bg-accent-light)":"var(--bg-secondary)",color:e==="weekly"?"var(--brand-primary)":"var(--text-secondary)"},onClick:()=>r("weekly"),children:"Weekly"}),t.jsx("button",{className:`px-3 py-1 text-xs rounded-full transition-all ${e==="monthly"?"font-medium":""}`,style:{backgroundColor:e==="monthly"?"var(--bg-accent-light)":"var(--bg-secondary)",color:e==="monthly"?"var(--brand-primary)":"var(--text-secondary)"},onClick:()=>r("monthly"),children:"Monthly"})]})]}),t.jsx("div",{className:"space-y-4",children:s.map(n=>t.jsxs("div",{className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-all duration-200",style:{borderRadius:"var(--rounded-md)"},children:[t.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-white flex-shrink-0 flex items-center justify-center shadow-sm",style:{borderRadius:"var(--rounded-md)"},children:t.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"ml-3 flex-1",children:[t.jsx("h3",{className:"font-medium text-sm line-clamp-1",style:{color:"var(--text-primary)"},children:n.name}),t.jsxs("div",{className:"flex items-center mt-1",children:[t.jsxs("div",{className:"flex items-center text-xs mr-4",style:{color:"var(--text-secondary)"},children:[t.jsx(Pe,{size:12,className:"mr-1"}),t.jsxs("span",{children:[n.sales," sold"]})]}),t.jsx("div",{className:"text-xs font-medium",style:{color:"var(--success-color)"},children:n.growth})]})]}),t.jsx("button",{className:"ml-2 p-2 rounded-full hover:bg-gray-100 transition-all duration-200",style:{color:"var(--brand-primary)"},children:t.jsx(yi,{size:18})})]},n.id))}),t.jsx("button",{className:"w-full mt-4 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)",color:"var(--brand-primary)"},children:"View All Products"})]})},aa=(e,r="status")=>e.reduce((s,n)=>{const o=n[r];return s[o]=(s[o]||0)+1,s},{}),Kr=_t(Td((e,r)=>({dashboard:{stats:[],salesData:[],topProducts:[],recentOrders:[],loading:!1},orders:{list:[],loading:!1,statusCounts:{},error:null},users:{list:[],loading:!1,statusCounts:{},error:null},products:{list:[],loading:!1,error:null},returns:{list:[],loading:!1,statusCounts:{}},deliveryPartners:{list:[],loading:!1,error:null},getUserById:async s=>{try{return(await be.get(`/admin/users/${s}/`)).data.user}catch(n){return console.error(`Failed to fetch user ${s}:`,n),null}},getProductById:async s=>{try{return(await be.get(`/admin/products/${s}/`)).data.product}catch(n){return console.error(`Failed to fetch product ${s}:`,n),null}},userCache:new Map,productCache:new Map,getCachedUser:async s=>{const n=r().userCache.get(s);if(n)return n;const o=await r().getUserById(s);return o&&e(c=>{const d=new Map(c.userCache);return d.set(s,o),{userCache:d}}),o},getCachedProduct:async s=>{const n=r().productCache.get(s);if(n)return n;const o=await r().getProductById(s);return o&&e(c=>{const d=new Map(c.productCache);return d.set(s,o),{productCache:d}}),o},fetchDashboardData:async()=>{e(s=>({dashboard:{...s.dashboard,loading:!0}}));try{const s=[{title:"Total Sales",value:"₹125,430",change:"+12.5%",isPositive:!0},{title:"New Orders",value:"42",change:"+8.2%",isPositive:!0},{title:"New Customers",value:"18",change:"+5.7%",isPositive:!0},{title:"Low Stock Items",value:"7",change:"-2.3%",isPositive:!1}],n=[{id:1,name:"Smartphone X",sales:145,revenue:14500},{id:2,name:"Laptop Pro",sales:98,revenue:78400},{id:3,name:"Wireless Headphones",sales:82,revenue:4100},{id:4,name:"Smart Watch",sales:65,revenue:9750},{id:5,name:"HD Camera",sales:49,revenue:7350}],c=(await be.get("/admin/get_all_orders")).data.orders.slice(0,5);e({dashboard:{stats:s,salesData:[{month:"Jan",sales:4e3},{month:"Feb",sales:6e3},{month:"Mar",sales:8e3},{month:"Apr",sales:7500},{month:"May",sales:12e3},{month:"Jun",sales:9800}],topProducts:n,recentOrders:c,loading:!1}})}catch(s){e(n=>{var o,c;return{dashboard:{...n.dashboard,loading:!1,error:((c=(o=s.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch dashboard data"}}})}},fetchOrders:async()=>{e(s=>({orders:{...s.orders,loading:!0,error:null}}));try{const n=(await be.get("/admin/get_all_orders")).data.orders,o=aa(n);e({orders:{list:n,statusCounts:o,loading:!1,error:null}})}catch(s){e(n=>{var o,c;return{orders:{...n.orders,loading:!1,error:((c=(o=s.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch orders"}}})}},updateOrderStatus:async(s,n)=>{e(o=>({orders:{...o.orders,loading:!0,error:null}}));try{const o=await be.put(`/admin/order/edit/${s}/`,{status:n});(o.data.message||o.status===200)&&e(c=>{const d=c.orders.list.map(h=>h.order_id===s?{...h,status:n}:h),u=aa(d);return{orders:{list:d,statusCounts:u,loading:!1,error:null}}})}catch(o){e(c=>{var d,u;return{orders:{...c.orders,loading:!1,error:((u=(d=o.response)==null?void 0:d.data)==null?void 0:u.error)||"Failed to update order status"}}})}},editOrder:async(s,n,o)=>{e(c=>({orders:{...c.orders,loading:!0,error:null}}));try{const c=await be.put(`/admin/users/${s}/orders/${n}/edit/`,o);if(c.data.message||c.status===200)return e(d=>{const u=d.orders.list.map(h=>h.order_id===n?{...h,...o}:h);return{orders:{list:u,statusCounts:aa(u),loading:!1,error:null}}}),c.data}catch(c){throw e(d=>{var u,h;return{orders:{...d.orders,loading:!1,error:((h=(u=c.response)==null?void 0:u.data)==null?void 0:h.error)||"Failed to edit order"}}}),c}},assignOrderToDeliveryPartner:async(s,n,o)=>{var c,d;if(!o){const u="Partner ID is required. Please select a delivery partner.";throw e(h=>({orders:{...h.orders,loading:!1,error:u}})),console.error(u),new Error(u)}e(u=>({orders:{...u.orders,loading:!0,error:null}}));try{const u=await be.post(`/admin/users/${s}/orders/${n}/assign-partner/`,{partner_id:o});if(u.data.message||u.status===200)return e(h=>{const f=h.orders.list.map(g=>g.order_id===n?{...g,assigned_partner_id:o,delivery_status:"assigned",status:"assigned"}:g),x=aa(f);return{orders:{list:f,statusCounts:x,loading:!1,error:null}}}),u.data}catch(u){const h=((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to assign delivery partner";throw e(f=>({orders:{...f.orders,loading:!1,error:h}})),console.error("Error in assignOrderToDeliveryPartner:",u),u}},fetchProducts:async()=>{e(s=>({products:{...s.products,loading:!0,error:null}}));try{const n=(await be.get("/admin/get_all_products")).data.products;e({products:{list:n,loading:!1,error:null}})}catch(s){e(n=>{var o,c;return{products:{...n.products,loading:!1,error:((c=(o=s.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch products"}}})}},updateProduct:async(s,n)=>{e(o=>({products:{...o.products,loading:!0,error:null}}));try{(await be.post("/admin/update_product",{product_id:s,...n})).data.success&&e(c=>({products:{list:c.products.list.map(u=>u.id===s?{...u,...n}:u),loading:!1,error:null}}))}catch(o){e(c=>{var d,u;return{products:{...c.products,loading:!1,error:((u=(d=o.response)==null?void 0:d.data)==null?void 0:u.error)||"Failed to update product"}}})}},addProduct:async s=>{e(n=>({products:{...n.products,loading:!0,error:null}}));try{const n=await be.post("/admin/add_product",s);n.data.success&&e(o=>({products:{list:[...o.products.list,n.data.product],loading:!1,error:null}}))}catch(n){e(o=>{var c,d;return{products:{...o.products,loading:!1,error:((d=(c=n.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to add product"}}})}},deleteProduct:async s=>{e(n=>({products:{...n.products,loading:!0,error:null}}));try{(await be.delete(`/admin/delete_product/${s}`)).data.success&&e(o=>({products:{list:o.products.list.filter(c=>c.id!==s),loading:!1,error:null}}))}catch(n){e(o=>{var c,d;return{products:{...o.products,loading:!1,error:((d=(c=n.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to delete product"}}})}},fetchUsers:async()=>{e(s=>({users:{...s.users,loading:!0,error:null}}));try{const n=(await be.get("/admin/get_all_users")).data.users,o=aa(n,"status");e({users:{list:n,statusCounts:o,loading:!1,error:null}})}catch(s){e(n=>{var o,c;return{users:{...n.users,loading:!1,error:((c=(o=s.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch users"}}})}},updateUserStatus:async s=>{e(n=>({users:{...n.users,loading:!0,error:null}}));try{const n=await be.patch(`/admin/users/ban/${s}/`);n.data.message&&e(o=>{const c=o.users.list.map(u=>u.id===s?{...u,is_banned:n.data.is_banned,status:n.data.is_banned?"banned":"active"}:u),d=aa(c,"status");return{users:{list:c,statusCounts:d,loading:!1,error:null}}})}catch(n){e(o=>{var c,d;return{users:{...o.users,loading:!1,error:((d=(c=n.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to update user status"}}})}},updateUserRole:async(s,n)=>{e(o=>({users:{...o.users,loading:!0,error:null}}));try{(await be.post("/admin/update_user_role",{user_id:s,role:n})).data.success&&e(c=>{const d=c.users.list.map(u=>u.id===s?{...u,role:n}:u);return{users:{...c.users,list:d,loading:!1,error:null}}})}catch(o){e(c=>{var d,u;return{users:{...c.users,loading:!1,error:((u=(d=o.response)==null?void 0:d.data)==null?void 0:u.error)||"Failed to update user role"}}})}},fetchReturns:async()=>{e(c=>({returns:{...c.returns,loading:!0}}));const n=[{id:"RET-001",orderId:"ORD-12345",customer:"John Smith",requestDate:"2023-05-10",status:"pending",refundAmount:49.99},{id:"RET-002",orderId:"ORD-12346",customer:"Jane Doe",requestDate:"2023-05-12",status:"approved",refundAmount:89.99},{id:"RET-003",orderId:"ORD-12347",customer:"Mike Johnson",requestDate:"2023-05-15",status:"rejected",refundAmount:159.97}],o=aa(n);e({returns:{list:n,statusCounts:o,loading:!1}})},updateReturnStatus:async(s,n)=>{e(o=>({returns:{...o.returns,loading:!0}})),e(o=>{const c=o.returns.list.map(u=>u.id===s?{...u,status:n}:u),d=aa(c);return{returns:{list:c,statusCounts:d,loading:!1}}})},fetchDeliveryPartners:async()=>{e(s=>({deliveryPartners:{...s.deliveryPartners,loading:!0,error:null}}));try{const s=await be.get("/partners/all/");return e({deliveryPartners:{list:s.data.partners,loading:!1,error:null}}),s.data.partners}catch(s){throw e(n=>{var o,c;return{deliveryPartners:{...n.deliveryPartners,loading:!1,error:((c=(o=s.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch delivery partners"}}}),s}},verifyDeliveryPartner:async s=>{e(n=>({deliveryPartners:{...n.deliveryPartners,loading:!0,error:null}}));try{const n=await be.patch(`/partners/verify/${s}/`,{});return e(o=>({deliveryPartners:{list:o.deliveryPartners.list.map(d=>d.partner_id===s?{...d,is_verified:!0}:d),loading:!1,error:null}})),n.data}catch(n){throw e(o=>{var c,d;return{deliveryPartners:{...o.deliveryPartners,loading:!1,error:((d=(c=n.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to verify delivery partner"}}}),n}},assignDeliveryPartner:async(s,n)=>{e(o=>({deliveryPartners:{...o.deliveryPartners,loading:!0,error:null}}));try{const o=await be.post("/admin/assign_delivery_partner/",{order_id:s,partner_id:n});return await Kr.getState().fetchOrders(),e(c=>({deliveryPartners:{...c.deliveryPartners,loading:!1}})),o.data}catch(o){throw e(c=>{var d,u;return{deliveryPartners:{...c.deliveryPartners,loading:!1,error:((u=(d=o.response)==null?void 0:d.data)==null?void 0:u.error)||"Failed to assign delivery partner"}}}),o}}}))),DL=()=>{const{dashboard:e,fetchDashboardData:r}=Kr(),{stats:s,loading:n}=e,o=s.map((c,d)=>{const u=[t.jsx(tT,{size:24}),t.jsx(fa,{size:24}),t.jsx(Np,{size:24}),t.jsx(Pe,{size:24})],h=["var(--brand-primary)","var(--brand-secondary)","var(--success-color)","var(--error-color)"];return{...c,icon:u[d],color:h[d]}});return w.useEffect(()=>{r()},[r]),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Dashboard"}),t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"text-sm font-medium mr-4",style:{color:"var(--text-secondary)"},children:["Last updated: ",new Date().toLocaleString()]}),t.jsx(me,{variant:"secondary",size:"sm",fullWidth:!1,onClick:r,isLoading:n,icon:t.jsx(Es,{size:16}),children:n?"Refreshing...":"Refresh"})]})]})," ",t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:n?[...Array(4)].map((c,d)=>t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),t.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded"})]}),t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-2"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]},d)):o.map((c,d)=>t.jsx(AL,{...c},d))}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[t.jsx("div",{className:"lg:col-span-2",children:n?t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-72",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),t.jsx("div",{className:"h-56 bg-gray-200 rounded w-full"})]}):t.jsx(TL,{})}),t.jsx("div",{children:n?t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse h-72",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-6"}),t.jsx("div",{className:"space-y-3",children:[...Array(5)].map((c,d)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded mr-3"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4 mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},d))})]}):t.jsx(RL,{})})]}),t.jsx("div",{children:n?t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md animate-pulse",style:{borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4 mb-6"}),t.jsx("div",{className:"h-10 bg-gray-200 rounded w-full mb-4"}),t.jsx("div",{className:"space-y-3",children:[...Array(5)].map((c,d)=>t.jsx("div",{className:"h-12 bg-gray-200 rounded w-full"},d))})]}):t.jsx(EL,{})})]})},vr=_t((e,r)=>({products:{list:[],filteredList:null,loading:!1,error:null},fetchProducts:async()=>{e(s=>({products:{...s.products,loading:!0,error:null}}));try{const n=(await be.get("/admin/get_all_products")).data.products;e({products:{list:n,filteredList:null,loading:!1,error:null}})}catch(s){e(n=>{var o,c;return{products:{...n.products,loading:!1,error:((c=(o=s.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to fetch products"}}})}},deleteProduct:async s=>{var n,o;e(c=>({products:{...c.products,loading:!0,error:null}}));try{const c=await be.delete(`/admin/delete-product/${s}/`);if(c.status===200)return e(d=>({products:{...d.products,list:d.products.list.filter(u=>u.id!==s),filteredList:d.products.filteredList?d.products.filteredList.filter(u=>u.id!==s):null,loading:!1,error:null}})),{success:!0,message:c.data.message}}catch(c){return e(d=>{var u,h;return{products:{...d.products,loading:!1,error:((h=(u=c.response)==null?void 0:u.data)==null?void 0:h.error)||"Failed to delete product"}}}),{success:!1,message:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to delete product"}}},toggleProductFeatured:async s=>{var n,o;e(c=>({products:{...c.products,loading:!0,error:null}}));try{const c=await be.patch(`/admin/toggle-featured/${s}/`);if(c.status===200){const d=u=>u.map(h=>h.id===s?{...h,featured:c.data.featured}:h);return e(u=>({products:{...u.products,list:d(u.products.list),filteredList:u.products.filteredList?d(u.products.filteredList):null,loading:!1,error:null}})),{success:!0,message:c.data.message,featured:c.data.featured}}}catch(c){return e(d=>{var u,h;return{products:{...d.products,loading:!1,error:((h=(u=c.response)==null?void 0:u.data)==null?void 0:h.error)||"Failed to update featured status"}}}),{success:!1,message:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to update featured status"}}},updateProduct:async(s,n)=>{var o,c,d;e(u=>({products:{...u.products,loading:!0,error:null}}));try{const u=await be.patch(`/admin/products/edit/${s}/`,n);if(u.status===200){const h=f=>f.map(x=>x.id===s?{...x,...n}:x);return e(f=>({products:{...f.products,list:h(f.products.list),filteredList:f.products.filteredList?h(f.products.filteredList):null,loading:!1,error:null}})),e(f=>({products:{...f.products,list:h(f.products.list),filteredList:f.products.filteredList?h(f.products.filteredList):null,loading:!1,error:null}})),{success:!0,message:u.data.message||"Product updated successfully",product_id:u.data.product_id||s}}}catch(u){const h=((c=(o=u.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to update product";return e(f=>({products:{...f.products,loading:!1,error:h}})),{success:!1,message:h,status:(d=u.response)==null?void 0:d.status}}},addProduct:async s=>{var n,o,c;e(d=>({products:{...d.products,loading:!0,error:null}}));try{const d=await be.post("admin/products/add/",s);if(d.status===201){const u={...s,id:d.data.product_id};return e(h=>({products:{...h.products,list:[...h.products.list,u],filteredList:h.products.filteredList?[...h.products.filteredList,u]:null,loading:!1,error:null}})),{success:!0,message:d.data.message||"Product added successfully",product_id:d.data.product_id}}}catch(d){const u=((o=(n=d.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to add product";return e(h=>({products:{...h.products,loading:!1,error:u}})),{success:!1,message:u,status:(c=d.response)==null?void 0:c.status}}},filterAndSortProducts:(s,n,o)=>{const{list:c}=r().products;if(!(s&&s!=="all"||n&&n.trim())&&o==="newest"){e(h=>({products:{...h.products,filteredList:null}}));return}let u=[...c];if(s&&s!=="all"&&(u=u.filter(h=>h.category.toLowerCase()===s.toLowerCase())),n&&n.trim()){const h=n.toLowerCase().trim();u=u.filter(f=>f.name.toLowerCase().includes(h)||f.brand.toLowerCase().includes(h)||f.description.toLowerCase().includes(h))}switch(o){case"newest":u.sort((h,f)=>new Date(f.createdAt||f.created_at||0)-new Date(h.createdAt||h.created_at||0));break;case"price-asc":u.sort((h,f)=>parseFloat(h.price)-parseFloat(f.price));break;case"price-desc":u.sort((h,f)=>parseFloat(f.price)-parseFloat(h.price));break;case"name-asc":u.sort((h,f)=>h.name.localeCompare(f.name));break;case"stock-asc":u.sort((h,f)=>parseInt(h.stock)-parseInt(f.stock));break}e(h=>({products:{...h.products,filteredList:u}}))},resetFilters:()=>{e(s=>({products:{...s.products,filteredList:null}}))},uploadProductImage:async s=>{var n,o;try{const c=new FormData;c.append("image",s);const d=await be.post("/admin/products/upload-image/",c,{headers:{"Content-Type":"multipart/form-data"}});return d.data.success?{success:!0,imageUrl:d.data.image_url,message:d.data.message||"Image uploaded successfully"}:{success:!1,message:d.data.error||"Failed to upload image"}}catch(c){return{success:!1,message:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||c.message||"Failed to upload image"}}}})),OL=({onViewProduct:e,onEditProduct:r})=>{const{products:s,fetchProducts:n,deleteProduct:o,toggleProductFeatured:c}=vr(),{list:d,filteredList:u,loading:h}=s,f=u!==null?u:d,x=P=>{if(!P)return 0;if(P.valid_options&&P.valid_options.length>0){const U=P.valid_options[0],V=U.discounted_price||U.price;return typeof V=="number"?V:0}const q=P.discount_price||P.price;return typeof q=="number"?q:0},g=P=>{if(!P)return 0;if(P.valid_options&&P.valid_options.length>0)return P.valid_options.reduce((U,V)=>{const M=typeof V.stock=="number"?V.stock:0;return U+M},0);const q=P.stock;return typeof q=="number"?q:0},[v,b]=w.useState(!1),[j,k]=w.useState(!1),[_,C]=w.useState(null);w.useEffect(()=>{n()},[n]);const A=P=>{C(P),b(!0)},R=async()=>{_&&(await o(_.id),b(!1))},S=P=>{C(P),k(!0)},T=async()=>{_&&(await c(_.id),k(!1))};return t.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Category"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Price"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Stock"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Featured"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:h?t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"Loading products..."})}):f.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"No products found matching your filters."})}):f.filter(P=>P&&P.id).map(P=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:t.jsx("img",{src:P.images&&P.images.length>0?P.images[0]:"https://via.placeholder.com/50",alt:P.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:P.name}),t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["ID: ",P.id]})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:P.category})})," ",t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["₹",x(P).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm",style:{color:g(P)===0?"var(--error-color)":g(P)<10?"var(--warning-color)":"var(--text-primary)"},children:[g(P)," ",g(P)===1?"unit":"units"]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:t.jsx("button",{onClick:()=>S(P),className:"w-5 h-5 rounded-full flex items-center justify-center transition-colors duration-200",style:{backgroundColor:P.featured?"var(--brand-primary)":"var(--bg-secondary)",border:"1px solid",borderColor:P.featured?"var(--brand-primary)":"var(--border-secondary)",color:P.featured?"var(--text-on-brand)":"var(--text-secondary)"},children:P.featured?t.jsx(Bt,{size:12}):null})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[" ",t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:g(P)>0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:g(P)>0?"var(--success-color)":"var(--error-color)"},children:g(P)>0?"Active":"Out of Stock"})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[" ",t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{onClick:()=>e(P),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},title:"View Product",children:t.jsx(yi,{size:16})}),t.jsx("button",{onClick:()=>r(P),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"Edit Product",children:t.jsx(ul,{size:16})}),t.jsx("button",{onClick:()=>A(P),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Product",children:t.jsx(ht,{size:16})})]})]})]},P.id))})]}),t.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",f.length," of ",d.length," products"]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Previous"}),t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"1"}),t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Next"})]})]})," ",v&&t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:"p-6 rounded-lg shadow-xl max-w-md w-full border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"mb-4 flex items-center",children:[t.jsx(Yr,{className:"mr-3",size:24,style:{color:"var(--error-color)"}}),t.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Confirm Deletion"})]}),t.jsxs("p",{className:"mb-6 text-sm",style:{color:"var(--text-secondary)"},children:['Are you sure you want to delete "',_==null?void 0:_.name,'"? This action cannot be undone.']}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[" ",t.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 border",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),t.jsx("button",{onClick:R,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200",style:{backgroundColor:"var(--error-color)",color:"white",borderRadius:"var(--rounded-md)"},children:"Delete"})]})]})})," ",j&&t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:"p-6 rounded-lg shadow-xl max-w-md w-full border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"mb-4 flex items-center",children:[t.jsx(Yr,{className:"mr-3",size:24,style:{color:"var(--brand-primary)"}}),t.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--text-primary)"},children:"Confirm Featured Status Change"})]}),t.jsx("p",{className:"mb-6 text-sm",style:{color:"var(--text-secondary)"},children:_!=null&&_.featured?`Are you sure you want to remove "${_==null?void 0:_.name}" from featured products?`:`Are you sure you want to add "${_==null?void 0:_.name}" to featured products?`}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[" ",t.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 border",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),t.jsx("button",{onClick:T,className:"px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:_!=null&&_.featured?"Remove Featured":"Make Featured"})]})]})})]})},PL=({onClose:e,onSave:r})=>{var ne;const[s,n]=w.useState(1),[o,c]=w.useState(!1),{uploadProductImage:d}=vr(),[u,h]=w.useState({name:"",description:"",brand:"",category:"",price:"",discount_price:"",discount:"",stock:"",images:[],specifications:{},attributes:{},features:[],variant:{colors:[],storage:[]},valid_options:[],featured:!1,rating:0,reviews:0}),f=async L=>{const Y=L.target.files[0];if(Y){c(!0);try{const B=await d(Y);B.success?(h(D=>({...D,images:[...D.images,B.imageUrl].slice(0,5)})),de.info("Image uploaded successfully.")):de.error("Failed to upload image: "+B.message)}catch(B){console.error("Error uploading image:",B),de.error("Failed to upload image: "+B.message)}finally{c(!1)}}},x=L=>{const{name:Y,value:B,type:D,checked:O}=L.target;h({...u,[Y]:D==="checkbox"?O:B})},g=(L,Y)=>{h({...u,specifications:{...u.specifications,[L]:Y}})},v=()=>{h({...u,specifications:{...u.specifications,"":""}})},b=L=>{const Y={...u.specifications};delete Y[L],h({...u,specifications:Y})},j=(L,Y)=>{h({...u,attributes:{...u.attributes,[L]:Y}})},k=(L,Y,B)=>{h(D=>{if(L===Y)return D;const O={...D.attributes};return Object.prototype.hasOwnProperty.call(O,Y)?(de.error(`Attribute key "${Y}" already exists. Please use a unique key.`),D):(delete O[L],O[Y]=B,{...D,attributes:O})})},_=()=>{h(L=>{const Y=L.attributes;let B="",D=B,O=0;for(;Object.prototype.hasOwnProperty.call(Y,D);)O++,D=`${B}${O}`;return{...L,attributes:{...Y,[D]:""}}})},C=L=>{const Y={...u.attributes};delete Y[L],h({...u,attributes:Y})},A=(L,Y)=>{const B=[...u.features];B[L]=Y,h({...u,features:B})},R=()=>{h({...u,features:[...u.features,""]})},S=L=>{const Y=u.features.filter((B,D)=>D!==L);h({...u,features:Y})},T=(L,Y,B)=>{const D={...u.variant};D[L][Y]=B,h({...u,variant:D})},P=L=>{const Y={...u.variant};Y[L]=[...Y[L]||[],""],h({...u,variant:Y})},q=(L,Y)=>{const B={...u.variant};B[L]=B[L].filter((D,O)=>O!==Y),h({...u,variant:B})},U=()=>{const L={colors:"",storage:"",ram:"",size:"",price:0,discounted_price:0,stock:0};h({...u,valid_options:[...u.valid_options,L]})},V=L=>{const Y=u.valid_options.filter((B,D)=>D!==L);h({...u,valid_options:Y})},M=(L,Y,B)=>{const D=[...u.valid_options];D[L]={...D[L],[Y]:Y==="price"||Y==="discounted_price"||Y==="stock"?parseFloat(B)||0:B},h({...u,valid_options:D})},ae=L=>{L.preventDefault();const Y={...u,price:parseFloat(u.price)||0,discount_price:parseFloat(u.discount_price)||0,stock:parseInt(u.stock,10)||0,rating:parseFloat(u.rating)||0,reviews:parseInt(u.reviews,10)||0};r&&r(Y),e()};return t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:s===1?"Add New Product - Basic Information":"Add New Product - Details & Media"}),t.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 transition-colors",children:t.jsx(Ze,{size:24})})]}),t.jsx("form",{onSubmit:ae,children:s===1?t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Product Name *"}),t.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:x,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Brand *"}),t.jsx("input",{type:"text",id:"brand",name:"brand",value:u.brand,onChange:x,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Category *"}),t.jsxs("select",{id:"category",name:"category",value:u.category,onChange:x,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx("option",{value:"",children:"Select a category"}),t.jsx("option",{value:"Smartphone",children:"Smartphone"}),t.jsx("option",{value:"Laptop",children:"Laptop"}),t.jsx("option",{value:"Tablet",children:"Tablet"}),t.jsx("option",{value:"TV",children:"TV"}),t.jsx("option",{value:"Accessories",children:"Accessories"}),t.jsx("option",{value:"Audio",children:"Audio"}),t.jsx("option",{value:"Wearables",children:"Wearables"}),t.jsx("option",{value:"Gaming",children:"Gaming"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"MRP (₹) *"}),t.jsx("input",{type:"number",id:"price",name:"price",value:u.price,onChange:x,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"discount_price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Selling Price (₹) *"}),t.jsx("input",{type:"number",id:"discount_price",name:"discount_price",value:u.discount_price,onChange:x,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Discount %"}),t.jsx("input",{type:"text",id:"discount",name:"discount",value:u.discount,onChange:x,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Stock Quantity *"}),t.jsx("input",{type:"number",id:"stock",name:"stock",value:u.stock,onChange:x,required:!0,min:"0",step:"1",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Description *"}),t.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:x,required:!0,rows:"4",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),t.jsx("div",{className:"flex justify-end pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),t.jsx("button",{type:"button",onClick:()=>n(2),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Next: Details & Images"})]})})]}):t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Key Features"}),t.jsxs("button",{type:"button",onClick:R,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Feature"]})]}),u.features.map((L,Y)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:L,onChange:B=>A(Y,B.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Enter feature"}),t.jsx("button",{type:"button",onClick:()=>S(Y),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(ht,{size:16})})]},Y))]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Specifications"}),t.jsxs("button",{type:"button",onClick:v,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Specification"]})]}),Object.entries(u.specifications).map(([L,Y],B)=>t.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[t.jsx("input",{type:"text",value:L,onChange:D=>{const O={...u.specifications},F=O[L];delete O[L],h({...u,specifications:{...O,[D.target.value]:F}})},className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification name"}),t.jsx("input",{type:"text",value:Y,onChange:D=>g(L,D.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification value"}),t.jsx("button",{type:"button",onClick:()=>b(L),className:"p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(ht,{size:16})})]},B))," "]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Attributes"}),t.jsxs("button",{type:"button",onClick:_,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Attribute"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-semibold",style:{color:"var(--text-secondary)"},children:"Attributes"}),Object.entries(u.attributes).map(([L,Y])=>t.jsx(LL,{initialKey:L,initialValue:Y,onKeyCommit:k,onValueChange:j,onDelete:C,styleProps:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}},L)),t.jsxs("button",{type:"button",onClick:_,className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-700",children:[t.jsx(mt,{})," Add Attribute"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Valid Options (Variants with Price & Stock)"}),t.jsxs("button",{type:"button",onClick:U,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Option"]})]}),u.valid_options.map((L,Y)=>t.jsxs("div",{className:"p-3 border rounded-md mb-3",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[t.jsx("input",{type:"text",value:L.colors||"",onChange:B=>M(Y,"colors",B.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color"}),t.jsx("input",{type:"text",value:L.storage||"",onChange:B=>M(Y,"storage",B.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage"}),t.jsx("input",{type:"text",value:L.ram||"",onChange:B=>M(Y,"ram",B.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"RAM"}),t.jsx("input",{type:"text",value:L.size||"",onChange:B=>M(Y,"size",B.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Size/Resolution"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx("input",{type:"number",value:L.price||"",onChange:B=>M(Y,"price",B.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Price",min:"0",step:"0.01"}),t.jsx("input",{type:"number",value:L.discounted_price||"",onChange:B=>M(Y,"discounted_price",B.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Discounted Price",min:"0",step:"0.01"}),t.jsx("input",{type:"number",value:L.stock||"",onChange:B=>M(Y,"stock",B.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Stock",min:"0",step:"1"})]}),t.jsx("button",{type:"button",onClick:()=>V(Y),className:"mt-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(ht,{size:16})})]},Y))]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Available Colors"}),t.jsxs("button",{type:"button",onClick:()=>P("colors"),className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Color"]})]}),u.variant.colors.map((L,Y)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:L,onChange:B=>T("colors",Y,B.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color name"}),t.jsx("button",{type:"button",onClick:()=>q("colors",Y),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(ht,{size:16})})]},Y))]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Storage Options"}),t.jsxs("button",{type:"button",onClick:()=>P("storage"),className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Storage Option"]})]}),(ne=u.variant.storage)==null?void 0:ne.map((L,Y)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:L,onChange:B=>T("storage",Y,B.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage option"}),t.jsx("button",{type:"button",onClick:()=>q("storage",Y),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(ht,{size:16})})]},Y))]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Images"}),t.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-3",children:[u.images.map((L,Y)=>t.jsxs("div",{className:"relative aspect-square border rounded-md overflow-hidden",style:{borderColor:"var(--border-primary)"},children:[t.jsx("img",{src:L,alt:`Product ${Y+1}`,className:"w-full h-full object-cover"}),t.jsx("button",{type:"button",onClick:()=>{const B=[...u.images];B.splice(Y,1),h({...u,images:B})},className:"absolute top-0 right-0 p-1 bg-black bg-opacity-50 text-white rounded-bl-md",children:t.jsx(Ze,{size:12})})]},Y))," ",u.images.length<5&&t.jsxs("div",{className:"aspect-square border rounded-md flex items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-primary)",borderStyle:"dashed"},onClick:()=>document.getElementById("image-upload").click(),children:[t.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:f,className:"hidden"}),t.jsxs("div",{className:"flex flex-col items-center",children:[o?t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):t.jsx(bp,{size:20,style:{color:"var(--text-secondary)"}}),t.jsx("span",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:o?"Uploading...":"Add Image"})]})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:u.featured,onChange:x,className:"mr-2"}),t.jsx("label",{htmlFor:"featured",className:"text-sm",style:{color:"var(--text-primary)"},children:"Featured product (show on homepage)"})]})]}),t.jsxs("div",{className:"flex justify-between pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsx("button",{type:"button",onClick:()=>n(1),className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Back"}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Add Product"})]})]})]})})]})})},LL=({initialKey:e,initialValue:r,onKeyCommit:s,onValueChange:n,onDelete:o,styleProps:c})=>{const[d,u]=w.useState(e),[h,f]=w.useState(r);w.useEffect(()=>{u(e)},[e]),w.useEffect(()=>{f(r)},[r]);const x=j=>{u(j.target.value)},g=()=>{d!==e&&s(e,d,h)},v=j=>{f(j.target.value)},b=()=>{h!==r&&n(e,h)};return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",value:d,onChange:x,onBlur:g,placeholder:"Attribute Name",className:"w-1/2 p-2 border rounded-md text-sm",style:c}),t.jsx("input",{type:"text",value:h,onChange:v,onBlur:b,placeholder:"Attribute Value",className:"w-1/2 p-2 border rounded-md text-sm",style:c}),t.jsx("button",{type:"button",onClick:()=>o(e),className:"p-2 text-red-500 hover:text-red-700",children:t.jsx(ht,{})})]})},ML=({onClose:e})=>{const{isOpen:r,modalConfig:s,isLoading:n,showConfirm:o,hideConfirm:c,handleConfirm:d}=wi(),[u,h]=w.useState([{id:1,name:"Smartphones",slug:"smartphones",description:"Mobile phones and smartphones",productCount:28},{id:2,name:"Laptops",slug:"laptops",description:"Laptops and notebooks",productCount:15},{id:3,name:"Tablets",slug:"tablets",description:"Tablets and iPads",productCount:9},{id:4,name:"Accessories",slug:"accessories",description:"Mobile and laptop accessories",productCount:42},{id:5,name:"Audio",slug:"audio",description:"Headphones, earbuds, and speakers",productCount:23}]),[f,x]=w.useState(!1),[g,v]=w.useState({id:null,name:"",slug:"",description:""}),b=S=>S.toLowerCase().replace(/\s+/g,"-"),j=S=>{const T=S.target.value;v({...g,name:T,slug:b(T)})},k=S=>{v({...g,description:S.target.value})},_=()=>{if(g.name.trim()){if(f)h(u.map(S=>S.id===g.id?{...g,productCount:S.productCount}:S));else{const S=Math.max(...u.map(T=>T.id))+1;h([...u,{...g,id:S,productCount:0}])}v({id:null,name:"",slug:"",description:""}),x(!1)}},C=S=>{v(S),x(!0)},A=()=>{v({id:null,name:"",slug:"",description:""}),x(!1)},R=S=>{const T=u.find(P=>P.id===S);o({title:"Delete Category",message:`Are you sure you want to delete "${T==null?void 0:T.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{try{h(u.filter(P=>P.id!==S)),de.success("Category deleted successfully")}catch(P){console.error("Error deleting category:",P),de.error("Failed to delete category")}}})};return t.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",style:{backdropFilter:"blur(4px)"},children:[t.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Category Management"}),t.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 transition-colors",children:t.jsx(Ze,{size:24})})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-lg)"},children:[t.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:f?"Edit Category":"Add New Category"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"category-name",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Category Name"}),t.jsx("input",{type:"text",id:"category-name",value:g.name,onChange:j,className:"w-full p-2 border rounded-md",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"e.g. Smartphones"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"category-slug",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Slug (Auto-generated)"}),t.jsx("input",{type:"text",id:"category-slug",value:g.slug,readOnly:!0,className:"w-full p-2 border rounded-md bg-gray-50",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)",backgroundColor:"var(--bg-secondary)"},placeholder:"e.g. smartphones"})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"category-description",className:"block text-xs font-medium mb-1",style:{color:"var(--text-secondary)"},children:"Description"}),t.jsx("textarea",{id:"category-description",value:g.description,onChange:k,className:"w-full p-2 border rounded-md",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},placeholder:"Brief description of the category",rows:"2"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[f&&t.jsx("button",{type:"button",onClick:A,className:"px-3 py-1.5 border rounded-md text-xs font-medium",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:"Cancel"}),t.jsxs("button",{type:"button",onClick:_,className:"px-4 py-1.5 rounded-md flex items-center text-xs font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[t.jsx(mt,{size:14,className:"mr-1"}),f?"Update Category":"Add Category"]})]})]}),t.jsx("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-lg)"},children:t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{style:{backgroundColor:"var(--bg-secondary)"},children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Products"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:u.map(S=>t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:S.name}),t.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:S.description})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},children:[S.productCount," products"]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{onClick:()=>C(S),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"Edit Category",children:t.jsx(ul,{size:16})}),t.jsx("button",{onClick:()=>R(S.id),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Category",disabled:S.productCount>0,children:t.jsx(ht,{size:16})})]})})]},S.id))})]})})]}),t.jsxs("div",{className:"p-6 border-t flex justify-end",style:{borderColor:"var(--border-primary)"},children:[t.jsx("button",{onClick:e,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{borderColor:"var(--border-primary)",color:"var(--text-primary)",borderRadius:"var(--rounded-md)"},children:"Close"})," "]})]}),t.jsx(ln,{isOpen:r,onClose:c,onConfirm:d,title:s.title,message:s.message,confirmText:s.confirmText,cancelText:s.cancelText,type:s.type,isLoading:n})]})},zL=({product:e,onClose:r,onEdit:s})=>{var n,o,c,d;return e?t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Product Details"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("button",{onClick:()=>s(e),className:"flex items-center px-3 py-1.5 rounded-md text-sm",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:[t.jsx(vd,{size:16,className:"mr-1"}),"Edit"]}),t.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",children:t.jsx(Ze,{size:24})})]})]}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("div",{className:"mb-3 aspect-square rounded-lg overflow-hidden",children:t.jsx("img",{src:((n=e.images)==null?void 0:n[0])||"https://via.placeholder.com/400",alt:e.name,className:"w-full h-full object-cover"})}),t.jsx("div",{className:"grid grid-cols-5 gap-2",children:(o=e.images)==null?void 0:o.slice(1).map((u,h)=>t.jsx("div",{className:"aspect-square rounded-md overflow-hidden",children:t.jsx("img",{src:u||"https://via.placeholder.com/80",alt:`${e.name} - ${h+2}`,className:"w-full h-full object-cover"})},h))})]}),t.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold mb-1",style:{color:"var(--text-primary)"},children:e.name}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsxs("span",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Brand: ",t.jsx("span",{className:"font-medium",children:e.brand})]}),t.jsx("span",{className:"mx-2",style:{color:"var(--border-primary)"},children:"|"}),t.jsxs("span",{style:{color:"var(--text-secondary)"},className:"text-sm",children:["Category:"," ",t.jsx("span",{className:"font-medium",children:e.category})]})]}),t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsxs("div",{className:"flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(Wr,{className:"fill-current"}),t.jsx("span",{className:"ml-1",children:e.rating})]}),t.jsxs("span",{className:"mx-2 text-sm",style:{color:"var(--text-secondary)"},children:[e.reviews," reviews"]})]}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsxs("span",{className:"text-2xl font-bold mr-3",style:{color:"var(--text-primary)"},children:["₹",(c=e.discount_price)==null?void 0:c.toLocaleString()]}),e.discount&&t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-lg line-through mr-2",style:{color:"var(--text-secondary)"},children:["₹",(d=e.price)==null?void 0:d.toLocaleString()]}),t.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:[e.discount," OFF"]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("span",{className:"text-sm font-medium mb-1 block",style:{color:"var(--text-secondary)"},children:"Stock:"}),t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"px-2 py-1 rounded text-sm font-medium",style:{backgroundColor:e.stock>0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:e.stock>0?"var(--success-color)":"var(--error-color)"},children:e.stock>0?`${e.stock} in stock`:"Out of stock"})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Description"}),t.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:e.description})]}),e.features&&e.features.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Key Features"}),t.jsx("ul",{className:"list-disc pl-5 text-sm space-y-1",style:{color:"var(--text-secondary)"},children:e.features.map((u,h)=>t.jsx("li",{children:u},h))})]})," ",e.specifications&&Object.keys(e.specifications).length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Specifications"}),t.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(e.specifications).map(([u,h])=>t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"font-medium capitalize",style:{color:"var(--text-primary)"},children:[u.replace(/([A-Z])/g," $1").trim(),":"]}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:h})]},u))})]}),e.attributes&&Object.keys(e.attributes).length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text-primary)"},children:"Attributes"}),t.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:Object.entries(e.attributes).map(([u,h])=>t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"font-medium capitalize",style:{color:"var(--text-primary)"},children:[u.replace(/([A-Z])/g," $1").trim(),":"]}),t.jsx("span",{style:{color:"var(--text-secondary)"},children:h})]},u))})]})," ",e.valid_options&&e.valid_options.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium mb-3",style:{color:"var(--text-primary)"},children:"Available Options"}),t.jsx("div",{className:"space-y-3",children:e.valid_options.map((u,h)=>{var f,x;return t.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[u.colors&&t.jsxs("div",{children:[t.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Color:"}),t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:u.colors})]}),u.storage&&t.jsxs("div",{children:[t.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Storage:"}),t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:u.storage})]}),u.ram&&t.jsxs("div",{children:[t.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"RAM:"}),t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:u.ram})]}),u.size&&t.jsxs("div",{children:[t.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Size:"}),t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:u.size})]}),u.resolution&&t.jsxs("div",{children:[t.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Resolution:"}),t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:u.resolution})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-3 border-t",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Price:"}),t.jsxs("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["₹",(f=u.price)==null?void 0:f.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Discounted Price:"}),t.jsxs("p",{className:"text-sm font-medium text-green-600",children:["₹",(x=u.discounted_price)==null?void 0:x.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xs font-medium block mb-1",style:{color:"var(--text-secondary)"},children:"Stock:"}),t.jsxs("p",{className:"text-sm font-medium",style:{color:u.stock>0?"var(--success-color)":"var(--error-color)"},children:[u.stock," units"]})]})]})]},h)})})]}),!e.valid_options&&e.variant&&t.jsxs("div",{className:"space-y-4",children:[e.variant.colors&&e.variant.colors.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Available Colors"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.variant.colors.map(u=>t.jsx("span",{className:"px-3 py-1 text-xs rounded-full",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid",borderColor:"var(--border-primary)"},children:u},u))})]}),e.variant.storage&&e.variant.storage.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Available Storage Options"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.variant.storage.map(u=>t.jsx("span",{className:"px-3 py-1 text-xs rounded-full",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid",borderColor:"var(--border-primary)"},children:u},u))})]})]})]})]})})]})}):null},IL=({product:e,onClose:r,onSave:s})=>{var Y;const[n,o]=w.useState(1),[c,d]=w.useState(!1),{uploadProductImage:u}=vr(),[h,f]=w.useState({name:"",description:"",brand:"",category:"",price:"",discount_price:"",discount:"",stock:"",images:[],specifications:{},attributes:{},features:[],variant:{colors:[],storage:[]},valid_options:[],featured:!1}),x=({initialKey:B,initialValue:D,onKeyCommit:O,onValueChange:F,onDelete:le,styleProps:z})=>{const[re,J]=w.useState(B),[$,ce]=w.useState(D);w.useEffect(()=>{J(B)},[B]),w.useEffect(()=>{ce(D)},[D]);const xe=xt=>{J(xt.target.value)},he=()=>{re!==B&&O(B,re,$)},ie=xt=>{ce(xt.target.value)},Ce=()=>{$!==D&&F(B,$)};return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",value:re,onChange:xe,onBlur:he,placeholder:"Attribute Name",className:"w-1/2 p-2 border rounded-md text-sm",style:z}),t.jsx("input",{type:"text",value:$,onChange:ie,onBlur:Ce,placeholder:"Attribute Value",className:"w-1/2 p-2 border rounded-md text-sm",style:z}),t.jsx("button",{type:"button",onClick:()=>le(B),className:"p-2 text-red-500 hover:text-red-700",children:t.jsx(ht,{})})]})};w.useEffect(()=>{if(e){const B=e.specifications||{},D=Array.isArray(e.features)?e.features:[],O=typeof e.price=="number"?e.price:parseFloat(e.price||0),F=typeof e.discount_price=="number"?e.discount_price:parseFloat(e.discount_price||0),le=typeof e.stock=="number"?e.stock:parseInt(e.stock||0,10);f({name:e.name||"",description:e.description||"",brand:e.brand||"",category:e.category||"",price:O,discount_price:F,discount:e.discount||"",stock:le,images:e.images||[],specifications:B,attributes:e.attributes||{},features:D,variant:e.variant||{colors:[],storage:[]},valid_options:e.valid_options||[],featured:e.featured||!1})}},[e]);const g=B=>{const{name:D,value:O,type:F,checked:le}=B.target;f({...h,[D]:F==="checkbox"?le:O})},v=(B,D)=>{f({...h,specifications:{...h.specifications,[B]:D}})},b=()=>{f({...h,specifications:{...h.specifications,"":""}})},j=B=>{const D={...h.specifications};delete D[B],f({...h,specifications:D})},k=(B,D)=>{f({...h,attributes:{...h.attributes,[B]:D}})},_=(B,D,O)=>{f(F=>{if(B===D)return F;const le={...F.attributes};return Object.prototype.hasOwnProperty.call(le,D)?(de.error(`Attribute key "${D}" already exists. Please use a unique key.`),F):(delete le[B],le[D]=O,{...F,attributes:le})})},C=()=>{f(B=>{const D=B.attributes;let O="",F=O,le=0;for(;Object.prototype.hasOwnProperty.call(D,F);)le++,F=`${O}${le}`;return{...B,attributes:{...D,[F]:""}}})},A=B=>{const D={...h.attributes};delete D[B],f({...h,attributes:D})},R=(B,D)=>{const O=[...h.features];O[B]=D,f({...h,features:O})},S=()=>{f({...h,features:[...h.features,""]})},T=B=>{const D=h.features.filter((O,F)=>F!==B);f({...h,features:D})},P=(B,D,O)=>{const F={...h.variant};F[B][D]=O,f({...h,variant:F})},q=B=>{const D={...h.variant};D[B]=[...D[B]||[],""],f({...h,variant:D})},U=(B,D)=>{const O={...h.variant};O[B]=O[B].filter((F,le)=>le!==D),f({...h,variant:O})},V=()=>{const B={colors:"",storage:"",ram:"",size:"",price:0,discounted_price:0,stock:0};f({...h,valid_options:[...h.valid_options,B]})},M=B=>{const D=h.valid_options.filter((O,F)=>F!==B);f({...h,valid_options:D})},ae=(B,D,O)=>{const F=[...h.valid_options];F[B]={...F[B],[D]:D==="price"||D==="discounted_price"||D==="stock"?parseFloat(O)||0:O},f({...h,valid_options:F})},ne=async B=>{const D=B.target.files[0];if(D){d(!0);try{const O=await u(D);O.success?(f(F=>({...F,images:[...F.images,O.imageUrl].slice(0,5)})),de.info("Image uploaded successfully.")):de.error("Failed to upload image: "+O.message)}catch(O){console.error("Error uploading image:",O),de.error("Failed to upload image: "+O.message)}finally{d(!1)}}},L=B=>{B.preventDefault(),s(h)};return t.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0,0,0,0.3)",backdropFilter:"blur(4px)"},children:t.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[90vh] overflow-y-auto rounded-lg shadow-xl",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("div",{className:"flex justify-between items-center p-6 border-b sticky top-0 z-10",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)"},children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:n===1?"Edit Product - Basic Information":"Edit Product - Details & Media"}),t.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",children:t.jsx(Ze,{size:24})})]}),t.jsx("form",{onSubmit:L,children:n===1?t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Product Name *"}),t.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:g,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Brand *"}),t.jsx("input",{type:"text",id:"brand",name:"brand",value:h.brand,onChange:g,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Category *"}),t.jsxs("select",{id:"category",name:"category",value:h.category,onChange:g,required:!0,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx("option",{value:"",children:"Select a category"}),t.jsx("option",{value:"Smartphone",children:"Smartphone"}),t.jsx("option",{value:"Laptop",children:"Laptop"}),t.jsx("option",{value:"Tablet",children:"Tablet"}),t.jsx("option",{value:"TV",children:"TV"}),t.jsx("option",{value:"Accessories",children:"Accessories"}),t.jsx("option",{value:"Audio",children:"Audio"}),t.jsx("option",{value:"Wearables",children:"Wearables"}),t.jsx("option",{value:"Gaming",children:"Gaming"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"MRP (₹) *"}),t.jsx("input",{type:"number",id:"price",name:"price",value:h.price,onChange:g,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"discount_price",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Selling Price (₹) *"}),t.jsx("input",{type:"number",id:"discount_price",name:"discount_price",value:h.discount_price,onChange:g,required:!0,min:"0",step:"0.01",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Discount %"}),t.jsx("input",{type:"text",id:"discount",name:"discount",value:h.discount,onChange:g,className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Stock Quantity *"}),t.jsx("input",{type:"number",id:"stock",name:"stock",value:h.stock,onChange:g,required:!0,min:"0",step:"1",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:"Description *"}),t.jsx("textarea",{id:"description",name:"description",value:h.description,onChange:g,required:!0,rows:"4",className:"w-full p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}})]})]}),t.jsx("div",{className:"flex justify-end pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),t.jsx("button",{type:"button",onClick:()=>o(2),className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Next: Details & Images"})]})})]}):t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Key Features"}),t.jsxs("button",{type:"button",onClick:S,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Feature"]})]}),h.features.map((B,D)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:B,onChange:O=>R(D,O.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Enter feature"}),t.jsx("button",{type:"button",onClick:()=>T(D),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(ht,{size:16})})]},D))]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Specifications"}),t.jsxs("button",{type:"button",onClick:b,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Specification"]})]}),Object.entries(h.specifications).map(([B,D],O)=>t.jsxs("div",{className:"flex items-center mb-2 gap-2",children:[t.jsx("input",{type:"text",value:B,onChange:F=>{const le={...h.specifications},z=le[B];delete le[B],f({...h,specifications:{...le,[F.target.value]:z}})},className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification name"}),t.jsx("input",{type:"text",value:D,onChange:F=>v(B,F.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Specification value"}),t.jsx("button",{type:"button",onClick:()=>j(B),className:"p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(ht,{size:16})})]},O))," "]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Attributes"}),t.jsxs("button",{type:"button",onClick:C,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Attribute"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-md font-semibold",style:{color:"var(--text-secondary)"},children:"Attributes"}),Object.entries(h.attributes).map(([B,D])=>t.jsx(x,{initialKey:B,initialValue:D,onKeyCommit:_,onValueChange:k,onDelete:A,styleProps:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}},B)),t.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-700",children:[t.jsx(mt,{})," Add Attribute"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Valid Options (Variants with Price & Stock)"}),t.jsxs("button",{type:"button",onClick:V,className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Option"]})]}),h.valid_options.map((B,D)=>t.jsxs("div",{className:"p-3 border rounded-md mb-3",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[t.jsx("input",{type:"text",value:B.colors||"",onChange:O=>ae(D,"colors",O.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color"}),t.jsx("input",{type:"text",value:B.storage||"",onChange:O=>ae(D,"storage",O.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage"}),t.jsx("input",{type:"text",value:B.ram||"",onChange:O=>ae(D,"ram",O.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"RAM"}),t.jsx("input",{type:"text",value:B.size||"",onChange:O=>ae(D,"size",O.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Size/Resolution"})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx("input",{type:"number",value:B.price||"",onChange:O=>ae(D,"price",O.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Price",min:"0",step:"0.01"}),t.jsx("input",{type:"number",value:B.discounted_price||"",onChange:O=>ae(D,"discounted_price",O.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Discounted Price",min:"0",step:"0.01"}),t.jsx("input",{type:"number",value:B.stock||"",onChange:O=>ae(D,"stock",O.target.value),className:"p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Stock",min:"0",step:"1"})]}),t.jsx("button",{type:"button",onClick:()=>M(D),className:"mt-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(ht,{size:16})})]},D))]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Available Colors"}),t.jsxs("button",{type:"button",onClick:()=>q("colors"),className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Color"]})]}),h.variant.colors.map((B,D)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:B,onChange:O=>P("colors",D,O.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Color name"}),t.jsx("button",{type:"button",onClick:()=>U("colors",D),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(ht,{size:16})})]},D))]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Storage Options"}),t.jsxs("button",{type:"button",onClick:()=>q("storage"),className:"text-xs flex items-center",style:{color:"var(--brand-primary)"},children:[t.jsx(mt,{size:14,className:"mr-1"})," Add Storage Option"]})]}),(Y=h.variant.storage)==null?void 0:Y.map((B,D)=>t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("input",{type:"text",value:B,onChange:O=>P("storage",D,O.target.value),className:"flex-grow p-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},placeholder:"Storage option"}),t.jsx("button",{type:"button",onClick:()=>U("storage",D),className:"ml-2 p-1.5 rounded-md",style:{color:"var(--error-color)"},children:t.jsx(ht,{size:16})})]},D))]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Product Images"}),t.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-3",children:[h.images.map((B,D)=>t.jsxs("div",{className:"relative aspect-square border rounded-md overflow-hidden",style:{borderColor:"var(--border-primary)"},children:[t.jsx("img",{src:B,alt:`Product ${D+1}`,className:"w-full h-full object-cover"}),t.jsx("button",{type:"button",onClick:()=>{const O=[...h.images];O.splice(D,1),f({...h,images:O})},className:"absolute top-0 right-0 p-1 bg-black bg-opacity-50 text-white rounded-bl-md",children:t.jsx(Ze,{size:12})})]},D))," ",h.images.length<5&&t.jsxs("div",{className:"aspect-square border rounded-md flex items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors relative",style:{borderColor:"var(--border-primary)",borderStyle:"dashed"},onClick:()=>document.getElementById("image-upload-edit").click(),children:[t.jsx("input",{type:"file",id:"image-upload-edit",accept:"image/*",onChange:ne,className:"hidden"}),t.jsxs("div",{className:"flex flex-col items-center",children:[c?t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}):t.jsx(bp,{size:20,style:{color:"var(--text-secondary)"}}),t.jsx("span",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:c?"Uploading...":"Add Image"})]})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:h.featured,onChange:g,className:"mr-2"}),t.jsx("label",{htmlFor:"featured",className:"text-sm",style:{color:"var(--text-primary)"},children:"Featured product (show on homepage)"})]})]}),t.jsxs("div",{className:"flex justify-between pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsx("button",{type:"button",onClick:()=>o(1),className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Back"}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded-md text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)"},children:"Save Changes"})]})]})]})})]})})},BL=()=>{const[e,r]=w.useState(!1),[s,n]=w.useState(!1),[o,c]=w.useState("all"),[d,u]=w.useState(""),[h,f]=w.useState("newest"),[x,g]=w.useState(null),[v,b]=w.useState(!1),[j,k]=w.useState(!1),{updateProduct:_,addProduct:C,filterAndSortProducts:A,fetchProducts:R}=vr();w.useEffect(()=>{R()},[R]),w.useEffect(()=>{A(o,d,h)},[o,d,h,A]);const S=M=>{f(M.target.value)},T=()=>{c("all"),u(""),f("newest")},P=M=>{g(M),b(!0)},q=M=>{b(!1),g(M),k(!0)},U=async M=>{try{const ae=x.id,L=["name","brand","category","description"].filter(B=>!M[B]);if(L.length>0){console.error(`Missing required fields: ${L.join(", ")}`);return}const Y=await _(ae,M);Y.success?(k(!1),console.log(`Product updated successfully: ${ae}`)):console.error(`Failed to update product: ${Y.message}`)}catch(ae){console.error("Error in update product handler:",ae)}},V=async M=>{try{const ne=["name","brand","category","price","stock","description","images"].filter(Y=>!M[Y]);if(ne.length>0){console.error(`Missing required fields: ${ne.join(", ")}`);return}const L=await C(M);L.success?(r(!1),console.log(`Product added successfully with ID: ${L.product_id}`)):console.error(`Failed to add product: ${L.message}`)}catch(ae){console.error("Error in add product handler:",ae)}};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Product Management"}),t.jsx("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:t.jsxs("button",{onClick:()=>r(!0),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:[t.jsx(mt,{className:"mr-2",size:16}),"Add New Product"]})})]}),t.jsxs("div",{className:"mb-6 flex flex-wrap items-center justify-between gap-4",children:[t.jsx("div",{className:"flex-1 min-w-[240px]",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(wr,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:M=>u(M.target.value),className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"}})]})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("select",{value:o,onChange:M=>c(M.target.value),className:"border rounded-md py-2 px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("option",{value:"all",children:"All Categories"}),t.jsx("option",{value:"Smartphone",children:"Smartphones"}),t.jsx("option",{value:"Laptop",children:"Laptops"}),t.jsx("option",{value:"Tablet",children:"Tablets"}),t.jsx("option",{value:"Accessory",children:"Accessories"})]}),t.jsxs("select",{value:h,onChange:S,className:"border rounded-md py-2 px-3 text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("option",{value:"newest",children:"Sort: Newest"}),t.jsx("option",{value:"price-asc",children:"Sort: Price (Low to High)"}),t.jsx("option",{value:"price-desc",children:"Sort: Price (High to Low)"}),t.jsx("option",{value:"name-asc",children:"Sort: Name (A-Z)"}),t.jsx("option",{value:"stock-asc",children:"Sort: Stock (Low to High)"})]}),t.jsx("button",{onClick:T,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"var(--brand-secondary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"Clear Filters"})]})]}),t.jsx(OL,{onViewProduct:P,onEditProduct:q}),e&&t.jsx(PL,{onClose:()=>r(!1),onSave:V}),s&&t.jsx(ML,{onClose:()=>n(!1)}),v&&x&&t.jsx(zL,{product:x,onClose:()=>b(!1),onEdit:q}),j&&x&&t.jsx(IL,{product:x,onClose:()=>k(!1),onSave:U})]})},dN=_t(()=>({getFilteredInventory:(e,r,s)=>{let c=[...vr.getState().products.list];if(e&&e!=="all"&&(c=c.filter(d=>d.category.toLowerCase()===e.toLowerCase())),r&&r!=="all")switch(r){case"in-stock":c=c.filter(d=>d.stock>5);break;case"low-stock":c=c.filter(d=>d.stock<=5&&d.stock>0);break;case"out-of-stock":c=c.filter(d=>d.stock===0);break}if(s&&s.trim()){const d=s.toLowerCase().trim();c=c.filter(u=>u.name.toLowerCase().includes(d)||u.brand.toLowerCase().includes(d)||u.category.toLowerCase().includes(d))}return c},getLowStockProducts:()=>vr.getState().products.list.filter(s=>s.stock<=5),getOutOfStockProducts:()=>vr.getState().products.list.filter(s=>s.stock===0),updateProductStock:async(e,r)=>{const s=vr.getState();try{return await s.updateProduct(e,{stock:r})}catch(n){return console.error("Error updating product stock:",n),{success:!1,message:"Failed to update stock"}}},bulkUpdateStock:async e=>{const r=vr.getState(),s=[];for(const n of e)try{const o=await r.updateProduct(n.productId,{stock:n.newStock});s.push({...n,success:o.success,message:o.message})}catch{s.push({...n,success:!1,message:"Failed to update stock"})}return s},getInventoryStats:()=>{const r=vr.getState().products.list,s=r.length,n=r.filter(u=>u.stock>5).length,o=r.filter(u=>u.stock<=5&&u.stock>0).length,c=r.filter(u=>u.stock===0).length,d=r.reduce((u,h)=>u+h.stock*parseFloat(h.price||0),0);return{totalProducts:s,inStock:n,lowStock:o,outOfStock:c,totalStockValue:d}},generateSKU:e=>{if(e.sku)return e.sku;const r=e.brand.substring(0,3).toUpperCase(),s=e.name.substring(0,3).toUpperCase(),n=e.category.substring(0,2).toUpperCase();return`${r}-${s}-${n}-${e.id}`}})),UL=({categoryFilter:e,stockFilter:r,searchQuery:s})=>{const[n,o]=w.useState(null),[c,d]=w.useState(""),{products:u,fetchProducts:h}=vr(),{getFilteredInventory:f,updateProductStock:x,generateSKU:g}=dN(),v=S=>{if(!S)return 0;if(S.valid_options&&S.valid_options.length>0){const P=S.valid_options[0],q=P.discounted_price||P.price;return typeof q=="number"?q:0}const T=S.discount_price||S.price;return typeof T=="number"?T:0},b=S=>{if(!S)return 0;if(S.valid_options&&S.valid_options.length>0){const q=S.valid_options[0].price;return typeof q=="number"?q:0}const T=S.price;return typeof T=="number"?T:0},j=S=>{if(!S)return 0;if(S.valid_options&&S.valid_options.length>0)return S.valid_options.reduce((P,q)=>{const U=typeof q.stock=="number"?q.stock:0;return P+U},0);const T=S.stock;return typeof T=="number"?T:0};w.useEffect(()=>{u.list.length===0&&h()},[h,u.list.length]);const k=f(e,r,s),_=(S,T)=>{o(S),d(T.toString())},C=async S=>{const T=parseInt(c,10);if(!isNaN(T)&&T>=0){const P=await x(S,T);P.success?(o(null),d(""),h()):console.error("Failed to update stock:",P.message)}},A=()=>{o(null),d("")},R=(S,T=5)=>S===0?{text:"Out of Stock",bgColor:"#FEF2F2",textColor:"#DC2626",icon:t.jsx(oi,{size:14})}:S<=T?{text:"Low Stock",bgColor:"#FFFBEB",textColor:"#D97706",icon:t.jsx(oi,{size:14})}:{text:"In Stock",bgColor:"#F0FDF4",textColor:"#16A34A",icon:t.jsx(jt,{size:14})};return u.loading?t.jsx("div",{className:"flex justify-center items-center p-8",children:t.jsx("div",{className:"text-lg",children:"Loading inventory data..."})}):u.error?t.jsx("div",{className:"flex justify-center items-center p-8",children:t.jsxs("div",{className:"text-red-600",children:["Error: ",u.error]})}):t.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"SKU"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Current Stock"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Price"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Category"})]})}),t.jsxs("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:[" ",k.filter(S=>S&&S.id).map(S=>{const T=R(j(S),5),P=g(S),q=S.images&&S.images.length>0?S.images[0]:"https://via.placeholder.com/50";return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:t.jsx("img",{src:q,alt:S.name,className:"w-full h-full object-cover",onError:U=>{U.target.src="https://via.placeholder.com/50"}})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:S.name}),t.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:S.brand})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:P})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:n===S.id?t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("input",{type:"number",min:"0",value:c,onChange:U=>d(U.target.value),className:"w-16 text-center p-1 border rounded-md text-sm",style:{borderColor:"var(--border-primary)",borderRadius:"var(--rounded-sm)"},autoFocus:!0,onKeyPress:U=>{U.key==="Enter"?C(S.id):U.key==="Escape"&&A()}}),t.jsx("button",{onClick:()=>C(S.id),className:"ml-2 p-1 rounded-md",style:{backgroundColor:"var(--success-color)",color:"white"},children:t.jsx(bd,{size:16})}),t.jsx("button",{onClick:A,className:"ml-1 p-1 rounded-md",style:{backgroundColor:"var(--error-color)",color:"white"},children:t.jsx(Ze,{size:16})})]}):t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"text-sm font-medium mr-2",style:{color:S.stock===0?"var(--error-color)":S.stock<=5?"var(--warning-color)":"var(--text-primary)"},children:S.stock}),t.jsx("button",{onClick:()=>_(S.id,S.stock),className:"p-1 rounded-md hover:bg-gray-100",title:"Edit stock level",children:t.jsx(ul,{size:14,style:{color:"var(--brand-primary)"}})})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"flex justify-center",children:t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:T.bgColor,color:T.textColor},children:[t.jsx("span",{className:"mr-1",children:T.icon}),T.text]})})})," ",t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["₹",v(S).toLocaleString()]}),b(S)!==v(S)&&t.jsxs("div",{className:"text-xs line-through",style:{color:"var(--text-secondary)"},children:["₹",b(S).toLocaleString()]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:S.category})})]},S.id)})]})]}),k.length===0&&t.jsx("div",{className:"p-8 text-center",style:{color:"var(--text-secondary)"},children:"No products matching your filters"}),t.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[t.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",k.length," products"]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Previous"}),t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--brand-primary)",color:"var(--text-on-brand)",borderRadius:"var(--rounded-md)"},children:"1"}),t.jsx("button",{className:"px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-md)"},disabled:!0,children:"Next"})]})]})]})},FL=({products:e})=>!e||e.length===0?t.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full",style:{backgroundColor:"#F0FDF4"},children:t.jsx(Es,{size:16,style:{color:"#16A34A"}})}),t.jsxs("div",{className:"ml-3",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"All Good!"}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No products are currently low on stock."})]})]})}):t.jsx("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"#FFFBEB",borderColor:"#FDE68A"},children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(oi,{size:20,style:{color:"#D97706"}})}),t.jsxs("div",{className:"ml-3",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"#92400E"},children:"Low Stock Alert"}),t.jsxs("div",{className:"mt-2 text-sm",style:{color:"#B45309"},children:[t.jsxs("p",{children:[e.length," product",e.length>1?"s":""," running low on stock:"]}),t.jsxs("ul",{className:"mt-2 space-y-1",children:[e.slice(0,3).map(r=>t.jsxs("li",{className:"flex justify-between",children:[t.jsx("span",{children:r.name}),t.jsxs("span",{className:"font-medium",children:[r.stock," left"]})]},r.id)),e.length>3&&t.jsxs("li",{className:"font-medium",children:["...and ",e.length-3," more"]})]})]})]})]})}),VL=()=>{const[e,r]=w.useState("all"),[s,n]=w.useState("all"),[o,c]=w.useState(""),{products:d,fetchProducts:u}=vr(),{getLowStockProducts:h,getInventoryStats:f}=dN();w.useEffect(()=>{d.list.length===0&&u()},[u,d.list.length]);const x=h(),g=f(),v=()=>{const b=["Product Name","Brand","Category","Stock","Price","SKU"],j=d.list.map(R=>[R.name,R.brand,R.category,R.stock,R.price,`${R.brand.substring(0,3).toUpperCase()}-${R.name.substring(0,3).toUpperCase()}-${R.category.substring(0,2).toUpperCase()}-${R.id}`]),k=[b,...j].map(R=>R.map(S=>`"${S}"`).join(",")).join(`
`),_=new Blob([k],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),A=URL.createObjectURL(_);C.setAttribute("href",A),C.setAttribute("download",`inventory_${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C)};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Inventory Management"}),t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"Track, update and manage product stock levels"})]}),t.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[t.jsxs("button",{onClick:v,className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx(Ss,{className:"mr-2",size:16}),"Export CSV"]})," "]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Total Products"}),t.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:g.totalProducts})]})})}),t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"In Stock"}),t.jsx("p",{className:"text-2xl font-bold",style:{color:"#16A34A"},children:g.inStock})]})})}),t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Low Stock"}),t.jsx("p",{className:"text-2xl font-bold",style:{color:"#D97706"},children:g.lowStock})]})})}),t.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-primary)"},children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Out of Stock"}),t.jsx("p",{className:"text-2xl font-bold",style:{color:"#DC2626"},children:g.outOfStock})]})})})]}),x.length>0&&t.jsx("div",{className:"mb-6",children:t.jsx(FL,{products:x})}),t.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsx("div",{className:"md:col-span-2",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(wr,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:"text",placeholder:"Search products...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:o,onChange:b=>c(b.target.value)})]})}),t.jsx("div",{children:t.jsxs("div",{className:"flex items-center h-full",children:[t.jsx(va,{className:"mr-2",style:{color:"var(--text-secondary)"}}),t.jsxs("select",{value:e,onChange:b=>r(b.target.value),className:"block w-full py-2 px-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("option",{value:"all",children:"All Categories"}),t.jsx("option",{value:"Smartphone",children:"Smartphones"}),t.jsx("option",{value:"Laptop",children:"Laptops"}),t.jsx("option",{value:"Tablet",children:"Tablets"}),t.jsx("option",{value:"Accessory",children:"Accessories"})]})]})}),t.jsx("div",{children:t.jsx("div",{className:"flex items-center h-full",children:t.jsxs("select",{value:s,onChange:b=>n(b.target.value),className:"block w-full py-2 px-3 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("option",{value:"all",children:"All Stock Levels"}),t.jsx("option",{value:"in-stock",children:"In Stock"}),t.jsx("option",{value:"low-stock",children:"Low Stock"}),t.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]})})})]}),t.jsx(UL,{categoryFilter:e,stockFilter:s,searchQuery:o})]})},HL=({status:e})=>{const r={pending_payment:{bg:"var(--warning-color-light)",color:"var(--warning-color)",icon:t.jsx(Rr,{size:12,className:"mr-1"})},payment_successful:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:t.jsx(Bt,{size:12,className:"mr-1"})},processing:{bg:"var(--info-color-light)",color:"var(--info-color)",icon:t.jsx(Pe,{size:12,className:"mr-1"})},assigned:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)",icon:t.jsx(Ut,{size:12,className:"mr-1"})},shipped:{bg:"var(--brand-primary-light)",color:"var(--brand-primary)",icon:t.jsx(et,{size:12,className:"mr-1"})},delivered:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:t.jsx(Bt,{size:12,className:"mr-1"})},cancelled:{bg:"var(--error-color-light)",color:"var(--error-color)",icon:t.jsx(Ze,{size:12,className:"mr-1"})}},s=r[e]||r.pending_payment;return t.jsxs("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:s.bg,color:s.color},children:[s.icon,e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)]})},qL=({userId:e})=>{const{getCachedUser:r}=Kr(),[s,n]=w.useState(null),[o,c]=w.useState(!0);if(w.useEffect(()=>{(async()=>{try{const h=await r(e);n(h)}catch(h){console.error("Error fetching user:",h),n(null)}finally{c(!1)}})()},[e,r]),o)return t.jsx(ma,{className:"animate-spin",size:14});const d=s?`${s.first_name||""} ${s.last_name||""}`.trim()||s.email||s.username:`User-${e.substring(0,8)}`;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:d}),t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[e.substring(0,12),"..."]})]})},$L=e=>`User-${e.substring(0,8)}`,GL=e=>{try{return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}},YL=({onSelectOrder:e,statusFilter:r,searchQuery:s})=>{const{orders:n}=Kr(),{list:o,loading:c}=n,d=w.useMemo(()=>o.filter(u=>{const h=r==="all"||u.status===r,f=$L(u.user_id),x=!s||u.order_id.toLowerCase().includes(s.toLowerCase())||f.toLowerCase().includes(s.toLowerCase())||u.user_id.toLowerCase().includes(s.toLowerCase());return h&&x}),[o,r,s]);return t.jsx("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:c?t.jsxs("div",{className:"p-8 text-center animate-pulse",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),t.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Order ID"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Customer"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Items"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Total"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Payment"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:d.length>0?d.map(u=>{var h,f,x,g,v,b;return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>e(u),children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[u.order_id.substring(0,8),"..."]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:GL(u.created_at)})})," ",t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx(qL,{userId:u.user_id})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:[((h=u.order_items)==null?void 0:h.length)||0," items"]}),((f=u.order_items)==null?void 0:f.length)>0&&t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:[u.order_items[0].name,u.order_items.length>1&&` +${u.order_items.length-1} more`]})]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["₹",((x=u.total_amount)==null?void 0:x.toLocaleString())||0]}),t.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:u.currency||"INR"})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx(HL,{status:u.status})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:((g=u.payment_details)==null?void 0:g.method)||"N/A"}),t.jsx("div",{className:"text-xs",style:{color:((v=u.payment_details)==null?void 0:v.status)==="captured"?"var(--success-color)":"var(--text-secondary)"},children:((b=u.payment_details)==null?void 0:b.status)||"Pending"})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:t.jsx("div",{className:"flex justify-end space-x-2",children:t.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View Order Details",onClick:j=>{j.stopPropagation(),e(u)},children:t.jsx(yi,{size:18})})})})]},u.order_id)}):t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"px-6 py-8 text-center",children:t.jsx("div",{style:{color:"var(--text-secondary)"},children:s||r!=="all"?"No orders match your filter criteria":"No orders found"})})})})]}),t.jsx("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",d.length," of ",o.length," orders"]})})]})})},WL=({order:e})=>{var M,ae,ne,L,Y,B,D,O,F,le,z,re;const[r,s]=w.useState(!1),[n,o]=w.useState({}),[c,d]=w.useState(!1),[u,h]=w.useState(""),[f,x]=w.useState(null),[g,v]=w.useState(!1),{editOrder:b,assignOrderToDeliveryPartner:j,deliveryPartners:k,fetchDeliveryPartners:_,getCachedUser:C}=Kr();w.useEffect(()=>{e&&o({status:e.status||"",estimated_delivery:e.estimated_delivery||""})},[e]),w.useEffect(()=>{e!=null&&e.user_id&&(v(!0),C(e.user_id).then(J=>{x(J)}).catch(J=>{console.error("Failed to fetch customer data:",J)}).finally(()=>{v(!1)}))},[e==null?void 0:e.user_id,C]),w.useEffect(()=>{c&&k.list.length===0&&_()},[c,k.list.length,_]);const A=async()=>{try{if(!e||!e.user_id||!e.order_id){Ve.error("Order details are incomplete.");return}await b(e.user_id,e.order_id,n),s(!1),Ve.success("Order updated successfully!")}catch(J){Ve.error(J.message||"Failed to update order")}},R=async()=>{if(!u){Ve.error("Please select a delivery partner");return}if(!e||!e.user_id||!e.order_id){Ve.error("Order details are incomplete for assignment.");return}try{await j(e.user_id,e.order_id,u),d(!1),h(""),Ve.success("Delivery partner assigned successfully!")}catch(J){Ve.error(J.message||"Failed to assign delivery partner")}};if(!e)return null;const S={pending_payment:{bg:"var(--warning-color-light)",color:"var(--warning-color)",icon:t.jsx(or,{size:14,className:"mr-1"})},payment_successful:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:t.jsx(Bt,{size:14,className:"mr-1"})},assigned:{bg:"var(--info-color-light)",color:"var(--info-color)",icon:t.jsx(Ut,{size:14,className:"mr-1"})},shipped:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)",icon:t.jsx(et,{size:14,className:"mr-1"})},delivered:{bg:"var(--success-color-light)",color:"var(--success-color)",icon:t.jsx(Bt,{size:14,className:"mr-1"})},cancelled:{bg:"var(--error-color-light)",color:"var(--error-color)",icon:t.jsx(Ze,{size:14,className:"mr-1"})}},T=()=>{if(g)return"Loading...";if(!f)return`User ID: ${e.user_id.substring(0,8)}...`;const{first_name:J="",last_name:$="",email:ce=""}=f;return J||$?`${J} ${$}`.trim():ce.split("@")[0]},P=J=>J?new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not set",q=()=>{if(!e.address)return"No address provided";const{street_address:J,city:$,state:ce,postal_code:xe}=e.address;return`${J}, ${$}, ${ce} ${xe}`},U=()=>{if(!e.payment_details)return"No payment info";const{method:J,card_last4:$,card_network:ce}=e.payment_details;return J==="upi"?"UPI Payment":J==="card"&&$?`${ce||"Card"} ending in ${$}`:(J==null?void 0:J.toUpperCase())||"Unknown"},V=J=>{const $=()=>{const he=["pending_payment","payment_successful","assigned","shipped","delivered"],ie=he.indexOf(e.status),Ce=he.indexOf(J);return e.status==="cancelled"?{iconClass:J==="pending_payment"?"completed":"cancelled",textClass:J==="pending_payment"?"completed":"cancelled"}:Ce<=ie?{iconClass:"completed",textClass:"completed"}:{iconClass:"pending",textClass:"pending"}},{iconClass:ce,textClass:xe}=$();return{icon:ce==="completed"?t.jsx("div",{className:"h-3 w-3 rounded-full ring-4",style:{backgroundColor:"var(--success-color)",boxShadow:"var(--shadow-sm)",borderColor:"var(--success-color-light)"}}):ce==="cancelled"?t.jsx("div",{className:"h-3 w-3 rounded-full ring-4",style:{backgroundColor:"var(--error-color)",boxShadow:"var(--shadow-sm)",borderColor:"var(--error-color-light)"}}):t.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:"var(--border-secondary)"}}),textStyle:{color:xe==="completed"?"var(--text-primary)":xe==="cancelled"?"var(--error-color)":"var(--text-secondary)",fontWeight:xe==="pending"?"normal":"medium"}}};return t.jsxs("div",{className:"h-full rounded-lg shadow-md overflow-hidden animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Order Details"}),t.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Order #",e.order_id.substring(0,8),"..."]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:"px-3 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:((M=S[e.status])==null?void 0:M.bg)||S.pending_payment.bg,color:((ae=S[e.status])==null?void 0:ae.color)||S.pending_payment.color},children:[((ne=S[e.status])==null?void 0:ne.icon)||S.pending_payment.icon,e.status.replace("_"," ").split(" ").map(J=>J.charAt(0).toUpperCase()+J.slice(1)).join(" ")]}),t.jsx(me,{variant:"secondary",size:"sm",icon:t.jsx(vd,{size:14}),onClick:()=>s(!r),children:r?"Cancel":"Edit"})]})]})}),t.jsxs("div",{className:"p-6 space-y-5 overflow-auto",style:{maxHeight:"calc(100vh - 300px)"},children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(Ut,{className:"mr-2",size:16}),"Customer Information"]}),t.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[t.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[t.jsx("strong",{children:"Name:"})," ",T()]}),(f==null?void 0:f.email)&&t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Email:"})," ",f.email]}),((L=e.address)==null?void 0:L.phone_number)&&t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Phone:"})," ",e.address.phone_number]})]})]}),r&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Order Status"}),t.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:t.jsxs("select",{value:n.status,onChange:J=>o($=>({...$,status:J.target.value})),className:"w-full p-2 border rounded text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx("option",{value:"pending_payment",children:"Pending Payment"}),t.jsx("option",{value:"payment_successful",children:"Payment Successful"}),t.jsx("option",{value:"assigned",children:"Assigned"}),t.jsx("option",{value:"shipped",children:"Shipped"}),t.jsx("option",{value:"delivered",children:"Delivered"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:"Delivery Partner"}),!e.assigned_partner_id&&t.jsx(me,{variant:"secondary",size:"sm",icon:t.jsx(Ut,{size:14}),onClick:()=>d(!0),children:"Assign"})]}),t.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:e.assigned_partner_id?`Partner ID: ${e.assigned_partner_id}`:"Not assigned"})})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(wt,{className:"mr-2",size:16}),"Shipping Address"]}),t.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:q()}),((Y=e.address)==null?void 0:Y.type)&&t.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs rounded",style:{backgroundColor:"var(--info-color-light)",color:"var(--info-color)"},children:e.address.type})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(Rr,{className:"mr-2",size:16}),"Payment Information"]}),t.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[t.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[t.jsx("strong",{children:"Method:"})," ",U()]}),((B=e.payment_details)==null?void 0:B.status)&&t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Status:"})," ",e.payment_details.status.charAt(0).toUpperCase()+e.payment_details.status.slice(1)]}),((D=e.payment_details)==null?void 0:D.captured_at)&&t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Captured:"})," ",P(e.payment_details.captured_at)]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(fa,{className:"mr-2",size:16}),"Order Items"]}),t.jsxs("div",{className:"rounded overflow-hidden",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[t.jsx("div",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:(O=e.order_items)==null?void 0:O.map((J,$)=>{var ce,xe;return t.jsx("div",{className:"p-3",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:J.name||"Product Name"}),J.brand&&t.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:["Brand: ",J.brand]}),J.model&&t.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Model: ",J.model]}),t.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:["Qty: ",J.quantity," × ₹",(ce=J.price_at_purchase)==null?void 0:ce.toLocaleString()]})]}),t.jsxs("p",{className:"text-sm font-medium ml-4",style:{color:"var(--text-primary)"},children:["₹",(xe=J.total_item_price)==null?void 0:xe.toLocaleString()]})]})},`${J.product_id}-${$}`)})}),t.jsxs("div",{className:"p-3 flex justify-between font-medium",style:{backgroundColor:"rgba(0, 0, 0, 0.03)",color:"var(--text-primary)"},children:[t.jsx("p",{children:"Total Amount"}),t.jsxs("p",{children:["₹",(F=e.total_amount)==null?void 0:F.toLocaleString()]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:"var(--text-primary)"},children:"Order Timeline"}),t.jsx("div",{className:"space-y-4",children:((z=(le=e.tracking_info)==null?void 0:le.status_history)==null?void 0:z.length)>0?e.tracking_info.status_history.map((J,$,ce)=>{const{icon:xe,textStyle:he}=V(J.status);return t.jsxs("div",{className:"flex",children:[t.jsxs("div",{className:"mr-3 relative",children:[xe,$<ce.length-1&&t.jsx("div",{className:"h-full w-0.5 absolute top-3 left-1.5",style:{backgroundColor:"var(--border-secondary)"}})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm",style:he,children:J.description||J.status.replace("_"," ").split(" ").map(ie=>ie.charAt(0).toUpperCase()+ie.slice(1)).join(" ")}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:P(J.timestamp)})]})]},`${J.status}-${$}`)}):t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"mr-3",children:V("pending_payment").icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm",style:V("pending_payment").textStyle,children:"Order Created"}),t.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:P(e.created_at)})]})]})})]}),((re=e.tracking_info)==null?void 0:re.tracking_number)&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(Pe,{className:"mr-2",size:16}),"Tracking Information"]}),t.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:[t.jsxs("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:[t.jsx("strong",{children:"Tracking Number:"})," ",e.tracking_info.tracking_number]}),e.tracking_info.carrier&&t.jsxs("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Carrier:"})," ",e.tracking_info.carrier]})]})]}),e.estimated_delivery&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center",style:{color:"var(--text-primary)"},children:[t.jsx(et,{className:"mr-2",size:16}),"Estimated Delivery"]}),t.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"var(--bg-secondary)",borderRadius:"var(--rounded-md)"},children:r?t.jsx("input",{type:"datetime-local",value:n.estimated_delivery?new Date(n.estimated_delivery).toISOString().slice(0,16):"",onChange:J=>o($=>({...$,estimated_delivery:J.target.value})),className:"w-full p-2 border rounded text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"}}):t.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:P(e.estimated_delivery)})})]})]}),t.jsx("div",{className:"p-4 border-t flex justify-between space-x-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:r&&t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(me,{variant:"secondary",size:"sm",icon:t.jsx(Cp,{size:16}),onClick:()=>s(!1),children:"Cancel"}),t.jsx(me,{variant:"primary",size:"sm",icon:t.jsx(bd,{size:16}),onClick:A,children:"Save Changes"})]})}),c&&t.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--text-primary)"},children:"Assign Delivery Partner"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Select Delivery Partner"}),t.jsxs("select",{value:u,onChange:J=>h(J.target.value),className:"w-full p-2 border rounded",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)"},children:[t.jsx("option",{value:"",children:"Select a partner..."}),k.list.filter(J=>J.is_verified).map(J=>t.jsxs("option",{value:J.partner_id,children:[J.name," - ",J.email]},J.partner_id))]})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(me,{variant:"secondary",size:"sm",onClick:()=>{d(!1),h("")},children:"Cancel"}),t.jsx(me,{variant:"primary",size:"sm",onClick:R,disabled:!u,children:"Assign Partner"})]})]})})]})},KL=()=>{const[e,r]=w.useState(null),[s,n]=w.useState(""),[o,c]=w.useState("all"),[d,u]=w.useState(!1),{orders:h,fetchOrders:f}=Kr(),{loading:x,statusCounts:g}=h;w.useEffect(()=>{f()},[f]);const v=j=>{r(j),u(!0)},b=()=>{u(!1)};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"Order Management"}),t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"View and manage customer orders"})]}),t.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[t.jsx(me,{variant:"secondary",size:"sm",fullWidth:!1,onClick:f,isLoading:x,icon:t.jsx(Es,{size:16}),children:x?"Refreshing...":"Refresh"}),t.jsxs("button",{className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx(Ss,{className:"mr-2",size:16}),"Export Orders"]})]})]})," ",t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6",children:Object.entries({all:{label:"All Orders",color:"var(--brand-primary)"},pending_payment:{label:"Pending Payment",color:"var(--warning-color)"},payment_successful:{label:"Payment Success",color:"var(--success-color)"},processing:{label:"Processing",color:"var(--info-color)"},assigned:{label:"Assigned",color:"var(--brand-secondary)"},shipped:{label:"Shipped",color:"var(--brand-primary)"},delivered:{label:"Delivered",color:"var(--success-color)"},cancelled:{label:"Cancelled",color:"var(--error-color)"}}).map(([j,{label:k,color:_}])=>t.jsxs("button",{className:`p-4 rounded-lg shadow-sm border transition-all ${o===j?"ring-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-sm)",ringColor:_},onClick:()=>c(j),children:[t.jsx("div",{className:"text-sm font-medium",style:{color:_},children:k}),t.jsx("div",{className:"text-2xl font-bold mt-2",style:{color:"var(--text-primary)"},children:j==="all"?h.list.length:g[j]||0})]},j))}),t.jsx("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:t.jsx("div",{className:"flex-1 min-w-[240px]",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(wr,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:"text",placeholder:"Search orders by ID or customer...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:s,onChange:j=>n(j.target.value)})]})})}),t.jsx("div",{className:"w-full",children:t.jsx(YL,{onSelectOrder:v,statusFilter:o,searchQuery:s})}),d&&e&&t.jsx("div",{className:"fixed inset-0 bg-opacity-90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-lg shadow-2xl max-h-[90vh] overflow-auto",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsx("div",{className:"sticky top-0 z-10",style:{backgroundColor:"var(--bg-primary)"},children:t.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[t.jsx("h2",{className:"text-xl font-semibold",style:{color:"var(--text-primary)"},children:"Order Details"}),t.jsx("button",{onClick:b,className:"text-gray-500 hover:text-gray-700 transition-colors",style:{color:"var(--text-secondary)"},children:t.jsx(Ze,{size:24})})]})}),t.jsx(WL,{order:e})]})})]})},XL=({role:e})=>{const r={admin:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)"},customer:{bg:"var(--info-color-light)",color:"var(--info-color)"},moderator:{bg:"var(--success-color-light)",color:"var(--success-color)"}},s=r[e]||r.customer;return t.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:s.bg,color:s.color},children:e.charAt(0).toUpperCase()+e.slice(1)})},ZL=({status:e})=>{const r={active:{bg:"var(--success-color-light)",color:"var(--success-color)"},inactive:{bg:"var(--border-secondary)",color:"var(--text-secondary)"},banned:{bg:"var(--error-color-light)",color:"var(--error-color)"}},s=r[e]||r.active;return t.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:s.bg,color:s.color},children:e.charAt(0).toUpperCase()+e.slice(1)})},QL=({onSelectUser:e,filterView:r,searchQuery:s})=>{const{users:n,updateUserStatus:o}=Kr(),{list:c,loading:d}=n,u=w.useMemo(()=>c.filter(h=>{const f=r==="all"||r==="customers"&&((h==null?void 0:h.role)==="customer"||!(h!=null&&h.role))||r==="banned"&&((h==null?void 0:h.is_banned)||(h==null?void 0:h.status)==="banned"),x=`${(h==null?void 0:h.first_name)||""} ${(h==null?void 0:h.last_name)||""}`.trim(),g=!s||x.toLowerCase().includes(s.toLowerCase())||(h==null?void 0:h.email.toLowerCase().includes(s.toLowerCase()));return f&&g}),[c,r,s]);return t.jsx("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:d?t.jsxs("div",{className:"p-8 text-center animate-pulse",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mx-auto mb-4"}),t.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Email"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Orders"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:u.length>0?u.map(h=>{var f,x;return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>e(h),children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[" ",t.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-100 border flex-shrink-0",style:{borderColor:"var(--border-primary)"},children:h!=null&&h.avatar?t.jsx("img",{src:h==null?void 0:h.avatar,alt:`${h==null?void 0:h.first_name} ${h==null?void 0:h.last_name}`,className:"h-full w-full object-cover"}):t.jsx("div",{className:"h-full w-full flex items-center justify-center text-lg font-semibold",style:{color:"var(--text-primary)"},children:((f=h==null?void 0:h.first_name)==null?void 0:f.charAt(0).toUpperCase())||((x=h==null?void 0:h.email)==null?void 0:x.charAt(0).toUpperCase())})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:`${(h==null?void 0:h.first_name)||""} ${(h==null?void 0:h.last_name)||""}`.trim()||(h==null?void 0:h.email)}),t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Joined"," ",new Date(h==null?void 0:h.created_at).toLocaleDateString()||"N/A"]})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:h==null?void 0:h.email})})," ",t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx(XL,{role:(h==null?void 0:h.role)||"customer"})})," ",t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx(ZL,{status:h!=null&&h.is_banned?"banned":(h==null?void 0:h.status)||"active"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:[(h==null?void 0:h.orders)||0," orders"]}),t.jsxs("span",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["₹",((h==null?void 0:h.totalSpent)||0).toLocaleString()," total"]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:t.jsxs("div",{className:"flex justify-end space-x-2",onClick:g=>g.stopPropagation(),children:[t.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--brand-primary)"},title:"View User Details",onClick:()=>e(h),children:t.jsx(yi,{size:18})})," ",t.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:h!=null&&h.is_banned?"var(--success-color)":"var(--error-color)"},title:h!=null&&h.is_banned?"Unban User":"Ban User",onClick:()=>o(h==null?void 0:h.id),children:h!=null&&h.is_banned?t.jsx($o,{size:18}):t.jsx(qd,{size:18})})]})})]},h==null?void 0:h.id)}):t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-8 text-center",children:t.jsx("div",{style:{color:"var(--text-secondary)"},children:s||r!=="all"?"No users match your filter criteria":"No users found"})})})})]}),t.jsx("div",{className:"px-6 py-4 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:t.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",u.length," of ",c.length," users"]})})]})})},JL=({user:e})=>{var d,u;const{updateUserStatus:r,users:s}=Kr();if(!e)return null;const n=s.list.find(h=>h.id===e.id)||e,o=h=>{const f={admin:{bg:"var(--brand-secondary-light)",color:"var(--brand-secondary)"},customer:{bg:"var(--info-color-light)",color:"var(--info-color)"}},x=f[h]||f.customer;return t.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:x.bg,color:x.color},children:h.charAt(0).toUpperCase()+h.slice(1)})},c=h=>{const f={active:{bg:"var(--success-color-light)",color:"var(--success-color)"},inactive:{bg:"var(--border-secondary)",color:"var(--text-secondary)"},banned:{bg:"var(--error-color-light)",color:"var(--error-color)"}},x=f[h]||f.active;return t.jsx("span",{className:"px-2 py-1 inline-flex items-center rounded-full text-xs font-semibold",style:{backgroundColor:x.bg,color:x.color},children:h.charAt(0).toUpperCase()+h.slice(1)})};return t.jsxs("div",{className:"h-full rounded-lg shadow-md overflow-hidden animate-fadeIn",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:[t.jsxs("div",{className:"p-6 border-b",style:{borderColor:"var(--border-primary)"},children:[" ",t.jsxs("div",{className:"flex items-center",children:[" ",t.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden bg-gray-100 border-2 flex-shrink-0",style:{borderColor:"var(--border-primary)"},children:n!=null&&n.avatar?t.jsx("img",{src:n==null?void 0:n.avatar,alt:`${n==null?void 0:n.first_name} ${n==null?void 0:n.last_name}`,className:"h-full w-full object-cover"}):t.jsx("div",{className:"h-full w-full flex items-center justify-center text-2xl font-semibold",style:{color:"var(--text-primary)"},children:((d=n==null?void 0:n.first_name)==null?void 0:d.charAt(0).toUpperCase())||((u=n==null?void 0:n.email)==null?void 0:u.charAt(0).toUpperCase())})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:`${(n==null?void 0:n.first_name)||""} ${(n==null?void 0:n.last_name)||""}`.trim()||(n==null?void 0:n.email)}),t.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:n==null?void 0:n.email})," ",t.jsxs("div",{className:"mt-2 flex space-x-2",children:[o((n==null?void 0:n.role)||"customer"),c(n!=null&&n.is_banned?"banned":(n==null?void 0:n.status)||"active")]})]})]})]}),t.jsx("div",{className:"p-6 space-y-5 overflow-auto",style:{maxHeight:"calc(100vh - 300px)"},children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Account Information"}),t.jsxs("div",{className:"rounded divide-y",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[" ",t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Registered"}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:n!=null&&n.created_at?new Date(n.created_at).toLocaleDateString():"N/A"})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Phone Number"}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(n==null?void 0:n.phone_number)||"Not provided"})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Auth Provider"}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(n==null?void 0:n.auth_provider)||"Email"})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Orders"}),t.jsx("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:(n==null?void 0:n.orders)||0})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Total Spent"}),t.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:["₹",((n==null?void 0:n.totalSpent)||0).toLocaleString()]})]})]})]})})," ",t.jsxs("div",{className:"p-4 border-t flex justify-end space-x-3",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border-primary)"},children:[" ",n!=null&&n.is_banned?t.jsx(me,{variant:"primary",size:"sm",icon:t.jsx($o,{size:16}),onClick:()=>r(n==null?void 0:n.id),children:"Unban User"}):t.jsx(me,{variant:"danger",size:"sm",icon:t.jsx(qd,{size:16}),onClick:()=>r(n==null?void 0:n.id),children:"Ban User"})]})]})},eM=()=>{const[e,r]=w.useState(null),[s,n]=w.useState("all"),[o,c]=w.useState(""),{users:d,fetchUsers:u}=Kr(),{list:h,loading:f}=d;w.useEffect(()=>{u()},[u]);const x=[{name:"All Users",value:h.length||0,icon:t.jsx(Np,{size:20}),color:"var(--brand-primary)",view:"all"},{name:"Customers",value:h.filter(g=>g.role==="customer"||!g.role).length||0,icon:t.jsx($o,{size:20}),color:"var(--success-color)",view:"customers"},{name:"Banned Users",value:h.filter(g=>g.status==="banned").length||0,icon:t.jsx(qd,{size:20}),color:"var(--error-color)",view:"banned"}];return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",style:{color:"var(--text-primary)"},children:"User Management"}),t.jsx("p",{className:"mt-1 text-sm",style:{color:"var(--text-secondary)"},children:"Manage customer and admin accounts"})]}),t.jsxs("div",{className:"flex mt-4 sm:mt-0 space-x-3",children:[t.jsx(me,{variant:"secondary",size:"sm",fullWidth:!1,onClick:u,isLoading:f,icon:t.jsx(Es,{size:16}),children:f?"Refreshing...":"Refresh"}),t.jsxs("button",{className:"flex items-center px-4 py-2 rounded-md text-sm font-medium border",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},children:[t.jsx(Ss,{className:"mr-2",size:16}),"Export Users"]})]})]})," ",t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:x.map((g,v)=>t.jsxs("button",{onClick:()=>n(g.view),className:`p-4 rounded-lg shadow-sm border transition-all ${s===g.view?"ring-2":""}`,style:{backgroundColor:"var(--bg-primary)",borderColor:"var(--border-primary)",boxShadow:"var(--shadow-sm)",ringColor:g.color,cursor:"pointer"},children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:`${g.color}20`,color:g.color},children:g.icon}),t.jsx("div",{className:"text-2xl font-bold",style:{color:s===g.view?g.color:"var(--text-primary)"},children:g.value})]}),t.jsx("div",{className:"text-sm font-medium mt-2",style:{color:"var(--text-secondary)"},children:g.name})]},v))}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative w-full md:w-80",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx(wr,{className:"h-5 w-5",style:{color:"var(--text-secondary)"}})}),t.jsx("input",{type:"text",placeholder:"Search users by name or email...",className:"block w-full pl-10 pr-3 py-2 border rounded-md text-sm",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)",borderColor:"var(--border-primary)",borderRadius:"var(--rounded-md)"},value:o,onChange:g=>c(g.target.value)})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsx(QL,{onSelectUser:r,filterView:s,searchQuery:o})}),t.jsx("div",{className:"lg:col-span-1",children:e?t.jsx(JL,{user:e}):t.jsx("div",{className:"rounded-lg shadow-md h-full flex items-center justify-center",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-secondary)",borderRadius:"var(--rounded-lg)",boxShadow:"var(--shadow-medium)"},children:t.jsx("p",{children:"Select a user to view details"})})})]})]})},tM=[{id:"RET-001",orderId:"ORD-12345",customer:"John Smith",items:[{id:1,name:"Product 1",price:49.99,quantity:1,reason:"Defective item"}],requestDate:"2023-05-10",status:"pending",refundAmount:49.99,details:{reason:"Defective item",description:"The product arrived damaged with scratches on the surface.",images:["https://via.placeholder.com/150?text=Damage+Photo"],customerAddress:"123 Main St, New York, NY 10001"},timeline:[{date:"2023-05-10",status:"Return requested",comment:"Customer submitted return request"}]},{id:"RET-002",orderId:"ORD-12346",customer:"Jane Doe",items:[{id:3,name:"Product 3",price:89.99,quantity:1,reason:"Wrong item"}],requestDate:"2023-05-12",status:"approved",refundAmount:89.99,details:{reason:"Wrong item",description:"I ordered the blue version but received the red one.",images:["https://via.placeholder.com/150?text=Wrong+Item"],customerAddress:"456 Broadway, New York, NY 10002"},timeline:[{date:"2023-05-12",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-13",status:"Approved",comment:"Return request approved, shipping label sent"}]},{id:"RET-003",orderId:"ORD-12347",customer:"Mike Johnson",items:[{id:4,name:"Product 4",price:99.99,quantity:1,reason:"Changed mind"},{id:5,name:"Product 5",price:29.99,quantity:2,reason:"Changed mind"}],requestDate:"2023-05-15",status:"rejected",refundAmount:159.97,details:{reason:"Changed mind",description:"I found a better deal elsewhere.",images:[],customerAddress:"789 Park Ave, New York, NY 10003"},timeline:[{date:"2023-05-15",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-16",status:"Rejected",comment:"Return period exceeded (31 days since delivery)"}]},{id:"RET-004",orderId:"ORD-12348",customer:"Sarah Williams",items:[{id:6,name:"Product 6",price:149.95,quantity:1,reason:"Not as described"}],requestDate:"2023-05-17",status:"pending",refundAmount:149.95,details:{reason:"Not as described",description:"Item does not match the specifications listed on website.",images:["https://via.placeholder.com/150?text=Item+Photo"],customerAddress:"101 Lexington Ave, New York, NY 10004"},timeline:[{date:"2023-05-17",status:"Return requested",comment:"Customer submitted return request"}]},{id:"RET-005",orderId:"ORD-12349",customer:"Robert Brown",items:[{id:7,name:"Product 7",price:299.99,quantity:1,reason:"Defective item"}],requestDate:"2023-05-18",status:"approved",refundAmount:299.99,details:{reason:"Defective item",description:"The product is not working properly.",images:["https://via.placeholder.com/150?text=Defective+Item"],customerAddress:"202 5th Ave, New York, NY 10005"},timeline:[{date:"2023-05-18",status:"Return requested",comment:"Customer submitted return request"},{date:"2023-05-19",status:"Approved",comment:"Return request approved, shipping label sent"}]}],rM=({status:e})=>{const r={pending:{bg:"bg-yellow-100",text:"text-yellow-800"},approved:{bg:"bg-green-100",text:"text-green-800"},rejected:{bg:"bg-red-100",text:"text-red-800"},completed:{bg:"bg-blue-100",text:"text-blue-800"}},{bg:s,text:n}=r[e]||r.pending;return t.jsx("span",{className:`px-3 py-1 uppercase text-xs font-bold rounded-full ${s} ${n}`,children:e})},sM=({onSelectReturn:e,filterStatus:r})=>{const[s,n]=w.useState(tM),o=(d,u)=>{n(s.map(h=>h.id===d?{...h,status:u,timeline:[...h.timeline,{date:new Date().toISOString().split("T")[0],status:u.charAt(0).toUpperCase()+u.slice(1),comment:`Return request ${u}`}]}:h))},c=s.filter(d=>r==="all"?!0:d.status===r);return t.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full whitespace-nowrap",children:[t.jsx("thead",{className:"bg-gray-100 text-gray-700 text-sm",children:t.jsxs("tr",{children:[t.jsx("th",{className:"py-3 px-4 text-left",children:"Return ID"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Order ID"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Customer"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Date"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Amount"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Status"}),t.jsx("th",{className:"py-3 px-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(d=>t.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(d),children:[t.jsx("td",{className:"py-3 px-4 text-sm",children:d.id}),t.jsx("td",{className:"py-3 px-4 text-sm",children:d.orderId}),t.jsx("td",{className:"py-3 px-4 text-sm",children:d.customer}),t.jsx("td",{className:"py-3 px-4 text-sm",children:d.requestDate}),t.jsxs("td",{className:"py-3 px-4 text-sm",children:["$",d.refundAmount.toFixed(2)]}),t.jsx("td",{className:"py-3 px-4",children:t.jsx(rM,{status:d.status})}),t.jsx("td",{className:"py-3 px-4 text-right",children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(me,{variant:"secondary",size:"sm",onClick:u=>{u.stopPropagation(),e(d)},children:"View"}),d.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(me,{variant:"primary",size:"sm",onClick:u=>{u.stopPropagation(),o(d.id,"approved")},children:"Approve"}),t.jsx(me,{variant:"danger",size:"sm",onClick:u=>{u.stopPropagation(),o(d.id,"rejected")},children:"Reject"})]}),d.status==="approved"&&t.jsx(me,{variant:"primary",size:"sm",onClick:u=>{u.stopPropagation(),o(d.id,"completed")},children:"Mark Complete"})]})})]},d.id))})]})}),t.jsxs("div",{className:"py-3 px-4 bg-gray-50 text-gray-600 text-sm",children:["Showing ",c.length," returns"]})]})},aM=({return:e})=>{if(!e)return null;const r=s=>{const n={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800"};return n[s]||n.pending};return t.jsxs("div",{className:"bg-white rounded-lg shadow-md h-full",children:[t.jsx("div",{className:"p-6 border-b",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Return Request"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Return #",e.id]})]}),t.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase ${r(e.status)}`,children:e.status})]})}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Request Information"}),t.jsxs("div",{className:"bg-gray-50 rounded divide-y divide-gray-200",children:[t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Order ID"}),t.jsx("span",{className:"text-sm font-medium",children:e.orderId})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Customer"}),t.jsx("span",{className:"text-sm font-medium",children:e.customer})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Request Date"}),t.jsx("span",{className:"text-sm font-medium",children:e.requestDate})]}),t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Refund Amount"}),t.jsxs("span",{className:"text-sm font-medium",children:["$",e.refundAmount.toFixed(2)]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Return Reason"}),t.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[t.jsx("p",{className:"text-sm font-medium",children:e.details.reason}),t.jsx("p",{className:"text-sm text-gray-600 mt-2",children:e.details.description})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Items to Return"}),t.jsx("div",{className:"bg-gray-50 rounded overflow-hidden divide-y divide-gray-200",children:e.items.map(s=>t.jsxs("div",{className:"p-3 flex justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:s.name}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",s.quantity," | Reason: ",s.reason]})]}),t.jsxs("p",{className:"text-sm font-medium",children:["$",(s.price*s.quantity).toFixed(2)]})]},s.id))})]}),e.details.images&&e.details.images.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Images"}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.details.images.map((s,n)=>t.jsx("div",{className:"rounded overflow-hidden border border-gray-200",children:t.jsx("img",{src:s,alt:`Return image ${n+1}`,className:"w-full h-auto"})},n))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Return Timeline"}),t.jsx("div",{className:"space-y-3",children:e.timeline.map((s,n)=>t.jsxs("div",{className:"flex",children:[t.jsxs("div",{className:"mr-3 relative",children:[t.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500 ring-4 ring-blue-100"}),n<e.timeline.length-1&&t.jsx("div",{className:"h-full w-0.5 bg-gray-200 absolute top-3 left-1.5"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",children:s.status}),t.jsx("p",{className:"text-xs text-gray-500",children:s.comment}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s.date})]})]},n))})]})]}),t.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end space-x-3",children:[e.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(me,{variant:"danger",children:"Reject Return"}),t.jsx(me,{variant:"primary",children:"Approve Return"})]}),e.status==="approved"&&t.jsx(me,{variant:"primary",children:"Mark as Completed"}),t.jsx(me,{variant:"secondary",children:"Print Details"})]})]})},nM=()=>{const[e,r]=w.useState(null),[s,n]=w.useState("all");return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Return & Refund Requests"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search requests...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),t.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:s,onChange:o=>n(o.target.value),children:[t.jsx("option",{value:"all",children:"All Requests"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsx(sM,{onSelectReturn:r,filterStatus:s})}),t.jsx("div",{className:"lg:col-span-1",children:e?t.jsx(aM,{return:e}):t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md h-full flex items-center justify-center text-gray-500",children:t.jsx("p",{children:"Select a return request to view details"})})})]}),t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Return Policy"}),t.jsxs("div",{className:"prose max-w-none",children:[t.jsx("p",{children:"Current return policy allows customers to return items within 30 days of delivery for a full refund. Items must be unused and in original packaging."}),t.jsx("h3",{className:"text-md font-semibold mt-4",children:"Return Process:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[t.jsx("li",{children:"Customer submits a return request with reason"}),t.jsx("li",{children:"Admin reviews request and approves/rejects"}),t.jsx("li",{children:"If approved, customer receives return shipping label"}),t.jsx("li",{children:"Once item is received and inspected, refund is processed"}),t.jsx("li",{children:"Customer receives notification when refund is complete"})]})]})]})]})},lx=_t(e=>({reviews:{list:[],loading:!1,error:null},reportedReviews:{list:[],loading:!1,error:null},selectedReview:null,pendingReviews:[],flaggedReviews:[],fetchReviews:async()=>{var r,s;e(n=>({reviews:{...n.reviews,loading:!0,error:null}}));try{const o=(await be.get("/admin/reviews/")).data.reviews.map(u=>({...u,status:u.status||"approved"})),c=o.filter(u=>u.status==="pending"),d=o.filter(u=>u.reported_count>0);return e({reviews:{list:o,loading:!1,error:null},pendingReviews:c,flaggedReviews:d}),{success:!0,data:o}}catch(n){return e(o=>{var c,d;return{reviews:{...o.reviews,loading:!1,error:((d=(c=n.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to fetch reviews"}}}),{success:!1,error:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.error)||"Failed to fetch reviews"}}},fetchReportedReviews:async()=>{var r,s;e(n=>({reportedReviews:{...n.reportedReviews,loading:!0,error:null}}));try{const o=(await be.get("/admin/reviews/reported/")).data.reported_reviews;return e({reportedReviews:{list:o,loading:!1,error:null},flaggedReviews:o}),{success:!0,data:o}}catch(n){return e(o=>{var c,d;return{reportedReviews:{...o.reportedReviews,loading:!1,error:((d=(c=n.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to fetch reported reviews"}}}),{success:!1,error:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.error)||"Failed to fetch reported reviews"}}},deleteReview:async(r,s)=>{var n,o;e(c=>({reviews:{...c.reviews,loading:!0,error:null}}));try{const c=await be.delete(`/admin/reviews/${r}/${s}/delete/`);if(c.status===200)return e(d=>{const u=d.reviews.list.filter(x=>!(x.id===s&&x.product_id===r)),h=u.filter(x=>x.status==="pending"),f=u.filter(x=>x.reported_count>0);return{reviews:{...d.reviews,list:u,loading:!1,error:null},reportedReviews:{...d.reportedReviews,list:d.reportedReviews.list.filter(x=>!(x.id===s&&x.product_id===r))},pendingReviews:h,flaggedReviews:f}}),{success:!0,message:c.data.message,updated_rating:c.data.updated_rating,total_reviews:c.data.total_reviews}}catch(c){return e(d=>{var u,h;return{reviews:{...d.reviews,loading:!1,error:((h=(u=c.response)==null?void 0:u.data)==null?void 0:h.error)||"Failed to delete review"}}}),{success:!1,error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to delete review"}}},updateReviewStatus:async(r,s,n)=>{var o,c;e(d=>({reviews:{...d.reviews,loading:!0,error:null}}));try{const d=await be.patch(`/admin/reviews/${r}/${s}/status/`,{status:n});if(d.status===200)return e(u=>{const h=u.reviews.list.map(g=>g.id===s&&g.product_id===r?{...g,status:n}:g),f=h.filter(g=>g.status==="pending"),x=h.filter(g=>g.reported_count>0);return{reviews:{...u.reviews,list:h,loading:!1,error:null},pendingReviews:f,flaggedReviews:x}}),{success:!0,message:d.data.message||`Review ${n} successfully`}}catch(d){return e(u=>{var h,f;return{reviews:{...u.reviews,loading:!1,error:((f=(h=d.response)==null?void 0:h.data)==null?void 0:f.error)||"Failed to update review status"}}}),{success:!1,error:((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.error)||"Failed to update review status"}}},setSelectedReview:r=>{e({selectedReview:r})},clearSelectedReview:()=>{e({selectedReview:null})},toggleFlaggedStatus:async(r,s)=>{var n,o;e(c=>({reviews:{...c.reviews,loading:!0,error:null}}));try{const c=await be.patch(`/admin/reviews/${r}/${s}/flag/`,{toggle:!0});if(c.status===200){const d=c.data.is_flagged;return e(u=>{const h=u.reviews.list.map(x=>x.id===s&&x.product_id===r?{...x,flagged:d,reported_count:d?x.reported_count||1:0}:x),f=h.filter(x=>x.reported_count>0||x.flagged);return{reviews:{...u.reviews,list:h,loading:!1,error:null},flaggedReviews:f,reportedReviews:{...u.reportedReviews,list:d?[...u.reportedReviews.list,h.find(x=>x.id===s&&x.product_id===r)]:u.reportedReviews.list.filter(x=>!(x.id===s&&x.product_id===r))}}}),{success:!0,message:d?"Review flagged successfully":"Review unflagged successfully",is_flagged:d}}}catch(c){return e(d=>{var u,h;return{reviews:{...d.reviews,loading:!1,error:((h=(u=c.response)==null?void 0:u.data)==null?void 0:h.error)||"Failed to toggle flag status"}}}),{success:!1,error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to toggle flag status"}}}})),iM=({isOpen:e,onClose:r,review:s})=>{var g,v,b,j,k;const{updateReviewStatus:n,deleteReview:o,toggleFlaggedStatus:c}=lx();if(!s)return null;const d=new Date(s.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),u=async()=>{if(window.confirm("Are you sure you want to delete this review?"))try{const _=await o(s.product_id,s.id);_.success?(de.success(_.message||"Review deleted successfully"),r()):de.error(_.error||"Failed to delete review")}catch(_){console.error("Error deleting review:",_),de.error("Failed to delete review")}},h=async _=>{try{const C=await n(s.product_id,s.id,_);C.success?de.success(C.message||`Review ${_} successfully`):de.error(C.error||"Failed to update status")}catch(C){console.error("Error updating status:",C),de.error("Failed to update status")}},f=async()=>{try{const _=await c(s.product_id,s.id);_.success?de.success(_.message):de.error(_.error||"Failed to update flag status")}catch(_){console.error("Error updating flag status:",_),de.error("Failed to update flag status")}},x=_=>{const C=[];for(let A=0;A<5;A++)C.push(t.jsx(Wr,{size:16,className:A<_?"fill-current":"",style:{color:"var(--brand-primary)"}},A));return t.jsx("div",{className:"flex items-center",children:C})};return t.jsx(ix,{isOpen:e,onClose:r,title:"Review Details",size:"lg",actions:t.jsxs("div",{className:"flex space-x-2",children:[s.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>h("approved"),className:"px-4 py-2 rounded text-white text-sm font-medium",style:{backgroundColor:"var(--success-color)"},children:[t.jsx(Bt,{className:"inline-block mr-1"})," Approve"]}),t.jsxs("button",{onClick:()=>h("rejected"),className:"px-4 py-2 rounded text-white text-sm font-medium",style:{backgroundColor:"var(--error-color)"},children:[t.jsx(Ze,{className:"inline-block mr-1"})," Reject"]})]})," ",t.jsxs("button",{onClick:f,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:s.reported_count>0?"var(--error-color)":"transparent",color:s.reported_count>0?"white":"var(--error-color)",border:s.reported_count>0?"none":"1px solid var(--error-color)"},children:[t.jsx(jp,{className:"inline-block mr-1"}),s.reported_count>0?"Remove Flag":"Flag Review"]}),t.jsxs("button",{onClick:u,className:"px-4 py-2 rounded text-sm font-medium",style:{backgroundColor:"transparent",color:"var(--error-color)",border:"1px solid var(--error-color)"},children:[t.jsx(ht,{className:"inline-block mr-1"})," Delete"]})]}),children:t.jsxs("div",{className:"p-4",children:[" ",t.jsxs("div",{className:"flex items-start mb-6",children:[t.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:t.jsx("img",{src:s.productImage||"/public/logo.jpg",alt:s.product_name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"ml-4 flex-grow",children:[t.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:s.product_name}),t.jsxs("div",{className:"flex items-center mt-1",children:[x(s.rating),t.jsxs("span",{className:"ml-2 text-sm",style:{color:"var(--text-secondary)"},children:[s.rating,"/5"]})]}),t.jsxs("div",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:["Product ID: ",s.product_id]})]})]}),t.jsxs("div",{className:"p-4 mb-6 rounded",style:{backgroundColor:"var(--bg-secondary)",borderLeft:"3px solid var(--brand-primary)"},children:[" ",t.jsx("h4",{className:"text-md font-semibold mb-2",style:{color:"var(--text-primary)"},children:s.title||"Review"}),t.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text-primary)"},children:s.comment}),t.jsxs("div",{className:"flex items-center justify-between text-xs",style:{color:"var(--text-secondary)"},children:[t.jsxs("span",{children:[d,s.edited&&t.jsx("span",{className:"ml-2 italic",children:"(edited)"})]}),t.jsxs("span",{children:[((g=s.helpful_users)==null?void 0:g.length)||0," people found this helpful"]})]})]}),t.jsxs("div",{className:"border-t pt-4 mb-4",style:{borderColor:"var(--border-secondary)"},children:[t.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Reviewer Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[" ",t.jsxs("div",{children:[t.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Username"}),t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[((v=s.email)==null?void 0:v.split("@")[0])||"Unknown User",s.is_verified&&t.jsxs("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--success-color)",color:"white"},children:[t.jsx(Bt,{size:10,className:"mr-1"}),"Verified"]})]})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Email"}),t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:s.email})]})]})]}),t.jsxs("div",{className:"border-t pt-4",style:{borderColor:"var(--border-secondary)"},children:[t.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Review Status"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("div",{children:t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:s.status==="approved"?"rgba(16, 185, 129, 0.1)":s.status==="pending"?"rgba(245, 158, 11, 0.1)":"rgba(239, 68, 68, 0.1)",color:s.status==="approved"?"var(--success-color)":s.status==="pending"?"var(--warning-color)":"var(--error-color)"},children:((j=(b=s==null?void 0:s.status)==null?void 0:b.charAt(0))==null?void 0:j.toUpperCase())+((k=s==null?void 0:s.status)==null?void 0:k.slice(1))})})]})," ",t.jsxs("div",{children:[t.jsx("div",{className:"text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Flagged"}),t.jsx("div",{children:s.reported_count>0?t.jsxs("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},children:["Yes (",s.reported_count," ",s.reported_count===1?"report":"reports",")"]}):t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:"No"})})]})]})]})]})})},oM=({activeTab:e="all"})=>{const{reviews:r,updateReviewStatus:s,deleteReview:n,fetchReviews:o}=lx(),{isOpen:c,modalConfig:d,isLoading:u,showConfirm:h,hideConfirm:f,handleConfirm:x}=wi(),[g,v]=w.useState(null),[b,j]=w.useState(!1),k=L=>{v(L),j(!0)},_=()=>{j(!1),v(null)};w.useEffect(()=>{r.list.length===0&&o(),e==="pending"?A("pending"):e==="flagged"?(S(!0),A("all")):(S(!1),A("all"))},[r.list.length,o,e]);const[C,A]=w.useState("all"),[R,S]=w.useState(!1),[T,P]=w.useState(!1),[q,U]=w.useState(0),V=(L,Y)=>{h({title:"Delete Review",message:"Are you sure you want to delete this review? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",onConfirm:async()=>{try{const B=await n(L,Y);B.success?de.success(B.message||"Review deleted successfully"):de.error(B.error||"Failed to delete review")}catch(B){console.error("Error deleting review:",B),de.error("Failed to delete review")}}})},M=r.list.filter(L=>!(C!=="all"&&L.status!==C||R&&L.reported_count<=0||T&&!L.is_verified||q!==0&&L.rating!==q)),ae=L=>{let Y={},B="";switch(L){case"approved":Y={backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},B="Approved";break;case"pending":Y={backgroundColor:"rgba(245, 158, 11, 0.1)",color:"var(--warning-color)"},B="Pending";break;case"rejected":Y={backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--error-color)"},B="Rejected";break;default:Y={backgroundColor:"rgba(107, 114, 128, 0.1)",color:"var(--text-secondary)"},B="Unknown"}return t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full",style:Y,children:B})},ne=L=>{const Y=[];for(let B=0;B<5;B++)Y.push(t.jsx(Wr,{size:12,className:B<L?"fill-current":"",style:{color:"var(--brand-primary)"}},B));return t.jsx("div",{className:"flex items-center",children:Y})};return t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"status-filter",className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsxs("select",{id:"status-filter",className:"rounded-md text-sm px-3 py-2 border",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},value:C,onChange:L=>A(L.target.value),children:[t.jsx("option",{value:"all",children:"All Statuses"}),t.jsx("option",{value:"approved",children:"Approved"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"rating-filter",className:"block text-xs mb-1",style:{color:"var(--text-secondary)"},children:"Rating"}),t.jsxs("select",{id:"rating-filter",className:"rounded-md text-sm px-3 py-2 border",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},value:q,onChange:L=>U(parseInt(L.target.value)),children:[t.jsx("option",{value:"0",children:"All Ratings"}),t.jsx("option",{value:"5",children:"5 Stars"}),t.jsx("option",{value:"4",children:"4 Stars"}),t.jsx("option",{value:"3",children:"3 Stars"}),t.jsx("option",{value:"2",children:"2 Stars"}),t.jsx("option",{value:"1",children:"1 Star"})]})]}),t.jsxs("div",{className:"flex items-end space-x-4",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 mr-2",style:{color:"var(--brand-primary)"},checked:R,onChange:()=>S(!R)}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Flagged Reviews"})]}),t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 mr-2",style:{color:"var(--brand-primary)"},checked:T,onChange:()=>P(!T)}),t.jsx("span",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Verified Purchases"})]})]})]}),t.jsxs("div",{className:"overflow-x-auto rounded-lg shadow",style:{backgroundColor:"var(--bg-primary)",borderRadius:"var(--rounded-lg)"},children:[t.jsxs("table",{className:"min-w-full divide-y",style:{borderColor:"var(--border-primary)"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"var(--bg-secondary)"},children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Product"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Rating"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Review"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium tracking-wider",style:{color:"var(--text-secondary)"},children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:[" ",M.map(L=>{var Y,B;return t.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",style:{backgroundColor:L.reported_count>0?"rgba(239, 68, 68, 0.05)":"transparent"},children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 border",style:{borderColor:"var(--border-primary)"},children:t.jsx("img",{src:L.productImage||"/public/logo.jpg",alt:L.product_name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:L.product_name}),t.jsxs("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Product ID: ",L.product_id]})]})]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:[((Y=L.email)==null?void 0:Y.split("@")[0])||"Unknown User",L.is_verified&&t.jsxs("span",{className:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:"var(--success-color)",color:"white"},children:[t.jsx(Bt,{size:10,className:"mr-1"}),"Verified"]})]}),t.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:L.email})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ne(L.rating)})," ",t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm font-medium mb-1",style:{color:"var(--text-primary)"},children:L.title||"No Title"}),t.jsx("div",{className:"text-xs line-clamp-2",style:{color:"var(--text-secondary)"},children:L.comment}),t.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[t.jsx("span",{className:"font-medium",style:{color:"var(--brand-primary)"},children:((B=L.helpful_users)==null?void 0:B.length)||0})," ","found helpful"]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ae(L.status)})," ",t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:new Date(L.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),t.jsx("div",{className:"text-xs",style:{color:"var(--text-secondary)"},children:new Date(L.created_at).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0})})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--text-secondary)"},title:"View Review",onClick:()=>k(L),children:t.jsx(yi,{size:16})})," ",L.status==="pending"&&t.jsxs(t.Fragment,{children:[" ",t.jsx("button",{onClick:()=>{h({title:"Approve Review",message:"Are you sure you want to approve this review?",confirmText:"Approve",cancelText:"Cancel",type:"success",onConfirm:async()=>{try{const D=await s(L.product_id,L.id,"approved");D.success?de.success(D.message||"Review approved successfully"):de.error(D.error||"Failed to approve review")}catch(D){console.error("Error approving review:",D),de.error("Failed to approve review")}}})},className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--success-color)"},title:"Approve Review",children:t.jsx(Bt,{size:16})}),t.jsx("button",{onClick:()=>{h({title:"Reject Review",message:"Are you sure you want to reject this review?",confirmText:"Reject",cancelText:"Cancel",type:"warning",onConfirm:async()=>{try{const D=await s(L.product_id,L.id,"rejected");D.success?de.success(D.message||"Review rejected successfully"):de.error(D.error||"Failed to reject review")}catch(D){console.error("Error rejecting review:",D),de.error("Failed to reject review")}}})},className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Reject Review",children:t.jsx(Ze,{size:16})})]}),t.jsx("button",{className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",style:{color:"var(--error-color)"},title:"Delete Review",onClick:()=>V(L.product_id,L.id),children:t.jsx(ht,{size:16})})]})})]},L.id)}),M.length===0&&t.jsx("tr",{children:t.jsxs("td",{colSpan:"7",className:"px-6 py-10 text-center text-sm",style:{color:"var(--text-secondary)"},children:[t.jsx("div",{className:"font-medium mb-1",children:"No reviews found"}),t.jsx("div",{className:"text-xs",children:"Try adjusting your filters"})]})})]})]}),t.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t",style:{borderColor:"var(--border-primary)"},children:[" ",t.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",M.length," of ",r.list.length," reviews"]}),t.jsx("div",{className:"flex space-x-1",children:[1,2,3].map(L=>t.jsx("button",{className:"px-3 py-1 text-sm rounded-md",style:{backgroundColor:L===1?"var(--brand-primary)":"var(--bg-secondary)",color:L===1?"var(--text-on-brand)":"var(--text-secondary)"},children:L},L))})," "]})]}),t.jsx(ln,{isOpen:c,onClose:f,onConfirm:x,title:d.title,message:d.message,confirmText:d.confirmText,cancelText:d.cancelText,type:d.type,isLoading:u}),t.jsx(iM,{isOpen:b,onClose:_,review:g})]})},lM=()=>{const[e,r]=w.useState("all"),{reviews:s,pendingReviews:n,flaggedReviews:o,fetchReviews:c}=lx();w.useEffect(()=>{s.list.length===0&&c()},[s.list.length,c]);const d=s.list.filter(b=>b.status==="approved"),u=s.list.filter(b=>b.status==="rejected"),h=s.list.filter(b=>b.is_verified===!0),f=s.list.reduce((b,j)=>b+j.rating,0),x=s.list.length>0?(f/s.list.length).toFixed(1):0,g={total:s.list.length,pending:n.length,approved:d.length,rejected:u.length,flagged:o.length,averageRating:parseFloat(x),verifiedPurchases:h.length},v=[{title:"Total Reviews",value:g.total,icon:t.jsx(wf,{size:20}),color:"var(--brand-primary)"},{title:"Pending Reviews",value:g.pending,icon:t.jsx(va,{size:20}),color:"var(--warning-color)"},{title:"Flagged Reviews",value:g.flagged,icon:t.jsx(jp,{size:20}),color:"var(--error-color)"},{title:"Avg. Rating",value:g.averageRating.toFixed(1),icon:t.jsx(Wr,{size:20}),color:"var(--success-color)"}];return t.jsxs("div",{className:"p-6 max-w-7xl mx-auto animate-fadeIn",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:"Review Management"}),t.jsx("p",{style:{color:"var(--text-secondary)"},children:"Manage customer reviews, approve pending reviews, and address flagged content"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:v.map((b,j)=>t.jsxs("div",{className:"p-4 rounded-lg flex items-center",style:{backgroundColor:"var(--bg-primary)",boxShadow:"var(--shadow-sm)",border:"1px solid var(--border-primary)"},children:[t.jsx("div",{className:"rounded-full p-3 mr-4",style:{backgroundColor:`${b.color}15`,color:b.color},children:b.icon}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:b.title}),t.jsx("div",{className:"text-xl font-bold mt-1",style:{color:"var(--text-primary)"},children:b.value})]})]},j))}),t.jsxs("div",{className:"mb-8 p-5 rounded-lg flex flex-wrap gap-6 justify-between",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-secondary)"},children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:t.jsx(jt,{size:18})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Approved Reviews"}),t.jsxs("div",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[g.approved,t.jsxs("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",Math.round(g.approved/g.total*100),"%)"]})]})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(16, 185, 129, 0.1)",color:"var(--success-color)"},children:t.jsx(jt,{size:18})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Verified Purchase Reviews"}),t.jsxs("div",{className:"text-lg font-semibold",style:{color:"var(--text-primary)"},children:[g.verifiedPurchases,t.jsxs("span",{className:"ml-2 text-sm font-normal",style:{color:"var(--text-secondary)"},children:["(",Math.round(g.verifiedPurchases/g.total*100),"%)"]})]})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"mr-3 p-2 rounded-full",style:{backgroundColor:"rgba(245, 158, 11, 0.1)",color:"var(--warning-color)"},children:t.jsx(wf,{size:18})}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Rating Distribution"}),t.jsx("div",{className:"flex items-center mt-1",children:[5,4,3,2,1].map(b=>t.jsxs("div",{className:"flex flex-col items-center mx-1",children:[t.jsx("div",{className:"h-10 w-4 rounded-t-sm",style:{backgroundColor:b>3?"var(--success-color)":b>1?"var(--warning-color)":"var(--error-color)",opacity:.7,height:`${25+b*8}px`}}),t.jsxs("div",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:[b,"★"]})]},b))})]})]})]}),t.jsx("div",{className:"mb-6 border-b",style:{borderColor:"var(--border-secondary)"},children:t.jsxs("div",{className:"flex space-x-6",children:[t.jsx("button",{onClick:()=>r("all"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${e==="all"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--brand-primary)",color:e==="all"?"var(--brand-primary)":"var(--text-secondary)"},children:"All Reviews"}),t.jsxs("button",{onClick:()=>r("pending"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${e==="pending"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--warning-color)",color:e==="pending"?"var(--warning-color)":"var(--text-secondary)"},children:["Pending Reviews",t.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:e==="pending"?"var(--warning-color)":"rgba(245, 158, 11, 0.1)",color:e==="pending"?"white":"var(--warning-color)"},children:g.pending})]}),t.jsxs("button",{onClick:()=>r("flagged"),className:`py-3 px-1 text-sm font-medium border-b-2 transition-colors ${e==="flagged"?"border-opacity-100":"border-transparent"}`,style:{borderColor:"var(--error-color)",color:e==="flagged"?"var(--error-color)":"var(--text-secondary)"},children:["Flagged Reviews",t.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:e==="flagged"?"var(--error-color)":"rgba(239, 68, 68, 0.1)",color:e==="flagged"?"white":"var(--error-color)"},children:g.flagged})]})]})})," ",t.jsx(oM,{activeTab:e})]})},cM=({positionOptions:e})=>{const{banners:r,loading:s,error:n,fetchBanners:o,addBanner:c,editBanner:d,deleteBanner:u,toggleBannerActive:h}=Kd(),[f,x]=w.useState(null),[g,v]=w.useState(null),[b,j]=w.useState(!1),[k,_]=w.useState(!1),[C,A]=w.useState({title:"",subtitle:"",description:"",image:"",link:"",position:"hero",tag:"",cta:"",backgroundColor:"#ffffff",active:!0}),[R,S]=w.useState(null),[T,P]=w.useState(null),[q,U]=w.useState(null),[V,M]=w.useState(null),[ae,ne]=w.useState(!1);w.useEffect(()=>{o()},[o]);const L=$=>{const ce=$.target.files[0];if(ce){S(ce);const xe=new FileReader;xe.onload=he=>P(he.target.result),xe.readAsDataURL(ce)}},Y=$=>{const ce=$.target.files[0];if(ce){U(ce);const xe=new FileReader;xe.onload=he=>M(he.target.result),xe.readAsDataURL(ce)}},B=()=>{A({title:"",subtitle:"",description:"",image:"",link:"",position:"hero",tag:"",cta:"",backgroundColor:"#ffffff",active:!0}),S(null),P(null)},D=()=>{x(null),U(null),M(null)},O=async $=>{await h($)},F=$=>{x($),M($.image),ne(!1)},le=async()=>{const $=new FormData;Object.keys(f).forEach(ce=>{ce!=="id"&&f[ce]!==null&&f[ce]!==void 0&&$.append(ce,f[ce])}),q&&$.append("image_file",q),await d(f.id,$),D()},z=async()=>{if(!R){ye.info("Please select an image file");return}const $=new FormData;Object.keys(C).forEach(ce=>{ce!=="image"&&C[ce]!==null&&C[ce]!==void 0&&$.append(ce,C[ce])}),$.append("image_file",R),await c($),B(),ne(!1)},re=$=>{v($),j(!0)},J=async()=>{try{_(!0),await u(g.id),j(!1)}catch($){console.error("Error deleting banner:",$)}finally{_(!1)}};return t.jsxs("div",{className:"space-y-6",children:[s&&t.jsxs("div",{className:"text-center py-4",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),t.jsx("span",{className:"ml-2",children:"Loading banners..."})]}),n&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:n}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Manage Banners"})," ",t.jsx(me,{variant:"primary",onClick:()=>{ae?(B(),ne(!1)):(ne(!0),D())},children:ae?"Cancel":"Add New Banner"})]})," ",ae&&t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Add New Banner"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:C.title,onChange:$=>A({...C,title:$.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:C.subtitle,onChange:$=>A({...C,subtitle:$.target.value})})]})," ",t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Upload"}),t.jsx("input",{type:"file",accept:"image/*",className:"w-full p-2 border border-gray-300 rounded-md",onChange:L,required:!0}),T&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:T,alt:"Preview",className:"h-24 w-48 object-cover rounded border"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:C.link,onChange:$=>A({...C,link:$.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),t.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:C.position,onChange:$=>A({...C,position:$.target.value}),children:e.map($=>t.jsx("option",{value:$.value,children:$.label},$.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:C.tag,onChange:$=>A({...C,tag:$.target.value}),placeholder:"e.g., SALE, NEW, LIMITED"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call to Action"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:C.cta,onChange:$=>A({...C,cta:$.target.value}),placeholder:"e.g., Shop Now, Learn More"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),t.jsx("input",{type:"color",className:"w-full p-1 border border-gray-300 rounded-md h-10",value:C.backgroundColor,onChange:$=>A({...C,backgroundColor:$.target.value})})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:C.description,onChange:$=>A({...C,description:$.target.value}),rows:3})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:C.active,onChange:$=>A({...C,active:$.target.checked}),className:"mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(me,{variant:"primary",onClick:z,children:"Add Banner"})})]})," ",f&&t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Edit Banner"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.title||"",onChange:$=>x({...f,title:$.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.subtitle||"",onChange:$=>x({...f,subtitle:$.target.value})})]})," ",t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Upload"}),t.jsx("input",{type:"file",accept:"image/*",className:"w-full p-2 border border-gray-300 rounded-md",onChange:Y}),V&&t.jsxs("div",{className:"mt-2",children:[t.jsx("img",{src:V,alt:"Current/Preview",className:"h-24 w-48 object-cover rounded border"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:q?"New image preview":"Current image"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.link||"",onChange:$=>x({...f,link:$.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),t.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:f.position||"hero",onChange:$=>x({...f,position:$.target.value}),children:e.map($=>t.jsx("option",{value:$.value,children:$.label},$.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tag"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.tag||"",onChange:$=>x({...f,tag:$.target.value}),placeholder:"e.g., SALE, NEW, LIMITED"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call to Action"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.cta||"",onChange:$=>x({...f,cta:$.target.value}),placeholder:"e.g., Shop Now, Learn More"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Background Color"}),t.jsx("input",{type:"color",className:"w-full p-1 border border-gray-300 rounded-md h-10",value:f.backgroundColor||"#ffffff",onChange:$=>x({...f,backgroundColor:$.target.value})})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:f.description||"",onChange:$=>x({...f,description:$.target.value}),rows:3})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:f.active,onChange:$=>x({...f,active:$.target.checked}),className:"mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})})]})," ",t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(me,{variant:"secondary",onClick:D,children:"Cancel"}),t.jsx(me,{variant:"primary",onClick:le,children:"Save Changes"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full whitespace-nowrap",children:[t.jsx("thead",{className:"bg-gray-100 text-gray-700 text-sm",children:t.jsxs("tr",{children:[t.jsx("th",{className:"py-3 px-4 text-left",children:"Banner"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Details"}),t.jsx("th",{className:"py-3 px-4 text-left",children:"Position"}),t.jsx("th",{className:"py-3 px-4 text-center",children:"Status"}),t.jsx("th",{className:"py-3 px-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map($=>{var ce;return t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsx("img",{src:$.image,alt:$.title,className:"h-24 w-48 object-cover rounded"})})," ",t.jsxs("td",{className:"py-3 px-4",children:[t.jsx("h3",{className:"font-medium",children:$.title}),$.subtitle&&t.jsx("p",{className:"text-sm text-gray-600",children:$.subtitle}),t.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:$.description}),$.link&&t.jsx("a",{href:$.link,className:"text-xs text-blue-500 hover:underline",target:"_blank",rel:"noopener noreferrer",children:$.link}),$.tag&&t.jsx("span",{className:"inline-block mt-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:$.tag})]}),t.jsx("td",{className:"py-3 px-4",children:((ce=e.find(xe=>xe.value===$.position))==null?void 0:ce.label)||$.position}),t.jsx("td",{className:"py-3 px-4 text-center",children:t.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${$.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:$.active?"Active":"Inactive"})}),t.jsx("td",{className:"py-3 px-4 text-right",children:t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(me,{variant:"secondary",size:"sm",onClick:()=>F($),children:"Edit"}),t.jsx(me,{variant:$.active?"danger":"primary",size:"sm",onClick:()=>O($.id),children:$.active?"Deactivate":"Activate"})," ",t.jsx(me,{variant:"danger",size:"sm",onClick:()=>re($),children:"Delete"})]})})]},$.id)})})]})})," ",r.length===0&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"No banners found. Add your first banner!"})}),t.jsx(ln,{isOpen:b,onClose:()=>j(!1),onConfirm:J,title:"Delete Banner",message:g?`Are you sure you want to delete the banner "${g.title}"? This action cannot be undone.`:"Are you sure you want to delete this banner?",confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:k})]})},dM=()=>{const[e,r]=w.useState(null),[s,n]=w.useState(null),{logo:o,loading:c,error:d,fetchLogo:u,uploadLogo:h,clearError:f}=_j();w.useEffect(()=>{u().catch(()=>{ye.error("Failed to fetch current logo")})},[u]),w.useEffect(()=>{d&&(ye.error(d),f())},[d,f]);const x=v=>{const b=v.target.files[0];if(b){r(b);const j=new FileReader;j.onloadend=()=>{n(j.result)},j.readAsDataURL(b)}},g=async()=>{if(!e){ye.error("Please select a logo file");return}const v=new FormData;v.append("logo",e);try{await h(v),ye.success("Logo updated successfully"),r(null),n(null)}catch{}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Shop Logo"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload your shop's logo. This will be displayed in the header and other places."})]}),o&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Logo"}),t.jsx("div",{className:"w-32 h-32 rounded-lg border border-gray-200 overflow-hidden",children:t.jsx("img",{src:o,alt:"Current logo",className:"w-full h-full object-contain"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Upload New Logo"}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo File"}),t.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"w-full p-2 border border-gray-300 rounded-md text-sm"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: PNG or JPEG, max 2MB"})]}),s&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Preview"}),t.jsx("div",{className:"w-24 h-24 rounded-lg border border-gray-200 overflow-hidden",children:t.jsx("img",{src:s,alt:"New logo preview",className:"w-full h-full object-contain"})})]})]}),t.jsx("div",{className:"mt-4",children:t.jsx(me,{variant:"primary",onClick:g,isLoading:c,disabled:!e||c,children:c?"Uploading...":"Upload New Logo"})})]})]})},uM=()=>{const{categories:e,fetchCategories:r,addCategory:s,editCategory:n,uploadCategoryImage:o}=eN(),[c,d]=w.useState(null),[u,h]=w.useState(!1),[f,x]=w.useState({name:"",image_url:"",redirect_url:"",order:0}),[g,v]=w.useState(!1),b=w.useRef(null);w.useEffect(()=>{r()},[r]);const j=async S=>{const T=S.target.files[0];if(T){h(!0);try{const P=await o(T);P.success?(c?d({...c,image_url:P.imageUrl}):x({...f,image_url:P.imageUrl}),de.success("Image uploaded successfully")):de.error("Failed to upload image: "+P.message)}catch(P){console.error("Error uploading image:",P),de.error("Failed to upload image: "+P.message)}finally{h(!1)}}},k=S=>{d({...S}),v(!1)},_=async()=>{if(!c.name){de.error("Category name is required");return}const S=await n(c.id,{name:c.name,image_url:c.image_url,redirect_url:c.redirect_url||"",order:c.order||0});S.success?(de.success(S.message||"Category updated successfully"),d(null)):de.error(S.error||"Failed to update category")},C=async()=>{if(!f.name){de.error("Category name is required");return}const S=await s({name:f.name,image_url:f.image_url||"",redirect_url:f.redirect_url||"",order:f.order||0});S.success?(de.success(S.message||"Category added successfully"),x({name:"",image_url:"",redirect_url:"",order:0}),v(!1)):de.error(S.error||"Failed to add category")},A=async(S,T)=>{const P=[...e.list].sort((U,V)=>U.order-V.order),q=P.findIndex(U=>U.id===S.id);if(T==="up"&&q>0){const U=P[q-1],V=U.order;await n(S.id,{...S,order:V}),await n(U.id,{...U,order:S.order}),r()}else if(T==="down"&&q<P.length-1){const U=P[q+1],V=U.order;await n(S.id,{...S,order:V}),await n(U.id,{...U,order:S.order}),r()}},R=[...e.list||[]].sort((S,T)=>(S.order||0)-(T.order||0));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Manage Categories"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(me,{variant:"outline",onClick:()=>r(),className:"flex items-center gap-1",children:[t.jsx(Es,{size:16})," Refresh"]}),t.jsx(me,{variant:"primary",onClick:()=>{v(!g),d(null)},children:g?"Cancel":"Add New Category"})]})]}),g&&t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Add New Category"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.name,onChange:S=>x({...f,name:S.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"})," ",t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-l-md",value:f.image_url||"",onChange:S=>x({...f,image_url:S.target.value}),disabled:u}),t.jsx("input",{type:"file",ref:b,className:"hidden",accept:"image/*",onChange:j,disabled:u}),t.jsx("button",{type:"button",onClick:()=>b.current.click(),className:"px-3 bg-blue-500 text-white rounded-r-md flex items-center",disabled:u,children:u?t.jsx("span",{className:"flex items-center",children:t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):t.jsx(m0,{})})]}),u&&t.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Uploading image..."}),f.image_url&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:f.image_url,alt:"Category preview",className:"h-16 w-auto"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Redirect URL"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:f.redirect_url||"",onChange:S=>x({...f,redirect_url:S.target.value}),placeholder:"/products/category-name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),t.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:f.order||0,onChange:S=>x({...f,order:parseInt(S.target.value)||0}),min:"0",step:"1"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(me,{variant:"primary",onClick:C,disabled:!f.name,children:"Add Category"})})]}),c&&t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[t.jsx("h3",{className:"font-medium",children:"Edit Category"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:c.name,onChange:S=>d({...c,name:S.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"})," ",t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-l-md",value:c.image_url||"",onChange:S=>d({...c,image_url:S.target.value}),disabled:u}),t.jsx("input",{type:"file",ref:b,className:"hidden",accept:"image/*",onChange:j,disabled:u}),t.jsx("button",{type:"button",onClick:()=>b.current.click(),className:"px-3 bg-blue-500 text-white rounded-r-md flex items-center",disabled:u,children:u?t.jsx("span",{className:"flex items-center",children:t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):t.jsx(m0,{})})]}),u&&t.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"Uploading image..."}),c.image_url&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:c.image_url,alt:"Category preview",className:"h-16 w-auto"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Redirect URL"}),t.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:c.redirect_url||"",onChange:S=>d({...c,redirect_url:S.target.value}),placeholder:"/products/category-name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),t.jsx("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:c.order||0,onChange:S=>d({...c,order:parseInt(S.target.value)||0}),min:"0",step:"1"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers appear first"})]})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(me,{variant:"outline",onClick:()=>d(null),children:"Cancel"}),t.jsx(me,{variant:"primary",onClick:_,disabled:!c.name,children:"Save Changes"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Redirect URL"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map((S,T)=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-sm text-gray-900 mr-3",children:S.order||0}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("button",{onClick:()=>A(S,"up"),disabled:T===0,className:`text-gray-500 hover:text-gray-700 ${T===0?"opacity-30":""}`,title:"Move up",children:t.jsx(vp,{size:14})}),t.jsx("button",{onClick:()=>A(S,"down"),disabled:T===R.length-1,className:`text-gray-500 hover:text-gray-700 ${T===R.length-1?"opacity-30":""}`,title:"Move down",children:t.jsx(Fd,{size:14})})]})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S.image_url?t.jsx("img",{src:S.image_url,alt:S.name,className:"h-10 w-10 object-cover rounded-md"}):t.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-md flex items-center justify-center",children:t.jsx("span",{className:"text-xs text-gray-500",children:"No image"})})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:S.redirect_url||"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:t.jsx("button",{onClick:()=>k(S),className:"text-blue-600 hover:text-blue-900",children:"Edit"})})]},S.id))})]})}),e.loading&&t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-gray-500",children:"Loading categories..."})}),!e.loading&&e.list.length===0&&t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-gray-500",children:"No categories found"})}),e.error&&t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-red-500",children:e.error})})]})},mM=[{value:"hero",label:"Hero Banner (Top)"},{value:"carousel",label:"Banner Carousel"},{value:"home-middle",label:"Home Middle Section"},{value:"home-bottom",label:"Home Bottom Section"},{value:"category-top",label:"Category Page Top"},{value:"sidebar",label:"Sidebar"}],hM=()=>{const[e,r]=w.useState("logo");return t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Content Management"})}),t.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"flex border-b",children:[t.jsx("button",{className:`px-6 py-3 font-medium ${e==="logo"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>r("logo"),children:"Logo"}),t.jsx("button",{className:`px-6 py-3 font-medium ${e==="banners"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>r("banners"),children:"Banners"}),t.jsx("button",{className:`px-6 py-3 font-medium ${e==="categories"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>r("categories"),children:"Categories"})]}),t.jsxs("div",{className:"p-6",children:[e==="banners"&&t.jsx(cM,{positionOptions:mM}),e==="logo"&&t.jsx(dM,{}),e==="categories"&&t.jsx(uM,{})]})]})]})},fM=()=>{const e=Zt(),{adminLogin:r,error:s,clearError:n,isLoading:o}=ox(),[c,d]=w.useState({username:"",password:""}),[u,h]=w.useState({}),f=v=>{const{name:b,value:j}=v.target;d(k=>({...k,[b]:j})),u[b]&&h(k=>({...k,[b]:""})),s&&n()},x=()=>{const v={};return c.username.trim()||(v.username="Username is required"),c.password||(v.password="Password is required"),h(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),!!x())try{await r(c),e("/admin/dashboard")}catch(b){console.error("Admin login failed:",b)}};return t.jsxs(ws,{title:"Admin Portal Login",children:[t.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Sign in to manage the application."}),t.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[t.jsxs("div",{className:"rounded-md space-y-5",children:[t.jsx(Fe,{label:"Username",type:"text",name:"username",value:c.username,onChange:f,required:!0,error:u.username,placeholder:"admin",icon:"user"}),t.jsx(Fe,{label:"Password",type:"password",name:"password",value:c.password,onChange:f,required:!0,error:u.password,placeholder:"••••••••",icon:"lock"})]}),s&&t.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded-md",children:s}),t.jsx("div",{className:"pt-2",children:t.jsx(me,{type:"submit",isLoading:o,variant:"primary",size:"lg",fullWidth:!0,children:o?"Signing in...":"Sign in"})}),t.jsx("div",{className:"text-sm text-center mt-4",children:t.jsx(pe,{to:"/admin/register",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors duration-200",children:"Create an admin account"})})]})]})},pM=()=>{const e=Zt(),{adminRegister:r,error:s,clearError:n,isLoading:o}=ox(),[c,d]=w.useState({username:"",password:"",secretKey:""}),[u,h]=w.useState({}),f=v=>{const{name:b,value:j}=v.target;d(k=>({...k,[b]:j})),u[b]&&h(k=>({...k,[b]:""})),s&&n()},x=()=>{const v={};return c.username.trim()||(v.username="Username is required"),c.password?c.password.length<6&&(v.password="Password must be at least 6 characters"):v.password="Password is required",c.secretKey.trim()||(v.secretKey="Secret Key is required"),h(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),!!x())try{await r({username:c.username,password:c.password,secretKey:c.secretKey}),e("/admin/login")}catch(b){console.error("Admin registration failed:",b)}};return t.jsxs(ws,{title:"Create Admin Account",children:[t.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:"Register to gain administrative access."}),t.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[t.jsxs("div",{className:"rounded-md space-y-5",children:[t.jsx(Fe,{label:"Username",type:"text",name:"username",value:c.username,onChange:f,required:!0,error:u.username,placeholder:"admin",icon:"user"}),t.jsx(Fe,{label:"Password",type:"password",name:"password",value:c.password,onChange:f,required:!0,error:u.password,placeholder:"••••••••",icon:"lock"}),t.jsx(Fe,{label:"Secret Key",type:"password",name:"secretKey",value:c.secretKey,onChange:f,required:!0,error:u.secretKey,placeholder:"Enter your secret key",icon:"key"})]}),s&&t.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded-md",children:s}),t.jsx("div",{className:"pt-2",children:t.jsx(me,{type:"submit",isLoading:o,variant:"primary",size:"lg",fullWidth:!0,children:o?"Creating Account...":"Create Account"})}),t.jsxs("div",{className:"text-sm text-center mt-4",children:["Already have an admin account?"," ",t.jsx(pe,{to:"/admin/login",className:"font-medium text-teal-600 hover:text-teal-500 transition-colors duration-200",children:"Sign in"})]})]})]})},xM=()=>{const{deliveryPartners:e,fetchDeliveryPartners:r,verifyDeliveryPartner:s}=Kr(),[n,o]=w.useState(""),[c,d]=w.useState("all"),[u,h]=w.useState(!1),[f,x]=w.useState(null);w.useEffect(()=>{r().catch(j=>{Ve.error("Failed to load delivery partners"),console.error("Error fetching delivery partners:",j)})},[r]);const g=j=>{x(j),h(!0)},v=async()=>{f&&(Ve.promise(s(f.partner_id),{loading:`Verifying ${f.name}...`,success:`${f.name} has been verified successfully!`,error:`Failed to verify ${f.name}`}),h(!1))},b=e.list.filter(j=>{const k=j.name.toLowerCase().includes(n.toLowerCase())||j.email.toLowerCase().includes(n.toLowerCase())||j.phone.includes(n);return c==="all"?k:c==="verified"?k&&j.is_verified:c==="unverified"?k&&!j.is_verified:k});return t.jsxs("div",{className:"animate-fadeIn",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Delivery Partners"})," ",t.jsxs("button",{onClick:()=>{Ve.promise(r(),{loading:"Refreshing partners list...",success:"Partners list updated!",error:"Failed to refresh partners"})},className:"flex items-center bg-brand-primary text-white px-4 py-2 rounded-md hover:bg-opacity-90 transition-all duration-200",children:[t.jsx(Es,{className:"mr-2"}),"Refresh"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[t.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 rounded-full bg-blue-100 mr-4",children:t.jsx(Ut,{className:"text-blue-500",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Total Partners"}),t.jsx("p",{className:"text-2xl font-bold",children:e.list.length})]})]})}),t.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 rounded-full bg-green-100 mr-4",children:t.jsx(Bt,{className:"text-green-500",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Verified Partners"}),t.jsx("p",{className:"text-2xl font-bold",children:e.list.filter(j=>j.is_verified).length})]})]})}),t.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-3 rounded-full bg-yellow-100 mr-4",children:t.jsx(Ze,{className:"text-yellow-500",size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Pending Verification"}),t.jsx("p",{className:"text-2xl font-bold",children:e.list.filter(j=>!j.is_verified).length})]})]})})]}),t.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[t.jsx("div",{className:"flex-1 min-w-[200px]",children:t.jsxs("div",{className:"relative",children:[t.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search partners...",value:n,onChange:j=>o(j.target.value),className:"pl-10 p-2 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-brand-primary/20"})]})}),t.jsx("div",{className:"w-auto",children:t.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-300 rounded-md px-3",children:[t.jsx(va,{className:"text-gray-400"}),t.jsxs("select",{value:c,onChange:j=>d(j.target.value),className:"bg-transparent py-2 focus:outline-none",children:[t.jsx("option",{value:"all",children:"All Partners"}),t.jsx("option",{value:"verified",children:"Verified"}),t.jsx("option",{value:"unverified",children:"Unverified"})]})]})})]}),e.loading?t.jsx("div",{className:"flex justify-center items-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary"})}):e.error?t.jsxs("div",{className:"bg-red-50 p-4 rounded-md text-red-500 flex items-center",children:[t.jsx(oi,{className:"mr-2",size:20}),t.jsx("span",{children:e.error})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:t.jsxs("table",{className:"w-full table-auto",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 text-left",children:[t.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),t.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),t.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsxs("tbody",{className:"divide-y divide-gray-200",children:[" ",b.length>0?b.map(j=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"font-medium text-gray-900",children:j.name})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm text-gray-900",children:j.email}),t.jsx("div",{className:"text-sm text-gray-500",children:j.phone})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:j.is_verified?t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Verified"}):t.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Pending Verification"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(j.created_at).toLocaleDateString()}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[!j.is_verified&&t.jsx("button",{onClick:()=>g(j),className:"text-brand-primary hover:text-brand-primary-dark mr-3",children:"Verify"})," ",t.jsxs("button",{className:"text-gray-600 hover:text-gray-900",onClick:()=>{Ve.info(`Viewing details for ${j.name} - This feature is coming soon!`)},children:[t.jsx(Ut,{className:"inline mr-1"}),"Details"]})]})]},j.partner_id)):t.jsx("tr",{children:t.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No delivery partners found."})})]})]})})," ",u&&f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsx("div",{className:"bg-white rounded-lg shadow-2xl max-w-md w-full mx-4 transform transition-all duration-200 scale-100",style:{backgroundColor:"var(--bg-primary)",border:"1px solid var(--border-color)"},children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start mb-4",children:[t.jsx("div",{className:"flex-shrink-0 mr-4 mt-1",children:t.jsx(Bt,{className:"text-green-500",size:24})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:"var(--text-primary)"},children:"Verify Delivery Partner"}),t.jsxs("p",{className:"text-sm leading-relaxed",style:{color:"var(--text-secondary)"},children:["Are you sure you want to verify"," ",t.jsx("span",{className:"font-semibold",children:f.name})," ","as a delivery partner?"]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[t.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 border rounded-md hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border-color)",color:"var(--text-secondary)",backgroundColor:"transparent"},children:"Cancel"}),t.jsx("button",{onClick:v,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Verify Partner"})]})]})})})]})]})},yM=_t(e=>({inquiries:{list:[],loading:!1,error:null},catalogs:{list:[],loading:!1,error:null},selectedInquiry:null,selectedCatalog:null,fetchInquiries:async()=>{var r,s;e(n=>({inquiries:{...n.inquiries,loading:!0,error:null}}));try{const o=(await be.get("/sell-mobile/inquiries/")).data.data;return e({inquiries:{list:o,loading:!1,error:null}}),{success:!0,data:o}}catch(n){return e(o=>{var c,d;return{inquiries:{...o.inquiries,loading:!1,error:((d=(c=n.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to fetch inquiries"}}}),{success:!1,error:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.error)||"Failed to fetch inquiries"}}},setSelectedInquiry:r=>{e({selectedInquiry:r})},clearSelectedInquiry:()=>{e({selectedInquiry:null})},updateInquiryStatus:async(r,s)=>{var n,o;e(c=>({inquiries:{...c.inquiries,loading:!0,error:null}}));try{const c=await be.patch(`/sell-mobile/inquiries/${r}/status/`,{status:s});if(c.status===200)return e(d=>{const u=d.inquiries.list.map(h=>h.id===r?{...h,status:s}:h);return{inquiries:{...d.inquiries,list:u,loading:!1,error:null}}}),{success:!0,message:c.data.message||"Inquiry status updated successfully"}}catch(c){return e(d=>{var u,h;return{inquiries:{...d.inquiries,loading:!1,error:((h=(u=c.response)==null?void 0:u.data)==null?void 0:h.error)||"Failed to update inquiry status"}}}),{success:!1,error:((o=(n=c.response)==null?void 0:n.data)==null?void 0:o.error)||"Failed to update inquiry status"}}},deleteInquiry:async r=>{var s,n;e(o=>({inquiries:{...o.inquiries,loading:!0,error:null}}));try{const o=await be.delete(`/sell-mobile/inquiries/${r}/delete/`);if(o.status===200)return e(c=>({inquiries:{...c.inquiries,list:c.inquiries.list.filter(d=>d.id!==r),loading:!1,error:null}})),{success:!0,message:o.data.message||"Inquiry deleted successfully"}}catch(o){return e(c=>{var d,u;return{inquiries:{...c.inquiries,loading:!1,error:((u=(d=o.response)==null?void 0:d.data)==null?void 0:u.error)||"Failed to delete inquiry"}}}),{success:!1,error:((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.error)||"Failed to delete inquiry"}}},fetchCatalogs:async()=>{var r,s;e(n=>({catalogs:{...n.catalogs,loading:!0,error:null}}));try{const o=(await be.get("/sell-mobile/catalog/")).data.data;return e({catalogs:{list:o,loading:!1,error:null}}),{success:!0,data:o}}catch(n){return e(o=>{var c,d;return{catalogs:{...o.catalogs,loading:!1,error:((d=(c=n.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to fetch phone catalogs"}}}),{success:!1,error:((s=(r=n.response)==null?void 0:r.data)==null?void 0:s.error)||"Failed to fetch phone catalogs"}}},setSelectedCatalog:r=>{e({selectedCatalog:r})},clearSelectedCatalog:()=>{e({selectedCatalog:null})}})),gM=()=>{const[e,r]=w.useState("listings"),{catalogs:s,inquiries:n,fetchCatalogs:o,fetchInquiries:c,updateInquiryStatus:d,deleteInquiry:u}=yM();return w.useEffect(()=>{o(),c()},[o,c]),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Phone Selling Management"})}),t.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"flex border-b",children:[t.jsx("button",{className:`px-6 py-3 font-medium ${e==="listings"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>r("listings"),children:"Listings"}),t.jsx("button",{className:`px-6 py-3 font-medium ${e==="orders"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700"}`,onClick:()=>r("orders"),children:"Orders"})]}),t.jsxs("div",{className:"p-6",children:[e==="listings"&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Phone Listings"}),t.jsx("p",{className:"text-gray-500",children:"Manage your phone catalog listings here"}),s.loading?t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-gray-500",children:"Loading catalogs..."})}):s.error?t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-red-500",children:s.error})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Brand"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Variants"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.list.map(h=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:t.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:h.image,alt:h.name})}),t.jsx("div",{className:"ml-4",children:t.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.name})})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-900",children:h.brand})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-900",children:Object.keys(h.variant_prices).join(", ")})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[t.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Edit"}),t.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},h.id))})]})})]}),e==="orders"&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Phone Inquiries"}),t.jsx("p",{className:"text-gray-500",children:"Manage sell phone inquiries here"}),n.loading?t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-gray-500",children:"Loading inquiries..."})}):n.error?t.jsx("div",{className:"text-center py-4",children:t.jsx("p",{className:"text-red-500",children:n.error})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Variant"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Condition"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.list.map(h=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"ml-4",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.user_name}),t.jsx("div",{className:"text-sm text-gray-500",children:h.user_email})]})})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-900",children:h.selected_variant})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-900",children:h.selected_condition})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                              ${h.status==="pending"?"bg-yellow-100 text-yellow-800":h.status==="approved"?"bg-green-100 text-green-800":h.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:h.status})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.created_at).toLocaleDateString()}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[h.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>d(h.id,"approved"),className:"text-green-600 hover:text-green-900 mr-3",children:"Approve"}),t.jsx("button",{onClick:()=>d(h.id,"rejected"),className:"text-red-600 hover:text-red-900 mr-3",children:"Reject"})]}),t.jsx("button",{onClick:()=>u(h.id),className:"text-gray-600 hover:text-gray-900",children:"Delete"})]})]},h.id))})]})})]})]})]})]})},vM=()=>{const e=[{id:1,name:"Smartphones",path:"/category/smartphones"},{id:2,name:"Laptops",path:"/category/laptops"},{id:3,name:"Tablets",path:"/category/tablets"},{id:4,name:"Mobile Accessories",path:"/category/mobile-accessories"},{id:5,name:"Laptop Accessories",path:"/category/laptop-accessories"},{id:6,name:"Audio Devices",path:"/category/audio"}];return t.jsxs(t.Fragment,{children:[t.jsx(hL,{categories:e}),t.jsx(Jf,{}),t.jsx(fL,{})]})},bM=()=>{const{isAuthenticated:e,checkAuthStatus:r}=Ie(),{isAuthenticated:s,checkAdminAuthStatus:n}=ox();return Me.useEffect(()=>{(async()=>{r(),n();const{useProductStore:c}=await GS(async()=>{const{useProductStore:d}=await Promise.resolve().then(()=>N8);return{useProductStore:d}},[]);c.getState().fetchProducts()})()},[r,n]),t.jsxs(dk,{children:[t.jsx(d3,{position:"top-right",toastOptions:{duration:3e3}}),t.jsxs(B4,{children:[t.jsx(_e,{path:"/signup",element:e?t.jsx(Rt,{to:"/"}):t.jsx(yT,{})}),t.jsx(_e,{path:"/login",element:e?t.jsx(Rt,{to:"/"}):t.jsx(gT,{})}),t.jsxs(_e,{path:"/delivery",children:[t.jsx(_e,{path:"login",element:t.jsx(wL,{})}),t.jsx(_e,{path:"register",element:t.jsx(NL,{})}),t.jsx(_e,{path:"admin-verify",element:t.jsx(P1,{})}),t.jsx(_e,{path:"dashboard",element:t.jsx(Wn,{children:t.jsx(kL,{})})}),t.jsx(_e,{path:"assignments",element:t.jsx(Wn,{children:t.jsx(CL,{})})}),t.jsx(_e,{path:"update/:id",element:t.jsx(Wn,{children:t.jsx(L1,{})})}),t.jsx(_e,{path:"status-update",element:t.jsx(Wn,{children:t.jsx(L1,{})})}),t.jsx(_e,{path:"history",element:t.jsx(Wn,{children:t.jsx(SL,{})})}),t.jsx(_e,{path:"settings",element:t.jsx(Wn,{children:t.jsx(_L,{})})}),t.jsx(_e,{path:"verification",element:s?t.jsx(P1,{}):t.jsx(Rt,{to:"/admin/login"})})]}),t.jsxs(_e,{element:t.jsx(vM,{}),children:[t.jsx(_e,{path:"/",element:t.jsx(T8,{})}),t.jsx(_e,{path:"/products",element:t.jsx(T1,{})}),t.jsx(_e,{path:"/products/:id",element:t.jsx(F8,{})}),t.jsx(_e,{path:"/category/:category",element:t.jsx(T1,{})}),t.jsx(_e,{path:"/cart",element:t.jsx(W8,{})}),t.jsx(_e,{path:"/wishlist",element:t.jsx(K8,{})}),t.jsx(_e,{path:"/orders",element:t.jsx(tL,{})}),t.jsx(_e,{path:"/order-tracking",element:t.jsx(sL,{})}),t.jsx(_e,{path:"/order-tracking/:id",element:t.jsx(aL,{})}),t.jsx(_e,{path:"/search",element:t.jsx(V8,{})})," ",t.jsx(_e,{path:"/profile",element:t.jsx(D1,{})}),t.jsx(_e,{path:"/profile/:section",element:t.jsx(D1,{})})]})," ",t.jsx(_e,{path:"/admin/login",element:s?t.jsx(Rt,{to:"/admin/dashboard"}):t.jsx(fM,{})}),t.jsx(_e,{path:"/admin/register",element:s?t.jsx(Rt,{to:"/admin/dashboard"}):t.jsx(pM,{})})," ",t.jsxs(_e,{element:t.jsx(pL,{}),children:[" ",t.jsx(_e,{path:"/admin/dashboard",element:s?t.jsx(DL,{}):t.jsx(Rt,{to:"/admin/login"})}),t.jsx(_e,{path:"/admin/products",element:s?t.jsx(BL,{}):t.jsx(Rt,{to:"/admin/login"})}),t.jsx(_e,{path:"/admin/inventory",element:s?t.jsx(VL,{}):t.jsx(Rt,{to:"/admin/login"})}),t.jsx(_e,{path:"/admin/orders",element:s?t.jsx(KL,{}):t.jsx(Rt,{to:"/admin/login"})}),t.jsx(_e,{path:"/admin/users",element:s?t.jsx(eM,{}):t.jsx(Rt,{to:"/admin/login"})}),t.jsx(_e,{path:"/admin/returns",element:s?t.jsx(nM,{}):t.jsx(Rt,{to:"/admin/login"})})," ",t.jsx(_e,{path:"/admin/content",element:s?t.jsx(hM,{}):t.jsx(Rt,{to:"/admin/login"})}),t.jsx(_e,{path:"/admin/sell-phones",element:s?t.jsx(gM,{}):t.jsx(Rt,{to:"/admin/login"})}),t.jsx(_e,{path:"/admin/reviews",element:s?t.jsx(lM,{}):t.jsx(Rt,{to:"/admin/login"})}),t.jsx(_e,{path:"/admin/delivery-partners",element:s?t.jsx(xM,{}):t.jsx(Rt,{to:"/admin/login"})})]})]})]})};HS.createRoot(document.getElementById("root")).render(t.jsx(bM,{}));
